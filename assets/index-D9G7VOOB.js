(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function aS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function rS(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var i=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var l=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(i,a,l.get?l:{enumerable:!0,get:function(){return s[a]}})}),i}var Vd={exports:{}},ru={};var Wy;function oS(){if(Wy)return ru;Wy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,u){var m=null;if(u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),"key"in l){u={};for(var y in l)y!=="key"&&(u[y]=l[y])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:m,ref:l!==void 0?l:null,props:u}}return ru.Fragment=e,ru.jsx=i,ru.jsxs=i,ru}var Zy;function lS(){return Zy||(Zy=1,Vd.exports=oS()),Vd.exports}var p=lS(),Ud={exports:{}},Ge={};var Jy;function uS(){if(Jy)return Ge;Jy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),I=Symbol.iterator;function $(q){return q===null||typeof q!="object"?null:(q=I&&q[I]||q["@@iterator"],typeof q=="function"?q:null)}var se={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,z={};function Y(q,re,ye){this.props=q,this.context=re,this.refs=z,this.updater=ye||se}Y.prototype.isReactComponent={},Y.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},Y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function ue(){}ue.prototype=Y.prototype;function de(q,re,ye){this.props=q,this.context=re,this.refs=z,this.updater=ye||se}var pe=de.prototype=new ue;pe.constructor=de,ee(pe,Y.prototype),pe.isPureReactComponent=!0;var xe=Array.isArray;function Ie(){}var k={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function j(q,re,ye){var Te=ye.ref;return{$$typeof:s,type:q,key:re,ref:Te!==void 0?Te:null,props:ye}}function V(q,re){return j(q.type,re,q.props)}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===s}function U(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return re[ye]})}var C=/\/+/g;function ve(q,re){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):re.toString(36)}function Tt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(Ie,Ie):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function P(q,re,ye,Te,ze){var Ke=typeof q;(Ke==="undefined"||Ke==="boolean")&&(q=null);var et=!1;if(q===null)et=!0;else switch(Ke){case"bigint":case"string":case"number":et=!0;break;case"object":switch(q.$$typeof){case s:case e:et=!0;break;case w:return et=q._init,P(et(q._payload),re,ye,Te,ze)}}if(et)return ze=ze(q),et=Te===""?"."+ve(q,0):Te,xe(ze)?(ye="",et!=null&&(ye=et.replace(C,"$&/")+"/"),P(ze,re,ye,"",function(ms){return ms})):ze!=null&&(O(ze)&&(ze=V(ze,ye+(ze.key==null||q&&q.key===ze.key?"":(""+ze.key).replace(C,"$&/")+"/")+et)),re.push(ze)),1;et=0;var Kt=Te===""?".":Te+":";if(xe(q))for(var jt=0;jt<q.length;jt++)Te=q[jt],Ke=Kt+ve(Te,jt),et+=P(Te,re,ye,Ke,ze);else if(jt=$(q),typeof jt=="function")for(q=jt.call(q),jt=0;!(Te=q.next()).done;)Te=Te.value,Ke=Kt+ve(Te,jt++),et+=P(Te,re,ye,Ke,ze);else if(Ke==="object"){if(typeof q.then=="function")return P(Tt(q),re,ye,Te,ze);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return et}function Z(q,re,ye){if(q==null)return q;var Te=[],ze=0;return P(q,Te,"","",function(Ke){return re.call(ye,Ke,ze++)}),Te}function _e(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var $e=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Qe={map:Z,forEach:function(q,re,ye){Z(q,function(){re.apply(this,arguments)},ye)},count:function(q){var re=0;return Z(q,function(){re++}),re},toArray:function(q){return Z(q,function(re){return re})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ge.Activity=x,Ge.Children=Qe,Ge.Component=Y,Ge.Fragment=i,Ge.Profiler=l,Ge.PureComponent=de,Ge.StrictMode=a,Ge.Suspense=E,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(q){return k.H.useMemoCache(q)}},Ge.cache=function(q){return function(){return q.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(q,re,ye){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Te=ee({},q.props),ze=q.key;if(re!=null)for(Ke in re.key!==void 0&&(ze=""+re.key),re)!D.call(re,Ke)||Ke==="key"||Ke==="__self"||Ke==="__source"||Ke==="ref"&&re.ref===void 0||(Te[Ke]=re[Ke]);var Ke=arguments.length-2;if(Ke===1)Te.children=ye;else if(1<Ke){for(var et=Array(Ke),Kt=0;Kt<Ke;Kt++)et[Kt]=arguments[Kt+2];Te.children=et}return j(q.type,ze,Te)},Ge.createContext=function(q){return q={$$typeof:m,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},Ge.createElement=function(q,re,ye){var Te,ze={},Ke=null;if(re!=null)for(Te in re.key!==void 0&&(Ke=""+re.key),re)D.call(re,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(ze[Te]=re[Te]);var et=arguments.length-2;if(et===1)ze.children=ye;else if(1<et){for(var Kt=Array(et),jt=0;jt<et;jt++)Kt[jt]=arguments[jt+2];ze.children=Kt}if(q&&q.defaultProps)for(Te in et=q.defaultProps,et)ze[Te]===void 0&&(ze[Te]=et[Te]);return j(q,Ke,ze)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(q){return{$$typeof:y,render:q}},Ge.isValidElement=O,Ge.lazy=function(q){return{$$typeof:w,_payload:{_status:-1,_result:q},_init:_e}},Ge.memo=function(q,re){return{$$typeof:g,type:q,compare:re===void 0?null:re}},Ge.startTransition=function(q){var re=k.T,ye={};k.T=ye;try{var Te=q(),ze=k.S;ze!==null&&ze(ye,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(Ie,$e)}catch(Ke){$e(Ke)}finally{re!==null&&ye.types!==null&&(re.types=ye.types),k.T=re}},Ge.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ge.use=function(q){return k.H.use(q)},Ge.useActionState=function(q,re,ye){return k.H.useActionState(q,re,ye)},Ge.useCallback=function(q,re){return k.H.useCallback(q,re)},Ge.useContext=function(q){return k.H.useContext(q)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(q,re){return k.H.useDeferredValue(q,re)},Ge.useEffect=function(q,re){return k.H.useEffect(q,re)},Ge.useEffectEvent=function(q){return k.H.useEffectEvent(q)},Ge.useId=function(){return k.H.useId()},Ge.useImperativeHandle=function(q,re,ye){return k.H.useImperativeHandle(q,re,ye)},Ge.useInsertionEffect=function(q,re){return k.H.useInsertionEffect(q,re)},Ge.useLayoutEffect=function(q,re){return k.H.useLayoutEffect(q,re)},Ge.useMemo=function(q,re){return k.H.useMemo(q,re)},Ge.useOptimistic=function(q,re){return k.H.useOptimistic(q,re)},Ge.useReducer=function(q,re,ye){return k.H.useReducer(q,re,ye)},Ge.useRef=function(q){return k.H.useRef(q)},Ge.useState=function(q){return k.H.useState(q)},Ge.useSyncExternalStore=function(q,re,ye){return k.H.useSyncExternalStore(q,re,ye)},Ge.useTransition=function(){return k.H.useTransition()},Ge.version="19.2.4",Ge}var ev;function Um(){return ev||(ev=1,Ud.exports=uS()),Ud.exports}var ne=Um(),qd={exports:{}},ou={},Bd={exports:{}},zd={};var tv;function cS(){return tv||(tv=1,(function(s){function e(P,Z){var _e=P.length;P.push(Z);e:for(;0<_e;){var $e=_e-1>>>1,Qe=P[$e];if(0<l(Qe,Z))P[$e]=Z,P[_e]=Qe,_e=$e;else break e}}function i(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var Z=P[0],_e=P.pop();if(_e!==Z){P[0]=_e;e:for(var $e=0,Qe=P.length,q=Qe>>>1;$e<q;){var re=2*($e+1)-1,ye=P[re],Te=re+1,ze=P[Te];if(0>l(ye,_e))Te<Qe&&0>l(ze,ye)?(P[$e]=ze,P[Te]=_e,$e=Te):(P[$e]=ye,P[re]=_e,$e=re);else if(Te<Qe&&0>l(ze,_e))P[$e]=ze,P[Te]=_e,$e=Te;else break e}}return Z}function l(P,Z){var _e=P.sortIndex-Z.sortIndex;return _e!==0?_e:P.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var E=[],g=[],w=1,x=null,I=3,$=!1,se=!1,ee=!1,z=!1,Y=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function pe(P){for(var Z=i(g);Z!==null;){if(Z.callback===null)a(g);else if(Z.startTime<=P)a(g),Z.sortIndex=Z.expirationTime,e(E,Z);else break;Z=i(g)}}function xe(P){if(ee=!1,pe(P),!se)if(i(E)!==null)se=!0,Ie||(Ie=!0,U());else{var Z=i(g);Z!==null&&Tt(xe,Z.startTime-P)}}var Ie=!1,k=-1,D=5,j=-1;function V(){return z?!0:!(s.unstable_now()-j<D)}function O(){if(z=!1,Ie){var P=s.unstable_now();j=P;var Z=!0;try{e:{se=!1,ee&&(ee=!1,ue(k),k=-1),$=!0;var _e=I;try{t:{for(pe(P),x=i(E);x!==null&&!(x.expirationTime>P&&V());){var $e=x.callback;if(typeof $e=="function"){x.callback=null,I=x.priorityLevel;var Qe=$e(x.expirationTime<=P);if(P=s.unstable_now(),typeof Qe=="function"){x.callback=Qe,pe(P),Z=!0;break t}x===i(E)&&a(E),pe(P)}else a(E);x=i(E)}if(x!==null)Z=!0;else{var q=i(g);q!==null&&Tt(xe,q.startTime-P),Z=!1}}break e}finally{x=null,I=_e,$=!1}Z=void 0}}finally{Z?U():Ie=!1}}}var U;if(typeof de=="function")U=function(){de(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ve=C.port2;C.port1.onmessage=O,U=function(){ve.postMessage(null)}}else U=function(){Y(O,0)};function Tt(P,Z){k=Y(function(){P(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(P){P.callback=null},s.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(P){switch(I){case 1:case 2:case 3:var Z=3;break;default:Z=I}var _e=I;I=Z;try{return P()}finally{I=_e}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var _e=I;I=P;try{return Z()}finally{I=_e}},s.unstable_scheduleCallback=function(P,Z,_e){var $e=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?$e+_e:$e):_e=$e,P){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=_e+Qe,P={id:w++,callback:Z,priorityLevel:P,startTime:_e,expirationTime:Qe,sortIndex:-1},_e>$e?(P.sortIndex=_e,e(g,P),i(E)===null&&P===i(g)&&(ee?(ue(k),k=-1):ee=!0,Tt(xe,_e-$e))):(P.sortIndex=Qe,e(E,P),se||$||(se=!0,Ie||(Ie=!0,U()))),P},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(P){var Z=I;return function(){var _e=I;I=Z;try{return P.apply(this,arguments)}finally{I=_e}}}})(zd)),zd}var nv;function fS(){return nv||(nv=1,Bd.exports=cS()),Bd.exports}var Pd={exports:{}},Fn={};var iv;function hS(){if(iv)return Fn;iv=1;var s=Um();function e(E){var g="https://react.dev/errors/"+E;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+E+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(E,g,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:E,containerInfo:g,implementation:w}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(E,g){if(E==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fn.createPortal=function(E,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(E,g,null,w)},Fn.flushSync=function(E){var g=m.T,w=a.p;try{if(m.T=null,a.p=2,E)return E()}finally{m.T=g,a.p=w,a.d.f()}},Fn.preconnect=function(E,g){typeof E=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(E,g))},Fn.prefetchDNS=function(E){typeof E=="string"&&a.d.D(E)},Fn.preinit=function(E,g){if(typeof E=="string"&&g&&typeof g.as=="string"){var w=g.as,x=y(w,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,$=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?a.d.S(E,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:I,fetchPriority:$}):w==="script"&&a.d.X(E,{crossOrigin:x,integrity:I,fetchPriority:$,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Fn.preinitModule=function(E,g){if(typeof E=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=y(g.as,g.crossOrigin);a.d.M(E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(E)},Fn.preload=function(E,g){if(typeof E=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,x=y(w,g.crossOrigin);a.d.L(E,w,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Fn.preloadModule=function(E,g){if(typeof E=="string")if(g){var w=y(g.as,g.crossOrigin);a.d.m(E,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(E)},Fn.requestFormReset=function(E){a.d.r(E)},Fn.unstable_batchedUpdates=function(E,g){return E(g)},Fn.useFormState=function(E,g,w){return m.H.useFormState(E,g,w)},Fn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Fn.version="19.2.4",Fn}var sv;function dS(){if(sv)return Pd.exports;sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=hS(),Pd.exports}var av;function mS(){if(av)return ou;av=1;var s=fS(),e=Um(),i=dS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(u(t)!==t)throw Error(a(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var f=r.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===r)return E(f),t;if(d===o)return E(f),n;d=d.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=d;else{for(var T=!1,A=f.child;A;){if(A===r){T=!0,r=f,o=d;break}if(A===o){T=!0,o=f,r=d;break}A=A.sibling}if(!T){for(A=d.child;A;){if(A===r){T=!0,r=d,o=f;break}if(A===o){T=!0,o=d,r=f;break}A=A.sibling}if(!T)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function w(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=w(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,I=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),se=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),de=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case Y:return"Profiler";case z:return"StrictMode";case xe:return"Suspense";case Ie:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case se:return"Portal";case de:return t.displayName||"Context";case ue:return(t._context.displayName||"Context")+".Consumer";case pe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case D:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var Tt=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},$e=[],Qe=-1;function q(t){return{current:t}}function re(t){0>Qe||(t.current=$e[Qe],$e[Qe]=null,Qe--)}function ye(t,n){Qe++,$e[Qe]=t.current,t.current=n}var Te=q(null),ze=q(null),Ke=q(null),et=q(null);function Kt(t,n){switch(ye(Ke,n),ye(ze,t),ye(Te,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ey(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ey(n),t=Ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(Te),ye(Te,t)}function jt(){re(Te),re(ze),re(Ke)}function ms(t){t.memoizedState!==null&&ye(et,t);var n=Te.current,r=Ty(n,t.type);n!==r&&(ye(ze,t),ye(Te,r))}function Ta(t){ze.current===t&&(re(Te),re(ze)),et.current===t&&(re(et),nu._currentValue=_e)}var Un,ps;function qn(t){if(Un===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Un=n&&n[1]||"",ps=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+t+ps}var ba=!1;function bt(t,n){if(!t||ba)return"";ba=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var W=te}Reflect.construct(t,[],ce)}else{try{ce.call()}catch(te){W=te}t.call(ce.prototype)}}else{try{throw Error()}catch(te){W=te}(ce=t())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&W&&typeof te.stack=="string")return[te.stack,W.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),T=d[0],A=d[1];if(T&&A){var M=T.split(`
`),K=A.split(`
`);for(f=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(o===M.length||f===K.length)for(o=M.length-1,f=K.length-1;1<=o&&0<=f&&M[o]!==K[f];)f--;for(;1<=o&&0<=f;o--,f--)if(M[o]!==K[f]){if(o!==1||f!==1)do if(o--,f--,0>f||M[o]!==K[f]){var ae=`
`+M[o].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=o&&0<=f);break}}}finally{ba=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?qn(r):""}function qs(t,n){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return t.child!==n&&n!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return qn("Activity");default:return""}}function Sa(t){try{var n="",r=null;do n+=qs(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pt=Object.prototype.hasOwnProperty,$t=s.unstable_scheduleCallback,Ei=s.unstable_cancelCallback,bl=s.unstable_shouldYield,mr=s.unstable_requestPaint,An=s.unstable_now,ts=s.unstable_getCurrentPriorityLevel,ns=s.unstable_ImmediatePriority,$n=s.unstable_UserBlockingPriority,is=s.unstable_NormalPriority,ao=s.unstable_LowPriority,pr=s.unstable_IdlePriority,ro=s.log,oo=s.unstable_setDisableYieldValue,Ti=null,De=null;function Wn(t){if(typeof ro=="function"&&oo(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Ti,t)}catch{}}var Ut=Math.clz32?Math.clz32:lo,gr=Math.log,bi=Math.LN2;function lo(t){return t>>>=0,t===0?32:31-(gr(t)/bi|0)|0}var mn=256,gs=262144,Gt=4194304;function Si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function me(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var f=0,d=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~d,o!==0?f=Si(o):(T&=A,T!==0?f=Si(T):r||(r=A&~t,r!==0&&(f=Si(r))))):(A=o&~d,A!==0?f=Si(A):T!==0?f=Si(T):r||(r=o&~t,r!==0&&(f=Si(r)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:f}function wi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nn(){var t=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),t}function li(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ss(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _r(t,n,r,o,f,d){var T=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,M=t.expirationTimes,K=t.hiddenUpdates;for(r=T&~r;0<r;){var ae=31-Ut(r),ce=1<<ae;A[ae]=0,M[ae]=-1;var W=K[ae];if(W!==null)for(K[ae]=null,ae=0;ae<W.length;ae++){var te=W[ae];te!==null&&(te.lane&=-536870913)}r&=~ce}o!==0&&Zn(t,o,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(T&~n))}function Zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Ut(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function wa(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Ut(r),f=1<<o;f&n|t[o]&n&&(t[o]|=n),r&=~f}}function an(t,n){var r=n&-n;return r=(r&42)!==0?1:_s(r),(r&(t.suspendedLanes|n))!==0?0:r}function _s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yr(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Fy(t.type))}function ui(t,n){var r=Z.p;try{return Z.p=t,n()}finally{Z.p=r}}var zn=Math.random().toString(36).slice(2),it="__reactFiber$"+zn,Jt="__reactProps$"+zn,Mi="__reactContainer$"+zn,ys="__reactEvents$"+zn,wl="__reactListeners$"+zn,Aa="__reactHandles$"+zn,vr="__reactResources$"+zn,Jn="__reactMarker$"+zn;function Na(t){delete t[it],delete t[Jt],delete t[ys],delete t[wl],delete t[Aa]}function en(t){var n=t[it];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Mi]||r[it]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Cy(t);t!==null;){if(r=t[it])return r;t=Cy(t)}return n}t=r,r=t.parentNode}return null}function Rn(t){if(t=t[it]||t[Mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ai(t){var n=t[vr];return n||(n=t[vr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xt(t){t[Jn]=!0}var as=new Set,Ra={};function ei(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(Ra[t]=n,t=0;t<n.length;t++)as.add(n[t])}var Li=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},Ca={};function Er(t){return Pt.call(Ca,t)?!0:Pt.call(Bs,t)?!1:Li.test(t)?Ca[t]=!0:(Bs[t]=!0,!1)}function zs(t,n,r){if(Er(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function ti(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Nt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vs(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){r=""+T,d.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ft(t){if(!t._valueTracker){var n=Pn(t)?"checked":"value";t._valueTracker=vs(t,n,""+t[n])}}function Vi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Pn(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ps=/[\n"\\]/g;function Hn(t){return t.replace(Ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ui(t,n,r,o,f,d,T,A){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?br(t,T,Fe(n)):r!=null?br(t,T,Fe(r)):o!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Fe(A):t.removeAttribute("name")}function Tr(t,n,r,o,f,d,T,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){ft(t);return}r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,A||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),ft(t)}function br(t,n,r){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function qi(t,n,r,o){if(t=t.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=n.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Sr(t,n,r){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Fe(r):""}function Bi(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Tt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Fe(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),ft(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Es(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||uo.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ts(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&r[f]!==o&&Es(t,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Es(t,d,n[d])}function fi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return vn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xn(){}var wr=null;function be(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,ii=null;function bs(t){var n=Rn(t);if(n&&(t=n.stateNode)){var r=t[Jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ui(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var f=o[Jt]||null;if(!f)throw Error(a(90));Ui(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Vi(o)}break e;case"textarea":Sr(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&qi(t,!!r.multiple,n,!1)}}}var Hs=!1;function hi(t,n,r){if(Hs)return t(n,r);Hs=!0;try{var o=t(n);return o}finally{if(Hs=!1,(zi!==null||ii!==null)&&(gc(),zi&&(n=zi,t=ii,ii=zi=null,bs(n),t)))for(n=0;n<t.length;n++)bs(t[n])}}function rn(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Jt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(En)try{var h={};Object.defineProperty(h,"passive",{get:function(){rs=!0}}),window.addEventListener("test",h,h),window.removeEventListener("test",h,h)}catch{rs=!1}var _=null,S=null,N=null;function L(){if(N)return N;var t,n=S,r=n.length,o,f="value"in _?_.value:_.textContent,d=f.length;for(t=0;t<r&&n[t]===f[t];t++);var T=r-t;for(o=1;o<=T&&n[r-o]===f[d-o];o++);return N=f.slice(t,1<o?1-o:void 0)}function G(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ie(){return!0}function Ae(){return!1}function ke(t){function n(r,o,f,d,T){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ie:Ae,this.isPropagationStopped=Ae,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){},isPersistent:ie}),n}var Ue={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gt=ke(Ue),Yt=x({},Ue,{view:0,detail:0}),Da=ke(Yt),Ss,Fs,Pi,Gs=x({},Yt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(Ss=t.screenX-Pi.screenX,Fs=t.screenY-Pi.screenY):Fs=Ss=0,Pi=t),Ss)},movementY:function(t){return"movementY"in t?t.movementY:Fs}}),Ar=ke(Gs),Xs=x({},Gs,{dataTransfer:0}),co=ke(Xs),fo=x({},Yt,{relatedTarget:0}),Ys=ke(fo),Nr=x({},Ue,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=ke(Nr),Ia=x({},Ue,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rr=ke(Ia),mo=x({},Ue,{data:0}),Hi=ke(mo),po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_o[t])?!!n[t]:!1}function ws(){return yo}var Tn=x({},Yt,{key:function(t){if(t.key){var n=po[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=G(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?go[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?G(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?G(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vo=ke(Tn),Eo=x({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=ke(Eo),c=x({},Yt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),v=ke(c),b=x({},Ue,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=ke(b),X=x({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J=ke(X),ge=x({},Ue,{newState:0,oldState:0}),Pe=ke(ge),Ht=[9,13,27,32],ht=En&&"CompositionEvent"in window,Mt=null;En&&"documentMode"in document&&(Mt=document.documentMode);var F=En&&"TextEvent"in window&&!Mt,le=En&&(!ht||Mt&&8<Mt&&11>=Mt),Ee=" ",Re=!1;function Le(t,n){switch(t){case"keyup":return Ht.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bn=!1;function di(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(Re=!0,Ee);case"textInput":return t=n.data,t===Ee&&Re?null:t;default:return null}}function si(t,n){if(bn)return t==="compositionend"||!ht&&Le(t,n)?(t=L(),N=S=_=null,bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return le&&n.locale!=="ko"?null:n.data;default:return null}}var Ri={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function To(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ri[t.type]:n==="textarea"}function As(t,n,r,o){zi?ii?ii.push(o):ii=[o]:zi=o,n=Sc(n,"onChange"),0<n.length&&(r=new gt("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Cr=null,Al=null;function Ob(t){my(t,0)}function Mu(t){var n=Cn(t);if(Vi(n))return t}function kp(t,n){if(t==="change")return n}var jp=!1;if(En){var Ff;if(En){var Gf="oninput"in document;if(!Gf){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Gf=typeof Mp.oninput=="function"}Ff=Gf}else Ff=!1;jp=Ff&&(!document.documentMode||9<document.documentMode)}function Lp(){Cr&&(Cr.detachEvent("onpropertychange",Vp),Al=Cr=null)}function Vp(t){if(t.propertyName==="value"&&Mu(Al)){var n=[];As(n,Al,t,be(t)),hi(Ob,n)}}function kb(t,n,r){t==="focusin"?(Lp(),Cr=n,Al=r,Cr.attachEvent("onpropertychange",Vp)):t==="focusout"&&Lp()}function jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(Al)}function Mb(t,n){if(t==="click")return Mu(n)}function Lb(t,n){if(t==="input"||t==="change")return Mu(n)}function Vb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ci=typeof Object.is=="function"?Object.is:Vb;function Nl(t,n){if(Ci(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!Pt.call(n,f)||!Ci(t[f],n[f]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qp(t,n){var r=Up(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Up(r)}}function Bp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ci(t.document)}return n}function Xf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ub=En&&"documentMode"in document&&11>=document.documentMode,bo=null,Yf=null,Rl=null,Qf=!1;function Pp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qf||bo==null||bo!==ci(o)||(o=bo,"selectionStart"in o&&Xf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Rl&&Nl(Rl,o)||(Rl=o,o=Sc(Yf,"onSelect"),0<o.length&&(n=new gt("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=bo)))}function xr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var So={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Kf={},Hp={};En&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Dr(t){if(Kf[t])return Kf[t];if(!So[t])return t;var n=So[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Hp)return Kf[t]=n[r];return t}var Fp=Dr("animationend"),Gp=Dr("animationiteration"),Xp=Dr("animationstart"),qb=Dr("transitionrun"),Bb=Dr("transitionstart"),zb=Dr("transitioncancel"),Yp=Dr("transitionend"),Qp=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function ls(t,n){Qp.set(t,n),ei(n,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fi=[],wo=0,Wf=0;function Vu(){for(var t=wo,n=Wf=wo=0;n<t;){var r=Fi[n];Fi[n++]=null;var o=Fi[n];Fi[n++]=null;var f=Fi[n];Fi[n++]=null;var d=Fi[n];if(Fi[n++]=null,o!==null&&f!==null){var T=o.pending;T===null?f.next=f:(f.next=T.next,T.next=f),o.pending=f}d!==0&&Kp(r,f,d)}}function Uu(t,n,r,o){Fi[wo++]=t,Fi[wo++]=n,Fi[wo++]=r,Fi[wo++]=o,Wf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zf(t,n,r,o){return Uu(t,n,r,o),qu(t)}function Ir(t,n){return Uu(t,null,null,n),qu(t)}function Kp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,d=t.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-Ut(r),t=d.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=r|536870912),d):null}function qu(t){if(50<Kl)throw Kl=0,od=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ao={};function Pb(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,n,r,o){return new Pb(t,n,r,o)}function Jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qs(t,n){var r=t.alternate;return r===null?(r=xi(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function $p(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bu(t,n,r,o,f,d){var T=0;if(o=t,typeof t=="function")Jf(t)&&(T=1);else if(typeof t=="string")T=Y1(t,r,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=xi(31,r,n,f),t.elementType=j,t.lanes=d,t;case ee:return Or(r.children,f,d,n);case z:T=8,f|=24;break;case Y:return t=xi(12,r,n,f|2),t.elementType=Y,t.lanes=d,t;case xe:return t=xi(13,r,n,f),t.elementType=xe,t.lanes=d,t;case Ie:return t=xi(19,r,n,f),t.elementType=Ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:T=10;break e;case ue:T=9;break e;case pe:T=11;break e;case k:T=14;break e;case D:T=16,o=null;break e}T=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=xi(T,r,n,f),n.elementType=t,n.type=o,n.lanes=d,n}function Or(t,n,r,o){return t=xi(7,t,o,n),t.lanes=r,t}function eh(t,n,r){return t=xi(6,t,null,n),t.lanes=r,t}function Wp(t){var n=xi(18,null,null,0);return n.stateNode=t,n}function th(t,n,r){return n=xi(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zp=new WeakMap;function Gi(t,n){if(typeof t=="object"&&t!==null){var r=Zp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Sa(n)},Zp.set(t,n),n)}return{value:t,source:n,stack:Sa(n)}}var No=[],Ro=0,zu=null,Cl=0,Xi=[],Yi=0,Oa=null,Ns=1,Rs="";function Ks(t,n){No[Ro++]=Cl,No[Ro++]=zu,zu=t,Cl=n}function Jp(t,n,r){Xi[Yi++]=Ns,Xi[Yi++]=Rs,Xi[Yi++]=Oa,Oa=t;var o=Ns;t=Rs;var f=32-Ut(o)-1;o&=~(1<<f),r+=1;var d=32-Ut(n)+f;if(30<d){var T=f-f%5;d=(o&(1<<T)-1).toString(32),o>>=T,f-=T,Ns=1<<32-Ut(n)+f|r<<f|o,Rs=d+t}else Ns=1<<d|r<<f|o,Rs=t}function nh(t){t.return!==null&&(Ks(t,1),Jp(t,1,0))}function ih(t){for(;t===zu;)zu=No[--Ro],No[Ro]=null,Cl=No[--Ro],No[Ro]=null;for(;t===Oa;)Oa=Xi[--Yi],Xi[Yi]=null,Rs=Xi[--Yi],Xi[Yi]=null,Ns=Xi[--Yi],Xi[Yi]=null}function eg(t,n){Xi[Yi++]=Ns,Xi[Yi++]=Rs,Xi[Yi++]=Oa,Ns=n.id,Rs=n.overflow,Oa=t}var Dn=null,qt=null,ct=!1,ka=null,Qi=!1,sh=Error(a(519));function ja(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(Gi(n,t)),sh}function tg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[it]=t,n[Jt]=o,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(r=0;r<Wl.length;r++)nt(Wl[r],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":nt("invalid",n),Tr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":nt("invalid",n);break;case"textarea":nt("invalid",n),Bi(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||yy(n.textContent,r)?(o.popover!=null&&(nt("beforetoggle",n),nt("toggle",n)),o.onScroll!=null&&nt("scroll",n),o.onScrollEnd!=null&&nt("scrollend",n),o.onClick!=null&&(n.onclick=xn),n=!0):n=!1,n||ja(t,!0)}function ng(t){for(Dn=t.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Dn=Dn.return}}function Co(t){if(t!==Dn)return!1;if(!ct)return ng(t),ct=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bd(t.type,t.memoizedProps)),r=!r),r&&qt&&ja(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));qt=Ry(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));qt=Ry(t)}else n===27?(n=qt,Qa(t.type)?(t=Rd,Rd=null,qt=t):qt=n):qt=Dn?$i(t.stateNode.nextSibling):null;return!0}function kr(){qt=Dn=null,ct=!1}function ah(){var t=ka;return t!==null&&(_i===null?_i=t:_i.push.apply(_i,t),ka=null),t}function xl(t){ka===null?ka=[t]:ka.push(t)}var rh=q(null),jr=null,$s=null;function Ma(t,n,r){ye(rh,n._currentValue),n._currentValue=r}function Ws(t){t._currentValue=rh.current,re(rh)}function oh(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function lh(t,n,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var M=0;M<n.length;M++)if(A.context===n[M]){d.lanes|=r,A=d.alternate,A!==null&&(A.lanes|=r),oh(d.return,r,t),o||(T=null);break e}d=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=r,d=T.alternate,d!==null&&(d.lanes|=r),oh(T,r,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function xo(t,n,r,o){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var A=f.type;Ci(f.pendingProps.value,T.value)||(t!==null?t.push(A):t=[A])}}else if(f===et.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(nu):t=[nu])}f=f.return}t!==null&&lh(n,t,r,o),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!Ci(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){jr=t,$s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function In(t){return ig(jr,t)}function Hu(t,n){return jr===null&&Mr(t),ig(t,n)}function ig(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},$s===null){if(t===null)throw Error(a(308));$s=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $s=$s.next=n;return r}var Hb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Fb=s.unstable_scheduleCallback,Gb=s.unstable_NormalPriority,on={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uh(){return{controller:new Hb,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&Fb(Gb,function(){t.controller.abort()})}var Il=null,ch=0,Do=0,Io=null;function Xb(t,n){if(Il===null){var r=Il=[];ch=0,Do=dd(),Io={status:"pending",value:void 0,then:function(o){r.push(o)}}}return ch++,n.then(sg,sg),n}function sg(){if(--ch===0&&Il!==null){Io!==null&&(Io.status="fulfilled");var t=Il;Il=null,Do=0,Io=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Yb(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var ag=P.S;P.S=function(t,n){P_=An(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Xb(t,n),ag!==null&&ag(t,n)};var Lr=q(null);function fh(){var t=Lr.current;return t!==null?t:Lt.pooledCache}function Fu(t,n){n===null?ye(Lr,Lr.current):ye(Lr,n.pool)}function rg(){var t=fh();return t===null?null:{parent:on._currentValue,pool:t}}var Oo=Error(a(460)),hh=Error(a(474)),Gu=Error(a(542)),Xu={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xn,xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(xn,xn);else{if(t=Lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw Ur=n,Oo}}function Vr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ur=r,Oo):r}}var Ur=null;function ug(){if(Ur===null)throw Error(a(459));var t=Ur;return Ur=null,t}function cg(t){if(t===Oo||t===Gu)throw Error(a(483))}var ko=null,Ol=0;function Yu(t){var n=Ol;return Ol+=1,ko===null&&(ko=[]),lg(ko,t,n)}function kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){function n(H,B){if(t){var Q=H.deletions;Q===null?(H.deletions=[B],H.flags|=16):Q.push(B)}}function r(H,B){if(!t)return null;for(;B!==null;)n(H,B),B=B.sibling;return null}function o(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=Qs(H,B),H.index=0,H.sibling=null,H}function d(H,B,Q){return H.index=Q,t?(Q=H.alternate,Q!==null?(Q=Q.index,Q<B?(H.flags|=67108866,B):Q):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function T(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function A(H,B,Q,oe){return B===null||B.tag!==6?(B=eh(Q,H.mode,oe),B.return=H,B):(B=f(B,Q),B.return=H,B)}function M(H,B,Q,oe){var je=Q.type;return je===ee?ae(H,B,Q.props.children,oe,Q.key):B!==null&&(B.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===D&&Vr(je)===B.type)?(B=f(B,Q.props),kl(B,Q),B.return=H,B):(B=Bu(Q.type,Q.key,Q.props,null,H.mode,oe),kl(B,Q),B.return=H,B)}function K(H,B,Q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=th(Q,H.mode,oe),B.return=H,B):(B=f(B,Q.children||[]),B.return=H,B)}function ae(H,B,Q,oe,je){return B===null||B.tag!==7?(B=Or(Q,H.mode,oe,je),B.return=H,B):(B=f(B,Q),B.return=H,B)}function ce(H,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=eh(""+B,H.mode,Q),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case $:return Q=Bu(B.type,B.key,B.props,null,H.mode,Q),kl(Q,B),Q.return=H,Q;case se:return B=th(B,H.mode,Q),B.return=H,B;case D:return B=Vr(B),ce(H,B,Q)}if(Tt(B)||U(B))return B=Or(B,H.mode,Q,null),B.return=H,B;if(typeof B.then=="function")return ce(H,Yu(B),Q);if(B.$$typeof===de)return ce(H,Hu(H,B),Q);Qu(H,B)}return null}function W(H,B,Q,oe){var je=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return je!==null?null:A(H,B,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return Q.key===je?M(H,B,Q,oe):null;case se:return Q.key===je?K(H,B,Q,oe):null;case D:return Q=Vr(Q),W(H,B,Q,oe)}if(Tt(Q)||U(Q))return je!==null?null:ae(H,B,Q,oe,null);if(typeof Q.then=="function")return W(H,B,Yu(Q),oe);if(Q.$$typeof===de)return W(H,B,Hu(H,Q),oe);Qu(H,Q)}return null}function te(H,B,Q,oe,je){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return H=H.get(Q)||null,A(B,H,""+oe,je);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case $:return H=H.get(oe.key===null?Q:oe.key)||null,M(B,H,oe,je);case se:return H=H.get(oe.key===null?Q:oe.key)||null,K(B,H,oe,je);case D:return oe=Vr(oe),te(H,B,Q,oe,je)}if(Tt(oe)||U(oe))return H=H.get(Q)||null,ae(B,H,oe,je,null);if(typeof oe.then=="function")return te(H,B,Q,Yu(oe),je);if(oe.$$typeof===de)return te(H,B,Q,Hu(B,oe),je);Qu(B,oe)}return null}function Ne(H,B,Q,oe){for(var je=null,_t=null,Ce=B,Ze=B=0,rt=null;Ce!==null&&Ze<Q.length;Ze++){Ce.index>Ze?(rt=Ce,Ce=null):rt=Ce.sibling;var yt=W(H,Ce,Q[Ze],oe);if(yt===null){Ce===null&&(Ce=rt);break}t&&Ce&&yt.alternate===null&&n(H,Ce),B=d(yt,B,Ze),_t===null?je=yt:_t.sibling=yt,_t=yt,Ce=rt}if(Ze===Q.length)return r(H,Ce),ct&&Ks(H,Ze),je;if(Ce===null){for(;Ze<Q.length;Ze++)Ce=ce(H,Q[Ze],oe),Ce!==null&&(B=d(Ce,B,Ze),_t===null?je=Ce:_t.sibling=Ce,_t=Ce);return ct&&Ks(H,Ze),je}for(Ce=o(Ce);Ze<Q.length;Ze++)rt=te(Ce,H,Ze,Q[Ze],oe),rt!==null&&(t&&rt.alternate!==null&&Ce.delete(rt.key===null?Ze:rt.key),B=d(rt,B,Ze),_t===null?je=rt:_t.sibling=rt,_t=rt);return t&&Ce.forEach(function(Ja){return n(H,Ja)}),ct&&Ks(H,Ze),je}function Ve(H,B,Q,oe){if(Q==null)throw Error(a(151));for(var je=null,_t=null,Ce=B,Ze=B=0,rt=null,yt=Q.next();Ce!==null&&!yt.done;Ze++,yt=Q.next()){Ce.index>Ze?(rt=Ce,Ce=null):rt=Ce.sibling;var Ja=W(H,Ce,yt.value,oe);if(Ja===null){Ce===null&&(Ce=rt);break}t&&Ce&&Ja.alternate===null&&n(H,Ce),B=d(Ja,B,Ze),_t===null?je=Ja:_t.sibling=Ja,_t=Ja,Ce=rt}if(yt.done)return r(H,Ce),ct&&Ks(H,Ze),je;if(Ce===null){for(;!yt.done;Ze++,yt=Q.next())yt=ce(H,yt.value,oe),yt!==null&&(B=d(yt,B,Ze),_t===null?je=yt:_t.sibling=yt,_t=yt);return ct&&Ks(H,Ze),je}for(Ce=o(Ce);!yt.done;Ze++,yt=Q.next())yt=te(Ce,H,Ze,yt.value,oe),yt!==null&&(t&&yt.alternate!==null&&Ce.delete(yt.key===null?Ze:yt.key),B=d(yt,B,Ze),_t===null?je=yt:_t.sibling=yt,_t=yt);return t&&Ce.forEach(function(sS){return n(H,sS)}),ct&&Ks(H,Ze),je}function kt(H,B,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===ee&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:e:{for(var je=Q.key;B!==null;){if(B.key===je){if(je=Q.type,je===ee){if(B.tag===7){r(H,B.sibling),oe=f(B,Q.props.children),oe.return=H,H=oe;break e}}else if(B.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===D&&Vr(je)===B.type){r(H,B.sibling),oe=f(B,Q.props),kl(oe,Q),oe.return=H,H=oe;break e}r(H,B);break}else n(H,B);B=B.sibling}Q.type===ee?(oe=Or(Q.props.children,H.mode,oe,Q.key),oe.return=H,H=oe):(oe=Bu(Q.type,Q.key,Q.props,null,H.mode,oe),kl(oe,Q),oe.return=H,H=oe)}return T(H);case se:e:{for(je=Q.key;B!==null;){if(B.key===je)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){r(H,B.sibling),oe=f(B,Q.children||[]),oe.return=H,H=oe;break e}else{r(H,B);break}else n(H,B);B=B.sibling}oe=th(Q,H.mode,oe),oe.return=H,H=oe}return T(H);case D:return Q=Vr(Q),kt(H,B,Q,oe)}if(Tt(Q))return Ne(H,B,Q,oe);if(U(Q)){if(je=U(Q),typeof je!="function")throw Error(a(150));return Q=je.call(Q),Ve(H,B,Q,oe)}if(typeof Q.then=="function")return kt(H,B,Yu(Q),oe);if(Q.$$typeof===de)return kt(H,B,Hu(H,Q),oe);Qu(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(r(H,B.sibling),oe=f(B,Q),oe.return=H,H=oe):(r(H,B),oe=eh(Q,H.mode,oe),oe.return=H,H=oe),T(H)):r(H,B)}return function(H,B,Q,oe){try{Ol=0;var je=kt(H,B,Q,oe);return ko=null,je}catch(Ce){if(Ce===Oo||Ce===Gu)throw Ce;var _t=xi(29,Ce,null,H.mode);return _t.lanes=oe,_t.return=H,_t}}}var qr=fg(!0),hg=fg(!1),La=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(vt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=qu(t),Kp(t,null,r),n}return Uu(t,o,n,r),qu(t)}function jl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,wa(t,r)}}function ph(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,r=r.next}while(r!==null);d===null?f=d=n:d=d.next=n}else f=d=n;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gh=!1;function Ml(){if(gh){var t=Io;if(t!==null)throw t}}function Ll(t,n,r,o){gh=!1;var f=t.updateQueue;La=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var M=A,K=M.next;M.next=null,T===null?d=K:T.next=K,T=M;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==T&&(A===null?ae.firstBaseUpdate=K:A.next=K,ae.lastBaseUpdate=M))}if(d!==null){var ce=f.baseState;T=0,ae=K=M=null,A=d;do{var W=A.lane&-536870913,te=W!==A.lane;if(te?(at&W)===W:(o&W)===W){W!==0&&W===Do&&(gh=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ne=t,Ve=A;W=n;var kt=r;switch(Ve.tag){case 1:if(Ne=Ve.payload,typeof Ne=="function"){ce=Ne.call(kt,ce,W);break e}ce=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ve.payload,W=typeof Ne=="function"?Ne.call(kt,ce,W):Ne,W==null)break e;ce=x({},ce,W);break e;case 2:La=!0}}W=A.callback,W!==null&&(t.flags|=64,te&&(t.flags|=8192),te=f.callbacks,te===null?f.callbacks=[W]:te.push(W))}else te={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(K=ae=te,M=ce):ae=ae.next=te,T|=W;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;te=A,A=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);ae===null&&(M=ce),f.baseState=M,f.firstBaseUpdate=K,f.lastBaseUpdate=ae,d===null&&(f.shared.lanes=0),Ha|=T,t.lanes=T,t.memoizedState=ce}}function dg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function mg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)dg(r[t],n)}var jo=q(null),Ku=q(0);function pg(t,n){t=ra,ye(Ku,t),ye(jo,n),ra=t|n.baseLanes}function _h(){ye(Ku,ra),ye(jo,jo.current)}function yh(){ra=Ku.current,re(jo),re(Ku)}var Di=q(null),Ki=null;function qa(t){var n=t.alternate;ye(tn,tn.current&1),ye(Di,t),Ki===null&&(n===null||jo.current!==null||n.memoizedState!==null)&&(Ki=t)}function vh(t){ye(tn,tn.current),ye(Di,t),Ki===null&&(Ki=t)}function gg(t){t.tag===22?(ye(tn,tn.current),ye(Di,t),Ki===null&&(Ki=t)):Ba()}function Ba(){ye(tn,tn.current),ye(Di,Di.current)}function Ii(t){re(Di),Ki===t&&(Ki=null),re(tn)}var tn=q(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ad(r)||Nd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zs=0,We=null,It=null,ln=null,Wu=!1,Mo=!1,Br=!1,Zu=0,Vl=0,Lo=null,Qb=0;function Wt(){throw Error(a(321))}function Eh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ci(t[r],n[r]))return!1;return!0}function Th(t,n,r,o,f,d){return Zs=d,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=t===null||t.memoizedState===null?Jg:Lh,Br=!1,d=r(o,f),Br=!1,Mo&&(d=yg(n,r,o,f)),_g(t),d}function _g(t){P.H=Bl;var n=It!==null&&It.next!==null;if(Zs=0,ln=It=We=null,Wu=!1,Vl=0,Lo=null,n)throw Error(a(300));t===null||un||(t=t.dependencies,t!==null&&Pu(t)&&(un=!0))}function yg(t,n,r,o){We=t;var f=0;do{if(Mo&&(Lo=null),Vl=0,Mo=!1,25<=f)throw Error(a(301));if(f+=1,ln=It=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=e_,d=n(r,o)}while(Mo);return d}function Kb(){var t=P.H,n=t.useState()[0];return n=typeof n.then=="function"?Ul(n):n,t=t.useState()[0],(It!==null?It.memoizedState:null)!==t&&(We.flags|=1024),n}function bh(){var t=Zu!==0;return Zu=0,t}function Sh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function wh(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}Zs=0,ln=It=We=null,Mo=!1,Vl=Zu=0,Lo=null}function ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?We.memoizedState=ln=t:ln=ln.next=t,ln}function nn(){if(It===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var n=ln===null?We.memoizedState:ln.next;if(n!==null)ln=n,It=t;else{if(t===null)throw We.alternate===null?Error(a(467)):Error(a(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},ln===null?We.memoizedState=ln=t:ln=ln.next=t}return ln}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var n=Vl;return Vl+=1,Lo===null&&(Lo=[]),t=lg(Lo,t,n),n=We,(ln===null?n.memoizedState:ln.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Jg:Lh),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===de)return In(t)}throw Error(a(438,String(t)))}function Ah(t){var n=null,r=We.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=We.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ju(),We.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function Js(t,n){return typeof n=="function"?n(t):n}function tc(t){var n=nn();return Nh(n,It,t)}function Nh(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,d=o.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}n.baseQueue=f=d,o.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var A=T=null,M=null,K=n,ae=!1;do{var ce=K.lane&-536870913;if(ce!==K.lane?(at&ce)===ce:(Zs&ce)===ce){var W=K.revertLane;if(W===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ce===Do&&(ae=!0);else if((Zs&W)===W){K=K.next,W===Do&&(ae=!0);continue}else ce={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=ce,T=d):M=M.next=ce,We.lanes|=W,Ha|=W;ce=K.action,Br&&r(d,ce),d=K.hasEagerState?K.eagerState:r(d,ce)}else W={lane:ce,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=W,T=d):M=M.next=W,We.lanes|=ce,Ha|=ce;K=K.next}while(K!==null&&K!==n);if(M===null?T=d:M.next=A,!Ci(d,t.memoizedState)&&(un=!0,ae&&(r=Io,r!==null)))throw r;t.memoizedState=d,t.baseState=T,t.baseQueue=M,o.lastRenderedState=d}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Rh(t){var n=nn(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,d=n.memoizedState;if(f!==null){r.pending=null;var T=f=f.next;do d=t(d,T.action),T=T.next;while(T!==f);Ci(d,n.memoizedState)||(un=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,o]}function vg(t,n,r){var o=We,f=nn(),d=ct;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var T=!Ci((It||f).memoizedState,r);if(T&&(f.memoizedState=r,un=!0),f=f.queue,Dh(bg.bind(null,o,f,t),[t]),f.getSnapshot!==n||T||ln!==null&&ln.memoizedState.tag&1){if(o.flags|=2048,Vo(9,{destroy:void 0},Tg.bind(null,o,f,r,n),null),Lt===null)throw Error(a(349));d||(Zs&127)!==0||Eg(o,n,r)}return r}function Eg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=We.updateQueue,n===null?(n=Ju(),We.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Tg(t,n,r,o){n.value=r,n.getSnapshot=o,Sg(n)&&wg(t)}function bg(t,n,r){return r(function(){Sg(n)&&wg(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ci(t,r)}catch{return!0}}function wg(t){var n=Ir(t,2);n!==null&&yi(n,t,2)}function Ch(t){var n=ai();if(typeof t=="function"){var r=t;if(t=r(),Br){Wn(!0);try{r()}finally{Wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},n}function Ag(t,n,r,o){return t.baseState=r,Nh(t,It,typeof o=="function"?o:Js)}function $b(t,n,r,o,f){if(sc(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};P.T!==null?r(!0):d.isTransition=!1,o(d),r=n.pending,r===null?(d.next=n.pending=d,Ng(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Ng(t,n){var r=n.action,o=n.payload,f=t.state;if(n.isTransition){var d=P.T,T={};P.T=T;try{var A=r(f,o),M=P.S;M!==null&&M(T,A),Rg(t,n,A)}catch(K){xh(t,n,K)}finally{d!==null&&T.types!==null&&(d.types=T.types),P.T=d}}else try{d=r(f,o),Rg(t,n,d)}catch(K){xh(t,n,K)}}function Rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Cg(t,n,o)},function(o){return xh(t,n,o)}):Cg(t,n,r)}function Cg(t,n,r){n.status="fulfilled",n.value=r,xg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ng(t,r)))}function xh(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,xg(n),n=n.next;while(n!==o)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dg(t,n){return n}function Ig(t,n){if(ct){var r=Lt.formState;if(r!==null){e:{var o=We;if(ct){if(qt){t:{for(var f=qt,d=Qi;f.nodeType!==8;){if(!d){f=null;break t}if(f=$i(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){qt=$i(f.nextSibling),o=f.data==="F!";break e}}ja(o)}o=!1}o&&(n=r[0])}}return r=ai(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},r.queue=o,r=$g.bind(null,We,o),o.dispatch=r,o=Ch(!1),d=Mh.bind(null,We,!1,o.queue),o=ai(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,r=$b.bind(null,We,f,d,r),f.dispatch=r,o.memoizedState=t,[n,r,!1]}function Og(t){var n=nn();return kg(n,It,t)}function kg(t,n,r){if(n=Nh(t,n,Dg)[0],t=tc(Js)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ul(n)}catch(T){throw T===Oo?Gu:T}else o=n;n=nn();var f=n.queue,d=f.dispatch;return r!==n.memoizedState&&(We.flags|=2048,Vo(9,{destroy:void 0},Wb.bind(null,f,r),null)),[o,d,t]}function Wb(t,n){t.action=n}function jg(t){var n=nn(),r=It;if(r!==null)return kg(n,r,t);nn(),n=n.memoizedState,r=nn();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Vo(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=We.updateQueue,n===null&&(n=Ju(),We.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Mg(){return nn().memoizedState}function nc(t,n,r,o){var f=ai();We.flags|=t,f.memoizedState=Vo(1|n,{destroy:void 0},r,o===void 0?null:o)}function ic(t,n,r,o){var f=nn();o=o===void 0?null:o;var d=f.memoizedState.inst;It!==null&&o!==null&&Eh(o,It.memoizedState.deps)?f.memoizedState=Vo(n,d,r,o):(We.flags|=t,f.memoizedState=Vo(1|n,d,r,o))}function Lg(t,n){nc(8390656,8,t,n)}function Dh(t,n){ic(2048,8,t,n)}function Zb(t){We.flags|=4;var n=We.updateQueue;if(n===null)n=Ju(),We.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Vg(t){var n=nn().memoizedState;return Zb({ref:n,nextImpl:t}),function(){if((vt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ug(t,n){return ic(4,2,t,n)}function qg(t,n){return ic(4,4,t,n)}function Bg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zg(t,n,r){r=r!=null?r.concat([t]):null,ic(4,4,Bg.bind(null,n,t),r)}function Ih(){}function Pg(t,n){var r=nn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Eh(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Hg(t,n){var r=nn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Eh(n,o[1]))return o[0];if(o=t(),Br){Wn(!0);try{t()}finally{Wn(!1)}}return r.memoizedState=[o,n],o}function Oh(t,n,r){return r===void 0||(Zs&1073741824)!==0&&(at&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=F_(),We.lanes|=t,Ha|=t,r)}function Fg(t,n,r,o){return Ci(r,n)?r:jo.current!==null?(t=Oh(t,r,o),Ci(t,n)||(un=!0),t):(Zs&42)===0||(Zs&1073741824)!==0&&(at&261930)===0?(un=!0,t.memoizedState=r):(t=F_(),We.lanes|=t,Ha|=t,n)}function Gg(t,n,r,o,f){var d=Z.p;Z.p=d!==0&&8>d?d:8;var T=P.T,A={};P.T=A,Mh(t,!1,n,r);try{var M=f(),K=P.S;if(K!==null&&K(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ae=Yb(M,o);ql(t,n,ae,ji(t))}else ql(t,n,o,ji(t))}catch(ce){ql(t,n,{then:function(){},status:"rejected",reason:ce},ji())}finally{Z.p=d,T!==null&&A.types!==null&&(T.types=A.types),P.T=T}}function Jb(){}function kh(t,n,r,o){if(t.tag!==5)throw Error(a(476));var f=Xg(t).queue;Gg(t,f,n,_e,r===null?Jb:function(){return Yg(t),r(o)})}function Xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:_e},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Yg(t){var n=Xg(t);n.next===null&&(n=t.alternate.memoizedState),ql(t,n.next.queue,{},ji())}function jh(){return In(nu)}function Qg(){return nn().memoizedState}function Kg(){return nn().memoizedState}function e1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ji();t=Va(r);var o=Ua(n,t,r);o!==null&&(yi(o,n,r),jl(o,n,r)),n={cache:uh()},t.payload=n;return}n=n.return}}function t1(t,n,r){var o=ji();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},sc(t)?Wg(n,r):(r=Zf(t,n,r,o),r!==null&&(yi(r,t,o),Zg(r,n,o)))}function $g(t,n,r){var o=ji();ql(t,n,r,o)}function ql(t,n,r,o){var f={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(sc(t))Wg(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var T=n.lastRenderedState,A=d(T,r);if(f.hasEagerState=!0,f.eagerState=A,Ci(A,T))return Uu(t,n,f,0),Lt===null&&Vu(),!1}catch{}if(r=Zf(t,n,f,o),r!==null)return yi(r,t,o),Zg(r,n,o),!0}return!1}function Mh(t,n,r,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(n)throw Error(a(479))}else n=Zf(t,r,o,2),n!==null&&yi(n,t,2)}function sc(t){var n=t.alternate;return t===We||n!==null&&n===We}function Wg(t,n){Mo=Wu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Zg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,wa(t,r)}}var Bl={readContext:In,use:ec,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};Bl.useEffectEvent=Wt;var Jg={readContext:In,use:ec,useCallback:function(t,n){return ai().memoizedState=[t,n===void 0?null:n],t},useContext:In,useEffect:Lg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,nc(4194308,4,Bg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return nc(4194308,4,t,n)},useInsertionEffect:function(t,n){nc(4,2,t,n)},useMemo:function(t,n){var r=ai();n=n===void 0?null:n;var o=t();if(Br){Wn(!0);try{t()}finally{Wn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=ai();if(r!==void 0){var f=r(n);if(Br){Wn(!0);try{r(n)}finally{Wn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=t1.bind(null,We,t),[o.memoizedState,t]},useRef:function(t){var n=ai();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,r=$g.bind(null,We,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ih,useDeferredValue:function(t,n){var r=ai();return Oh(r,t,n)},useTransition:function(){var t=Ch(!1);return t=Gg.bind(null,We,t.queue,!0,!1),ai().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=We,f=ai();if(ct){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Lt===null)throw Error(a(349));(at&127)!==0||Eg(o,n,r)}f.memoizedState=r;var d={value:r,getSnapshot:n};return f.queue=d,Lg(bg.bind(null,o,d,t),[t]),o.flags|=2048,Vo(9,{destroy:void 0},Tg.bind(null,o,d,r,n),null),r},useId:function(){var t=ai(),n=Lt.identifierPrefix;if(ct){var r=Rs,o=Ns;r=(o&~(1<<32-Ut(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Qb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jh,useFormState:Ig,useActionState:Ig,useOptimistic:function(t){var n=ai();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mh.bind(null,We,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return ai().memoizedState=e1.bind(null,We)},useEffectEvent:function(t){var n=ai(),r={impl:t};return n.memoizedState=r,function(){if((vt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Lh={readContext:In,use:ec,useCallback:Pg,useContext:In,useEffect:Dh,useImperativeHandle:zg,useInsertionEffect:Ug,useLayoutEffect:qg,useMemo:Hg,useReducer:tc,useRef:Mg,useState:function(){return tc(Js)},useDebugValue:Ih,useDeferredValue:function(t,n){var r=nn();return Fg(r,It.memoizedState,t,n)},useTransition:function(){var t=tc(Js)[0],n=nn().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:vg,useId:Qg,useHostTransitionStatus:jh,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var r=nn();return Ag(r,It,t,n)},useMemoCache:Ah,useCacheRefresh:Kg};Lh.useEffectEvent=Vg;var e_={readContext:In,use:ec,useCallback:Pg,useContext:In,useEffect:Dh,useImperativeHandle:zg,useInsertionEffect:Ug,useLayoutEffect:qg,useMemo:Hg,useReducer:Rh,useRef:Mg,useState:function(){return Rh(Js)},useDebugValue:Ih,useDeferredValue:function(t,n){var r=nn();return It===null?Oh(r,t,n):Fg(r,It.memoizedState,t,n)},useTransition:function(){var t=Rh(Js)[0],n=nn().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:vg,useId:Qg,useHostTransitionStatus:jh,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var r=nn();return It!==null?Ag(r,It,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:Kg};e_.useEffectEvent=Vg;function Vh(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uh={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=ji(),f=Va(o);f.payload=n,r!=null&&(f.callback=r),n=Ua(t,f,o),n!==null&&(yi(n,t,o),jl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=ji(),f=Va(o);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=Ua(t,f,o),n!==null&&(yi(n,t,o),jl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ji(),o=Va(r);o.tag=2,n!=null&&(o.callback=n),n=Ua(t,o,r),n!==null&&(yi(n,t,r),jl(n,t,r))}};function t_(t,n,r,o,f,d,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,T):n.prototype&&n.prototype.isPureReactComponent?!Nl(r,o)||!Nl(f,d):!0}function n_(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function zr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}function i_(t){Lu(t)}function s_(t){console.error(t)}function a_(t){Lu(t)}function ac(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function r_(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qh(t,n,r){return r=Va(r),r.tag=3,r.payload={element:null},r.callback=function(){ac(t,n)},r}function o_(t){return t=Va(t),t.tag=3,t}function l_(t,n,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;t.payload=function(){return f(d)},t.callback=function(){r_(n,r,o)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){r_(n,r,o),typeof f!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function n1(t,n,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&xo(n,r,f,!0),r=Di.current,r!==null){switch(r.tag){case 31:case 13:return Ki===null?_c():r.alternate===null&&Zt===0&&(Zt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Xu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),cd(t,o,f)),!1;case 22:return r.flags|=65536,o===Xu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),cd(t,o,f)),!1}throw Error(a(435,r.tag))}return cd(t,o,f),_c(),!1}if(ct)return n=Di.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==sh&&(t=Error(a(422),{cause:o}),xl(Gi(t,r)))):(o!==sh&&(n=Error(a(423),{cause:o}),xl(Gi(n,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Gi(o,r),f=qh(t.stateNode,o,f),ph(t,f),Zt!==4&&(Zt=2)),!1;var d=Error(a(520),{cause:o});if(d=Gi(d,r),Ql===null?Ql=[d]:Ql.push(d),Zt!==4&&(Zt=2),n===null)return!0;o=Gi(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=qh(r.stateNode,o,t),ph(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fa===null||!Fa.has(d))))return r.flags|=65536,f&=-f,r.lanes|=f,f=o_(f),l_(f,t,r,o),ph(r,f),!1}r=r.return}while(r!==null);return!1}var Bh=Error(a(461)),un=!1;function On(t,n,r,o){n.child=t===null?hg(n,null,r,o):qr(n,t.child,r,o)}function u_(t,n,r,o,f){r=r.render;var d=n.ref;if("ref"in o){var T={};for(var A in o)A!=="ref"&&(T[A]=o[A])}else T=o;return Mr(n),o=Th(t,n,r,T,d,f),A=bh(),t!==null&&!un?(Sh(t,n,f),ea(t,n,f)):(ct&&A&&nh(n),n.flags|=1,On(t,n,o,f),n.child)}function c_(t,n,r,o,f){if(t===null){var d=r.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,f_(t,n,d,o,f)):(t=Bu(r.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Qh(t,f)){var T=d.memoizedProps;if(r=r.compare,r=r!==null?r:Nl,r(T,o)&&t.ref===n.ref)return ea(t,n,f)}return n.flags|=1,t=Qs(d,o),t.ref=n.ref,t.return=n,n.child=t}function f_(t,n,r,o,f){if(t!==null){var d=t.memoizedProps;if(Nl(d,o)&&t.ref===n.ref)if(un=!1,n.pendingProps=o=d,Qh(t,f))(t.flags&131072)!==0&&(un=!0);else return n.lanes=t.lanes,ea(t,n,f)}return zh(t,n,r,o,f)}function h_(t,n,r,o){var f=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,n.child=null;return d_(t,n,d,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(n,d!==null?d.cachePool:null),d!==null?pg(n,d):_h(),gg(n);else return o=n.lanes=536870912,d_(t,n,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(Fu(n,d.cachePool),pg(n,d),Ba(),n.memoizedState=null):(t!==null&&Fu(n,null),_h(),Ba());return On(t,n,f,r),n.child}function zl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function d_(t,n,r,o,f){var d=fh();return d=d===null?null:{parent:on._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Fu(n,null),_h(),gg(n),t!==null&&xo(t,n,o,!0),n.childLanes=f,null}function rc(t,n){return n=lc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function m_(t,n,r){return qr(n,t.child,null,r),t=rc(n,n.pendingProps),t.flags|=2,Ii(n),n.memoizedState=null,t}function i1(t,n,r){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ct){if(o.mode==="hidden")return t=rc(n,o),n.lanes=536870912,zl(null,t);if(vh(n),(t=qt)?(t=Ny(t,Qi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Oa!==null?{id:Ns,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},r=Wp(t),r.return=n,n.child=r,Dn=n,qt=null)):t=null,t===null)throw ja(n);return n.lanes=536870912,null}return rc(n,o)}var d=t.memoizedState;if(d!==null){var T=d.dehydrated;if(vh(n),f)if(n.flags&256)n.flags&=-257,n=m_(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(un||xo(t,n,r,!1),f=(r&t.childLanes)!==0,un||f){if(o=Lt,o!==null&&(T=an(o,r),T!==0&&T!==d.retryLane))throw d.retryLane=T,Ir(t,T),yi(o,t,T),Bh;_c(),n=m_(t,n,r)}else t=d.treeContext,qt=$i(T.nextSibling),Dn=n,ct=!0,ka=null,Qi=!1,t!==null&&eg(n,t),n=rc(n,o),n.flags|=4096;return n}return t=Qs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function oc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function zh(t,n,r,o,f){return Mr(n),r=Th(t,n,r,o,void 0,f),o=bh(),t!==null&&!un?(Sh(t,n,f),ea(t,n,f)):(ct&&o&&nh(n),n.flags|=1,On(t,n,r,f),n.child)}function p_(t,n,r,o,f,d){return Mr(n),n.updateQueue=null,r=yg(n,o,r,f),_g(t),o=bh(),t!==null&&!un?(Sh(t,n,d),ea(t,n,d)):(ct&&o&&nh(n),n.flags|=1,On(t,n,r,d),n.child)}function g_(t,n,r,o,f){if(Mr(n),n.stateNode===null){var d=Ao,T=r.contextType;typeof T=="object"&&T!==null&&(d=In(T)),d=new r(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},dh(n),T=r.contextType,d.context=typeof T=="object"&&T!==null?In(T):Ao,d.state=n.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(Vh(n,r,T,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Uh.enqueueReplaceState(d,d.state,null),Ll(n,o,d,f),Ml(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var A=n.memoizedProps,M=zr(r,A);d.props=M;var K=d.context,ae=r.contextType;T=Ao,typeof ae=="object"&&ae!==null&&(T=In(ae));var ce=r.getDerivedStateFromProps;ae=typeof ce=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,ae||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||K!==T)&&n_(n,d,o,T),La=!1;var W=n.memoizedState;d.state=W,Ll(n,o,d,f),Ml(),K=n.memoizedState,A||W!==K||La?(typeof ce=="function"&&(Vh(n,r,ce,o),K=n.memoizedState),(M=La||t_(n,r,M,o,W,K,T))?(ae||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=K),d.props=o,d.state=K,d.context=T,o=M):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,mh(t,n),T=n.memoizedProps,ae=zr(r,T),d.props=ae,ce=n.pendingProps,W=d.context,K=r.contextType,M=Ao,typeof K=="object"&&K!==null&&(M=In(K)),A=r.getDerivedStateFromProps,(K=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ce||W!==M)&&n_(n,d,o,M),La=!1,W=n.memoizedState,d.state=W,Ll(n,o,d,f),Ml();var te=n.memoizedState;T!==ce||W!==te||La||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof A=="function"&&(Vh(n,r,A,o),te=n.memoizedState),(ae=La||t_(n,r,ae,o,W,te,M)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,te,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,te,M)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=te),d.props=o,d.state=te,d.context=M,o=ae):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,oc(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=qr(n,t.child,null,f),n.child=qr(n,null,r,f)):On(t,n,r,f),n.memoizedState=d.state,t=n.child):t=ea(t,n,f),t}function __(t,n,r,o){return kr(),n.flags|=256,On(t,n,r,o),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(t){return{baseLanes:t,cachePool:rg()}}function Fh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=ki),t}function y_(t,n,r){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,T;if((T=d)||(T=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(ct){if(f?qa(n):Ba(),(t=qt)?(t=Ny(t,Qi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Oa!==null?{id:Ns,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},r=Wp(t),r.return=n,n.child=r,Dn=n,qt=null)):t=null,t===null)throw ja(n);return Nd(t)?n.lanes=32:n.lanes=536870912,null}var A=o.children;return o=o.fallback,f?(Ba(),f=n.mode,A=lc({mode:"hidden",children:A},f),o=Or(o,f,r,null),A.return=n,o.return=n,A.sibling=o,n.child=A,o=n.child,o.memoizedState=Hh(r),o.childLanes=Fh(t,T,r),n.memoizedState=Ph,zl(null,o)):(qa(n),Gh(n,A))}var M=t.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(d)n.flags&256?(qa(n),n.flags&=-257,n=Xh(t,n,r)):n.memoizedState!==null?(Ba(),n.child=t.child,n.flags|=128,n=null):(Ba(),A=o.fallback,f=n.mode,o=lc({mode:"visible",children:o.children},f),A=Or(A,f,r,null),A.flags|=2,o.return=n,A.return=n,o.sibling=A,n.child=o,qr(n,t.child,null,r),o=n.child,o.memoizedState=Hh(r),o.childLanes=Fh(t,T,r),n.memoizedState=Ph,n=zl(null,o));else if(qa(n),Nd(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var K=T.dgst;T=K,o=Error(a(419)),o.stack="",o.digest=T,xl({value:o,source:null,stack:null}),n=Xh(t,n,r)}else if(un||xo(t,n,r,!1),T=(r&t.childLanes)!==0,un||T){if(T=Lt,T!==null&&(o=an(T,r),o!==0&&o!==M.retryLane))throw M.retryLane=o,Ir(t,o),yi(T,t,o),Bh;Ad(A)||_c(),n=Xh(t,n,r)}else Ad(A)?(n.flags|=192,n.child=t.child,n=null):(t=M.treeContext,qt=$i(A.nextSibling),Dn=n,ct=!0,ka=null,Qi=!1,t!==null&&eg(n,t),n=Gh(n,o.children),n.flags|=4096);return n}return f?(Ba(),A=o.fallback,f=n.mode,M=t.child,K=M.sibling,o=Qs(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,K!==null?A=Qs(K,A):(A=Or(A,f,r,null),A.flags|=2),A.return=n,o.return=n,o.sibling=A,n.child=o,zl(null,o),o=n.child,A=t.child.memoizedState,A===null?A=Hh(r):(f=A.cachePool,f!==null?(M=on._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=rg(),A={baseLanes:A.baseLanes|r,cachePool:f}),o.memoizedState=A,o.childLanes=Fh(t,T,r),n.memoizedState=Ph,zl(t.child,o)):(qa(n),r=t.child,t=r.sibling,r=Qs(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=r,n.memoizedState=null,r)}function Gh(t,n){return n=lc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lc(t,n){return t=xi(22,t,null,n),t.lanes=0,t}function Xh(t,n,r){return qr(n,t.child,null,r),t=Gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function v_(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),oh(t.return,n,r)}function Yh(t,n,r,o,f,d){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f,treeForkCount:d}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=r,T.tailMode=f,T.treeForkCount=d)}function E_(t,n,r){var o=n.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var T=tn.current,A=(T&2)!==0;if(A?(T=T&1|2,n.flags|=128):T&=1,ye(tn,T),On(t,n,o,r),o=ct?Cl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v_(t,r,n);else if(t.tag===19)v_(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)t=r.alternate,t!==null&&$u(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),Yh(n,!1,f,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&$u(t)===null){n.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}Yh(n,!0,r,null,d,o);break;case"together":Yh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ea(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ha|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(xo(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Qs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Qs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Qh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function s1(t,n,r){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),Ma(n,on,t.memoizedState.cache),kr();break;case 27:case 5:ms(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:Ma(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(qa(n),n.flags|=128,null):(r&n.child.childLanes)!==0?y_(t,n,r):(qa(n),t=ea(t,n,r),t!==null?t.sibling:null);qa(n);break;case 19:var f=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(xo(t,n,r,!1),o=(r&n.childLanes)!==0),f){if(o)return E_(t,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ye(tn,tn.current),o)break;return null;case 22:return n.lanes=0,h_(t,n,r,n.pendingProps);case 24:Ma(n,on,t.memoizedState.cache)}return ea(t,n,r)}function T_(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)un=!0;else{if(!Qh(t,r)&&(n.flags&128)===0)return un=!1,s1(t,n,r);un=(t.flags&131072)!==0}else un=!1,ct&&(n.flags&1048576)!==0&&Jp(n,Cl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Vr(n.elementType),n.type=t,typeof t=="function")Jf(t)?(o=zr(t,o),n.tag=1,n=g_(null,n,t,o,r)):(n.tag=0,n=zh(null,n,t,o,r));else{if(t!=null){var f=t.$$typeof;if(f===pe){n.tag=11,n=u_(null,n,t,o,r);break e}else if(f===k){n.tag=14,n=c_(null,n,t,o,r);break e}}throw n=ve(t)||t,Error(a(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,f=zr(o,n.pendingProps),g_(t,n,o,f,r);case 3:e:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,mh(t,n),Ll(n,o,null,r);var T=n.memoizedState;if(o=T.cache,Ma(n,on,o),o!==d.cache&&lh(n,[on],r,!0),Ml(),o=T.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=__(t,n,o,r);break e}else if(o!==f){f=Gi(Error(a(424)),n),xl(f),n=__(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,qt=$i(t.firstChild),Dn=n,ct=!0,ka=null,Qi=!0,r=hg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kr(),o===f){n=ea(t,n,r);break e}On(t,n,o,r)}n=n.child}return n;case 26:return oc(t,n),t===null?(r=Oy(n.type,null,n.pendingProps,null))?n.memoizedState=r:ct||(r=n.type,t=n.pendingProps,o=wc(Ke.current).createElement(r),o[it]=n,o[Jt]=t,kn(o,r,t),Xt(o),n.stateNode=o):n.memoizedState=Oy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ms(n),t===null&&ct&&(o=n.stateNode=xy(n.type,n.pendingProps,Ke.current),Dn=n,Qi=!0,f=qt,Qa(n.type)?(Rd=f,qt=$i(o.firstChild)):qt=f),On(t,n,n.pendingProps.children,r),oc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ct&&((f=o=qt)&&(o=j1(o,n.type,n.pendingProps,Qi),o!==null?(n.stateNode=o,Dn=n,qt=$i(o.firstChild),Qi=!1,f=!0):f=!1),f||ja(n)),ms(n),f=n.type,d=n.pendingProps,T=t!==null?t.memoizedProps:null,o=d.children,bd(f,d)?o=null:T!==null&&bd(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Th(t,n,Kb,null,null,r),nu._currentValue=f),oc(t,n),On(t,n,o,r),n.child;case 6:return t===null&&ct&&((t=r=qt)&&(r=M1(r,n.pendingProps,Qi),r!==null?(n.stateNode=r,Dn=n,qt=null,t=!0):t=!1),t||ja(n)),null;case 13:return y_(t,n,r);case 4:return Kt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=qr(n,null,o,r):On(t,n,o,r),n.child;case 11:return u_(t,n,n.type,n.pendingProps,r);case 7:return On(t,n,n.pendingProps,r),n.child;case 8:return On(t,n,n.pendingProps.children,r),n.child;case 12:return On(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ma(n,n.type,o.value),On(t,n,o.children,r),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Mr(n),f=In(f),o=o(f),n.flags|=1,On(t,n,o,r),n.child;case 14:return c_(t,n,n.type,n.pendingProps,r);case 15:return f_(t,n,n.type,n.pendingProps,r);case 19:return E_(t,n,r);case 31:return i1(t,n,r);case 22:return h_(t,n,r,n.pendingProps);case 24:return Mr(n),o=In(on),t===null?(f=fh(),f===null&&(f=Lt,d=uh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=r),f=d),n.memoizedState={parent:o,cache:f},dh(n),Ma(n,on,f)):((t.lanes&r)!==0&&(mh(t,n),Ll(n,null,null,r),Ml()),f=t.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ma(n,on,o)):(o=d.cache,Ma(n,on,o),o!==f.cache&&lh(n,[on],r,!0))),On(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ta(t){t.flags|=4}function Kh(t,n,r,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Q_())t.flags|=8192;else throw Ur=Xu,hh}else t.flags&=-16777217}function b_(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vy(n))if(Q_())t.flags|=8192;else throw Ur=Xu,hh}function uc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Nn():536870912,t.lanes|=n,zo|=n)}function Pl(t,n){if(!ct)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function a1(t,n,r){var o=n.pendingProps;switch(ih(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(n),null;case 1:return Bt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ws(on),jt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Co(n)?ta(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ah())),Bt(n),null;case 26:var f=n.type,d=n.memoizedState;return t===null?(ta(n),d!==null?(Bt(n),b_(n,d)):(Bt(n),Kh(n,f,null,o,r))):d?d!==t.memoizedState?(ta(n),Bt(n),b_(n,d)):(Bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ta(n),Bt(n),Kh(n,f,t,o,r)),null;case 27:if(Ta(n),r=Ke.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ta(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Bt(n),null}t=Te.current,Co(n)?tg(n):(t=xy(f,o,r),n.stateNode=t,ta(n))}return Bt(n),null;case 5:if(Ta(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ta(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Bt(n),null}if(d=Te.current,Co(n))tg(n);else{var T=wc(Ke.current);switch(d){case 1:d=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=T.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?T.createElement(f,{is:o.is}):T.createElement(f)}}d[it]=n,d[Jt]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)d.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=d;e:switch(kn(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ta(n)}}return Bt(n),Kh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ta(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ke.current,Co(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,f=Dn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[it]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||yy(t.nodeValue,r)),t||ja(n,!0)}else t=wc(t).createTextNode(o),t[it]=n,n.stateNode=t}return Bt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Co(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[it]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),t=!1}else r=ah(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Ii(n),n):(Ii(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Bt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Co(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[it]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),f=!1}else f=ah(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ii(n),n):(Ii(n),null)}return Ii(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),uc(n,n.updateQueue),Bt(n),null);case 4:return jt(),t===null&&_d(n.stateNode.containerInfo),Bt(n),null;case 10:return Ws(n.type),Bt(n),null;case 19:if(re(tn),o=n.memoizedState,o===null)return Bt(n),null;if(f=(n.flags&128)!==0,d=o.rendering,d===null)if(f)Pl(o,!1);else{if(Zt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=$u(t),d!==null){for(n.flags|=128,Pl(o,!1),t=d.updateQueue,n.updateQueue=t,uc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)$p(r,t),r=r.sibling;return ye(tn,tn.current&1|2),ct&&Ks(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&An()>mc&&(n.flags|=128,f=!0,Pl(o,!1),n.lanes=4194304)}else{if(!f)if(t=$u(d),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,uc(n,t),Pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ct)return Bt(n),null}else 2*An()-o.renderingStartTime>mc&&r!==536870912&&(n.flags|=128,f=!0,Pl(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=An(),t.sibling=null,r=tn.current,ye(tn,f?r&1|2:r&1),ct&&Ks(n,o.treeForkCount),t):(Bt(n),null);case 22:case 23:return Ii(n),yh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Bt(n),n.subtreeFlags&6&&(n.flags|=8192)):Bt(n),r=n.updateQueue,r!==null&&uc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&re(Lr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ws(on),Bt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function r1(t,n){switch(ih(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ws(on),jt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ta(n),null;case 31:if(n.memoizedState!==null){if(Ii(n),n.alternate===null)throw Error(a(340));kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ii(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return re(tn),null;case 4:return jt(),null;case 10:return Ws(n.type),null;case 22:case 23:return Ii(n),yh(),t!==null&&re(Lr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ws(on),null;case 25:return null;default:return null}}function S_(t,n){switch(ih(n),n.tag){case 3:Ws(on),jt();break;case 26:case 27:case 5:Ta(n);break;case 4:jt();break;case 31:n.memoizedState!==null&&Ii(n);break;case 13:Ii(n);break;case 19:re(tn);break;case 10:Ws(n.type);break;case 22:case 23:Ii(n),yh(),t!==null&&re(Lr);break;case 24:Ws(on)}}function Hl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var d=r.create,T=r.inst;o=d(),T.destroy=o}r=r.next}while(r!==f)}}catch(A){Ct(n,n.return,A)}}function za(t,n,r){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&t)===t){var T=o.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=n;var M=r,K=A;try{K()}catch(ae){Ct(f,M,ae)}}}o=o.next}while(o!==d)}}catch(ae){Ct(n,n.return,ae)}}function w_(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{mg(n,r)}catch(o){Ct(t,t.return,o)}}}function A_(t,n,r){r.props=zr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Ct(t,n,o)}}function Fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(f){Ct(t,n,f)}}function Cs(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Ct(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Ct(t,n,f)}else r.current=null}function N_(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Ct(t,t.return,f)}}function $h(t,n,r){try{var o=t.stateNode;C1(o,t.type,r,n),o[Jt]=n}catch(f){Ct(t,t.return,f)}}function R_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qa(t.type)||t.tag===4}function Wh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=xn));else if(o!==4&&(o===27&&Qa(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Zh(t,n,r),t=t.sibling;t!==null;)Zh(t,n,r),t=t.sibling}function cc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Qa(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(cc(t,n,r),t=t.sibling;t!==null;)cc(t,n,r),t=t.sibling}function C_(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);kn(n,o,r),n[it]=t,n[Jt]=r}catch(d){Ct(t,t.return,d)}}var na=!1,cn=!1,Jh=!1,x_=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function o1(t,n){if(t=t.containerInfo,Ed=Ic,t=zp(t),Xf(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var T=0,A=-1,M=-1,K=0,ae=0,ce=t,W=null;t:for(;;){for(var te;ce!==r||f!==0&&ce.nodeType!==3||(A=T+f),ce!==d||o!==0&&ce.nodeType!==3||(M=T+o),ce.nodeType===3&&(T+=ce.nodeValue.length),(te=ce.firstChild)!==null;)W=ce,ce=te;for(;;){if(ce===t)break t;if(W===r&&++K===f&&(A=T),W===d&&++ae===o&&(M=T),(te=ce.nextSibling)!==null)break;ce=W,W=ce.parentNode}ce=te}r=A===-1||M===-1?null:{start:A,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Td={focusedElem:t,selectionRange:r},Ic=!1,Sn=n;Sn!==null;)if(n=Sn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Sn=t;else for(;Sn!==null;){switch(n=Sn,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)f=t[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,f=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var Ne=zr(r.type,f);t=o.getSnapshotBeforeUpdate(Ne,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Ct(r,r.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)wd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Sn=t;break}Sn=n.return}}function D_(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:sa(t,r),o&4&&Hl(5,r);break;case 1:if(sa(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(T){Ct(r,r.return,T)}else{var f=zr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ct(r,r.return,T)}}o&64&&w_(r),o&512&&Fl(r,r.return);break;case 3:if(sa(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{mg(t,n)}catch(T){Ct(r,r.return,T)}}break;case 27:n===null&&o&4&&C_(r);case 26:case 5:sa(t,r),n===null&&o&4&&N_(r),o&512&&Fl(r,r.return);break;case 12:sa(t,r);break;case 31:sa(t,r),o&4&&k_(t,r);break;case 13:sa(t,r),o&4&&j_(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=g1.bind(null,r),L1(t,r))));break;case 22:if(o=r.memoizedState!==null||na,!o){n=n!==null&&n.memoizedState!==null||cn,f=na;var d=cn;na=o,(cn=n)&&!d?aa(t,r,(r.subtreeFlags&8772)!==0):sa(t,r),na=f,cn=d}break;case 30:break;default:sa(t,r)}}function I_(t){var n=t.alternate;n!==null&&(t.alternate=null,I_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ft=null,mi=!1;function ia(t,n,r){for(r=r.child;r!==null;)O_(t,n,r),r=r.sibling}function O_(t,n,r){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Ti,r)}catch{}switch(r.tag){case 26:cn||Cs(r,n),ia(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:cn||Cs(r,n);var o=Ft,f=mi;Qa(r.type)&&(Ft=r.stateNode,mi=!1),ia(t,n,r),Jl(r.stateNode),Ft=o,mi=f;break;case 5:cn||Cs(r,n);case 6:if(o=Ft,f=mi,Ft=null,ia(t,n,r),Ft=o,mi=f,Ft!==null)if(mi)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(r.stateNode)}catch(d){Ct(r,n,d)}else try{Ft.removeChild(r.stateNode)}catch(d){Ct(r,n,d)}break;case 18:Ft!==null&&(mi?(t=Ft,wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ko(t)):wy(Ft,r.stateNode));break;case 4:o=Ft,f=mi,Ft=r.stateNode.containerInfo,mi=!0,ia(t,n,r),Ft=o,mi=f;break;case 0:case 11:case 14:case 15:za(2,r,n),cn||za(4,r,n),ia(t,n,r);break;case 1:cn||(Cs(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&A_(r,n,o)),ia(t,n,r);break;case 21:ia(t,n,r);break;case 22:cn=(o=cn)||r.memoizedState!==null,ia(t,n,r),cn=o;break;default:ia(t,n,r)}}function k_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ko(t)}catch(r){Ct(n,n.return,r)}}}function j_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ko(t)}catch(r){Ct(n,n.return,r)}}function l1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new x_),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new x_),n;default:throw Error(a(435,t.tag))}}function fc(t,n){var r=l1(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var f=_1.bind(null,t,o);o.then(f,f)}})}function pi(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],d=t,T=n,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Qa(A.type)){Ft=A.stateNode,mi=!1;break e}break;case 5:Ft=A.stateNode,mi=!1;break e;case 3:case 4:Ft=A.stateNode.containerInfo,mi=!0;break e}A=A.return}if(Ft===null)throw Error(a(160));O_(d,T,f),Ft=null,mi=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)M_(n,t),n=n.sibling}var us=null;function M_(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pi(n,t),gi(t),o&4&&(za(3,t,t.return),Hl(3,t),za(5,t,t.return));break;case 1:pi(n,t),gi(t),o&512&&(cn||r===null||Cs(r,r.return)),o&64&&na&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=us;if(pi(n,t),gi(t),o&512&&(cn||r===null||Cs(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Jn]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),kn(d,o,r),d[it]=t,Xt(d),o=d;break e;case"link":var T=My("link","href",f).get(o+(r.href||""));if(T){for(var A=0;A<T.length;A++)if(d=T[A],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(A,1);break t}}d=f.createElement(o),kn(d,o,r),f.head.appendChild(d);break;case"meta":if(T=My("meta","content",f).get(o+(r.content||""))){for(A=0;A<T.length;A++)if(d=T[A],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(A,1);break t}}d=f.createElement(o),kn(d,o,r),f.head.appendChild(d);break;default:throw Error(a(468,o))}d[it]=t,Xt(d),o=d}t.stateNode=o}else Ly(f,t.type,t.stateNode);else t.stateNode=jy(f,o,t.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?Ly(f,t.type,t.stateNode):jy(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$h(t,t.memoizedProps,r.memoizedProps)}break;case 27:pi(n,t),gi(t),o&512&&(cn||r===null||Cs(r,r.return)),r!==null&&o&4&&$h(t,t.memoizedProps,r.memoizedProps);break;case 5:if(pi(n,t),gi(t),o&512&&(cn||r===null||Cs(r,r.return)),t.flags&32){f=t.stateNode;try{yn(f,"")}catch(Ne){Ct(t,t.return,Ne)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,$h(t,f,r!==null?r.memoizedProps:f)),o&1024&&(Jh=!0);break;case 6:if(pi(n,t),gi(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Ne){Ct(t,t.return,Ne)}}break;case 3:if(Rc=null,f=us,us=Ac(n.containerInfo),pi(n,t),us=f,gi(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ko(n.containerInfo)}catch(Ne){Ct(t,t.return,Ne)}Jh&&(Jh=!1,L_(t));break;case 4:o=us,us=Ac(t.stateNode.containerInfo),pi(n,t),gi(t),us=o;break;case 12:pi(n,t),gi(t);break;case 31:pi(n,t),gi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 13:pi(n,t),gi(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(dc=An()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 22:f=t.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,K=na,ae=cn;if(na=K||f,cn=ae||M,pi(n,t),cn=ae,na=K,gi(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||M||na||cn||Pr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){M=r=n;try{if(d=M.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=M.stateNode;var ce=M.memoizedProps.style,W=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ne){Ct(M,M.return,Ne)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Ne){Ct(M,M.return,Ne)}}}else if(n.tag===18){if(r===null){M=n;try{var te=M.stateNode;f?Ay(te,!0):Ay(M.stateNode,!1)}catch(Ne){Ct(M,M.return,Ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,fc(t,r))));break;case 19:pi(n,t),gi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 30:break;case 21:break;default:pi(n,t),gi(t)}}function gi(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(R_(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var f=r.stateNode,d=Wh(t);cc(t,d,f);break;case 5:var T=r.stateNode;r.flags&32&&(yn(T,""),r.flags&=-33);var A=Wh(t);cc(t,A,T);break;case 3:case 4:var M=r.stateNode.containerInfo,K=Wh(t);Zh(t,K,M);break;default:throw Error(a(161))}}catch(ae){Ct(t,t.return,ae)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function L_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;L_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function sa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)D_(t,n.alternate,n),n=n.sibling}function Pr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:za(4,n,n.return),Pr(n);break;case 1:Cs(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&A_(n,n.return,r),Pr(n);break;case 27:Jl(n.stateNode);case 26:case 5:Cs(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}t=t.sibling}}function aa(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,d=n,T=d.flags;switch(d.tag){case 0:case 11:case 15:aa(f,d,r),Hl(4,d);break;case 1:if(aa(f,d,r),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Ct(o,o.return,K)}if(o=d,f=o.updateQueue,f!==null){var A=o.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)dg(M[f],A)}catch(K){Ct(o,o.return,K)}}r&&T&64&&w_(d),Fl(d,d.return);break;case 27:C_(d);case 26:case 5:aa(f,d,r),r&&o===null&&T&4&&N_(d),Fl(d,d.return);break;case 12:aa(f,d,r);break;case 31:aa(f,d,r),r&&T&4&&k_(f,d);break;case 13:aa(f,d,r),r&&T&4&&j_(f,d);break;case 22:d.memoizedState===null&&aa(f,d,r),Fl(d,d.return);break;case 30:break;default:aa(f,d,r)}n=n.sibling}}function ed(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Dl(r))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t))}function cs(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)V_(t,n,r,o),n=n.sibling}function V_(t,n,r,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:cs(t,n,r,o),f&2048&&Hl(9,n);break;case 1:cs(t,n,r,o);break;case 3:cs(t,n,r,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t)));break;case 12:if(f&2048){cs(t,n,r,o),t=n.stateNode;try{var d=n.memoizedProps,T=d.id,A=d.onPostCommit;typeof A=="function"&&A(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Ct(n,n.return,M)}}else cs(t,n,r,o);break;case 31:cs(t,n,r,o);break;case 13:cs(t,n,r,o);break;case 23:break;case 22:d=n.stateNode,T=n.alternate,n.memoizedState!==null?d._visibility&2?cs(t,n,r,o):Gl(t,n):d._visibility&2?cs(t,n,r,o):(d._visibility|=2,Uo(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&ed(T,n);break;case 24:cs(t,n,r,o),f&2048&&td(n.alternate,n);break;default:cs(t,n,r,o)}}function Uo(t,n,r,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,T=n,A=r,M=o,K=T.flags;switch(T.tag){case 0:case 11:case 15:Uo(d,T,A,M,f),Hl(8,T);break;case 23:break;case 22:var ae=T.stateNode;T.memoizedState!==null?ae._visibility&2?Uo(d,T,A,M,f):Gl(d,T):(ae._visibility|=2,Uo(d,T,A,M,f)),f&&K&2048&&ed(T.alternate,T);break;case 24:Uo(d,T,A,M,f),f&&K&2048&&td(T.alternate,T);break;default:Uo(d,T,A,M,f)}n=n.sibling}}function Gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,f=o.flags;switch(o.tag){case 22:Gl(r,o),f&2048&&ed(o.alternate,o);break;case 24:Gl(r,o),f&2048&&td(o.alternate,o);break;default:Gl(r,o)}n=n.sibling}}var Xl=8192;function qo(t,n,r){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)U_(t,n,r),t=t.sibling}function U_(t,n,r){switch(t.tag){case 26:qo(t,n,r),t.flags&Xl&&t.memoizedState!==null&&Q1(r,us,t.memoizedState,t.memoizedProps);break;case 5:qo(t,n,r);break;case 3:case 4:var o=us;us=Ac(t.stateNode.containerInfo),qo(t,n,r),us=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Xl,Xl=16777216,qo(t,n,r),Xl=o):qo(t,n,r));break;default:qo(t,n,r)}}function q_(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Sn=o,z_(o,t)}q_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)B_(t),t=t.sibling}function B_(t){switch(t.tag){case 0:case 11:case 15:Yl(t),t.flags&2048&&za(9,t,t.return);break;case 3:Yl(t);break;case 12:Yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):Yl(t);break;default:Yl(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Sn=o,z_(o,t)}q_(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:za(8,n,n.return),hc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function z_(t,n){for(;Sn!==null;){var r=Sn;switch(r.tag){case 0:case 11:case 15:za(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Dl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Sn=o;else e:for(r=t;Sn!==null;){o=Sn;var f=o.sibling,d=o.return;if(I_(o),o===r){Sn=null;break e}if(f!==null){f.return=d,Sn=f;break e}Sn=d}}}var u1={getCacheForType:function(t){var n=In(on),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return In(on).controller.signal}},c1=typeof WeakMap=="function"?WeakMap:Map,vt=0,Lt=null,tt=null,at=0,Rt=0,Oi=null,Pa=!1,Bo=!1,nd=!1,ra=0,Zt=0,Ha=0,Hr=0,id=0,ki=0,zo=0,Ql=null,_i=null,sd=!1,dc=0,P_=0,mc=1/0,pc=null,Fa=null,pn=0,Ga=null,Po=null,oa=0,ad=0,rd=null,H_=null,Kl=0,od=null;function ji(){return(vt&2)!==0&&at!==0?at&-at:P.T!==null?dd():yr()}function F_(){if(ki===0)if((at&536870912)===0||ct){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),ki=t}else ki=536870912;return t=Di.current,t!==null&&(t.flags|=32),ki}function yi(t,n,r){(t===Lt&&(Rt===2||Rt===9)||t.cancelPendingCommit!==null)&&(Ho(t,0),Xa(t,at,ki,!1)),ss(t,r),((vt&2)===0||t!==Lt)&&(t===Lt&&((vt&2)===0&&(Hr|=r),Zt===4&&Xa(t,at,ki,!1)),xs(t))}function G_(t,n,r){if((vt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||wi(t,n),f=o?d1(t,n):ud(t,n,!0),d=o;do{if(f===0){Bo&&!o&&Xa(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!f1(r)){f=ud(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var A=t;f=Ql;var M=A.current.memoizedState.isDehydrated;if(M&&(Ho(A,T).flags|=256),T=ud(A,T,!1),T!==2){if(nd&&!M){A.errorRecoveryDisabledLanes|=d,Hr|=d,f=4;break e}d=_i,_i=f,d!==null&&(_i===null?_i=d:_i.push.apply(_i,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){Ho(t,0),Xa(t,n,0,!0);break}e:{switch(o=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xa(o,n,ki,!Pa);break e;case 2:_i=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=dc+300-An(),10<f)){if(Xa(o,n,ki,!Pa),me(o,0,!0)!==0)break e;oa=n,o.timeoutHandle=by(X_.bind(null,o,r,_i,pc,sd,n,ki,Hr,zo,Pa,d,"Throttled",-0,0),f);break e}X_(o,r,_i,pc,sd,n,ki,Hr,zo,Pa,d,null,-0,0)}}break}while(!0);xs(t)}function X_(t,n,r,o,f,d,T,A,M,K,ae,ce,W,te){if(t.timeoutHandle=-1,ce=n.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},U_(n,d,ce);var Ne=(d&62914560)===d?dc-An():(d&4194048)===d?P_-An():0;if(Ne=K1(ce,Ne),Ne!==null){oa=d,t.cancelPendingCommit=Ne(ey.bind(null,t,n,d,r,o,f,T,A,M,ae,ce,null,W,te)),Xa(t,d,T,!K);return}}ey(t,n,d,r,o,f,T,A,M)}function f1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],d=f.getSnapshot;f=f.value;try{if(!Ci(d(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xa(t,n,r,o){n&=~id,n&=~Hr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var d=31-Ut(f),T=1<<d;o[d]=-1,f&=~T}r!==0&&Zn(t,r,n)}function gc(){return(vt&6)===0?($l(0),!1):!0}function ld(){if(tt!==null){if(Rt===0)var t=tt.return;else t=tt,$s=jr=null,wh(t),ko=null,Ol=0,t=tt;for(;t!==null;)S_(t.alternate,t),t=t.return;tt=null}}function Ho(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,I1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),oa=0,ld(),Lt=t,tt=r=Qs(t.current,null),at=n,Rt=0,Oi=null,Pa=!1,Bo=wi(t,n),nd=!1,zo=ki=id=Hr=Ha=Zt=0,_i=Ql=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Ut(o),d=1<<f;n|=t[f],o&=~d}return ra=n,Vu(),r}function Y_(t,n){We=null,P.H=Bl,n===Oo||n===Gu?(n=ug(),Rt=3):n===hh?(n=ug(),Rt=4):Rt=n===Bh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Oi=n,tt===null&&(Zt=1,ac(t,Gi(n,t.current)))}function Q_(){var t=Di.current;return t===null?!0:(at&4194048)===at?Ki===null:(at&62914560)===at||(at&536870912)!==0?t===Ki:!1}function K_(){var t=P.H;return P.H=Bl,t===null?Bl:t}function $_(){var t=P.A;return P.A=u1,t}function _c(){Zt=4,Pa||(at&4194048)!==at&&Di.current!==null||(Bo=!0),(Ha&134217727)===0&&(Hr&134217727)===0||Lt===null||Xa(Lt,at,ki,!1)}function ud(t,n,r){var o=vt;vt|=2;var f=K_(),d=$_();(Lt!==t||at!==n)&&(pc=null,Ho(t,n)),n=!1;var T=Zt;e:do try{if(Rt!==0&&tt!==null){var A=tt,M=Oi;switch(Rt){case 8:ld(),T=6;break e;case 3:case 2:case 9:case 6:Di.current===null&&(n=!0);var K=Rt;if(Rt=0,Oi=null,Fo(t,A,M,K),r&&Bo){T=0;break e}break;default:K=Rt,Rt=0,Oi=null,Fo(t,A,M,K)}}h1(),T=Zt;break}catch(ae){Y_(t,ae)}while(!0);return n&&t.shellSuspendCounter++,$s=jr=null,vt=o,P.H=f,P.A=d,tt===null&&(Lt=null,at=0,Vu()),T}function h1(){for(;tt!==null;)W_(tt)}function d1(t,n){var r=vt;vt|=2;var o=K_(),f=$_();Lt!==t||at!==n?(pc=null,mc=An()+500,Ho(t,n)):Bo=wi(t,n);e:do try{if(Rt!==0&&tt!==null){n=tt;var d=Oi;t:switch(Rt){case 1:Rt=0,Oi=null,Fo(t,n,d,1);break;case 2:case 9:if(og(d)){Rt=0,Oi=null,Z_(n);break}n=function(){Rt!==2&&Rt!==9||Lt!==t||(Rt=7),xs(t)},d.then(n,n);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:og(d)?(Rt=0,Oi=null,Z_(n)):(Rt=0,Oi=null,Fo(t,n,d,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var A=tt;if(T?Vy(T):A.stateNode.complete){Rt=0,Oi=null;var M=A.sibling;if(M!==null)tt=M;else{var K=A.return;K!==null?(tt=K,yc(K)):tt=null}break t}}Rt=0,Oi=null,Fo(t,n,d,5);break;case 6:Rt=0,Oi=null,Fo(t,n,d,6);break;case 8:ld(),Zt=6;break e;default:throw Error(a(462))}}m1();break}catch(ae){Y_(t,ae)}while(!0);return $s=jr=null,P.H=o,P.A=f,vt=r,tt!==null?0:(Lt=null,at=0,Vu(),Zt)}function m1(){for(;tt!==null&&!bl();)W_(tt)}function W_(t){var n=T_(t.alternate,t,ra);t.memoizedProps=t.pendingProps,n===null?yc(t):tt=n}function Z_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=p_(r,n,n.pendingProps,n.type,void 0,at);break;case 11:n=p_(r,n,n.pendingProps,n.type.render,n.ref,at);break;case 5:wh(n);default:S_(r,n),n=tt=$p(n,ra),n=T_(r,n,ra)}t.memoizedProps=t.pendingProps,n===null?yc(t):tt=n}function Fo(t,n,r,o){$s=jr=null,wh(n),ko=null,Ol=0;var f=n.return;try{if(n1(t,f,n,r,at)){Zt=1,ac(t,Gi(r,t.current)),tt=null;return}}catch(d){if(f!==null)throw tt=f,d;Zt=1,ac(t,Gi(r,t.current)),tt=null;return}n.flags&32768?(ct||o===1?t=!0:Bo||(at&536870912)!==0?t=!1:(Pa=t=!0,(o===2||o===9||o===3||o===6)&&(o=Di.current,o!==null&&o.tag===13&&(o.flags|=16384))),J_(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){J_(n,Pa);return}t=n.return;var r=a1(n.alternate,n,ra);if(r!==null){tt=r;return}if(n=n.sibling,n!==null){tt=n;return}tt=n=t}while(n!==null);Zt===0&&(Zt=5)}function J_(t,n){do{var r=r1(t.alternate,t);if(r!==null){r.flags&=32767,tt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){tt=t;return}tt=t=r}while(t!==null);Zt=6,tt=null}function ey(t,n,r,o,f,d,T,A,M){t.cancelPendingCommit=null;do vc();while(pn!==0);if((vt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=Wf,_r(t,r,d,T,A,M),t===Lt&&(tt=Lt=null,at=0),Po=n,Ga=t,oa=r,ad=d,rd=f,H_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,y1(is,function(){return ay(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,f=Z.p,Z.p=2,T=vt,vt|=4;try{o1(t,n,r)}finally{vt=T,Z.p=f,P.T=o}}pn=1,ty(),ny(),iy()}}function ty(){if(pn===1){pn=0;var t=Ga,n=Po,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var o=Z.p;Z.p=2;var f=vt;vt|=4;try{M_(n,t);var d=Td,T=zp(t.containerInfo),A=d.focusedElem,M=d.selectionRange;if(T!==A&&A&&A.ownerDocument&&Bp(A.ownerDocument.documentElement,A)){if(M!==null&&Xf(A)){var K=M.start,ae=M.end;if(ae===void 0&&(ae=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(ae,A.value.length);else{var ce=A.ownerDocument||document,W=ce&&ce.defaultView||window;if(W.getSelection){var te=W.getSelection(),Ne=A.textContent.length,Ve=Math.min(M.start,Ne),kt=M.end===void 0?Ve:Math.min(M.end,Ne);!te.extend&&Ve>kt&&(T=kt,kt=Ve,Ve=T);var H=qp(A,Ve),B=qp(A,kt);if(H&&B&&(te.rangeCount!==1||te.anchorNode!==H.node||te.anchorOffset!==H.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var Q=ce.createRange();Q.setStart(H.node,H.offset),te.removeAllRanges(),Ve>kt?(te.addRange(Q),te.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),te.addRange(Q))}}}}for(ce=[],te=A;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ce.length;A++){var oe=ce[A];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Ic=!!Ed,Td=Ed=null}finally{vt=f,Z.p=o,P.T=r}}t.current=n,pn=2}}function ny(){if(pn===2){pn=0;var t=Ga,n=Po,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var o=Z.p;Z.p=2;var f=vt;vt|=4;try{D_(t,n.alternate,n)}finally{vt=f,Z.p=o,P.T=r}}pn=3}}function iy(){if(pn===4||pn===3){pn=0,mr();var t=Ga,n=Po,r=oa,o=H_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pn=5:(pn=0,Po=Ga=null,sy(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fa=null),Bn(r),n=n.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=P.T,f=Z.p,Z.p=2,P.T=null;try{for(var d=t.onRecoverableError,T=0;T<o.length;T++){var A=o[T];d(A.value,{componentStack:A.stack})}}finally{P.T=n,Z.p=f}}(oa&3)!==0&&vc(),xs(t),f=t.pendingLanes,(r&261930)!==0&&(f&42)!==0?t===od?Kl++:(Kl=0,od=t):Kl=0,$l(0)}}function sy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Dl(n)))}function vc(){return ty(),ny(),iy(),ay()}function ay(){if(pn!==5)return!1;var t=Ga,n=ad;ad=0;var r=Bn(oa),o=P.T,f=Z.p;try{Z.p=32>r?32:r,P.T=null,r=rd,rd=null;var d=Ga,T=oa;if(pn=0,Po=Ga=null,oa=0,(vt&6)!==0)throw Error(a(331));var A=vt;if(vt|=4,B_(d.current),V_(d,d.current,T,r),vt=A,$l(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Ti,d)}catch{}return!0}finally{Z.p=f,P.T=o,sy(t,n)}}function ry(t,n,r){n=Gi(r,n),n=qh(t.stateNode,n,2),t=Ua(t,n,2),t!==null&&(ss(t,2),xs(t))}function Ct(t,n,r){if(t.tag===3)ry(t,t,r);else for(;n!==null;){if(n.tag===3){ry(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fa===null||!Fa.has(o))){t=Gi(r,t),r=o_(2),o=Ua(n,r,2),o!==null&&(l_(r,o,n,t),ss(o,2),xs(o));break}}n=n.return}}function cd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new c1;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(r)||(nd=!0,f.add(r),t=p1.bind(null,t,n,r),n.then(t,t))}function p1(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Lt===t&&(at&r)===r&&(Zt===4||Zt===3&&(at&62914560)===at&&300>An()-dc?(vt&2)===0&&Ho(t,0):id|=r,zo===at&&(zo=0)),xs(t)}function oy(t,n){n===0&&(n=Nn()),t=Ir(t,n),t!==null&&(ss(t,n),xs(t))}function g1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),oy(t,r)}function _1(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),oy(t,r)}function y1(t,n){return $t(t,n)}var Ec=null,Go=null,fd=!1,Tc=!1,hd=!1,Ya=0;function xs(t){t!==Go&&t.next===null&&(Go===null?Ec=Go=t:Go=Go.next=t),Tc=!0,fd||(fd=!0,E1())}function $l(t,n){if(!hd&&Tc){hd=!0;do for(var r=!1,o=Ec;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var T=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-Ut(42|t)+1)-1,d&=f&~(T&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,fy(o,d))}else d=at,d=me(o,o===Lt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||wi(o,d)||(r=!0,fy(o,d));o=o.next}while(r);hd=!1}}function v1(){ly()}function ly(){Tc=fd=!1;var t=0;Ya!==0&&D1()&&(t=Ya);for(var n=An(),r=null,o=Ec;o!==null;){var f=o.next,d=uy(o,n);d===0?(o.next=null,r===null?Ec=f:r.next=f,f===null&&(Go=r)):(r=o,(t!==0||(d&3)!==0)&&(Tc=!0)),o=f}pn!==0&&pn!==5||$l(t),Ya!==0&&(Ya=0)}function uy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var T=31-Ut(d),A=1<<T,M=f[T];M===-1?((A&r)===0||(A&o)!==0)&&(f[T]=Sl(A,n)):M<=n&&(t.expiredLanes|=A),d&=~A}if(n=Lt,r=at,r=me(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Rt===2||Rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ei(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Ei(o),Bn(r)){case 2:case 8:r=$n;break;case 32:r=is;break;case 268435456:r=pr;break;default:r=is}return o=cy.bind(null,t),r=$t(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Ei(o),t.callbackPriority=2,t.callbackNode=null,2}function cy(t,n){if(pn!==0&&pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(vc()&&t.callbackNode!==r)return null;var o=at;return o=me(t,t===Lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(G_(t,o,n),uy(t,An()),t.callbackNode!=null&&t.callbackNode===r?cy.bind(null,t):null)}function fy(t,n){if(vc())return null;G_(t,n,!0)}function E1(){O1(function(){(vt&6)!==0?$t(ns,v1):ly()})}function dd(){if(Ya===0){var t=Do;t===0&&(t=mn,mn<<=1,(mn&261888)===0&&(mn=256)),Ya=t}return Ya}function hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function dy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function T1(t,n,r,o,f){if(n==="submit"&&r&&r.stateNode===f){var d=hy((f[Jt]||null).action),T=o.submitter;T&&(n=(n=T[Jt]||null)?hy(n.formAction):T.getAttribute("formAction"),n!==null&&(d=n,T=null));var A=new gt("action","action",null,o,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ya!==0){var M=T?dy(f,T):new FormData(f);kh(r,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(A.preventDefault(),M=T?dy(f,T):new FormData(f),kh(r,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var md=0;md<$f.length;md++){var pd=$f[md],b1=pd.toLowerCase(),S1=pd[0].toUpperCase()+pd.slice(1);ls(b1,"on"+S1)}ls(Fp,"onAnimationEnd"),ls(Gp,"onAnimationIteration"),ls(Xp,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(qb,"onTransitionRun"),ls(Bb,"onTransitionStart"),ls(zb,"onTransitionCancel"),ls(Yp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function my(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var T=o.length-1;0<=T;T--){var A=o[T],M=A.instance,K=A.currentTarget;if(A=A.listener,M!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=K;try{d(f)}catch(ae){Lu(ae)}f.currentTarget=null,d=M}else for(T=0;T<o.length;T++){if(A=o[T],M=A.instance,K=A.currentTarget,A=A.listener,M!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=K;try{d(f)}catch(ae){Lu(ae)}f.currentTarget=null,d=M}}}}function nt(t,n){var r=n[ys];r===void 0&&(r=n[ys]=new Set);var o=t+"__bubble";r.has(o)||(py(n,t,2,!1),r.add(o))}function gd(t,n,r){var o=0;n&&(o|=4),py(r,t,o,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[bc]){t[bc]=!0,as.forEach(function(r){r!=="selectionchange"&&(w1.has(r)||gd(r,!1,t),gd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bc]||(n[bc]=!0,gd("selectionchange",!1,n))}}function py(t,n,r,o){switch(Fy(n)){case 2:var f=Z1;break;case 8:f=J1;break;default:f=Od}r=f.bind(null,n,r,t),f=void 0,!rs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,r,{capture:!0,passive:f}):t.addEventListener(n,r,!0):f!==void 0?t.addEventListener(n,r,{passive:f}):t.addEventListener(n,r,!1)}function yd(t,n,r,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var A=o.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=o.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=en(A),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){o=d=T;continue e}A=A.parentNode}}o=o.return}hi(function(){var K=d,ae=be(r),ce=[];e:{var W=Qp.get(t);if(W!==void 0){var te=gt,Ne=t;switch(t){case"keypress":if(G(r)===0)break e;case"keydown":case"keyup":te=vo;break;case"focusin":Ne="focus",te=Ys;break;case"focusout":Ne="blur",te=Ys;break;case"beforeblur":case"afterblur":te=Ys;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=v;break;case Fp:case Gp:case Xp:te=ho;break;case Yp:te=R;break;case"scroll":case"scrollend":te=Da;break;case"wheel":te=J;break;case"copy":case"cut":case"paste":te=Rr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=os;break;case"toggle":case"beforetoggle":te=Pe}var Ve=(n&4)!==0,kt=!Ve&&(t==="scroll"||t==="scrollend"),H=Ve?W!==null?W+"Capture":null:W;Ve=[];for(var B=K,Q;B!==null;){var oe=B;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||H===null||(oe=rn(B,H),oe!=null&&Ve.push(Zl(B,oe,Q))),kt)break;B=B.return}0<Ve.length&&(W=new te(W,Ne,null,r,ae),ce.push({event:W,listeners:Ve}))}}if((n&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",W&&r!==wr&&(Ne=r.relatedTarget||r.fromElement)&&(en(Ne)||Ne[Mi]))break e;if((te||W)&&(W=ae.window===ae?ae:(W=ae.ownerDocument)?W.defaultView||W.parentWindow:window,te?(Ne=r.relatedTarget||r.toElement,te=K,Ne=Ne?en(Ne):null,Ne!==null&&(kt=u(Ne),Ve=Ne.tag,Ne!==kt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ne=null)):(te=null,Ne=K),te!==Ne)){if(Ve=Ar,oe="onMouseLeave",H="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=os,oe="onPointerLeave",H="onPointerEnter",B="pointer"),kt=te==null?W:Cn(te),Q=Ne==null?W:Cn(Ne),W=new Ve(oe,B+"leave",te,r,ae),W.target=kt,W.relatedTarget=Q,oe=null,en(ae)===K&&(Ve=new Ve(H,B+"enter",Ne,r,ae),Ve.target=Q,Ve.relatedTarget=kt,oe=Ve),kt=oe,te&&Ne)t:{for(Ve=A1,H=te,B=Ne,Q=0,oe=H;oe;oe=Ve(oe))Q++;oe=0;for(var je=B;je;je=Ve(je))oe++;for(;0<Q-oe;)H=Ve(H),Q--;for(;0<oe-Q;)B=Ve(B),oe--;for(;Q--;){if(H===B||B!==null&&H===B.alternate){Ve=H;break t}H=Ve(H),B=Ve(B)}Ve=null}else Ve=null;te!==null&&gy(ce,W,te,Ve,!1),Ne!==null&&kt!==null&&gy(ce,kt,Ne,Ve,!0)}}e:{if(W=K?Cn(K):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var _t=kp;else if(To(W))if(jp)_t=Lb;else{_t=jb;var Ce=kb}else te=W.nodeName,!te||te.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&fi(K.elementType)&&(_t=kp):_t=Mb;if(_t&&(_t=_t(t,K))){As(ce,_t,r,ae);break e}Ce&&Ce(t,W,K),t==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&br(W,"number",W.value)}switch(Ce=K?Cn(K):window,t){case"focusin":(To(Ce)||Ce.contentEditable==="true")&&(bo=Ce,Yf=K,Rl=null);break;case"focusout":Rl=Yf=bo=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Pp(ce,r,ae);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":Pp(ce,r,ae)}var Ze;if(ht)e:{switch(t){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else bn?Le(t,r)&&(rt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(rt="onCompositionStart");rt&&(le&&r.locale!=="ko"&&(bn||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&bn&&(Ze=L()):(_=ae,S="value"in _?_.value:_.textContent,bn=!0)),Ce=Sc(K,rt),0<Ce.length&&(rt=new Hi(rt,t,null,r,ae),ce.push({event:rt,listeners:Ce}),Ze?rt.data=Ze:(Ze=st(r),Ze!==null&&(rt.data=Ze)))),(Ze=F?di(t,r):si(t,r))&&(rt=Sc(K,"onBeforeInput"),0<rt.length&&(Ce=new Hi("onBeforeInput","beforeinput",null,r,ae),ce.push({event:Ce,listeners:rt}),Ce.data=Ze)),T1(ce,t,K,r,ae)}my(ce,n)})}function Zl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Sc(t,n){for(var r=n+"Capture",o=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=rn(t,r),f!=null&&o.unshift(Zl(t,f,d)),f=rn(t,n),f!=null&&o.push(Zl(t,f,d))),t.tag===3)return o;t=t.return}return[]}function A1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gy(t,n,r,o,f){for(var d=n._reactName,T=[];r!==null&&r!==o;){var A=r,M=A.alternate,K=A.stateNode;if(A=A.tag,M!==null&&M===o)break;A!==5&&A!==26&&A!==27||K===null||(M=K,f?(K=rn(r,d),K!=null&&T.unshift(Zl(r,K,M))):f||(K=rn(r,d),K!=null&&T.push(Zl(r,K,M)))),r=r.return}T.length!==0&&t.push({event:n,listeners:T})}var N1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function _y(t){return(typeof t=="string"?t:""+t).replace(N1,`
`).replace(R1,"")}function yy(t,n){return n=_y(n),_y(t)===n}function Ot(t,n,r,o,f,d){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":ti(t,"class",o);break;case"tabIndex":ti(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(t,r,o);break;case"style":Ts(t,o,d);break;case"data":if(n!=="object"){ti(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ni(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Ot(t,n,"name",f.name,f,null),Ot(t,n,"formEncType",f.formEncType,f,null),Ot(t,n,"formMethod",f.formMethod,f,null),Ot(t,n,"formTarget",f.formTarget,f,null)):(Ot(t,n,"encType",f.encType,f,null),Ot(t,n,"method",f.method,f,null),Ot(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ni(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=xn);break;case"onScroll":o!=null&&nt("scroll",t);break;case"onScrollEnd":o!=null&&nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ni(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":nt("beforetoggle",t),nt("toggle",t),zs(t,"popover",o);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":zs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=xa.get(r)||r,zs(t,r,o))}}function vd(t,n,r,o,f,d){switch(r){case"style":Ts(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&nt("scroll",t);break;case"onScrollEnd":o!=null&&nt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),d=t[Jt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):zs(t,r,o)}}}function kn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",t),nt("load",t);var o=!1,f=!1,d;for(d in r)if(r.hasOwnProperty(d)){var T=r[d];if(T!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ot(t,n,d,T,r,null)}}f&&Ot(t,n,"srcSet",r.srcSet,r,null),o&&Ot(t,n,"src",r.src,r,null);return;case"input":nt("invalid",t);var A=d=T=f=null,M=null,K=null;for(o in r)if(r.hasOwnProperty(o)){var ae=r[o];if(ae!=null)switch(o){case"name":f=ae;break;case"type":T=ae;break;case"checked":M=ae;break;case"defaultChecked":K=ae;break;case"value":d=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,n));break;default:Ot(t,n,o,ae,r,null)}}Tr(t,d,A,M,K,T,f,!1);return;case"select":nt("invalid",t),o=T=d=null;for(f in r)if(r.hasOwnProperty(f)&&(A=r[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":T=A;break;case"multiple":o=A;default:Ot(t,n,f,A,r,null)}n=d,r=T,t.multiple=!!o,n!=null?qi(t,!!o,n,!1):r!=null&&qi(t,!!o,r,!0);return;case"textarea":nt("invalid",t),d=f=o=null;for(T in r)if(r.hasOwnProperty(T)&&(A=r[T],A!=null))switch(T){case"value":o=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:Ot(t,n,T,A,r,null)}Bi(t,o,f,d);return;case"option":for(M in r)r.hasOwnProperty(M)&&(o=r[M],o!=null)&&(M==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ot(t,n,M,o,r,null));return;case"dialog":nt("beforetoggle",t),nt("toggle",t),nt("cancel",t),nt("close",t);break;case"iframe":case"object":nt("load",t);break;case"video":case"audio":for(o=0;o<Wl.length;o++)nt(Wl[o],t);break;case"image":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"embed":case"source":case"link":nt("error",t),nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(o=r[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ot(t,n,K,o,r,null)}return;default:if(fi(n)){for(ae in r)r.hasOwnProperty(ae)&&(o=r[ae],o!==void 0&&vd(t,n,ae,o,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(o=r[A],o!=null&&Ot(t,n,A,o,r,null))}function C1(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,A=null,M=null,K=null,ae=null;for(te in r){var ce=r[te];if(r.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":M=ce;default:o.hasOwnProperty(te)||Ot(t,n,te,null,o,ce)}}for(var W in o){var te=o[W];if(ce=r[W],o.hasOwnProperty(W)&&(te!=null||ce!=null))switch(W){case"type":d=te;break;case"name":f=te;break;case"checked":K=te;break;case"defaultChecked":ae=te;break;case"value":T=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,n));break;default:te!==ce&&Ot(t,n,W,te,o,ce)}}Ui(t,T,A,M,K,ae,d,f);return;case"select":te=T=A=W=null;for(d in r)if(M=r[d],r.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":te=M;default:o.hasOwnProperty(d)||Ot(t,n,d,null,o,M)}for(f in o)if(d=o[f],M=r[f],o.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":W=d;break;case"defaultValue":A=d;break;case"multiple":T=d;default:d!==M&&Ot(t,n,f,d,o,M)}n=A,r=T,o=te,W!=null?qi(t,!!r,W,!1):!!o!=!!r&&(n!=null?qi(t,!!r,n,!0):qi(t,!!r,r?[]:"",!1));return;case"textarea":te=W=null;for(A in r)if(f=r[A],r.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ot(t,n,A,null,o,f)}for(T in o)if(f=o[T],d=r[T],o.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":W=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&Ot(t,n,T,f,o,d)}Sr(t,W,te);return;case"option":for(var Ne in r)W=r[Ne],r.hasOwnProperty(Ne)&&W!=null&&!o.hasOwnProperty(Ne)&&(Ne==="selected"?t.selected=!1:Ot(t,n,Ne,null,o,W));for(M in o)W=o[M],te=r[M],o.hasOwnProperty(M)&&W!==te&&(W!=null||te!=null)&&(M==="selected"?t.selected=W&&typeof W!="function"&&typeof W!="symbol":Ot(t,n,M,W,o,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in r)W=r[Ve],r.hasOwnProperty(Ve)&&W!=null&&!o.hasOwnProperty(Ve)&&Ot(t,n,Ve,null,o,W);for(K in o)if(W=o[K],te=r[K],o.hasOwnProperty(K)&&W!==te&&(W!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,n));break;default:Ot(t,n,K,W,o,te)}return;default:if(fi(n)){for(var kt in r)W=r[kt],r.hasOwnProperty(kt)&&W!==void 0&&!o.hasOwnProperty(kt)&&vd(t,n,kt,void 0,o,W);for(ae in o)W=o[ae],te=r[ae],!o.hasOwnProperty(ae)||W===te||W===void 0&&te===void 0||vd(t,n,ae,W,o,te);return}}for(var H in r)W=r[H],r.hasOwnProperty(H)&&W!=null&&!o.hasOwnProperty(H)&&Ot(t,n,H,null,o,W);for(ce in o)W=o[ce],te=r[ce],!o.hasOwnProperty(ce)||W===te||W==null&&te==null||Ot(t,n,ce,W,o,te)}function vy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var f=r[o],d=f.transferSize,T=f.initiatorType,A=f.duration;if(d&&A&&vy(T)){for(T=0,A=f.responseEnd,o+=1;o<r.length;o++){var M=r[o],K=M.startTime;if(K>A)break;var ae=M.transferSize,ce=M.initiatorType;ae&&vy(ce)&&(M=M.responseEnd,T+=ae*(M<A?1:(A-K)/(M-K)))}if(--o,n+=8*(d+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function Ey(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function D1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,I1=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(t){return Sy.resolve(null).then(t).catch(k1)}:by;function k1(t){setTimeout(function(){throw t})}function Qa(t){return t==="head"}function wy(t,n){var r=n,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(f),Ko(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Jl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Jl(r);for(var d=r.firstChild;d;){var T=d.nextSibling,A=d.nodeName;d[Jn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=T}}else r==="body"&&Jl(t.ownerDocument.body);r=f}while(r);Ko(n)}function Ay(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wd(r),Na(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function j1(t,n,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Jn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$i(t.nextSibling),t===null)break}return null}function M1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$i(t.nextSibling),t===null))return null;return t}function Ny(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$i(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function L1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $i(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function Ry(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $i(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function xy(t,n,r){switch(n=wc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Na(t)}var Wi=new Map,Dy=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var la=Z.d;Z.d={f:V1,r:U1,D:q1,C:B1,L:z1,m:P1,X:F1,S:H1,M:G1};function V1(){var t=la.f(),n=gc();return t||n}function U1(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?Yg(n):la.r(t)}var Xo=typeof document>"u"?null:document;function Iy(t,n,r){var o=Xo;if(o&&typeof n=="string"&&n){var f=Hn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Dy.has(f)||(Dy.add(f),t={rel:t,crossOrigin:r,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),kn(n,"link",t),Xt(n),o.head.appendChild(n)))}}function q1(t){la.D(t),Iy("dns-prefetch",t,null)}function B1(t,n){la.C(t,n),Iy("preconnect",t,n)}function z1(t,n,r){la.L(t,n,r);var o=Xo;if(o&&t&&n){var f='link[rel="preload"][as="'+Hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Hn(r.imageSizes)+'"]')):f+='[href="'+Hn(t)+'"]';var d=f;switch(n){case"style":d=Yo(t);break;case"script":d=Qo(t)}Wi.has(d)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Wi.set(d,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(eu(d))||n==="script"&&o.querySelector(tu(d))||(n=o.createElement("link"),kn(n,"link",t),Xt(n),o.head.appendChild(n)))}}function P1(t,n){la.m(t,n);var r=Xo;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Hn(o)+'"][href="'+Hn(t)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qo(t)}if(!Wi.has(d)&&(t=x({rel:"modulepreload",href:t},n),Wi.set(d,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(tu(d)))return}o=r.createElement("link"),kn(o,"link",t),Xt(o),r.head.appendChild(o)}}}function H1(t,n,r){la.S(t,n,r);var o=Xo;if(o&&t){var f=Ai(o).hoistableStyles,d=Yo(t);n=n||"default";var T=f.get(d);if(!T){var A={loading:0,preload:null};if(T=o.querySelector(eu(d)))A.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Wi.get(d))&&Cd(t,r);var M=T=o.createElement("link");Xt(M),kn(M,"link",t),M._p=new Promise(function(K,ae){M.onload=K,M.onerror=ae}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Nc(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(d,T)}}}function F1(t,n){la.X(t,n);var r=Xo;if(r&&t){var o=Ai(r).hoistableScripts,f=Qo(t),d=o.get(f);d||(d=r.querySelector(tu(f)),d||(t=x({src:t,async:!0},n),(n=Wi.get(f))&&xd(t,n),d=r.createElement("script"),Xt(d),kn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function G1(t,n){la.M(t,n);var r=Xo;if(r&&t){var o=Ai(r).hoistableScripts,f=Qo(t),d=o.get(f);d||(d=r.querySelector(tu(f)),d||(t=x({src:t,async:!0,type:"module"},n),(n=Wi.get(f))&&xd(t,n),d=r.createElement("script"),Xt(d),kn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Oy(t,n,r,o){var f=(f=Ke.current)?Ac(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Yo(r.href),r=Ai(f).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Yo(r.href);var d=Ai(f).hoistableStyles,T=d.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,T),(d=f.querySelector(eu(t)))&&!d._p&&(T.instance=d,T.state.loading=5),Wi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Wi.set(t,r),d||X1(f,t,r,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qo(r),r=Ai(f).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Yo(t){return'href="'+Hn(t)+'"'}function eu(t){return'link[rel="stylesheet"]['+t+"]"}function ky(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function X1(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),kn(n,"link",r),Xt(n),t.head.appendChild(n))}function Qo(t){return'[src="'+Hn(t)+'"]'}function tu(t){return"script[async]"+t}function jy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Hn(r.href)+'"]');if(o)return n.instance=o,Xt(o),o;var f=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Xt(o),kn(o,"style",f),Nc(o,r.precedence,t),n.instance=o;case"stylesheet":f=Yo(r.href);var d=t.querySelector(eu(f));if(d)return n.state.loading|=4,n.instance=d,Xt(d),d;o=ky(r),(f=Wi.get(f))&&Cd(o,f),d=(t.ownerDocument||t).createElement("link"),Xt(d);var T=d;return T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),kn(d,"link",o),n.state.loading|=4,Nc(d,r.precedence,t),n.instance=d;case"script":return d=Qo(r.src),(f=t.querySelector(tu(d)))?(n.instance=f,Xt(f),f):(o=r,(f=Wi.get(d))&&(o=x({},r),xd(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Xt(f),kn(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,r.precedence,t));return n.instance}function Nc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,T=0;T<o.length;T++){var A=o[T];if(A.dataset.precedence===n)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Rc=null;function My(t,n,r){if(Rc===null){var o=new Map,f=Rc=new Map;f.set(r,o)}else f=Rc,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var d=r[f];if(!(d[Jn]||d[it]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(n)||"";T=t+T;var A=o.get(T);A?A.push(d):o.set(T,[d])}}return o}function Ly(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Y1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Q1(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Yo(o.href),d=n.querySelector(eu(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Cc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,Xt(d);return}d=n.ownerDocument||n,o=ky(o),(f=Wi.get(f))&&Cd(o,f),d=d.createElement("link"),Xt(d);var T=d;T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),kn(d,"link",o),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Cc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Dd=0;function K1(t,n){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*x1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Dc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach($1,t),xc=null,Cc.call(t))}function $1(t,n){if(!(n.state.loading&4)){var r=xc.get(t);if(r)var o=r.get(null);else{r=new Map,xc.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),o=T)}o&&r.set(null,o)}f=n.instance,T=f.getAttribute("data-precedence"),d=r.get(T)||o,d===o&&r.set(null,f),r.set(T,f),this.count++,o=Cc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var nu={$$typeof:de,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function W1(t,n,r,o,f,d,T,A,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Uy(t,n,r,o,f,d,T,A,M,K,ae,ce){return t=new W1(t,n,r,T,M,K,ae,ce,A),n=1,d===!0&&(n|=24),d=xi(3,null,null,n),t.current=d,d.stateNode=t,n=uh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:n},dh(d),t}function qy(t){return t?(t=Ao,t):Ao}function By(t,n,r,o,f,d){f=qy(f),o.context===null?o.context=f:o.pendingContext=f,o=Va(n),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Ua(t,o,n),r!==null&&(yi(r,t,n),jl(r,t,n))}function zy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Id(t,n){zy(t,n),(t=t.alternate)&&zy(t,n)}function Py(t){if(t.tag===13||t.tag===31){var n=Ir(t,67108864);n!==null&&yi(n,t,67108864),Id(t,67108864)}}function Hy(t){if(t.tag===13||t.tag===31){var n=ji();n=_s(n);var r=Ir(t,n);r!==null&&yi(r,t,n),Id(t,n)}}var Ic=!0;function Z1(t,n,r,o){var f=P.T;P.T=null;var d=Z.p;try{Z.p=2,Od(t,n,r,o)}finally{Z.p=d,P.T=f}}function J1(t,n,r,o){var f=P.T;P.T=null;var d=Z.p;try{Z.p=8,Od(t,n,r,o)}finally{Z.p=d,P.T=f}}function Od(t,n,r,o){if(Ic){var f=kd(o);if(f===null)yd(t,n,o,Oc,r),Gy(t,o);else if(tS(f,t,n,r,o))o.stopPropagation();else if(Gy(t,o),n&4&&-1<eS.indexOf(t)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Si(d.pendingLanes);if(T!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var M=1<<31-Ut(T);A.entanglements[1]|=M,T&=~M}xs(d),(vt&6)===0&&(mc=An()+500,$l(0))}}break;case 31:case 13:A=Ir(d,2),A!==null&&yi(A,d,2),gc(),Id(d,2)}if(d=kd(o),d===null&&yd(t,n,o,Oc,r),d===f)break;f=d}f!==null&&o.stopPropagation()}else yd(t,n,o,null,r)}}function kd(t){return t=be(t),jd(t)}var Oc=null;function jd(t){if(Oc=null,t=en(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oc=t,null}function Fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case ns:return 2;case $n:return 8;case is:case ao:return 32;case pr:return 268435456;default:return 32}default:return 32}}var Md=!1,Ka=null,$a=null,Wa=null,iu=new Map,su=new Map,Za=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gy(t,n){switch(t){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":iu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(n.pointerId)}}function au(t,n,r,o,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Rn(n),n!==null&&Py(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function tS(t,n,r,o,f){switch(n){case"focusin":return Ka=au(Ka,t,n,r,o,f),!0;case"dragenter":return $a=au($a,t,n,r,o,f),!0;case"mouseover":return Wa=au(Wa,t,n,r,o,f),!0;case"pointerover":var d=f.pointerId;return iu.set(d,au(iu.get(d)||null,t,n,r,o,f)),!0;case"gotpointercapture":return d=f.pointerId,su.set(d,au(su.get(d)||null,t,n,r,o,f)),!0}return!1}function Xy(t){var n=en(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,ui(t.priority,function(){Hy(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,ui(t.priority,function(){Hy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=kd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);wr=o,r.target.dispatchEvent(o),wr=null}else return n=Rn(r),n!==null&&Py(n),t.blockedOn=r,!1;n.shift()}return!0}function Yy(t,n,r){kc(t)&&r.delete(n)}function nS(){Md=!1,Ka!==null&&kc(Ka)&&(Ka=null),$a!==null&&kc($a)&&($a=null),Wa!==null&&kc(Wa)&&(Wa=null),iu.forEach(Yy),su.forEach(Yy)}function jc(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nS)))}var Mc=null;function Qy(t){Mc!==t&&(Mc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(jd(o||r)===null)continue;break}var d=Rn(r);d!==null&&(t.splice(n,3),n-=3,kh(d,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Ko(t){function n(M){return jc(M,t)}Ka!==null&&jc(Ka,t),$a!==null&&jc($a,t),Wa!==null&&jc(Wa,t),iu.forEach(n),su.forEach(n);for(var r=0;r<Za.length;r++){var o=Za[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Za.length&&(r=Za[0],r.blockedOn===null);)Xy(r),r.blockedOn===null&&Za.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],d=r[o+1],T=f[Jt]||null;if(typeof d=="function")T||Qy(r);else if(T){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[Jt]||null)A=T.formAction;else if(jd(f)!==null)continue}else A=T.action;typeof A=="function"?r[o+1]=A:(r.splice(o,3),o-=3),Qy(r)}}}function Ky(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Ld(t){this._internalRoot=t}Lc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=ji();By(r,o,t,n,null,null)},Lc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;By(t.current,2,null,t,null,null),gc(),n[Mi]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var n=yr();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Za.length&&n!==0&&n<Za[r].priority;r++);Za.splice(r,0,t),r===0&&Xy(t)}};var $y=e.version;if($y!=="19.2.4")throw Error(a(527,$y,"19.2.4"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(n),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var iS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Ti=Vc.inject(iS),De=Vc}catch{}}return ou.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",f=i_,d=s_,T=a_;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Uy(t,1,!1,null,null,r,o,null,f,d,T,Ky),t[Mi]=n.current,_d(t),new Ld(n)},ou.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,f="",d=i_,T=s_,A=a_,M=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),n=Uy(t,1,!0,n,r??null,o,f,M,d,T,A,Ky),n.context=qy(null),r=n.current,o=ji(),o=_s(o),f=Va(o),f.callback=null,Ua(r,f,o),r=o,n.current.lanes=r,ss(n,r),xs(n),t[Mi]=n.current,_d(t),new Lc(n)},ou.version="19.2.4",ou}var rv;function pS(){if(rv)return qd.exports;rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=mS(),qd.exports}var gS=pS(),Hd={exports:{}};const _S={},yS=Object.freeze(Object.defineProperty({__proto__:null,default:_S},Symbol.toStringTag,{value:"Module"})),ov=rS(yS);var lv;function vS(){return lv||(lv=1,(function(s,e){var i=void 0,a=function(l){return i||(i=new Promise(function(u,m){var y=typeof l<"u"?l:{},E=y.onAbort;y.onAbort=function(h){m(new Error(h)),E&&E(h)},y.postRun=y.postRun||[],y.postRun.push(function(){u(y)}),s=void 0;var g;g||=typeof y<"u"?y:{};var w=typeof window=="object",x=typeof WorkerGlobalScope<"u",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";g.onRuntimeInitialized=function(){function h(F,le){switch(typeof le){case"boolean":ge(F,le?1:0);break;case"number":b(F,le);break;case"string":X(F,le,-1,-1);break;case"object":if(le===null)R(F);else if(le.length!=null){var Ee=Ts(le,Es);J(F,Ee,le.length,-1),ii(Ee)}else Pe(F,"Wrong API use : tried to return a value of an unknown type ("+le+").",-1);break;default:R(F)}}function _(F,le){for(var Ee=[],Re=0;Re<F;Re+=1){var Le=Un(le+4*Re,"i32"),st=vo(Le);if(st===1||st===2)Le=v(Le);else if(st===3)Le=os(Le);else if(st===4){st=Le,Le=Eo(st),st=c(st);for(var bn=new Uint8Array(Le),di=0;di<Le;di+=1)bn[di]=V[st+di];Le=bn}else Le=null;Ee.push(Le)}return Ee}function S(F,le){this.Qa=F,this.db=le,this.Oa=1,this.lb=[]}function N(F,le){if(this.db=le,le=ns(F)+1,this.eb=zi(le),this.eb===null)throw Error("Unable to allocate memory for the SQL string");$n(F,O,this.eb,le),this.kb=this.eb,this.Za=this.pb=null}function L(F){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),F!=null){var le=this.filename,Ee="/",Re=le;if(Ee&&(Ee=typeof Ee=="string"?Ee:li(Ee),Re=le?Pt(Ee+"/"+le):Ee),le=Wn(!0,!0),Re=Na(Re,le),F){if(typeof F=="string"){Ee=Array(F.length);for(var Le=0,st=F.length;Le<st;++Le)Ee[Le]=F.charCodeAt(Le);F=Ee}ei(Re,le|146),Ee=Li(Re,577),zs(Ee,F,0,F.length,0),Bs(Ee),ei(Re,le)}}this.handleError(Ae(this.filename,G)),this.db=Un(G,"i32"),ht(this.db),this.fb={},this.Sa={}}var G=rn(4),ie=g.cwrap,Ae=ie("sqlite3_open","number",["string","number"]),ke=ie("sqlite3_close_v2","number",["number"]),Ue=ie("sqlite3_exec","number",["number","string","number","number","number"]),gt=ie("sqlite3_changes","number",["number"]),Yt=ie("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Da=ie("sqlite3_sql","string",["number"]),Ss=ie("sqlite3_normalized_sql","string",["number"]),Fs=ie("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Pi=ie("sqlite3_bind_text","number",["number","number","number","number","number"]),Gs=ie("sqlite3_bind_blob","number",["number","number","number","number","number"]),Ar=ie("sqlite3_bind_double","number",["number","number","number"]),Xs=ie("sqlite3_bind_int","number",["number","number","number"]),co=ie("sqlite3_bind_parameter_index","number",["number","string"]),fo=ie("sqlite3_step","number",["number"]),Ys=ie("sqlite3_errmsg","string",["number"]),Nr=ie("sqlite3_column_count","number",["number"]),ho=ie("sqlite3_data_count","number",["number"]),Ia=ie("sqlite3_column_double","number",["number","number"]),Rr=ie("sqlite3_column_text","string",["number","number"]),mo=ie("sqlite3_column_blob","number",["number","number"]),Hi=ie("sqlite3_column_bytes","number",["number","number"]),po=ie("sqlite3_column_type","number",["number","number"]),go=ie("sqlite3_column_name","string",["number","number"]),_o=ie("sqlite3_reset","number",["number"]),yo=ie("sqlite3_clear_bindings","number",["number"]),ws=ie("sqlite3_finalize","number",["number"]),Tn=ie("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),vo=ie("sqlite3_value_type","number",["number"]),Eo=ie("sqlite3_value_bytes","number",["number"]),os=ie("sqlite3_value_text","string",["number"]),c=ie("sqlite3_value_blob","number",["number"]),v=ie("sqlite3_value_double","number",["number"]),b=ie("sqlite3_result_double","",["number","number"]),R=ie("sqlite3_result_null","",["number"]),X=ie("sqlite3_result_text","",["number","string","number","number"]),J=ie("sqlite3_result_blob","",["number","number","number","number"]),ge=ie("sqlite3_result_int","",["number","number"]),Pe=ie("sqlite3_result_error","",["number","string","number"]),Ht=ie("sqlite3_aggregate_context","number",["number","number"]),ht=ie("RegisterExtensionFunctions","number",["number"]),Mt=ie("sqlite3_update_hook","number",["number","number","number"]);S.prototype.bind=function(F){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(F)?this.Cb(F):F!=null&&typeof F=="object"?this.Db(F):!0},S.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var F=fo(this.Qa);switch(F){case 100:return!0;case 101:return!1;default:throw this.db.handleError(F)}},S.prototype.wb=function(F){return F==null&&(F=this.Oa,this.Oa+=1),Ia(this.Qa,F)},S.prototype.Gb=function(F){if(F==null&&(F=this.Oa,this.Oa+=1),F=Rr(this.Qa,F),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(F)},S.prototype.Hb=function(F){return F==null&&(F=this.Oa,this.Oa+=1),Rr(this.Qa,F)},S.prototype.getBlob=function(F){F==null&&(F=this.Oa,this.Oa+=1);var le=Hi(this.Qa,F);F=mo(this.Qa,F);for(var Ee=new Uint8Array(le),Re=0;Re<le;Re+=1)Ee[Re]=V[F+Re];return Ee},S.prototype.get=function(F,le){le=le||{},F!=null&&this.bind(F)&&this.step(),F=[];for(var Ee=ho(this.Qa),Re=0;Re<Ee;Re+=1)switch(po(this.Qa,Re)){case 1:var Le=le.useBigInt?this.Gb(Re):this.wb(Re);F.push(Le);break;case 2:F.push(this.wb(Re));break;case 3:F.push(this.Hb(Re));break;case 4:F.push(this.getBlob(Re));break;default:F.push(null)}return F},S.prototype.getColumnNames=function(){for(var F=[],le=Nr(this.Qa),Ee=0;Ee<le;Ee+=1)F.push(go(this.Qa,Ee));return F},S.prototype.getAsObject=function(F,le){F=this.get(F,le),le=this.getColumnNames();for(var Ee={},Re=0;Re<le.length;Re+=1)Ee[le[Re]]=F[Re];return Ee},S.prototype.getSQL=function(){return Da(this.Qa)},S.prototype.getNormalizedSQL=function(){return Ss(this.Qa)},S.prototype.run=function(F){return F!=null&&this.bind(F),this.step(),this.reset()},S.prototype.sb=function(F,le){le==null&&(le=this.Oa,this.Oa+=1),F=is(F);var Ee=Ts(F,Es);this.lb.push(Ee),this.db.handleError(Pi(this.Qa,le,Ee,F.length-1,0))},S.prototype.Bb=function(F,le){le==null&&(le=this.Oa,this.Oa+=1);var Ee=Ts(F,Es);this.lb.push(Ee),this.db.handleError(Gs(this.Qa,le,Ee,F.length,0))},S.prototype.rb=function(F,le){le==null&&(le=this.Oa,this.Oa+=1),this.db.handleError((F===(F|0)?Xs:Ar)(this.Qa,le,F))},S.prototype.Eb=function(F){F==null&&(F=this.Oa,this.Oa+=1),Gs(this.Qa,F,0,0,0)},S.prototype.tb=function(F,le){switch(le==null&&(le=this.Oa,this.Oa+=1),typeof F){case"string":this.sb(F,le);return;case"number":this.rb(F,le);return;case"bigint":this.sb(F.toString(),le);return;case"boolean":this.rb(F+0,le);return;case"object":if(F===null){this.Eb(le);return}if(F.length!=null){this.Bb(F,le);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+F+")."},S.prototype.Db=function(F){var le=this;return Object.keys(F).forEach(function(Ee){var Re=co(le.Qa,Ee);Re!==0&&le.tb(F[Ee],Re)}),!0},S.prototype.Cb=function(F){for(var le=0;le<F.length;le+=1)this.tb(F[le],le+1);return!0},S.prototype.reset=function(){return this.freemem(),yo(this.Qa)===0&&_o(this.Qa)===0},S.prototype.freemem=function(){for(var F;(F=this.lb.pop())!==void 0;)ii(F)},S.prototype.free=function(){this.freemem();var F=ws(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,F},N.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var F=En(),le=rn(4);qn(G),qn(le);try{this.db.handleError(Fs(this.db.db,this.kb,-1,G,le)),this.kb=Un(le,"i32");var Ee=Un(G,"i32");return Ee===0?(this.mb(),{done:!0}):(this.Za=new S(Ee,this.db),this.db.fb[Ee]=this.Za,{value:this.Za,done:!1})}catch(Re){throw this.pb=qs(this.kb),this.mb(),Re}finally{hi(F)}},N.prototype.mb=function(){ii(this.eb),this.eb=null},N.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:qs(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(N.prototype[Symbol.iterator]=function(){return this}),L.prototype.run=function(F,le){if(!this.db)throw"Database closed";if(le){F=this.prepare(F,le);try{F.step()}finally{F.free()}}else this.handleError(Ue(this.db,F,0,0,G));return this},L.prototype.exec=function(F,le,Ee){if(!this.db)throw"Database closed";var Re=En(),Le=null;try{var st=yn(F),bn=rn(4);for(F=[];Un(st,"i8")!==0;){qn(G),qn(bn),this.handleError(Fs(this.db,st,-1,G,bn));var di=Un(G,"i32");if(st=Un(bn,"i32"),di!==0){var si=null;for(Le=new S(di,this),le!=null&&Le.bind(le);Le.step();)si===null&&(si={columns:Le.getColumnNames(),values:[]},F.push(si)),si.values.push(Le.get(null,Ee));Le.free()}}return F}catch(Ri){throw Le&&Le.free(),Ri}finally{hi(Re)}},L.prototype.each=function(F,le,Ee,Re,Le){typeof le=="function"&&(Re=Ee,Ee=le,le=void 0),F=this.prepare(F,le);try{for(;F.step();)Ee(F.getAsObject(null,Le))}finally{F.free()}if(typeof Re=="function")return Re()},L.prototype.prepare=function(F,le){if(qn(G),this.handleError(Yt(this.db,F,-1,G,0)),F=Un(G,"i32"),F===0)throw"Nothing to prepare";var Ee=new S(F,this);return le!=null&&Ee.bind(le),this.fb[F]=Ee},L.prototype.iterateStatements=function(F){return new N(F,this)},L.prototype.export=function(){Object.values(this.fb).forEach(function(le){le.free()}),Object.values(this.Sa).forEach(ni),this.Sa={},this.handleError(ke(this.db));var F=ti(this.filename);return this.handleError(Ae(this.filename,G)),this.db=Un(G,"i32"),ht(this.db),F},L.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(F){F.free()}),Object.values(this.Sa).forEach(ni),this.Sa={},this.Ya&&(ni(this.Ya),this.Ya=void 0),this.handleError(ke(this.db)),Xt("/"+this.filename),this.db=null)},L.prototype.handleError=function(F){if(F===0)return null;throw F=Ys(this.db),Error(F)},L.prototype.getRowsModified=function(){return gt(this.db)},L.prototype.create_function=function(F,le){Object.prototype.hasOwnProperty.call(this.Sa,F)&&(ni(this.Sa[F]),delete this.Sa[F]);var Ee=xn(function(Re,Le,st){Le=_(Le,st);try{var bn=le.apply(null,Le)}catch(di){Pe(Re,di,-1);return}h(Re,bn)},"viii");return this.Sa[F]=Ee,this.handleError(Tn(this.db,F,le.length,1,0,Ee,0,0,0)),this},L.prototype.create_aggregate=function(F,le){var Ee=le.init||function(){return null},Re=le.finalize||function(si){return si},Le=le.step;if(!Le)throw"An aggregate function must have a step function in "+F;var st={};Object.hasOwnProperty.call(this.Sa,F)&&(ni(this.Sa[F]),delete this.Sa[F]),le=F+"__finalize",Object.hasOwnProperty.call(this.Sa,le)&&(ni(this.Sa[le]),delete this.Sa[le]);var bn=xn(function(si,Ri,To){var As=Ht(si,1);Object.hasOwnProperty.call(st,As)||(st[As]=Ee()),Ri=_(Ri,To),Ri=[st[As]].concat(Ri);try{st[As]=Le.apply(null,Ri)}catch(Cr){delete st[As],Pe(si,Cr,-1)}},"viii"),di=xn(function(si){var Ri=Ht(si,1);try{var To=Re(st[Ri])}catch(As){delete st[Ri],Pe(si,As,-1);return}h(si,To),delete st[Ri]},"vi");return this.Sa[F]=bn,this.Sa[le]=di,this.handleError(Tn(this.db,F,Le.length-1,1,0,0,bn,di,0)),this},L.prototype.updateHook=function(F){this.Ya&&(Mt(this.db,0,0),ni(this.Ya),this.Ya=void 0),F&&(this.Ya=xn(function(le,Ee,Re,Le,st){switch(Ee){case 18:le="insert";break;case 23:le="update";break;case 9:le="delete";break;default:throw"unknown operationCode in updateHook callback: "+Ee}if(Re=Re?bt(O,Re):"",Le=Le?bt(O,Le):"",st>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";F(le,Re,Le,Number(st))},"viiiij"),Mt(this.db,this.Ya,0))},g.Database=L};var $={...g},se="./this.program",ee=(h,_)=>{throw _},z="",Y,ue;if(I){var de=ov;z=__dirname+"/",ue=h=>(h=_e(h)?new URL(h):h,de.readFileSync(h)),Y=async h=>(h=_e(h)?new URL(h):h,de.readFileSync(h,void 0)),!g.thisProgram&&1<process.argv.length&&(se=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),s.exports=g,ee=(h,_)=>{throw process.exitCode=h,_}}else(w||x)&&(x?z=self.location.href:typeof document<"u"&&document.currentScript&&(z=document.currentScript.src),z=z.startsWith("blob:")?"":z.slice(0,z.replace(/[?#].*/,"").lastIndexOf("/")+1),x&&(ue=h=>{var _=new XMLHttpRequest;return _.open("GET",h,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Y=async h=>{if(_e(h))return new Promise((S,N)=>{var L=new XMLHttpRequest;L.open("GET",h,!0),L.responseType="arraybuffer",L.onload=()=>{L.status==200||L.status==0&&L.response?S(L.response):N(L.status)},L.onerror=N,L.send(null)});var _=await fetch(h,{credentials:"same-origin"});if(_.ok)return _.arrayBuffer();throw Error(_.status+" : "+_.url)});var pe=g.print||console.log.bind(console),xe=g.printErr||console.error.bind(console);Object.assign(g,$),$=null,g.thisProgram&&(se=g.thisProgram);var Ie=g.wasmBinary,k,D=!1,j,V,O,U,C,ve,Tt,P,Z,_e=h=>h.startsWith("file://");function $e(){var h=k.buffer;g.HEAP8=V=new Int8Array(h),g.HEAP16=U=new Int16Array(h),g.HEAPU8=O=new Uint8Array(h),g.HEAPU16=new Uint16Array(h),g.HEAP32=C=new Int32Array(h),g.HEAPU32=ve=new Uint32Array(h),g.HEAPF32=Tt=new Float32Array(h),g.HEAPF64=Z=new Float64Array(h),g.HEAP64=P=new BigInt64Array(h),g.HEAPU64=new BigUint64Array(h)}var Qe=0,q=null;function re(h){throw g.onAbort?.(h),h="Aborted("+h+")",xe(h),D=!0,new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info.")}var ye;async function Te(h){if(!Ie)try{var _=await Y(h);return new Uint8Array(_)}catch{}if(h==ye&&Ie)h=new Uint8Array(Ie);else if(ue)h=ue(h);else throw"both async and sync fetching of the wasm failed";return h}async function ze(h,_){try{var S=await Te(h);return await WebAssembly.instantiate(S,_)}catch(N){xe(`failed to asynchronously prepare wasm: ${N}`),re(N)}}async function Ke(h){var _=ye;if(!Ie&&typeof WebAssembly.instantiateStreaming=="function"&&!_e(_)&&!I)try{var S=fetch(_,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(S,h)}catch(N){xe(`wasm streaming compile failed: ${N}`),xe("falling back to ArrayBuffer instantiation")}return ze(_,h)}class et{name="ExitStatus";constructor(_){this.message=`Program terminated with exit(${_})`,this.status=_}}var Kt=h=>{for(;0<h.length;)h.shift()(g)},jt=[],ms=[],Ta=()=>{var h=g.preRun.shift();ms.unshift(h)};function Un(h,_="i8"){switch(_.endsWith("*")&&(_="*"),_){case"i1":return V[h];case"i8":return V[h];case"i16":return U[h>>1];case"i32":return C[h>>2];case"i64":return P[h>>3];case"float":return Tt[h>>2];case"double":return Z[h>>3];case"*":return ve[h>>2];default:re(`invalid type for getValue: ${_}`)}}var ps=g.noExitRuntime||!0;function qn(h){var _="i32";switch(_.endsWith("*")&&(_="*"),_){case"i1":V[h]=0;break;case"i8":V[h]=0;break;case"i16":U[h>>1]=0;break;case"i32":C[h>>2]=0;break;case"i64":P[h>>3]=BigInt(0);break;case"float":Tt[h>>2]=0;break;case"double":Z[h>>3]=0;break;case"*":ve[h>>2]=0;break;default:re(`invalid type for setValue: ${_}`)}}var ba=typeof TextDecoder<"u"?new TextDecoder:void 0,bt=(h,_=0,S=NaN)=>{var N=_+S;for(S=_;h[S]&&!(S>=N);)++S;if(16<S-_&&h.buffer&&ba)return ba.decode(h.subarray(_,S));for(N="";_<S;){var L=h[_++];if(L&128){var G=h[_++]&63;if((L&224)==192)N+=String.fromCharCode((L&31)<<6|G);else{var ie=h[_++]&63;L=(L&240)==224?(L&15)<<12|G<<6|ie:(L&7)<<18|G<<12|ie<<6|h[_++]&63,65536>L?N+=String.fromCharCode(L):(L-=65536,N+=String.fromCharCode(55296|L>>10,56320|L&1023))}}else N+=String.fromCharCode(L)}return N},qs=(h,_)=>h?bt(O,h,_):"",Sa=(h,_)=>{for(var S=0,N=h.length-1;0<=N;N--){var L=h[N];L==="."?h.splice(N,1):L===".."?(h.splice(N,1),S++):S&&(h.splice(N,1),S--)}if(_)for(;S;S--)h.unshift("..");return h},Pt=h=>{var _=h.charAt(0)==="/",S=h.slice(-1)==="/";return(h=Sa(h.split("/").filter(N=>!!N),!_).join("/"))||_||(h="."),h&&S&&(h+="/"),(_?"/":"")+h},$t=h=>{var _=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=_[0],_=_[1],!h&&!_?".":(_&&=_.slice(0,-1),h+_)},Ei=h=>h&&h.match(/([^\/]+|\/)\/*$/)[1],bl=()=>{if(I){var h=ov;return _=>h.randomFillSync(_)}return _=>crypto.getRandomValues(_)},mr=h=>{(mr=bl())(h)},An=(...h)=>{for(var _="",S=!1,N=h.length-1;-1<=N&&!S;N--){if(S=0<=N?h[N]:"/",typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";_=S+"/"+_,S=S.charAt(0)==="/"}return _=Sa(_.split("/").filter(L=>!!L),!S).join("/"),(S?"/":"")+_||"."},ts=[],ns=h=>{for(var _=0,S=0;S<h.length;++S){var N=h.charCodeAt(S);127>=N?_++:2047>=N?_+=2:55296<=N&&57343>=N?(_+=4,++S):_+=3}return _},$n=(h,_,S,N)=>{if(!(0<N))return 0;var L=S;N=S+N-1;for(var G=0;G<h.length;++G){var ie=h.charCodeAt(G);if(55296<=ie&&57343>=ie){var Ae=h.charCodeAt(++G);ie=65536+((ie&1023)<<10)|Ae&1023}if(127>=ie){if(S>=N)break;_[S++]=ie}else{if(2047>=ie){if(S+1>=N)break;_[S++]=192|ie>>6}else{if(65535>=ie){if(S+2>=N)break;_[S++]=224|ie>>12}else{if(S+3>=N)break;_[S++]=240|ie>>18,_[S++]=128|ie>>12&63}_[S++]=128|ie>>6&63}_[S++]=128|ie&63}}return _[S]=0,S-L},is=(h,_)=>{var S=Array(ns(h)+1);return h=$n(h,S,0,S.length),_&&(S.length=h),S},ao=[];function pr(h,_){ao[h]={input:[],output:[],cb:_},Aa(h,ro)}var ro={open(h){var _=ao[h.node.rdev];if(!_)throw new me(43);h.tty=_,h.seekable=!1},close(h){h.tty.cb.fsync(h.tty)},fsync(h){h.tty.cb.fsync(h.tty)},read(h,_,S,N){if(!h.tty||!h.tty.cb.xb)throw new me(60);for(var L=0,G=0;G<N;G++){try{var ie=h.tty.cb.xb(h.tty)}catch{throw new me(29)}if(ie===void 0&&L===0)throw new me(6);if(ie==null)break;L++,_[S+G]=ie}return L&&(h.node.atime=Date.now()),L},write(h,_,S,N){if(!h.tty||!h.tty.cb.qb)throw new me(60);try{for(var L=0;L<N;L++)h.tty.cb.qb(h.tty,_[S+L])}catch{throw new me(29)}return N&&(h.node.mtime=h.node.ctime=Date.now()),L}},oo={xb(){e:{if(!ts.length){var h=null;if(I){var _=Buffer.alloc(256),S=0,N=process.stdin.fd;try{S=de.readSync(N,_,0,256)}catch(L){if(L.toString().includes("EOF"))S=0;else throw L}0<S&&(h=_.slice(0,S).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`));if(!h){h=null;break e}ts=is(h,!0)}h=ts.shift()}return h},qb(h,_){_===null||_===10?(pe(bt(h.output)),h.output=[]):_!=0&&h.output.push(_)},fsync(h){0<h.output?.length&&(pe(bt(h.output)),h.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},Ti={qb(h,_){_===null||_===10?(xe(bt(h.output)),h.output=[]):_!=0&&h.output.push(_)},fsync(h){0<h.output?.length&&(xe(bt(h.output)),h.output=[])}},De={Wa:null,Xa(){return De.createNode(null,"/",16895,0)},createNode(h,_,S,N){if((S&61440)===24576||(S&61440)===4096)throw new me(63);return De.Wa||(De.Wa={dir:{node:{Ta:De.La.Ta,Ua:De.La.Ua,lookup:De.La.lookup,hb:De.La.hb,rename:De.La.rename,unlink:De.La.unlink,rmdir:De.La.rmdir,readdir:De.La.readdir,symlink:De.La.symlink},stream:{Va:De.Ma.Va}},file:{node:{Ta:De.La.Ta,Ua:De.La.Ua},stream:{Va:De.Ma.Va,read:De.Ma.read,write:De.Ma.write,ib:De.Ma.ib,jb:De.Ma.jb}},link:{node:{Ta:De.La.Ta,Ua:De.La.Ua,readlink:De.La.readlink},stream:{}},ub:{node:{Ta:De.La.Ta,Ua:De.La.Ua},stream:wl}}),S=wa(h,_,S,N),an(S.mode)?(S.La=De.Wa.dir.node,S.Ma=De.Wa.dir.stream,S.Na={}):(S.mode&61440)===32768?(S.La=De.Wa.file.node,S.Ma=De.Wa.file.stream,S.Ra=0,S.Na=null):(S.mode&61440)===40960?(S.La=De.Wa.link.node,S.Ma=De.Wa.link.stream):(S.mode&61440)===8192&&(S.La=De.Wa.ub.node,S.Ma=De.Wa.ub.stream),S.atime=S.mtime=S.ctime=Date.now(),h&&(h.Na[_]=S,h.atime=h.mtime=h.ctime=S.atime),S},Sb(h){return h.Na?h.Na.subarray?h.Na.subarray(0,h.Ra):new Uint8Array(h.Na):new Uint8Array(0)},La:{Ta(h){var _={};return _.dev=(h.mode&61440)===8192?h.id:1,_.ino=h.id,_.mode=h.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=h.rdev,an(h.mode)?_.size=4096:(h.mode&61440)===32768?_.size=h.Ra:(h.mode&61440)===40960?_.size=h.link.length:_.size=0,_.atime=new Date(h.atime),_.mtime=new Date(h.mtime),_.ctime=new Date(h.ctime),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},Ua(h,_){for(var S of["mode","atime","mtime","ctime"])_[S]!=null&&(h[S]=_[S]);_.size!==void 0&&(_=_.size,h.Ra!=_&&(_==0?(h.Na=null,h.Ra=0):(S=h.Na,h.Na=new Uint8Array(_),S&&h.Na.set(S.subarray(0,Math.min(_,h.Ra))),h.Ra=_)))},lookup(){throw De.vb},hb(h,_,S,N){return De.createNode(h,_,S,N)},rename(h,_,S){try{var N=Zn(_,S)}catch{}if(N){if(an(h.mode))for(var L in N.Na)throw new me(55);_r(N)}delete h.parent.Na[h.name],_.Na[S]=h,h.name=S,_.ctime=_.mtime=h.parent.ctime=h.parent.mtime=Date.now()},unlink(h,_){delete h.Na[_],h.ctime=h.mtime=Date.now()},rmdir(h,_){var S=Zn(h,_),N;for(N in S.Na)throw new me(55);delete h.Na[_],h.ctime=h.mtime=Date.now()},readdir(h){return[".","..",...Object.keys(h.Na)]},symlink(h,_,S){return h=De.createNode(h,_,41471,0),h.link=S,h},readlink(h){if((h.mode&61440)!==40960)throw new me(28);return h.link}},Ma:{read(h,_,S,N,L){var G=h.node.Na;if(L>=h.node.Ra)return 0;if(h=Math.min(h.node.Ra-L,N),8<h&&G.subarray)_.set(G.subarray(L,L+h),S);else for(N=0;N<h;N++)_[S+N]=G[L+N];return h},write(h,_,S,N,L,G){if(_.buffer===V.buffer&&(G=!1),!N)return 0;if(h=h.node,h.mtime=h.ctime=Date.now(),_.subarray&&(!h.Na||h.Na.subarray)){if(G)return h.Na=_.subarray(S,S+N),h.Ra=N;if(h.Ra===0&&L===0)return h.Na=_.slice(S,S+N),h.Ra=N;if(L+N<=h.Ra)return h.Na.set(_.subarray(S,S+N),L),N}G=L+N;var ie=h.Na?h.Na.length:0;if(ie>=G||(G=Math.max(G,ie*(1048576>ie?2:1.125)>>>0),ie!=0&&(G=Math.max(G,256)),ie=h.Na,h.Na=new Uint8Array(G),0<h.Ra&&h.Na.set(ie.subarray(0,h.Ra),0)),h.Na.subarray&&_.subarray)h.Na.set(_.subarray(S,S+N),L);else for(G=0;G<N;G++)h.Na[L+G]=_[S+G];return h.Ra=Math.max(h.Ra,L+N),N},Va(h,_,S){if(S===1?_+=h.position:S===2&&(h.node.mode&61440)===32768&&(_+=h.node.Ra),0>_)throw new me(28);return _},ib(h,_,S,N,L){if((h.node.mode&61440)!==32768)throw new me(43);if(h=h.node.Na,L&2||!h||h.buffer!==V.buffer){L=!0,N=65536*Math.ceil(_/65536);var G=bs(65536,N);if(G&&O.fill(0,G,G+N),N=G,!N)throw new me(48);h&&((0<S||S+_<h.length)&&(h.subarray?h=h.subarray(S,S+_):h=Array.prototype.slice.call(h,S,S+_)),V.set(h,N))}else L=!1,N=h.byteOffset;return{Kb:N,Ab:L}},jb(h,_,S,N){return De.Ma.write(h,_,0,N,S,!1),0}}},Wn=(h,_)=>{var S=0;return h&&(S|=365),_&&(S|=146),S},Ut=null,gr={},bi=[],lo=1,mn=null,gs=!1,Gt=!0,Si={},me=class{name="ErrnoError";constructor(h){this.Pa=h}},wi=class{gb={};node=null;get flags(){return this.gb.flags}set flags(h){this.gb.flags=h}get position(){return this.gb.position}set position(h){this.gb.position=h}},Sl=class{La={};Ma={};ab=null;constructor(h,_,S,N){h||=this,this.parent=h,this.Xa=h.Xa,this.id=lo++,this.name=_,this.mode=S,this.rdev=N,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function Nn(h,_={}){if(!h)throw new me(44);_.nb??(_.nb=!0),h.charAt(0)==="/"||(h="//"+h);var S=0;e:for(;40>S;S++){h=h.split("/").filter(Ae=>!!Ae);for(var N=Ut,L="/",G=0;G<h.length;G++){var ie=G===h.length-1;if(ie&&_.parent)break;if(h[G]!==".")if(h[G]==="..")L=$t(L),N=N.parent;else{L=Pt(L+"/"+h[G]);try{N=Zn(N,h[G])}catch(Ae){if(Ae?.Pa===44&&ie&&_.Jb)return{path:L};throw Ae}if(!N.ab||ie&&!_.nb||(N=N.ab.root),(N.mode&61440)===40960&&(!ie||_.$a)){if(!N.La.readlink)throw new me(52);N=N.La.readlink(N),N.charAt(0)==="/"||(N=$t(L)+"/"+N),h=N+"/"+h.slice(G+1).join("/");continue e}}}return{path:L,node:N}}throw new me(32)}function li(h){for(var _;;){if(h===h.parent)return h=h.Xa.zb,_?h[h.length-1]!=="/"?`${h}/${_}`:h+_:h;_=_?`${h.name}/${_}`:h.name,h=h.parent}}function ss(h,_){for(var S=0,N=0;N<_.length;N++)S=(S<<5)-S+_.charCodeAt(N)|0;return(h+S>>>0)%mn.length}function _r(h){var _=ss(h.parent.id,h.name);if(mn[_]===h)mn[_]=h.bb;else for(_=mn[_];_;){if(_.bb===h){_.bb=h.bb;break}_=_.bb}}function Zn(h,_){var S=an(h.mode)?(S=Bn(h,"x"))?S:h.La.lookup?0:2:54;if(S)throw new me(S);for(S=mn[ss(h.id,_)];S;S=S.bb){var N=S.name;if(S.parent.id===h.id&&N===_)return S}return h.La.lookup(h,_)}function wa(h,_,S,N){return h=new Sl(h,_,S,N),_=ss(h.parent.id,h.name),h.bb=mn[_],mn[_]=h}function an(h){return(h&61440)===16384}function _s(h){var _=["r","w","rw"][h&3];return h&512&&(_+="w"),_}function Bn(h,_){if(Gt)return 0;if(!_.includes("r")||h.mode&292){if(_.includes("w")&&!(h.mode&146)||_.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function yr(h,_){if(!an(h.mode))return 54;try{return Zn(h,_),20}catch{}return Bn(h,"wx")}function ui(h,_,S){try{var N=Zn(h,_)}catch(L){return L.Pa}if(h=Bn(h,"wx"))return h;if(S){if(!an(N.mode))return 54;if(N===N.parent||li(N)==="/")return 10}else if(an(N.mode))return 31;return 0}function zn(h){if(!h)throw new me(63);return h}function it(h){if(h=bi[h],!h)throw new me(8);return h}function Jt(h,_=-1){if(h=Object.assign(new wi,h),_==-1)e:{for(_=0;4096>=_;_++)if(!bi[_])break e;throw new me(33)}return h.fd=_,bi[_]=h}function Mi(h,_=-1){return h=Jt(h,_),h.Ma?.Rb?.(h),h}function ys(h,_,S){var N=h?.Ma.Ua;h=N?h:_,N??=_.La.Ua,zn(N),N(h,S)}var wl={open(h){h.Ma=gr[h.node.rdev].Ma,h.Ma.open?.(h)},Va(){throw new me(70)}};function Aa(h,_){gr[h]={Ma:_}}function vr(h,_){var S=_==="/";if(S&&Ut)throw new me(10);if(!S&&_){var N=Nn(_,{nb:!1});if(_=N.path,N=N.node,N.ab)throw new me(10);if(!an(N.mode))throw new me(54)}_={type:h,Wb:{},zb:_,Ib:[]},h=h.Xa(_),h.Xa=_,_.root=h,S?Ut=h:N&&(N.ab=_,N.Xa&&N.Xa.Ib.push(_))}function Jn(h,_,S){var N=Nn(h,{parent:!0}).node;if(h=Ei(h),!h)throw new me(28);if(h==="."||h==="..")throw new me(20);var L=yr(N,h);if(L)throw new me(L);if(!N.La.hb)throw new me(63);return N.La.hb(N,h,_,S)}function Na(h,_=438){return Jn(h,_&4095|32768,0)}function en(h,_=511){return Jn(h,_&1023|16384,0)}function Rn(h,_,S){typeof S>"u"&&(S=_,_=438),Jn(h,_|8192,S)}function Cn(h,_){if(!An(h))throw new me(44);var S=Nn(_,{parent:!0}).node;if(!S)throw new me(44);_=Ei(_);var N=yr(S,_);if(N)throw new me(N);if(!S.La.symlink)throw new me(63);S.La.symlink(S,_,h)}function Ai(h){var _=Nn(h,{parent:!0}).node;h=Ei(h);var S=Zn(_,h),N=ui(_,h,!0);if(N)throw new me(N);if(!_.La.rmdir)throw new me(63);if(S.ab)throw new me(10);_.La.rmdir(_,h),_r(S)}function Xt(h){var _=Nn(h,{parent:!0}).node;if(!_)throw new me(44);h=Ei(h);var S=Zn(_,h),N=ui(_,h,!1);if(N)throw new me(N);if(!_.La.unlink)throw new me(63);if(S.ab)throw new me(10);_.La.unlink(_,h),_r(S)}function as(h,_){return h=Nn(h,{$a:!_}).node,zn(h.La.Ta)(h)}function Ra(h,_,S,N){ys(h,_,{mode:S&4095|_.mode&-4096,ctime:Date.now(),Fb:N})}function ei(h,_){h=typeof h=="string"?Nn(h,{$a:!0}).node:h,Ra(null,h,_)}function Ni(h,_,S){if(an(_.mode))throw new me(31);if((_.mode&61440)!==32768)throw new me(28);var N=Bn(_,"w");if(N)throw new me(N);ys(h,_,{size:S,timestamp:Date.now()})}function Li(h,_,S=438){if(h==="")throw new me(44);if(typeof _=="string"){var N={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[_];if(typeof N>"u")throw Error(`Unknown file open mode: ${_}`);_=N}if(S=_&64?S&4095|32768:0,typeof h=="object")N=h;else{var L=h.endsWith("/");h=Nn(h,{$a:!(_&131072),Jb:!0}),N=h.node,h=h.path}var G=!1;if(_&64)if(N){if(_&128)throw new me(20)}else{if(L)throw new me(31);N=Jn(h,S|511,0),G=!0}if(!N)throw new me(44);if((N.mode&61440)===8192&&(_&=-513),_&65536&&!an(N.mode))throw new me(54);if(!G&&(L=N?(N.mode&61440)===40960?32:an(N.mode)&&(_s(_)!=="r"||_&576)?31:Bn(N,_s(_)):44))throw new me(L);return _&512&&!G&&(L=N,L=typeof L=="string"?Nn(L,{$a:!0}).node:L,Ni(null,L,0)),_&=-131713,L=Jt({node:N,path:li(N),flags:_,seekable:!0,position:0,Ma:N.Ma,Lb:[],error:!1}),L.Ma.open&&L.Ma.open(L),G&&ei(N,S&511),!g.logReadFiles||_&1||h in Si||(Si[h]=1),L}function Bs(h){if(h.fd===null)throw new me(8);h.ob&&(h.ob=null);try{h.Ma.close&&h.Ma.close(h)}catch(_){throw _}finally{bi[h.fd]=null}h.fd=null}function Ca(h,_,S){if(h.fd===null)throw new me(8);if(!h.seekable||!h.Ma.Va)throw new me(70);if(S!=0&&S!=1&&S!=2)throw new me(28);h.position=h.Ma.Va(h,_,S),h.Lb=[]}function Er(h,_,S,N,L){if(0>N||0>L)throw new me(28);if(h.fd===null)throw new me(8);if((h.flags&2097155)===1)throw new me(8);if(an(h.node.mode))throw new me(31);if(!h.Ma.read)throw new me(28);var G=typeof L<"u";if(!G)L=h.position;else if(!h.seekable)throw new me(70);return _=h.Ma.read(h,_,S,N,L),G||(h.position+=_),_}function zs(h,_,S,N,L){if(0>N||0>L)throw new me(28);if(h.fd===null)throw new me(8);if((h.flags&2097155)===0)throw new me(8);if(an(h.node.mode))throw new me(31);if(!h.Ma.write)throw new me(28);h.seekable&&h.flags&1024&&Ca(h,0,2);var G=typeof L<"u";if(!G)L=h.position;else if(!h.seekable)throw new me(70);return _=h.Ma.write(h,_,S,N,L,void 0),G||(h.position+=_),_}function ti(h){var _,S=Li(h,S||0);h=as(h).size;var N=new Uint8Array(h);return Er(S,N,0,h,0),_=N,Bs(S),_}function Nt(h,_,S){h=Pt("/dev/"+h);var N=Wn(!!_,!!S);Nt.yb??(Nt.yb=64);var L=Nt.yb++<<8|0;Aa(L,{open(G){G.seekable=!1},close(){S?.buffer?.length&&S(10)},read(G,ie,Ae,ke){for(var Ue=0,gt=0;gt<ke;gt++){try{var Yt=_()}catch{throw new me(29)}if(Yt===void 0&&Ue===0)throw new me(6);if(Yt==null)break;Ue++,ie[Ae+gt]=Yt}return Ue&&(G.node.atime=Date.now()),Ue},write(G,ie,Ae,ke){for(var Ue=0;Ue<ke;Ue++)try{S(ie[Ae+Ue])}catch{throw new me(29)}return ke&&(G.node.mtime=G.node.ctime=Date.now()),Ue}}),Rn(h,N,L)}var Fe={};function Pn(h,_,S){if(_.charAt(0)==="/")return _;if(h=h===-100?"/":it(h).path,_.length==0){if(!S)throw new me(44);return h}return h+"/"+_}function vs(h,_){C[h>>2]=_.dev,C[h+4>>2]=_.mode,ve[h+8>>2]=_.nlink,C[h+12>>2]=_.uid,C[h+16>>2]=_.gid,C[h+20>>2]=_.rdev,P[h+24>>3]=BigInt(_.size),C[h+32>>2]=4096,C[h+36>>2]=_.blocks;var S=_.atime.getTime(),N=_.mtime.getTime(),L=_.ctime.getTime();return P[h+40>>3]=BigInt(Math.floor(S/1e3)),ve[h+48>>2]=S%1e3*1e6,P[h+56>>3]=BigInt(Math.floor(N/1e3)),ve[h+64>>2]=N%1e3*1e6,P[h+72>>3]=BigInt(Math.floor(L/1e3)),ve[h+80>>2]=L%1e3*1e6,P[h+88>>3]=BigInt(_.ino),0}var ft=void 0,Vi=()=>{var h=C[+ft>>2];return ft+=4,h},ci=0,Ps=[0,31,60,91,121,152,182,213,244,274,305,335],Hn=[0,31,59,90,120,151,181,212,243,273,304,334],Ui={},Tr=h=>{j=h,ps||0<ci||(g.onExit?.(h),D=!0),ee(h,new et(h))},br=h=>{if(!D)try{if(h(),!(ps||0<ci))try{j=h=j,Tr(h)}catch(_){_ instanceof et||_=="unwind"||ee(1,_)}}catch(_){_ instanceof et||_=="unwind"||ee(1,_)}},qi={},Sr=()=>{if(!Bi){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:se||"./this.program"},_;for(_ in qi)qi[_]===void 0?delete h[_]:h[_]=qi[_];var S=[];for(_ in h)S.push(`${_}=${h[_]}`);Bi=S}return Bi},Bi,yn=h=>{var _=ns(h)+1,S=rn(_);return $n(h,O,S,_),S},uo=(h,_,S,N)=>{var L={string:Ue=>{var gt=0;return Ue!=null&&Ue!==0&&(gt=yn(Ue)),gt},array:Ue=>{var gt=rn(Ue.length);return V.set(Ue,gt),gt}};h=g["_"+h];var G=[],ie=0;if(N)for(var Ae=0;Ae<N.length;Ae++){var ke=L[S[Ae]];ke?(ie===0&&(ie=En()),G[Ae]=ke(N[Ae])):G[Ae]=N[Ae]}return S=h(...G),S=(function(Ue){return ie!==0&&hi(ie),_==="string"?Ue?bt(O,Ue):"":_==="boolean"?!!Ue:Ue})(S)},Es=0,Ts=(h,_)=>(_=_==1?rn(h.length):zi(h.length),h.subarray||h.slice||(h=new Uint8Array(h)),O.set(h,_),_),fi,xa=[],vn,ni=h=>{fi.delete(vn.get(h)),vn.set(h,null),xa.push(h)},xn=(h,_)=>{if(!fi){fi=new WeakMap;var S=vn.length;if(fi)for(var N=0;N<0+S;N++){var L=vn.get(N);L&&fi.set(L,N)}}if(S=fi.get(h)||0)return S;if(xa.length)S=xa.pop();else{try{vn.grow(1)}catch(ke){throw ke instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":ke}S=vn.length-1}try{vn.set(S,h)}catch(ke){if(!(ke instanceof TypeError))throw ke;if(typeof WebAssembly.Function=="function"){var G=WebAssembly.Function;N={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},L={parameters:[],results:_[0]=="v"?[]:[N[_[0]]]};for(var ie=1;ie<_.length;++ie)L.parameters.push(N[_[ie]]);_=new G(L,h)}else{N=[1],L=_.slice(0,1),_=_.slice(1),ie={i:127,p:127,j:126,f:125,d:124,e:111},N.push(96);var Ae=_.length;128>Ae?N.push(Ae):N.push(Ae%128|128,Ae>>7);for(G of _)N.push(ie[G]);L=="v"?N.push(0):N.push(1,ie[L]),_=[0,97,115,109,1,0,0,0,1],G=N.length,128>G?_.push(G):_.push(G%128|128,G>>7),_.push(...N),_.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),_=new WebAssembly.Module(new Uint8Array(_)),_=new WebAssembly.Instance(_,{e:{f:h}}).exports.f}vn.set(S,_)}return fi.set(h,S),S};mn=Array(4096),vr(De,"/"),en("/tmp"),en("/home"),en("/home/web_user"),(function(){en("/dev"),Aa(259,{read:()=>0,write:(N,L,G,ie)=>ie,Va:()=>0}),Rn("/dev/null",259),pr(1280,oo),pr(1536,Ti),Rn("/dev/tty",1280),Rn("/dev/tty1",1536);var h=new Uint8Array(1024),_=0,S=()=>(_===0&&(mr(h),_=h.byteLength),h[--_]);Nt("random",S),Nt("urandom",S),en("/dev/shm"),en("/dev/shm/tmp")})(),(function(){en("/proc");var h=en("/proc/self");en("/proc/self/fd"),vr({Xa(){var _=wa(h,"fd",16895,73);return _.Ma={Va:De.Ma.Va},_.La={lookup(S,N){S=+N;var L=it(S);return S={parent:null,Xa:{zb:"fake"},La:{readlink:()=>L.path},id:S+1},S.parent=S},readdir(){return Array.from(bi.entries()).filter(([,S])=>S).map(([S])=>S.toString())}},_}},"/proc/self/fd")})(),De.vb=new me(44),De.vb.stack="<generic error, no stack>";var wr={a:(h,_,S,N)=>re(`Assertion failed: ${h?bt(O,h):""}, at: `+[_?_?bt(O,_):"":"unknown filename",S,N?N?bt(O,N):"":"unknown function"]),i:function(h,_){try{return h=h?bt(O,h):"",ei(h,_),0}catch(S){if(typeof Fe>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},L:function(h,_,S){try{if(_=_?bt(O,_):"",_=Pn(h,_),S&-8)return-28;var N=Nn(_,{$a:!0}).node;return N?(h="",S&4&&(h+="r"),S&2&&(h+="w"),S&1&&(h+="x"),h&&Bn(N,h)?-2:0):-44}catch(L){if(typeof Fe>"u"||L.name!=="ErrnoError")throw L;return-L.Pa}},j:function(h,_){try{var S=it(h);return Ra(S,S.node,_,!1),0}catch(N){if(typeof Fe>"u"||N.name!=="ErrnoError")throw N;return-N.Pa}},h:function(h){try{var _=it(h);return ys(_,_.node,{timestamp:Date.now(),Fb:!1}),0}catch(S){if(typeof Fe>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},b:function(h,_,S){ft=S;try{var N=it(h);switch(_){case 0:var L=Vi();if(0>L)break;for(;bi[L];)L++;return Mi(N,L).fd;case 1:case 2:return 0;case 3:return N.flags;case 4:return L=Vi(),N.flags|=L,0;case 12:return L=Vi(),U[L+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(G){if(typeof Fe>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},g:function(h,_){try{var S=it(h),N=S.node,L=S.Ma.Ta;h=L?S:N,L??=N.La.Ta,zn(L);var G=L(h);return vs(_,G)}catch(ie){if(typeof Fe>"u"||ie.name!=="ErrnoError")throw ie;return-ie.Pa}},H:function(h,_){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{if(isNaN(_))return 61;var S=it(h);if(0>_||(S.flags&2097155)===0)throw new me(28);return Ni(S,S.node,_),0}catch(N){if(typeof Fe>"u"||N.name!=="ErrnoError")throw N;return-N.Pa}},G:function(h,_){try{if(_===0)return-28;var S=ns("/")+1;return _<S?-68:($n("/",O,h,_),S)}catch(N){if(typeof Fe>"u"||N.name!=="ErrnoError")throw N;return-N.Pa}},K:function(h,_){try{return h=h?bt(O,h):"",vs(_,as(h,!0))}catch(S){if(typeof Fe>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},C:function(h,_,S){try{return _=_?bt(O,_):"",_=Pn(h,_),en(_,S),0}catch(N){if(typeof Fe>"u"||N.name!=="ErrnoError")throw N;return-N.Pa}},J:function(h,_,S,N){try{_=_?bt(O,_):"";var L=N&256;return _=Pn(h,_,N&4096),vs(S,L?as(_,!0):as(_))}catch(G){if(typeof Fe>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},x:function(h,_,S,N){ft=N;try{_=_?bt(O,_):"",_=Pn(h,_);var L=N?Vi():0;return Li(_,S,L).fd}catch(G){if(typeof Fe>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},v:function(h,_,S,N){try{if(_=_?bt(O,_):"",_=Pn(h,_),0>=N)return-28;var L=Nn(_).node;if(!L)throw new me(44);if(!L.La.readlink)throw new me(28);var G=L.La.readlink(L),ie=Math.min(N,ns(G)),Ae=V[S+ie];return $n(G,O,S,N+1),V[S+ie]=Ae,ie}catch(ke){if(typeof Fe>"u"||ke.name!=="ErrnoError")throw ke;return-ke.Pa}},u:function(h){try{return h=h?bt(O,h):"",Ai(h),0}catch(_){if(typeof Fe>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},f:function(h,_){try{return h=h?bt(O,h):"",vs(_,as(h))}catch(S){if(typeof Fe>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},r:function(h,_,S){try{return _=_?bt(O,_):"",_=Pn(h,_),S===0?Xt(_):S===512?Ai(_):re("Invalid flags passed to unlinkat"),0}catch(N){if(typeof Fe>"u"||N.name!=="ErrnoError")throw N;return-N.Pa}},q:function(h,_,S){try{_=_?bt(O,_):"",_=Pn(h,_,!0);var N=Date.now(),L,G;if(S){var ie=ve[S>>2]+4294967296*C[S+4>>2],Ae=C[S+8>>2];Ae==1073741823?L=N:Ae==1073741822?L=null:L=1e3*ie+Ae/1e6,S+=16,ie=ve[S>>2]+4294967296*C[S+4>>2],Ae=C[S+8>>2],Ae==1073741823?G=N:Ae==1073741822?G=null:G=1e3*ie+Ae/1e6}else G=L=N;if((G??L)!==null){h=L;var ke=Nn(_,{$a:!0}).node;zn(ke.La.Ua)(ke,{atime:h,mtime:G})}return 0}catch(Ue){if(typeof Fe>"u"||Ue.name!=="ErrnoError")throw Ue;return-Ue.Pa}},m:()=>re(""),l:()=>{ps=!1,ci=0},A:function(h,_){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h),h=new Date(1e3*h),C[_>>2]=h.getSeconds(),C[_+4>>2]=h.getMinutes(),C[_+8>>2]=h.getHours(),C[_+12>>2]=h.getDate(),C[_+16>>2]=h.getMonth(),C[_+20>>2]=h.getFullYear()-1900,C[_+24>>2]=h.getDay();var S=h.getFullYear();C[_+28>>2]=(S%4!==0||S%100===0&&S%400!==0?Hn:Ps)[h.getMonth()]+h.getDate()-1|0,C[_+36>>2]=-(60*h.getTimezoneOffset()),S=new Date(h.getFullYear(),6,1).getTimezoneOffset();var N=new Date(h.getFullYear(),0,1).getTimezoneOffset();C[_+32>>2]=(S!=N&&h.getTimezoneOffset()==Math.min(N,S))|0},y:function(h,_,S,N,L,G,ie){L=-9007199254740992>L||9007199254740992<L?NaN:Number(L);try{if(isNaN(L))return 61;var Ae=it(N);if((_&2)!==0&&(S&2)===0&&(Ae.flags&2097155)!==2)throw new me(2);if((Ae.flags&2097155)===1)throw new me(2);if(!Ae.Ma.ib)throw new me(43);if(!h)throw new me(28);var ke=Ae.Ma.ib(Ae,h,L,_,S),Ue=ke.Kb;return C[G>>2]=ke.Ab,ve[ie>>2]=Ue,0}catch(gt){if(typeof Fe>"u"||gt.name!=="ErrnoError")throw gt;return-gt.Pa}},z:function(h,_,S,N,L,G){G=-9007199254740992>G||9007199254740992<G?NaN:Number(G);try{var ie=it(L);if(S&2){if(S=G,(ie.node.mode&61440)!==32768)throw new me(43);if(!(N&2)){var Ae=O.slice(h,h+_);ie.Ma.jb&&ie.Ma.jb(ie,Ae,S,_,N)}}}catch(ke){if(typeof Fe>"u"||ke.name!=="ErrnoError")throw ke;return-ke.Pa}},n:(h,_)=>{if(Ui[h]&&(clearTimeout(Ui[h].id),delete Ui[h]),!_)return 0;var S=setTimeout(()=>{delete Ui[h],br(()=>Hs(h,performance.now()))},_);return Ui[h]={id:S,Xb:_},0},B:(h,_,S,N)=>{var L=new Date().getFullYear(),G=new Date(L,0,1).getTimezoneOffset();L=new Date(L,6,1).getTimezoneOffset(),ve[h>>2]=60*Math.max(G,L),C[_>>2]=+(G!=L),_=ie=>{var Ae=Math.abs(ie);return`UTC${0<=ie?"-":"+"}${String(Math.floor(Ae/60)).padStart(2,"0")}${String(Ae%60).padStart(2,"0")}`},h=_(G),_=_(L),L<G?($n(h,O,S,17),$n(_,O,N,17)):($n(h,O,N,17),$n(_,O,S,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:h=>{var _=O.length;if(h>>>=0,2147483648<h)return!1;for(var S=1;4>=S;S*=2){var N=_*(1+.2/S);N=Math.min(N,h+100663296);e:{N=(Math.min(2147483648,65536*Math.ceil(Math.max(h,N)/65536))-k.buffer.byteLength+65535)/65536|0;try{k.grow(N),$e();var L=1;break e}catch{}L=void 0}if(L)return!0}return!1},E:(h,_)=>{var S=0;return Sr().forEach((N,L)=>{var G=_+S;for(L=ve[h+4*L>>2]=G,G=0;G<N.length;++G)V[L++]=N.charCodeAt(G);V[L]=0,S+=N.length+1}),0},F:(h,_)=>{var S=Sr();ve[h>>2]=S.length;var N=0;return S.forEach(L=>N+=L.length+1),ve[_>>2]=N,0},e:function(h){try{var _=it(h);return Bs(_),0}catch(S){if(typeof Fe>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},p:function(h,_){try{var S=it(h);return V[_]=S.tty?2:an(S.mode)?3:(S.mode&61440)===40960?7:4,U[_+2>>1]=0,P[_+8>>3]=BigInt(0),P[_+16>>3]=BigInt(0),0}catch(N){if(typeof Fe>"u"||N.name!=="ErrnoError")throw N;return N.Pa}},w:function(h,_,S,N){try{e:{var L=it(h);h=_;for(var G,ie=_=0;ie<S;ie++){var Ae=ve[h>>2],ke=ve[h+4>>2];h+=8;var Ue=Er(L,V,Ae,ke,G);if(0>Ue){var gt=-1;break e}if(_+=Ue,Ue<ke)break;typeof G<"u"&&(G+=Ue)}gt=_}return ve[N>>2]=gt,0}catch(Yt){if(typeof Fe>"u"||Yt.name!=="ErrnoError")throw Yt;return Yt.Pa}},D:function(h,_,S,N){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{if(isNaN(_))return 61;var L=it(h);return Ca(L,_,S),P[N>>3]=BigInt(L.position),L.ob&&_===0&&S===0&&(L.ob=null),0}catch(G){if(typeof Fe>"u"||G.name!=="ErrnoError")throw G;return G.Pa}},I:function(h){try{var _=it(h);return _.Ma?.fsync?_.Ma.fsync(_):0}catch(S){if(typeof Fe>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},t:function(h,_,S,N){try{e:{var L=it(h);h=_;for(var G,ie=_=0;ie<S;ie++){var Ae=ve[h>>2],ke=ve[h+4>>2];h+=8;var Ue=zs(L,V,Ae,ke,G);if(0>Ue){var gt=-1;break e}if(_+=Ue,Ue<ke)break;typeof G<"u"&&(G+=Ue)}gt=_}return ve[N>>2]=gt,0}catch(Yt){if(typeof Fe>"u"||Yt.name!=="ErrnoError")throw Yt;return Yt.Pa}},k:Tr},be;(async function(){function h(S){return be=S.exports,k=be.M,$e(),vn=be.O,Qe--,g.monitorRunDependencies?.(Qe),Qe==0&&q&&(S=q,q=null,S()),be}Qe++,g.monitorRunDependencies?.(Qe);var _={a:wr};return g.instantiateWasm?new Promise(S=>{g.instantiateWasm(_,(N,L)=>{h(N),S(N.exports)})}):(ye??=g.locateFile?g.locateFile("sql-wasm.wasm",z):z+"sql-wasm.wasm",h((await Ke(_)).instance))})(),g._sqlite3_free=h=>(g._sqlite3_free=be.P)(h),g._sqlite3_value_text=h=>(g._sqlite3_value_text=be.Q)(h),g._sqlite3_prepare_v2=(h,_,S,N,L)=>(g._sqlite3_prepare_v2=be.R)(h,_,S,N,L),g._sqlite3_step=h=>(g._sqlite3_step=be.S)(h),g._sqlite3_reset=h=>(g._sqlite3_reset=be.T)(h),g._sqlite3_exec=(h,_,S,N,L)=>(g._sqlite3_exec=be.U)(h,_,S,N,L),g._sqlite3_finalize=h=>(g._sqlite3_finalize=be.V)(h),g._sqlite3_column_name=(h,_)=>(g._sqlite3_column_name=be.W)(h,_),g._sqlite3_column_text=(h,_)=>(g._sqlite3_column_text=be.X)(h,_),g._sqlite3_column_type=(h,_)=>(g._sqlite3_column_type=be.Y)(h,_),g._sqlite3_errmsg=h=>(g._sqlite3_errmsg=be.Z)(h),g._sqlite3_clear_bindings=h=>(g._sqlite3_clear_bindings=be._)(h),g._sqlite3_value_blob=h=>(g._sqlite3_value_blob=be.$)(h),g._sqlite3_value_bytes=h=>(g._sqlite3_value_bytes=be.aa)(h),g._sqlite3_value_double=h=>(g._sqlite3_value_double=be.ba)(h),g._sqlite3_value_int=h=>(g._sqlite3_value_int=be.ca)(h),g._sqlite3_value_type=h=>(g._sqlite3_value_type=be.da)(h),g._sqlite3_result_blob=(h,_,S,N)=>(g._sqlite3_result_blob=be.ea)(h,_,S,N),g._sqlite3_result_double=(h,_)=>(g._sqlite3_result_double=be.fa)(h,_),g._sqlite3_result_error=(h,_,S)=>(g._sqlite3_result_error=be.ga)(h,_,S),g._sqlite3_result_int=(h,_)=>(g._sqlite3_result_int=be.ha)(h,_),g._sqlite3_result_int64=(h,_)=>(g._sqlite3_result_int64=be.ia)(h,_),g._sqlite3_result_null=h=>(g._sqlite3_result_null=be.ja)(h),g._sqlite3_result_text=(h,_,S,N)=>(g._sqlite3_result_text=be.ka)(h,_,S,N),g._sqlite3_aggregate_context=(h,_)=>(g._sqlite3_aggregate_context=be.la)(h,_),g._sqlite3_column_count=h=>(g._sqlite3_column_count=be.ma)(h),g._sqlite3_data_count=h=>(g._sqlite3_data_count=be.na)(h),g._sqlite3_column_blob=(h,_)=>(g._sqlite3_column_blob=be.oa)(h,_),g._sqlite3_column_bytes=(h,_)=>(g._sqlite3_column_bytes=be.pa)(h,_),g._sqlite3_column_double=(h,_)=>(g._sqlite3_column_double=be.qa)(h,_),g._sqlite3_bind_blob=(h,_,S,N,L)=>(g._sqlite3_bind_blob=be.ra)(h,_,S,N,L),g._sqlite3_bind_double=(h,_,S)=>(g._sqlite3_bind_double=be.sa)(h,_,S),g._sqlite3_bind_int=(h,_,S)=>(g._sqlite3_bind_int=be.ta)(h,_,S),g._sqlite3_bind_text=(h,_,S,N,L)=>(g._sqlite3_bind_text=be.ua)(h,_,S,N,L),g._sqlite3_bind_parameter_index=(h,_)=>(g._sqlite3_bind_parameter_index=be.va)(h,_),g._sqlite3_sql=h=>(g._sqlite3_sql=be.wa)(h),g._sqlite3_normalized_sql=h=>(g._sqlite3_normalized_sql=be.xa)(h),g._sqlite3_changes=h=>(g._sqlite3_changes=be.ya)(h),g._sqlite3_close_v2=h=>(g._sqlite3_close_v2=be.za)(h),g._sqlite3_create_function_v2=(h,_,S,N,L,G,ie,Ae,ke)=>(g._sqlite3_create_function_v2=be.Aa)(h,_,S,N,L,G,ie,Ae,ke),g._sqlite3_update_hook=(h,_,S)=>(g._sqlite3_update_hook=be.Ba)(h,_,S),g._sqlite3_open=(h,_)=>(g._sqlite3_open=be.Ca)(h,_);var zi=g._malloc=h=>(zi=g._malloc=be.Da)(h),ii=g._free=h=>(ii=g._free=be.Ea)(h);g._RegisterExtensionFunctions=h=>(g._RegisterExtensionFunctions=be.Fa)(h);var bs=(h,_)=>(bs=be.Ga)(h,_),Hs=(h,_)=>(Hs=be.Ha)(h,_),hi=h=>(hi=be.Ia)(h),rn=h=>(rn=be.Ja)(h),En=()=>(En=be.Ka)();g.stackSave=()=>En(),g.stackRestore=h=>hi(h),g.stackAlloc=h=>rn(h),g.cwrap=(h,_,S,N)=>{var L=!S||S.every(G=>G==="number"||G==="boolean");return _!=="string"&&L&&!N?g["_"+h]:(...G)=>uo(h,_,S,G)},g.addFunction=xn,g.removeFunction=ni,g.UTF8ToString=qs,g.ALLOC_NORMAL=Es,g.allocate=Ts,g.allocateUTF8OnStack=yn;function rs(){function h(){if(g.calledRun=!0,!D){if(!g.noFSInit&&!gs){var _,S;gs=!0,N??=g.stdin,_??=g.stdout,S??=g.stderr,N?Nt("stdin",N):Cn("/dev/tty","/dev/stdin"),_?Nt("stdout",null,_):Cn("/dev/tty","/dev/stdout"),S?Nt("stderr",null,S):Cn("/dev/tty1","/dev/stderr"),Li("/dev/stdin",0),Li("/dev/stdout",1),Li("/dev/stderr",1)}if(be.N(),Gt=!1,g.onRuntimeInitialized?.(),g.postRun)for(typeof g.postRun=="function"&&(g.postRun=[g.postRun]);g.postRun.length;){var N=g.postRun.shift();jt.unshift(N)}Kt(jt)}}if(0<Qe)q=rs;else{if(g.preRun)for(typeof g.preRun=="function"&&(g.preRun=[g.preRun]);g.preRun.length;)Ta();Kt(ms),0<Qe?q=rs:g.setStatus?(g.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>g.setStatus(""),1),h()},1)):h()}}if(g.preInit)for(typeof g.preInit=="function"&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();return rs(),y}),i)};s.exports=a,s.exports.default=a})(Hd)),Hd.exports}var ES=vS();const PE=aS(ES),TS=`
CREATE TABLE IF NOT EXISTS domains (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL,
  icon TEXT NOT NULL,
  color TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS goals (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  domain_id INTEGER NOT NULL REFERENCES domains(id),
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS quests (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  goal_id INTEGER NOT NULL REFERENCES goals(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS steps (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  quest_id INTEGER NOT NULL REFERENCES quests(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'pending',
  sort_order INTEGER NOT NULL DEFAULT 0,
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS buff_definitions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  type TEXT NOT NULL DEFAULT 'buff',
  icon TEXT NOT NULL DEFAULT '',
  duration_hours INTEGER NOT NULL DEFAULT 24,
  stat_effects TEXT NOT NULL DEFAULT '{}',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS buff_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  definition_id INTEGER NOT NULL REFERENCES buff_definitions(id) ON DELETE CASCADE,
  activated_at TEXT NOT NULL DEFAULT (datetime('now')),
  expires_at TEXT NOT NULL,
  is_active INTEGER NOT NULL DEFAULT 1
);

CREATE TABLE IF NOT EXISTS character (
  id INTEGER PRIMARY KEY CHECK (id = 1),
  name TEXT NOT NULL DEFAULT 'Adventurer',
  total_xp INTEGER NOT NULL DEFAULT 0,
  level INTEGER NOT NULL DEFAULT 1,
  title TEXT NOT NULL DEFAULT 'Novice',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS xp_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  amount INTEGER NOT NULL,
  reason TEXT NOT NULL,
  source_type TEXT NOT NULL,
  source_id INTEGER,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS planner_events (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  date TEXT NOT NULL,
  start_time TEXT,
  end_time TEXT,
  quest_id INTEGER REFERENCES quests(id) ON DELETE SET NULL,
  step_id INTEGER REFERENCES steps(id) ON DELETE SET NULL,
  is_completed INTEGER NOT NULL DEFAULT 0,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);
`,bS=`
INSERT OR IGNORE INTO domains (id, name, icon, color) VALUES
  (1, 'Health', '', '#e74c3c'),
  (2, 'Career', '', '#c8a84e'),
  (3, 'Learning', '', '#3498db'),
  (4, 'Social', '', '#e67e22'),
  (5, 'Finance', '', '#2ecc71'),
  (6, 'Creative', '', '#9b59b6'),
  (7, 'Spiritual', '', '#1abc9c'),
  (8, 'Home', '', '#95a5a6');
`,SS=`
INSERT OR IGNORE INTO character (id, name, total_xp, level, title)
VALUES (1, 'Adventurer', 0, 1, 'Novice');
`,wS="goal-game-db",rl="database",HE="main";let oi=null;function FE(){return new Promise((s,e)=>{const i=indexedDB.open(wS,1);i.onupgradeneeded=()=>{const a=i.result;a.objectStoreNames.contains(rl)||a.createObjectStore(rl)},i.onsuccess=()=>s(i.result),i.onerror=()=>e(i.error)})}async function AS(){const s=await FE();return new Promise((e,i)=>{const a=s.transaction(rl,"readonly"),u=a.objectStore(rl).get(HE);u.onsuccess=()=>e(u.result??null),u.onerror=()=>i(u.error),a.oncomplete=()=>s.close()})}async function NS(s){const e=await FE();return new Promise((i,a)=>{const l=e.transaction(rl,"readwrite");l.objectStore(rl).put(s,HE),l.oncomplete=()=>{e.close(),i()},l.onerror=()=>a(l.error)})}async function RS(){if(oi)return oi;const s=await PE({locateFile:()=>"/goal-game/sql-wasm.wasm"}),e=await AS();return e?oi=new s.Database(e):oi=new s.Database,oi.run(TS),oi.run(bS),oi.run(SS),await Je(),oi}async function Je(){if(!oi)return;const s=oi.export();await NS(s)}function Oe(){if(!oi)throw new Error("Database not initialized. Call getDatabase() first.");return oi}async function qm(){return Oe().export()}async function GE(s){const e=await PE({locateFile:()=>"/goal-game/sql-wasm.wasm"});oi&&oi.close(),oi=new e.Database(s),await Je()}const Fd="migration_feb2026_billing_v1";async function CS(){if(localStorage.getItem(Fd))return!1;const s=Oe(),e=s.exec("SELECT id FROM goals WHERE title = 'Bill 190 Hours - February 2026'");if(e.length>0&&e[0].values.length>0)return localStorage.setItem(Fd,"true"),!1;s.run(`
    INSERT INTO goals (domain_id, title, description, status)
    VALUES (2, 'Bill 190 Hours - February 2026', 'Target: 8 hours on weekdays, ~4.5 hours on weekends. Started with 8 hours billed.', 'active')
  `);const a=s.exec("SELECT last_insert_rowid() as id")[0].values[0][0],l=[{title:"Week 1: Feb 3-9",description:"First partial week. Target: ~41 hours (4 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-03",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-04",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-05",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-06",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-07",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-08",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 2: Feb 9-15",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-09",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-10",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-11",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-12",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-13",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-14",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-15",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 3: Feb 16-22",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-16",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-17",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-18",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-19",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-20",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-21",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-22",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 4: Feb 23-28",description:"Final partial week. Target: ~44.5 hours (5 weekdays  8 + 1 weekend day  4.5)",days:[{date:"2026-02-23",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-24",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-25",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-26",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-27",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-28",day:"Sat",hours:4.5,isWeekend:!0}]}];for(const u of l){s.run(`
      INSERT INTO quests (goal_id, title, description, priority, status)
      VALUES (?, ?, ?, 'high', 'active')
    `,[a,u.title,u.description]);const y=s.exec("SELECT last_insert_rowid() as id")[0].values[0][0];for(let E=0;E<u.days.length;E++){const g=u.days[E],w=`${g.day} ${g.date.slice(5)}: Bill ${g.hours} hours`;s.run(`
        INSERT INTO steps (quest_id, title, priority, status, sort_order)
        VALUES (?, ?, ?, 'pending', ?)
      `,[y,w,g.isWeekend?"low":"normal",E])}}return await Je(),localStorage.setItem(Fd,"true"),!0}const uv="notifications_migration_v1";async function xS(){if(localStorage.getItem(uv))return;const s=Oe();try{(s.exec("PRAGMA table_info(planner_events)")[0]?.values.map(a=>a[1])||[]).includes("reminder_minutes")||s.run("ALTER TABLE planner_events ADD COLUMN reminder_minutes INTEGER DEFAULT NULL"),s.run(`
      CREATE TABLE IF NOT EXISTS notification_settings (
        id INTEGER PRIMARY KEY CHECK (id = 1),
        enabled INTEGER NOT NULL DEFAULT 0,
        default_reminder_minutes INTEGER NOT NULL DEFAULT 15,
        fcm_token TEXT,
        device_id TEXT NOT NULL,
        updated_at TEXT NOT NULL DEFAULT (datetime('now'))
      )
    `),await Je(),localStorage.setItem(uv,"true"),console.log("Notifications migration completed successfully")}catch(e){throw console.error("Failed to run notifications migration:",e),e}}const cv="body_fat_goal_seed_v4";async function DS(){if(localStorage.getItem(cv))return;const s=Oe();try{const e=s.exec("SELECT id FROM goals WHERE title = 'Achieve 12% Body Fat'");if(e.length&&e[0].values.length){const g=e[0].values[0][0],w=s.exec("SELECT id FROM quests WHERE goal_id = ?",[g]);if(w.length)for(const x of w[0].values)s.run("DELETE FROM steps WHERE quest_id = ?",[x[0]]);s.run("DELETE FROM quests WHERE goal_id = ?",[g]),s.run("DELETE FROM goals WHERE id = ?",[g])}s.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[1,"Achieve 12% Body Fat","12-week transformation program starting Feb 4, 2026. From 18-19% to 12% body fat through consistent training and nutrition."]);const a=s.exec("SELECT last_insert_rowid()")[0].values[0][0],l=new Date(2026,1,4,12,0,0),u=[{title:"Week 1 - Build Foundation",desc:"Establish daily habits and set your baseline."},{title:"Week 2 - Gain Momentum",desc:"Lock in the routine. Consistency is key."},{title:"Week 3 - Stay Disciplined",desc:"Push through early challenges. Trust the process."},{title:"Week 4 - Complete Month 1",desc:"First month done! Take measurements and assess progress."},{title:"Week 5 - Intensify",desc:"Increase intensity. Your body is adapting."},{title:"Week 6 - Push Through",desc:"Mental toughness week. No excuses."},{title:"Week 7 - Halfway Point",desc:"You're halfway there! Stay focused."},{title:"Week 8 - Stay Strong",desc:"Month 2 complete. Reassess and adjust if needed."},{title:"Week 9 - Final Month Begins",desc:"Last 4 weeks. Time to lock in."},{title:"Week 10 - Home Stretch",desc:"You can see the finish line. Don't let up."},{title:"Week 11 - Almost There",desc:"One more week after this. Give it everything."},{title:"Week 12 - Finish Strong",desc:"Final week! Complete the transformation."}],m=[{dayName:"Wed",workout:"Light Cardio (20-30 min)",isGym:!1},{dayName:"Thu",workout:"Gym - Legs (Quads/Hams/Glutes)",isGym:!0},{dayName:"Fri",workout:"Gym - Upper Body",isGym:!0},{dayName:"Sat",workout:"Gym - Lower Body / Deadlifts",isGym:!0},{dayName:"Sun",workout:"Rest + Weekly Check-in",isGym:!1},{dayName:"Mon",workout:"Gym - Push (Chest/Shoulders/Triceps)",isGym:!0},{dayName:"Tue",workout:"Gym - Pull (Back/Biceps)",isGym:!0}],y=g=>{const w=g.getMonth()+1,x=g.getDate();return`${w}/${x}`};let E=new Date(l);for(let g=0;g<u.length;g++){const w=u[g],x=y(E),I=y(new Date(E.getTime()+8640*60*1e3));s.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[a,`${w.title} (${x} - ${I})`,w.desc,"high"]);const se=s.exec("SELECT last_insert_rowid()")[0].values[0][0];let ee=1;for(let z=0;z<7;z++){const Y=m[z],ue=y(E);s.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[se,`${Y.dayName} ${ue}: ${Y.workout}`,"normal",ee++]),s.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[se,`${Y.dayName} ${ue}: Hit protein goal`,"normal",ee++]),E.setDate(E.getDate()+1)}}await Je(),localStorage.setItem(cv,"true"),console.log("Body fat goal seeded successfully (v3 - starting Wed 2/4/2026)")}catch(e){throw console.error("Failed to seed body fat goal:",e),e}}const fv="daily_quests_migration_v1";async function IS(){if(localStorage.getItem(fv))return;const s=Oe();try{s.run(`
      CREATE TABLE IF NOT EXISTS daily_quests (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        date TEXT NOT NULL,
        quest_type TEXT NOT NULL,
        title TEXT NOT NULL,
        description TEXT NOT NULL,
        target_value INTEGER NOT NULL DEFAULT 1,
        current_value INTEGER NOT NULL DEFAULT 0,
        xp_reward INTEGER NOT NULL DEFAULT 25,
        is_completed INTEGER NOT NULL DEFAULT 0,
        completed_at TEXT
      )
    `),s.run(`
      CREATE TABLE IF NOT EXISTS daily_quest_bonus (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        date TEXT NOT NULL UNIQUE,
        claimed_at TEXT NOT NULL
      )
    `),s.run("CREATE INDEX IF NOT EXISTS idx_daily_quests_date ON daily_quests(date)"),await Je(),localStorage.setItem(fv,"true"),console.log("Daily quests migration completed successfully")}catch(e){throw console.error("Failed to run daily quests migration:",e),e}}const hv="streak_migration_v1";async function OS(){if(localStorage.getItem(hv))return;const s=Oe();try{s.run(`
      CREATE TABLE IF NOT EXISTS streak_shields (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        quantity INTEGER NOT NULL DEFAULT 0,
        earned_at TEXT NOT NULL DEFAULT (datetime('now'))
      )
    `),s.exec("SELECT COUNT(*) FROM streak_shields")[0].values[0][0]===0&&s.run("INSERT INTO streak_shields (quantity) VALUES (3)"),s.run(`
      CREATE TABLE IF NOT EXISTS streak_freezes (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        buff_definition_id INTEGER NOT NULL,
        freeze_date TEXT NOT NULL,
        reason TEXT,
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        FOREIGN KEY (buff_definition_id) REFERENCES buff_definitions(id) ON DELETE CASCADE,
        UNIQUE(buff_definition_id, freeze_date)
      )
    `),s.run(`
      CREATE TABLE IF NOT EXISTS streak_records (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        buff_definition_id INTEGER NOT NULL UNIQUE,
        longest_streak INTEGER NOT NULL DEFAULT 0,
        last_milestone_claimed INTEGER NOT NULL DEFAULT 0,
        updated_at TEXT NOT NULL DEFAULT (datetime('now')),
        FOREIGN KEY (buff_definition_id) REFERENCES buff_definitions(id) ON DELETE CASCADE
      )
    `),s.run(`
      CREATE TABLE IF NOT EXISTS streak_shield_uses (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        buff_definition_id INTEGER NOT NULL,
        used_date TEXT NOT NULL,
        streak_saved INTEGER NOT NULL,
        used_at TEXT NOT NULL DEFAULT (datetime('now')),
        FOREIGN KEY (buff_definition_id) REFERENCES buff_definitions(id) ON DELETE CASCADE
      )
    `),s.run("CREATE INDEX IF NOT EXISTS idx_streak_freezes_date ON streak_freezes(freeze_date)"),s.run("CREATE INDEX IF NOT EXISTS idx_streak_freezes_buff ON streak_freezes(buff_definition_id)"),await Je(),localStorage.setItem(hv,"true"),console.log("Streak migration completed successfully")}catch(e){throw console.error("Failed to run streak migration:",e),e}}function kS(){const[s,e]=ne.useState(!1),[i,a]=ne.useState(null);return ne.useEffect(()=>{RS().then(async()=>{await CS(),await xS(),await DS(),await IS(),await OS(),e(!0)}).catch(l=>a(l.message))},[]),{ready:s,error:i}}function dv(){const e=Oe().exec("SELECT id, name, total_xp, level, title, created_at FROM character WHERE id = 1");if(!e.length)throw new Error("Character not found");const i=e[0].values[0];return{id:i[0],name:i[1],total_xp:i[2],level:i[3],title:i[4],created_at:i[5]}}async function jS(s){Oe().run("UPDATE character SET name = ? WHERE id = 1",[s]),await Je()}function mv(s=50){const i=Oe().exec(`SELECT id, amount, reason, source_type, source_id, created_at
     FROM xp_log ORDER BY created_at DESC LIMIT ?`,[s]);return i.length?i[0].values.map(a=>({id:a[0],amount:a[1],reason:a[2],source_type:a[3],source_id:a[4],created_at:a[5]})):[]}const XE=["stamina","willpower","health","focus","charisma"],er=["Novice","Apprentice","Journeyman","Adept","Expert","Master","Legend","Dragonborn"],MS={normal:10,important:15,legendary:20},LS=50,VS=200,US=5,qS=25,BS=1.8,zS=50;function Bm(s){return Math.floor(zS*Math.pow(s,BS))}function PS(s){let e=0;for(let i=1;i<s;i++)e+=Bm(i);return e}function YE(s){let e=1,i=0;for(;;){if(i+=Bm(e),s<i)return e;if(e++,e>100)return 100}}function QE(s){const e=YE(s),i=PS(e),a=s-i,l=Bm(e);return{current:a,needed:l,percentage:Math.min(a/l*100,100)}}function HS(s){return s>=50?er[7]:s>=40?er[6]:s>=30?er[5]:s>=22?er[4]:s>=15?er[3]:s>=10?er[2]:s>=5?er[1]:er[0]}async function FS(s,e,i,a=null){const l=Oe(),u=l.exec("SELECT total_xp, level FROM character WHERE id = 1"),m=u[0].values[0][0],y=u[0].values[0][1],E=m+s,g=YE(E),w=HS(g),x=g>y;return l.run("UPDATE character SET total_xp = ?, level = ?, title = ? WHERE id = 1",[E,g,w]),l.run("INSERT INTO xp_log (amount, reason, source_type, source_id) VALUES (?, ?, ?, ?)",[s,e,i,a]),await Je(),{amount:s,newTotal:E,leveledUp:x,newLevel:g,newTitle:w}}function GS(){const[s,e]=ne.useState(()=>dv()),[i,a]=ne.useState(()=>mv()),[l,u]=ne.useState(null),[m,y]=ne.useState([]),E=ne.useCallback(()=>{e(dv()),a(mv())},[]),g=ne.useCallback(async(I,$,se,ee)=>{const z=await FS(I,$,se,ee??null);z.leveledUp&&u({level:z.newLevel,title:z.newTitle});const Y=Date.now();return y(ue=>[...ue,{id:Y,amount:I}]),setTimeout(()=>y(ue=>ue.filter(de=>de.id!==Y)),1500),E(),z},[E]),w=ne.useCallback(()=>u(null),[]),x=ne.useCallback(async I=>{await jS(I),E()},[E]);return{character:s,xpLog:i,levelUpInfo:l,xpFloats:m,grantXP:g,dismissLevelUp:w,setName:x,refresh:E}}function KE(){const e=Oe().exec("SELECT id, name, icon, color FROM domains ORDER BY id");return e.length?e[0].values.map(i=>({id:i[0],name:i[1],icon:i[2],color:i[3]})):[]}function XS(s,e){const i=Oe();let a="SELECT id, domain_id, title, description, status, created_at, completed_at FROM goals WHERE 1=1";const l=[];s&&(a+=" AND domain_id = ?",l.push(s)),e&&(a+=" AND status = ?",l.push(e)),a+=" ORDER BY created_at DESC";const u=i.exec(a,l);return u.length?u[0].values.map(m=>({id:m[0],domain_id:m[1],title:m[2],description:m[3],status:m[4],created_at:m[5],completed_at:m[6]})):[]}async function YS(s,e,i=""){const a=Oe();a.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[s,e,i]);const l=a.exec("SELECT last_insert_rowid()");return await Je(),l[0].values[0][0]}async function QS(s,e){const i=Oe(),a=new Date().toISOString();i.run("UPDATE goals SET status = ?, completed_at = ? WHERE id = ?",[e,a,s]),await Je()}function zm(s,e){const i=Oe();let a="SELECT id, goal_id, title, description, priority, status, created_at, completed_at FROM quests WHERE 1=1";const l=[];s&&(a+=" AND goal_id = ?",l.push(s)),a+=" ORDER BY created_at DESC";const u=i.exec(a,l);return u.length?u[0].values.map(m=>({id:m[0],goal_id:m[1],title:m[2],description:m[3],priority:m[4],status:m[5],created_at:m[6],completed_at:m[7]})):[]}async function KS(s,e,i="",a="normal"){const l=Oe();l.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[s,e,i,a]);const u=l.exec("SELECT last_insert_rowid()");return await Je(),u[0].values[0][0]}async function $S(s,e){const i=Oe(),a=new Date().toISOString();i.run("UPDATE quests SET status = ?, completed_at = ? WHERE id = ?",[e,a,s]),await Je()}function Pm(s){const i=Oe().exec("SELECT id, quest_id, title, priority, status, sort_order, completed_at FROM steps WHERE quest_id = ? ORDER BY sort_order, id",[s]);return i.length?i[0].values.map(a=>({id:a[0],quest_id:a[1],title:a[2],priority:a[3],status:a[4],sort_order:a[5],completed_at:a[6]})):[]}async function WS(s,e,i="normal"){const a=Oe(),u=a.exec("SELECT COALESCE(MAX(sort_order), 0) FROM steps WHERE quest_id = ?",[s])[0].values[0][0]+1;a.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[s,e,i,u]);const m=a.exec("SELECT last_insert_rowid()");return await Je(),m[0].values[0][0]}async function ZS(s){Oe().run("UPDATE steps SET status = 'completed', completed_at = datetime('now') WHERE id = ?",[s]),await Je()}async function JS(s){Oe().run("UPDATE steps SET status = 'pending', completed_at = NULL WHERE id = ?",[s]),await Je()}async function ew(s){Oe().run("DELETE FROM steps WHERE id = ?",[s]),await Je()}async function tw(s){const e=Oe();e.run("DELETE FROM steps WHERE quest_id = ?",[s]),e.run("DELETE FROM quests WHERE id = ?",[s]),await Je()}async function nw(s){const e=Oe(),i=zm(s);for(const a of i)e.run("DELETE FROM steps WHERE quest_id = ?",[a.id]);e.run("DELETE FROM quests WHERE goal_id = ?",[s]),e.run("DELETE FROM goals WHERE id = ?",[s]),await Je()}function iw(s){const i=Oe().exec(`SELECT q.id, q.goal_id, q.title, q.description, q.priority, q.status, q.created_at, q.completed_at,
            d.name as domain_name, d.icon as domain_icon, d.color as domain_color, g.title as goal_title
     FROM quests q
     JOIN goals g ON q.goal_id = g.id
     JOIN domains d ON g.domain_id = d.id
     WHERE q.id = ?`,[s]);if(!i.length)return null;const a=i[0].values[0];return{id:a[0],goal_id:a[1],title:a[2],description:a[3],priority:a[4],status:a[5],created_at:a[6],completed_at:a[7],domain_name:a[8],domain_icon:a[9],domain_color:a[10],goal_title:a[11],steps:Pm(s)}}function sw(s,e){const i=XS(s,e),a=KE(),l=new Map(a.map(u=>[u.id,u]));return i.map(u=>{const m=l.get(u.domain_id),y=zm(u.id).map(E=>({...E,steps:Pm(E.id),domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color,goal_title:u.title}));return{...u,quests:y,domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color}})}function aw({grantXP:s,onStepComplete:e}){const[i,a]=ne.useState([]),[l]=ne.useState(()=>KE()),[u,m]=ne.useState(void 0),[y,E]=ne.useState("active"),g=ne.useCallback(()=>{a(sw(u,y))},[u,y]);ne.useEffect(()=>{g()},[g]);const w=ne.useCallback(async(ue,de,pe)=>{await YS(ue,de,pe),g()},[g]),x=ne.useCallback(async(ue,de,pe,xe)=>{await KS(ue,de,pe,xe),g()},[g]),I=ne.useCallback(async(ue,de,pe)=>{await WS(ue,de,pe),g()},[g]),$=ne.useCallback(async(ue,de,pe)=>{await ZS(ue);const xe=MS[pe]||10;await s(xe,"Completed step","step",ue),e&&e();const Ie=Pm(de);if(Ie.every(D=>D.status==="completed")&&Ie.length>0){await $S(de,"completed"),await s(LS,"Completed quest","quest",de);const D=iw(de);D&&zm(D.goal_id).every(O=>O.status==="completed")&&(await QS(D.goal_id,"completed"),await s(VS,"Completed goal","goal",D.goal_id))}g()},[g,s,e]),se=ne.useCallback(async ue=>{await JS(ue),g()},[g]),ee=ne.useCallback(async ue=>{await ew(ue),g()},[g]),z=ne.useCallback(async ue=>{await tw(ue),g()},[g]),Y=ne.useCallback(async ue=>{await nw(ue),g()},[g]);return{goals:i,domains:l,filterDomain:u,filterStatus:y,setFilterDomain:m,setFilterStatus:E,refresh:g,createGoal:w,createQuest:x,createStep:I,completeStep:$,uncompleteStep:se,deleteStep:ee,deleteQuest:z,deleteGoal:Y}}function rw(s){const e=Oe();let i="SELECT id, name, description, type, icon, duration_hours, stat_effects, created_at FROM buff_definitions";const a=[];i+=" ORDER BY name";const l=e.exec(i,a);return l.length?l[0].values.map(u=>({id:u[0],name:u[1],description:u[2],type:u[3],icon:u[4],duration_hours:u[5],stat_effects:u[6],created_at:u[7]})):[]}async function ow(s,e,i,a,l,u){const m=Oe();m.run("INSERT INTO buff_definitions (name, description, type, icon, duration_hours, stat_effects) VALUES (?, ?, ?, ?, ?, ?)",[s,e,i,a,l,u]);const y=m.exec("SELECT last_insert_rowid()");return await Je(),y[0].values[0][0]}async function lw(s){const e=Oe();e.run("DELETE FROM buff_log WHERE definition_id = ?",[s]),e.run("DELETE FROM buff_definitions WHERE id = ?",[s]),await Je()}async function uw(s){const e=Oe(),i=e.exec("SELECT duration_hours FROM buff_definitions WHERE id = ?",[s]);if(!i.length)throw new Error("Buff definition not found");const a=i[0].values[0][0],l=e.exec(`SELECT id, expires_at FROM buff_log
     WHERE definition_id = ? AND is_active = 1 AND expires_at > datetime('now')
     ORDER BY expires_at DESC LIMIT 1`,[s]);if(l.length&&l[0].values.length){const g=l[0].values[0][0];e.run(`UPDATE buff_log SET expires_at = datetime(expires_at, '+' || ? || ' hours')
       WHERE id = ?`,[a,g]);const x=e.exec("SELECT expires_at FROM buff_log WHERE id = ?",[g])[0].values[0][0];return await Je(),{logId:g,isStacked:!0,newExpiresAt:x}}e.run(`INSERT INTO buff_log (definition_id, expires_at)
     VALUES (?, datetime('now', '+' || ? || ' hours'))`,[s,a]);const m=e.exec("SELECT last_insert_rowid()")[0].values[0][0],E=e.exec("SELECT expires_at FROM buff_log WHERE id = ?",[m])[0].values[0][0];return await Je(),{logId:m,isStacked:!1,newExpiresAt:E}}async function cw(s){Oe().run("UPDATE buff_log SET is_active = 0 WHERE id = ?",[s]),await Je()}function fw(s){const i=Oe().exec(`SELECT DISTINCT date(activated_at) as d FROM buff_log
     WHERE definition_id = ? AND activated_at >= date('now', '-30 days')
     ORDER BY d DESC`,[s]);if(!i.length)return 0;let a=0;const l=new Date().toISOString().split("T")[0],u=i[0].values.map(E=>E[0]),m=new Date(Date.now()-864e5).toISOString().split("T")[0];if(!u.includes(l)&&!u.includes(m))return 0;let y=u.includes(l)?l:m;for(const E of u)if(E===y){a++;const g=new Date(y+"T00:00:00");g.setDate(g.getDate()-1),y=g.toISOString().split("T")[0]}return a}function vf(s){try{return JSON.parse(s)}catch{return{}}}async function hw(){Oe().run("UPDATE buff_log SET is_active = 0 WHERE is_active = 1 AND expires_at <= datetime('now')"),await Je()}function dw(){const e=Oe().exec(`
    SELECT bl.id, bl.definition_id, bl.activated_at, bl.expires_at, bl.is_active,
           bd.name, bd.description, bd.type, bd.icon, bd.stat_effects
    FROM buff_log bl
    JOIN buff_definitions bd ON bl.definition_id = bd.id
    WHERE bl.is_active = 1 AND bl.expires_at > datetime('now')
    ORDER BY bl.activated_at DESC
  `);return e.length?e[0].values.map(i=>({id:i[0],definition_id:i[1],activated_at:i[2],expires_at:i[3],is_active:!!i[4],name:i[5],description:i[6],type:i[7],icon:i[8],stat_effects:i[9]})):[]}function mw(s){const e={stamina:10,willpower:10,health:10,focus:10,charisma:10};for(const i of s){const a=vf(i.stat_effects);for(const[l,u]of Object.entries(a))l in e&&(e[l]+=u)}return e}function pw({grantXP:s,scheduleBuffExpiry:e,cancelBuffExpiry:i,onBuffActivated:a}){const[l,u]=ne.useState([]),[m,y]=ne.useState([]),[E,g]=ne.useState({stamina:10,willpower:10,health:10,focus:10,charisma:10}),w=ne.useCallback(async()=>{await hw(),u(rw());const ee=dw();y(ee),g(mw(ee))},[]);ne.useEffect(()=>{const ee=setInterval(w,6e4);return()=>clearInterval(ee)},[w]);const x=ne.useCallback(async(ee,z,Y,ue,de,pe)=>{await ow(ee,z,Y,ue,de,pe),w()},[w]),I=ne.useCallback(async ee=>{await lw(ee),w()},[w]),$=ne.useCallback(async ee=>{const z=await uw(ee),Y=l.find(ue=>ue.id===ee);if(Y&&Y.type==="buff"&&!z.isStacked){await s(US,`Activated buff: ${Y.name}`,"buff",z.logId);const ue=fw(ee);ue>0&&ue%7===0&&await s(qS,`7-day streak: ${Y.name}`,"streak",ee)}Y&&a&&a(Y.type),Y&&e&&(z.isStacked&&i&&await i(z.logId),await e(z.logId,Y.name,Y.type,z.newExpiresAt)),w()},[w,l,s,e,i,a]),se=ne.useCallback(async ee=>{i&&await i(ee),await cw(ee),w()},[w,i]);return{definitions:l,activeBuffs:m,stats:E,refresh:w,createDefinition:x,deleteDefinition:I,activateBuff:$,deactivateBuff:se}}function Gd(s,e,i){const a=Oe();let l=`SELECT id, title, description, date, start_time, end_time, quest_id, step_id, is_completed, created_at, reminder_minutes
             FROM planner_events WHERE 1=1`;const u=[];s&&(l+=" AND date = ?",u.push(s)),e&&(l+=" AND date >= ?",u.push(e)),i&&(l+=" AND date <= ?",u.push(i)),l+=" ORDER BY date, start_time, id";const m=a.exec(l,u);return m.length?m[0].values.map(y=>({id:y[0],title:y[1],description:y[2],date:y[3],start_time:y[4],end_time:y[5],quest_id:y[6],step_id:y[7],is_completed:!!y[8],created_at:y[9],reminder_minutes:y[10]})):[]}async function gw(s,e,i="",a=null,l=null,u=null,m=null,y=null){const E=Oe();E.run(`INSERT INTO planner_events (title, description, date, start_time, end_time, quest_id, step_id, reminder_minutes)
     VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,[s,i,e,a,l,u,m,y]);const g=E.exec("SELECT last_insert_rowid()");return await Je(),g[0].values[0][0]}async function _w(s){Oe().run("UPDATE planner_events SET is_completed = 1 WHERE id = ?",[s]),await Je()}async function yw(s){Oe().run("UPDATE planner_events SET is_completed = 0 WHERE id = ?",[s]),await Je()}async function vw(s){Oe().run("DELETE FROM planner_events WHERE id = ?",[s]),await Je()}function Jc(){return new Date().toISOString().split("T")[0]}function Xd(s){return new Date(s+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function pv(s){const[e,i]=s.split(":").map(Number),a=e>=12?"PM":"AM";return`${e%12||12}:${i.toString().padStart(2,"0")} ${a}`}function Hm(s){const e=new Date(s+"T00:00:00"),i=e.getDay(),a=new Date(e);a.setDate(e.getDate()-(i+6)%7);const l=[];for(let u=0;u<7;u++){const m=new Date(a);m.setDate(a.getDate()+u),l.push(m.toISOString().split("T")[0])}return l}function Ew(s,e){const i=new Date(s,e,1),a=new Date(s,e+1,0),l=(i.getDay()+6)%7,u=[];let m=new Array(l).fill(null);for(let y=1;y<=a.getDate();y++){const E=new Date(s,e,y);m.push(E.toISOString().split("T")[0]),m.length===7&&(u.push(m),m=[])}if(m.length>0){for(;m.length<7;)m.push(null);u.push(m)}return u}function gv(s,e){const i=new Date(s+"T00:00:00");return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]}function Tw(s){return new Date(2e3,s).toLocaleDateString("en-US",{month:"long"})}function bw({grantXP:s,scheduleEventReminder:e,cancelEventReminder:i,onEventComplete:a}){const[l,u]=ne.useState("day"),[m,y]=ne.useState(Jc()),[E,g]=ne.useState([]),w=ne.useCallback(()=>{if(l==="day")g(Gd(m));else if(l==="week"){const Y=Hm(m);g(Gd(void 0,Y[0],Y[6]))}else{const Y=new Date(m+"T00:00:00"),ue=new Date(Y.getFullYear(),Y.getMonth(),1).toISOString().split("T")[0],de=new Date(Y.getFullYear(),Y.getMonth()+1,0).toISOString().split("T")[0];g(Gd(void 0,ue,de))}},[l,m]);ne.useEffect(()=>{w()},[w]);const x=ne.useCallback(async(Y,ue,de,pe,xe,Ie,k,D)=>{const j=await gw(Y,ue,de,pe,xe,Ie,k,D);D!=null&&pe&&e&&await e(j,Y,ue,pe,D),w()},[w,e]),I=ne.useCallback(async Y=>{await _w(Y);const ue=E.find(de=>de.id===Y);ue&&(ue.quest_id||ue.step_id)&&await s(10,`Completed linked event: ${ue.title}`,"event",Y),a&&a(),i&&await i(Y),w()},[w,E,s,i,a]),$=ne.useCallback(async Y=>{await yw(Y),w()},[w]),se=ne.useCallback(async Y=>{i&&await i(Y),await vw(Y),w()},[w,i]),ee=ne.useCallback(Y=>{if(l==="day")y(gv(m,Y));else if(l==="week")y(gv(m,Y*7));else{const ue=new Date(m+"T00:00:00");ue.setMonth(ue.getMonth()+Y),y(ue.toISOString().split("T")[0])}},[l,m]),z=ne.useCallback(()=>y(Jc()),[]);return{view:l,setView:u,currentDate:m,setCurrentDate:y,events:E,refresh:w,createEvent:x,completeEvent:I,uncompleteEvent:$,deleteEvent:se,navigateDay:ee,goToToday:z}}const Sw=1440*60*1e3,$E="Goal Game Backup",Cu="github_gist_token",ha="github_gist_id",Ef="github_last_backup";function ww(){return!!localStorage.getItem(Cu)}function WE(){return!!localStorage.getItem(Cu)}function Tf(){return localStorage.getItem(Cu)}function Aw(s){localStorage.setItem(Cu,s)}function Nw(){localStorage.removeItem(Cu),localStorage.removeItem(ha),localStorage.removeItem(Ef)}function Rw(){const s=localStorage.getItem(Ef);return s?Date.now()-Number(s)>Sw:!0}function ZE(){const s=localStorage.getItem(Ef);return s?new Date(Number(s)):null}function Cw(s){let e="";for(let i=0;i<s.length;i++)e+=String.fromCharCode(s[i]);return btoa(e)}function xw(s){const e=atob(s),i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}async function JE(s){try{const e=await fetch("https://api.github.com/gists?per_page=100",{headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json"}});if(!e.ok)return null;const i=await e.json();for(const a of i)if(a.description===$E)return a.id;return null}catch{return null}}async function Dw(s){const e=localStorage.getItem(ha);if(e){if((await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json"}})).ok)return e;localStorage.removeItem(ha)}const i=await JE(s);if(i)return localStorage.setItem(ha,i),i;const a=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({description:$E,public:!1,files:{"README.md":{content:`# Goal Game Backups

This gist contains automatic backups of your Goal Game data.

Backups are stored as base64-encoded database files.`}}})});if(!a.ok)throw new Error("Failed to create backup gist");const l=await a.json();return localStorage.setItem(ha,l.id),l.id}async function e0(s){const e=Tf();if(!e)return{success:!1,error:"Not authenticated"};try{const i=await Dw(e),l=`backup-${new Date().toISOString().replace(/[:.]/g,"-")}.db.b64`,u=Cw(s),m=await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:{[l]:{content:u}}})});return m.ok?(localStorage.setItem(Ef,String(Date.now())),{success:!0,fileName:l}):{success:!1,error:(await m.json()).message||"Upload failed"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async function t0(){const s=Tf();if(!s)return[];let e=localStorage.getItem(ha);if(!e)if(e=await JE(s),e)localStorage.setItem(ha,e);else return[];try{const i=await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json"}});if(!i.ok)return[];const a=await i.json(),l=[];for(const[u,m]of Object.entries(a.files))u.endsWith(".db.b64")&&l.push({fileName:u,size:m.size});return l.sort((u,m)=>m.fileName.localeCompare(u.fileName))}catch{return[]}}async function Iw(s){const e=Tf();if(!e)return null;const i=localStorage.getItem(ha);if(!i)return null;try{const a=await fetch(`https://api.github.com/gists/${i}`,{headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json"}});if(!a.ok)return null;const u=(await a.json()).files[s];if(!u)return null;let m;return u.truncated?m=await(await fetch(u.raw_url,{headers:{Authorization:`Bearer ${e}`}})).text():m=u.content,xw(m)}catch{return null}}async function Ow(s){try{return(await fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json"}})).ok}catch{return!1}}async function n0(s=7){const e=Tf();if(!e)return;const i=localStorage.getItem(ha);if(i)try{const a=await t0();if(a.length<=s)return;const l=a.slice(s),u={};for(const m of l)u[m.fileName]=null;await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:u})})}catch{}}function kw(){const[s,e]=ne.useState("idle"),[i,a]=ne.useState(null),[l,u]=ne.useState(""),m=ne.useRef(!1);return ne.useEffect(()=>{if(m.current)return;m.current=!0;const E=setTimeout(async()=>{if(ww()&&WE()){if(!Rw()){a(ZE());return}e("backing-up"),u("Auto-backing up to GitHub...");try{const g=await qm(),w=await e0(g);w.success?(e("success"),u("Auto-backup complete!"),a(new Date),await n0(7),setTimeout(()=>{e("idle"),u("")},5e3)):(e("error"),u(`Auto-backup failed: ${w.error}`))}catch(g){e("error"),u(`Auto-backup failed: ${g instanceof Error?g.message:"Unknown error"}`)}}},3e3);return()=>clearTimeout(E)},[]),{status:s,lastBackup:i,message:l}}const jw=()=>{};var _v={};const i0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Mw=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],m=s[i++],y=s[i++],E=((l&7)<<18|(u&63)<<12|(m&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(E>>10)),e[a++]=String.fromCharCode(56320+(E&1023))}else{const u=s[i++],m=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|m&63)}}return e.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const u=s[l],m=l+1<s.length,y=m?s[l+1]:0,E=l+2<s.length,g=E?s[l+2]:0,w=u>>2,x=(u&3)<<4|y>>4;let I=(y&15)<<2|g>>6,$=g&63;E||($=64,m||(I=64)),a.push(i[w],i[x],i[I],i[$])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(i0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Mw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const g=l<s.length?i[s.charAt(l)]:64;++l;const x=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||y==null||g==null||x==null)throw new Lw;const I=u<<2|y>>4;if(a.push(I),g!==64){const $=y<<4&240|g>>2;if(a.push($),x!==64){const se=g<<6&192|x;a.push(se)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Lw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vw=function(s){const e=i0(s);return s0.encodeByteArray(e,!0)},ef=function(s){return Vw(s).replace(/\./g,"")},Uw=function(s){try{return s0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bw=()=>qw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof _v>"u")return;const s=_v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Pw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Uw(s[1]);return e&&JSON.parse(e)},Fm=()=>{try{return jw()||Bw()||zw()||Pw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Hw=s=>Fm()?.emulatorHosts?.[s],Fw=s=>{const e=Hw(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},a0=()=>Fm()?.config;class Gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Gm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xw(s){return(await fetch(s,{credentials:"include"})).ok}function Yw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ef(JSON.stringify(i)),ef(JSON.stringify(m)),""].join(".")}const mu={};function Qw(){const s={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?s.emulator.push(e):s.prod.push(e);return s}function Kw(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let yv=!1;function $w(s,e){if(typeof window>"u"||typeof document>"u"||!Gm(window.location.host)||mu[s]===e||mu[s]||yv)return;mu[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",u=Qw().prod.length>0;function m(){const I=document.getElementById(a);I&&I.remove()}function y(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function E(I,$){I.setAttribute("width","24"),I.setAttribute("id",$),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{yv=!0,m()},I}function w(I,$){I.setAttribute("id",$),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function x(){const I=Kw(a),$=i("text"),se=document.getElementById($)||document.createElement("span"),ee=i("learnmore"),z=document.getElementById(ee)||document.createElement("a"),Y=i("preprendIcon"),ue=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const de=I.element;y(de),w(z,ee);const pe=g();E(ue,Y),de.append(ue,se,z,pe),document.body.appendChild(de)}u?(se.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,se.innerText="Preview backend running in this workspace."),se.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Ww(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){const s=Fm()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jw(){return!Zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r0(){try{return typeof indexedDB=="object"}catch{return!1}}function o0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}function eA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const tA="FirebaseError";class Zr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=tA,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}}class bf{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],m=u?nA(u,a):"Error",y=`${this.serviceName}: ${m} (${l}).`;return new Zr(l,y,a)}}function nA(s,e){return s.replace(iA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const iA=/\{\$([^}]+)}/g;function tf(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const u=s[l],m=e[l];if(vv(u)&&vv(m)){if(!tf(u,m))return!1}else if(u!==m)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function vv(s){return s!==null&&typeof s=="object"}function pa(s){return s&&s._delegate?s._delegate:s}class ga{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gr="[DEFAULT]";class sA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Gw;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rA(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);a===y&&m.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(s){return s===Gr?void 0:s}function rA(s){return s.instantiationMode==="EAGER"}class oA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new sA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(mt||(mt={}));const lA={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},uA=mt.INFO,cA={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},fA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=cA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l0{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=fA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const hA=(s,e)=>e.some(i=>s instanceof i);let Ev,Tv;function dA(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,dm=new WeakMap,c0=new WeakMap,Yd=new WeakMap,Xm=new WeakMap;function pA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",m)},u=()=>{i(da(s.result)),l()},m=()=>{a(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&u0.set(i,s)}).catch(()=>{}),Xm.set(e,s),e}function gA(s){if(dm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",m),s.removeEventListener("abort",m)},u=()=>{i(),l()},m=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",m),s.addEventListener("abort",m)});dm.set(s,e)}let mm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return dm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||c0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return da(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function _A(s){mm=s(mm)}function yA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Qd(this),e,...i);return c0.set(a,e.sort?e.sort():[e]),da(a)}:mA().includes(s)?function(...e){return s.apply(Qd(this),e),da(u0.get(this))}:function(...e){return da(s.apply(Qd(this),e))}}function vA(s){return typeof s=="function"?yA(s):(s instanceof IDBTransaction&&gA(s),hA(s,dA())?new Proxy(s,mm):s)}function da(s){if(s instanceof IDBRequest)return pA(s);if(Yd.has(s))return Yd.get(s);const e=vA(s);return e!==s&&(Yd.set(s,e),Xm.set(e,s)),e}const Qd=s=>Xm.get(s);function Sf(s,e,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const m=indexedDB.open(s,e),y=da(m);return a&&m.addEventListener("upgradeneeded",E=>{a(da(m.result),E.oldVersion,E.newVersion,da(m.transaction),E)}),i&&m.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),y.then(E=>{u&&E.addEventListener("close",()=>u()),l&&E.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),y}function Kd(s,{blocked:e}={}){const i=indexedDB.deleteDatabase(s);return e&&i.addEventListener("blocked",a=>e(a.oldVersion,a)),da(i).then(()=>{})}const EA=["get","getKey","getAll","getAllKeys","count"],TA=["put","add","delete","clear"],$d=new Map;function bv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=TA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||EA.includes(i)))return;const u=async function(m,...y){const E=this.transaction(m,l?"readwrite":"readonly");let g=E.store;return a&&(g=g.index(y.shift())),(await Promise.all([g[i](...y),l&&E.done]))[0]};return $d.set(e,u),u}_A(s=>({...s,get:(e,i,a)=>bv(e,i)||s.get(e,i,a),has:(e,i)=>!!bv(e,i)||s.has(e,i)}));class bA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(SA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function SA(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",Sv="0.14.7";const _a=new l0("@firebase/app"),wA="@firebase/app-compat",AA="@firebase/analytics-compat",NA="@firebase/analytics",RA="@firebase/app-check-compat",CA="@firebase/app-check",xA="@firebase/auth",DA="@firebase/auth-compat",IA="@firebase/database",OA="@firebase/data-connect",kA="@firebase/database-compat",jA="@firebase/functions",MA="@firebase/functions-compat",LA="@firebase/installations",VA="@firebase/installations-compat",UA="@firebase/messaging",qA="@firebase/messaging-compat",BA="@firebase/performance",zA="@firebase/performance-compat",PA="@firebase/remote-config",HA="@firebase/remote-config-compat",FA="@firebase/storage",GA="@firebase/storage-compat",XA="@firebase/firestore",YA="@firebase/ai",QA="@firebase/firestore-compat",KA="firebase",$A="12.8.0";const gm="[DEFAULT]",WA={[pm]:"fire-core",[wA]:"fire-core-compat",[NA]:"fire-analytics",[AA]:"fire-analytics-compat",[CA]:"fire-app-check",[RA]:"fire-app-check-compat",[xA]:"fire-auth",[DA]:"fire-auth-compat",[IA]:"fire-rtdb",[OA]:"fire-data-connect",[kA]:"fire-rtdb-compat",[jA]:"fire-fn",[MA]:"fire-fn-compat",[LA]:"fire-iid",[VA]:"fire-iid-compat",[UA]:"fire-fcm",[qA]:"fire-fcm-compat",[BA]:"fire-perf",[zA]:"fire-perf-compat",[PA]:"fire-rc",[HA]:"fire-rc-compat",[FA]:"fire-gcs",[GA]:"fire-gcs-compat",[XA]:"fire-fst",[QA]:"fire-fst-compat",[YA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};const nf=new Map,ZA=new Map,_m=new Map;function wv(s,e){try{s.container.addComponent(e)}catch(i){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function or(s){const e=s.name;if(_m.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,s);for(const i of nf.values())wv(i,s);for(const i of ZA.values())wv(i,s);return!0}function wf(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function JA(s){return s==null?!1:s.settings!==void 0}const e2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new bf("app","Firebase",e2);class t2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const n2=$A;function f0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:gm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=a0()),!i)throw ir.create("no-options");const u=nf.get(l);if(u){if(tf(i,u.options)&&tf(a,u.config))return u;throw ir.create("duplicate-app",{appName:l})}const m=new oA(l);for(const E of _m.values())m.addComponent(E);const y=new t2(i,a,m);return nf.set(l,y),y}function h0(s=gm){const e=nf.get(s);if(!e&&s===gm&&a0())return f0();if(!e)throw ir.create("no-app",{appName:s});return e}function Os(s,e,i){let a=WA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const m=[`Unable to register library "${a}" with version "${e}":`];l&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(m.join(" "));return}or(new ga(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const i2="firebase-heartbeat-database",s2=1,vu="firebase-heartbeat-store";let Wd=null;function d0(){return Wd||(Wd=Sf(i2,s2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(vu)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),Wd}async function a2(s){try{const i=(await d0()).transaction(vu),a=await i.objectStore(vu).get(m0(s));return await i.done,a}catch(e){if(e instanceof Zr)_a.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});_a.warn(i.message)}}}async function Av(s,e){try{const a=(await d0()).transaction(vu,"readwrite");await a.objectStore(vu).put(e,m0(s)),await a.done}catch(i){if(i instanceof Zr)_a.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});_a.warn(a.message)}}}function m0(s){return`${s.name}!${s.options.appId}`}const r2=1024,o2=30;class l2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new c2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>o2){const l=f2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_a.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nv(),{heartbeatsToSend:i,unsentEntries:a}=u2(this._heartbeatsCache.heartbeats),l=ef(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return _a.warn(e),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function u2(s,e=r2){const i=[];let a=s.slice();for(const l of s){const u=i.find(m=>m.agent===l.agent);if(u){if(u.dates.push(l.date),Rv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Rv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class c2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r0()?o0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await a2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Rv(s){return ef(JSON.stringify({version:2,heartbeats:s})).length}function f2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function h2(s){or(new ga("platform-logger",e=>new bA(e),"PRIVATE")),or(new ga("heartbeat",e=>new l2(e),"PRIVATE")),Os(pm,Sv,s),Os(pm,Sv,"esm2020"),Os("fire-js","")}h2("");var d2="firebase",m2="12.8.0";Os(d2,m2,"app");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,p0;(function(){var s;function e(k,D){function j(){}j.prototype=D.prototype,k.F=D.prototype,k.prototype=new j,k.prototype.constructor=k,k.D=function(V,O,U){for(var C=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)C[ve-2]=arguments[ve];return D.prototype[O].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,D,j){j||(j=0);const V=Array(16);if(typeof D=="string")for(var O=0;O<16;++O)V[O]=D.charCodeAt(j++)|D.charCodeAt(j++)<<8|D.charCodeAt(j++)<<16|D.charCodeAt(j++)<<24;else for(O=0;O<16;++O)V[O]=D[j++]|D[j++]<<8|D[j++]<<16|D[j++]<<24;D=k.g[0],j=k.g[1],O=k.g[2];let U=k.g[3],C;C=D+(U^j&(O^U))+V[0]+3614090360&4294967295,D=j+(C<<7&4294967295|C>>>25),C=U+(O^D&(j^O))+V[1]+3905402710&4294967295,U=D+(C<<12&4294967295|C>>>20),C=O+(j^U&(D^j))+V[2]+606105819&4294967295,O=U+(C<<17&4294967295|C>>>15),C=j+(D^O&(U^D))+V[3]+3250441966&4294967295,j=O+(C<<22&4294967295|C>>>10),C=D+(U^j&(O^U))+V[4]+4118548399&4294967295,D=j+(C<<7&4294967295|C>>>25),C=U+(O^D&(j^O))+V[5]+1200080426&4294967295,U=D+(C<<12&4294967295|C>>>20),C=O+(j^U&(D^j))+V[6]+2821735955&4294967295,O=U+(C<<17&4294967295|C>>>15),C=j+(D^O&(U^D))+V[7]+4249261313&4294967295,j=O+(C<<22&4294967295|C>>>10),C=D+(U^j&(O^U))+V[8]+1770035416&4294967295,D=j+(C<<7&4294967295|C>>>25),C=U+(O^D&(j^O))+V[9]+2336552879&4294967295,U=D+(C<<12&4294967295|C>>>20),C=O+(j^U&(D^j))+V[10]+4294925233&4294967295,O=U+(C<<17&4294967295|C>>>15),C=j+(D^O&(U^D))+V[11]+2304563134&4294967295,j=O+(C<<22&4294967295|C>>>10),C=D+(U^j&(O^U))+V[12]+1804603682&4294967295,D=j+(C<<7&4294967295|C>>>25),C=U+(O^D&(j^O))+V[13]+4254626195&4294967295,U=D+(C<<12&4294967295|C>>>20),C=O+(j^U&(D^j))+V[14]+2792965006&4294967295,O=U+(C<<17&4294967295|C>>>15),C=j+(D^O&(U^D))+V[15]+1236535329&4294967295,j=O+(C<<22&4294967295|C>>>10),C=D+(O^U&(j^O))+V[1]+4129170786&4294967295,D=j+(C<<5&4294967295|C>>>27),C=U+(j^O&(D^j))+V[6]+3225465664&4294967295,U=D+(C<<9&4294967295|C>>>23),C=O+(D^j&(U^D))+V[11]+643717713&4294967295,O=U+(C<<14&4294967295|C>>>18),C=j+(U^D&(O^U))+V[0]+3921069994&4294967295,j=O+(C<<20&4294967295|C>>>12),C=D+(O^U&(j^O))+V[5]+3593408605&4294967295,D=j+(C<<5&4294967295|C>>>27),C=U+(j^O&(D^j))+V[10]+38016083&4294967295,U=D+(C<<9&4294967295|C>>>23),C=O+(D^j&(U^D))+V[15]+3634488961&4294967295,O=U+(C<<14&4294967295|C>>>18),C=j+(U^D&(O^U))+V[4]+3889429448&4294967295,j=O+(C<<20&4294967295|C>>>12),C=D+(O^U&(j^O))+V[9]+568446438&4294967295,D=j+(C<<5&4294967295|C>>>27),C=U+(j^O&(D^j))+V[14]+3275163606&4294967295,U=D+(C<<9&4294967295|C>>>23),C=O+(D^j&(U^D))+V[3]+4107603335&4294967295,O=U+(C<<14&4294967295|C>>>18),C=j+(U^D&(O^U))+V[8]+1163531501&4294967295,j=O+(C<<20&4294967295|C>>>12),C=D+(O^U&(j^O))+V[13]+2850285829&4294967295,D=j+(C<<5&4294967295|C>>>27),C=U+(j^O&(D^j))+V[2]+4243563512&4294967295,U=D+(C<<9&4294967295|C>>>23),C=O+(D^j&(U^D))+V[7]+1735328473&4294967295,O=U+(C<<14&4294967295|C>>>18),C=j+(U^D&(O^U))+V[12]+2368359562&4294967295,j=O+(C<<20&4294967295|C>>>12),C=D+(j^O^U)+V[5]+4294588738&4294967295,D=j+(C<<4&4294967295|C>>>28),C=U+(D^j^O)+V[8]+2272392833&4294967295,U=D+(C<<11&4294967295|C>>>21),C=O+(U^D^j)+V[11]+1839030562&4294967295,O=U+(C<<16&4294967295|C>>>16),C=j+(O^U^D)+V[14]+4259657740&4294967295,j=O+(C<<23&4294967295|C>>>9),C=D+(j^O^U)+V[1]+2763975236&4294967295,D=j+(C<<4&4294967295|C>>>28),C=U+(D^j^O)+V[4]+1272893353&4294967295,U=D+(C<<11&4294967295|C>>>21),C=O+(U^D^j)+V[7]+4139469664&4294967295,O=U+(C<<16&4294967295|C>>>16),C=j+(O^U^D)+V[10]+3200236656&4294967295,j=O+(C<<23&4294967295|C>>>9),C=D+(j^O^U)+V[13]+681279174&4294967295,D=j+(C<<4&4294967295|C>>>28),C=U+(D^j^O)+V[0]+3936430074&4294967295,U=D+(C<<11&4294967295|C>>>21),C=O+(U^D^j)+V[3]+3572445317&4294967295,O=U+(C<<16&4294967295|C>>>16),C=j+(O^U^D)+V[6]+76029189&4294967295,j=O+(C<<23&4294967295|C>>>9),C=D+(j^O^U)+V[9]+3654602809&4294967295,D=j+(C<<4&4294967295|C>>>28),C=U+(D^j^O)+V[12]+3873151461&4294967295,U=D+(C<<11&4294967295|C>>>21),C=O+(U^D^j)+V[15]+530742520&4294967295,O=U+(C<<16&4294967295|C>>>16),C=j+(O^U^D)+V[2]+3299628645&4294967295,j=O+(C<<23&4294967295|C>>>9),C=D+(O^(j|~U))+V[0]+4096336452&4294967295,D=j+(C<<6&4294967295|C>>>26),C=U+(j^(D|~O))+V[7]+1126891415&4294967295,U=D+(C<<10&4294967295|C>>>22),C=O+(D^(U|~j))+V[14]+2878612391&4294967295,O=U+(C<<15&4294967295|C>>>17),C=j+(U^(O|~D))+V[5]+4237533241&4294967295,j=O+(C<<21&4294967295|C>>>11),C=D+(O^(j|~U))+V[12]+1700485571&4294967295,D=j+(C<<6&4294967295|C>>>26),C=U+(j^(D|~O))+V[3]+2399980690&4294967295,U=D+(C<<10&4294967295|C>>>22),C=O+(D^(U|~j))+V[10]+4293915773&4294967295,O=U+(C<<15&4294967295|C>>>17),C=j+(U^(O|~D))+V[1]+2240044497&4294967295,j=O+(C<<21&4294967295|C>>>11),C=D+(O^(j|~U))+V[8]+1873313359&4294967295,D=j+(C<<6&4294967295|C>>>26),C=U+(j^(D|~O))+V[15]+4264355552&4294967295,U=D+(C<<10&4294967295|C>>>22),C=O+(D^(U|~j))+V[6]+2734768916&4294967295,O=U+(C<<15&4294967295|C>>>17),C=j+(U^(O|~D))+V[13]+1309151649&4294967295,j=O+(C<<21&4294967295|C>>>11),C=D+(O^(j|~U))+V[4]+4149444226&4294967295,D=j+(C<<6&4294967295|C>>>26),C=U+(j^(D|~O))+V[11]+3174756917&4294967295,U=D+(C<<10&4294967295|C>>>22),C=O+(D^(U|~j))+V[2]+718787259&4294967295,O=U+(C<<15&4294967295|C>>>17),C=j+(U^(O|~D))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+D&4294967295,k.g[1]=k.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+U&4294967295}a.prototype.v=function(k,D){D===void 0&&(D=k.length);const j=D-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<D;){if(O==0)for(;U<=j;)l(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<D;)if(V[O++]=k.charCodeAt(U++),O==this.blockSize){l(this,V),O=0;break}}else for(;U<D;)if(V[O++]=k[U++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=D},a.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var D=1;D<k.length-8;++D)k[D]=0;D=this.o*8;for(var j=k.length-8;j<k.length;++j)k[j]=D&255,D/=256;for(this.v(k),k=Array(16),D=0,j=0;j<4;++j)for(let V=0;V<32;V+=8)k[D++]=this.g[j]>>>V&255;return k};function u(k,D){var j=y;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=D(k)}function m(k,D){this.h=D;const j=[];let V=!0;for(let O=k.length-1;O>=0;O--){const U=k[O]|0;V&&U==D||(j[O]=U,V=!1)}this.g=j}var y={};function E(k){return-128<=k&&k<128?u(k,function(D){return new m([D|0],D<0?-1:0)}):new m([k|0],k<0?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return x;if(k<0)return z(g(-k));const D=[];let j=1;for(let V=0;k>=j;V++)D[V]=k/j|0,j*=4294967296;return new m(D,0)}function w(k,D){if(k.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k.charAt(0)=="-")return z(w(k.substring(1),D));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=g(Math.pow(D,8));let V=x;for(let U=0;U<k.length;U+=8){var O=Math.min(8,k.length-U);const C=parseInt(k.substring(U,U+O),D);O<8?(O=g(Math.pow(D,O)),V=V.j(O).add(g(C))):(V=V.j(j),V=V.add(g(C)))}return V}var x=E(0),I=E(1),$=E(16777216);s=m.prototype,s.m=function(){if(ee(this))return-z(this).m();let k=0,D=1;for(let j=0;j<this.g.length;j++){const V=this.i(j);k+=(V>=0?V:4294967296+V)*D,D*=4294967296}return k},s.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(se(this))return"0";if(ee(this))return"-"+z(this).toString(k);const D=g(Math.pow(k,6));var j=this;let V="";for(;;){const O=pe(j,D).g;j=Y(j,O.j(D));let U=((j.g.length>0?j.g[0]:j.h)>>>0).toString(k);if(j=O,se(j))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function se(k){if(k.h!=0)return!1;for(let D=0;D<k.g.length;D++)if(k.g[D]!=0)return!1;return!0}function ee(k){return k.h==-1}s.l=function(k){return k=Y(this,k),ee(k)?-1:se(k)?0:1};function z(k){const D=k.g.length,j=[];for(let V=0;V<D;V++)j[V]=~k.g[V];return new m(j,~k.h).add(I)}s.abs=function(){return ee(this)?z(this):this},s.add=function(k){const D=Math.max(this.g.length,k.g.length),j=[];let V=0;for(let O=0;O<=D;O++){let U=V+(this.i(O)&65535)+(k.i(O)&65535),C=(U>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);V=C>>>16,U&=65535,C&=65535,j[O]=C<<16|U}return new m(j,j[j.length-1]&-2147483648?-1:0)};function Y(k,D){return k.add(z(D))}s.j=function(k){if(se(this)||se(k))return x;if(ee(this))return ee(k)?z(this).j(z(k)):z(z(this).j(k));if(ee(k))return z(this.j(z(k)));if(this.l($)<0&&k.l($)<0)return g(this.m()*k.m());const D=this.g.length+k.g.length,j=[];for(var V=0;V<2*D;V++)j[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<k.g.length;O++){const U=this.i(V)>>>16,C=this.i(V)&65535,ve=k.i(O)>>>16,Tt=k.i(O)&65535;j[2*V+2*O]+=C*Tt,ue(j,2*V+2*O),j[2*V+2*O+1]+=U*Tt,ue(j,2*V+2*O+1),j[2*V+2*O+1]+=C*ve,ue(j,2*V+2*O+1),j[2*V+2*O+2]+=U*ve,ue(j,2*V+2*O+2)}for(k=0;k<D;k++)j[k]=j[2*k+1]<<16|j[2*k];for(k=D;k<2*D;k++)j[k]=0;return new m(j,0)};function ue(k,D){for(;(k[D]&65535)!=k[D];)k[D+1]+=k[D]>>>16,k[D]&=65535,D++}function de(k,D){this.g=k,this.h=D}function pe(k,D){if(se(D))throw Error("division by zero");if(se(k))return new de(x,x);if(ee(k))return D=pe(z(k),D),new de(z(D.g),z(D.h));if(ee(D))return D=pe(k,z(D)),new de(z(D.g),D.h);if(k.g.length>30){if(ee(k)||ee(D))throw Error("slowDivide_ only works with positive integers.");for(var j=I,V=D;V.l(k)<=0;)j=xe(j),V=xe(V);var O=Ie(j,1),U=Ie(V,1);for(V=Ie(V,2),j=Ie(j,2);!se(V);){var C=U.add(V);C.l(k)<=0&&(O=O.add(j),U=C),V=Ie(V,1),j=Ie(j,1)}return D=Y(k,O.j(D)),new de(O,D)}for(O=x;k.l(D)>=0;){for(j=Math.max(1,Math.floor(k.m()/D.m())),V=Math.ceil(Math.log(j)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=g(j),C=U.j(D);ee(C)||C.l(k)>0;)j-=V,U=g(j),C=U.j(D);se(U)&&(U=I),O=O.add(U),k=Y(k,C)}return new de(O,k)}s.B=function(k){return pe(this,k).h},s.and=function(k){const D=Math.max(this.g.length,k.g.length),j=[];for(let V=0;V<D;V++)j[V]=this.i(V)&k.i(V);return new m(j,this.h&k.h)},s.or=function(k){const D=Math.max(this.g.length,k.g.length),j=[];for(let V=0;V<D;V++)j[V]=this.i(V)|k.i(V);return new m(j,this.h|k.h)},s.xor=function(k){const D=Math.max(this.g.length,k.g.length),j=[];for(let V=0;V<D;V++)j[V]=this.i(V)^k.i(V);return new m(j,this.h^k.h)};function xe(k){const D=k.g.length+1,j=[];for(let V=0;V<D;V++)j[V]=k.i(V)<<1|k.i(V-1)>>>31;return new m(j,k.h)}function Ie(k,D){const j=D>>5;D%=32;const V=k.g.length-j,O=[];for(let U=0;U<V;U++)O[U]=D>0?k.i(U+j)>>>D|k.i(U+j+1)<<32-D:k.i(U+j);return new m(O,k.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,p0=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=g,m.fromString=w,sr=m}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var g0,fu,_0,Xc,ym,y0,v0,E0;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var v=0;v<c.length;++v){var b=c[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function l(c,v){if(v)e:{var b=a;c=c.split(".");for(var R=0;R<c.length-1;R++){var X=c[R];if(!(X in b))break e;b=b[X]}c=c[c.length-1],R=b[c],v=v(R),v!=R&&v!=null&&e(b,c,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(v){var b=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&b.push([R,v[R]]);return b}});var u=u||{},m=this||self;function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function E(c,v,b){return c.call.apply(c.bind,arguments)}function g(c,v,b){return g=E,g.apply(null,arguments)}function w(c,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function x(c,v){function b(){}b.prototype=v.prototype,c.Z=v.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(R,X,J){for(var ge=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ge[Pe-2]=arguments[Pe];return v.prototype[X].apply(R,ge)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function $(c){const v=c.length;if(v>0){const b=Array(v);for(let R=0;R<v;R++)b[R]=c[R];return b}return[]}function se(c,v){for(let R=1;R<arguments.length;R++){const X=arguments[R];var b=typeof X;if(b=b!="object"?b:X?Array.isArray(X)?"array":b:"null",b=="array"||b=="object"&&typeof X.length=="number"){b=c.length||0;const J=X.length||0;c.length=b+J;for(let ge=0;ge<J;ge++)c[b+ge]=X[ge]}else c.push(X)}}class ee{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(c){m.setTimeout(()=>{throw c},0)}function Y(){var c=k;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ue{constructor(){this.h=this.g=null}add(v,b){const R=de.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var de=new ee(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Ie=!1,k=new ue,D=()=>{const c=Promise.resolve(void 0);xe=()=>{c.then(j)}};function j(){for(var c;c=Y();){try{c.h.call(c.g)}catch(b){z(b)}var v=de;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}Ie=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};m.addEventListener("test",b,v),m.removeEventListener("test",b,v)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function ve(c,v){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}x(ve,O),ve.prototype.init=function(c,v){const b=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(b=="mouseover"?v=c.fromElement:b=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),P=0;function Z(c,v,b,R,X){this.listener=c,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=X,this.key=++P,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c,v,b){for(const R in c)v.call(b,c[R],R,c)}function Qe(c,v){for(const b in c)v.call(void 0,c[b],b,c)}function q(c){const v={};for(const b in c)v[b]=c[b];return v}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(c,v){let b,R;for(let X=1;X<arguments.length;X++){R=arguments[X];for(b in R)c[b]=R[b];for(let J=0;J<re.length;J++)b=re[J],Object.prototype.hasOwnProperty.call(R,b)&&(c[b]=R[b])}}function Te(c){this.src=c,this.g={},this.h=0}Te.prototype.add=function(c,v,b,R,X){const J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);const ge=Ke(c,v,R,X);return ge>-1?(v=c[ge],b||(v.fa=!1)):(v=new Z(v,this.src,J,!!R,X),v.fa=b,c.push(v)),v};function ze(c,v){const b=v.type;if(b in c.g){var R=c.g[b],X=Array.prototype.indexOf.call(R,v,void 0),J;(J=X>=0)&&Array.prototype.splice.call(R,X,1),J&&(_e(v),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ke(c,v,b,R){for(let X=0;X<c.length;++X){const J=c[X];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==R)return X}return-1}var et="closure_lm_"+(Math.random()*1e6|0),Kt={};function jt(c,v,b,R,X){if(Array.isArray(v)){for(let J=0;J<v.length;J++)jt(c,v[J],b,R,X);return null}return b=Sa(b),c&&c[Tt]?c.J(v,b,y(R)?!!R.capture:!1,X):ms(c,v,b,!1,R,X)}function ms(c,v,b,R,X,J){if(!v)throw Error("Invalid event type");const ge=y(X)?!!X.capture:!!X;let Pe=bt(c);if(Pe||(c[et]=Pe=new Te(c)),b=Pe.add(v,b,R,ge,J),b.proxy)return b;if(R=Ta(),b.proxy=R,R.src=c,R.listener=b,c.addEventListener)U||(X=ge),X===void 0&&(X=!1),c.addEventListener(v.toString(),R,X);else if(c.attachEvent)c.attachEvent(qn(v.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ta(){function c(b){return v.call(c.src,c.listener,b)}const v=ba;return c}function Un(c,v,b,R,X){if(Array.isArray(v))for(var J=0;J<v.length;J++)Un(c,v[J],b,R,X);else R=y(R)?!!R.capture:!!R,b=Sa(b),c&&c[Tt]?(c=c.i,J=String(v).toString(),J in c.g&&(v=c.g[J],b=Ke(v,b,R,X),b>-1&&(_e(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete c.g[J],c.h--)))):c&&(c=bt(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Ke(v,b,R,X)),(b=c>-1?v[c]:null)&&ps(b))}function ps(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Tt])ze(v.i,c);else{var b=c.type,R=c.proxy;v.removeEventListener?v.removeEventListener(b,R,c.capture):v.detachEvent?v.detachEvent(qn(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=bt(v))?(ze(b,c),b.h==0&&(b.src=null,v[et]=null)):_e(c)}}}function qn(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function ba(c,v){if(c.da)c=!0;else{v=new ve(v,this);const b=c.listener,R=c.ha||c.src;c.fa&&ps(c),c=b.call(R,v)}return c}function bt(c){return c=c[et],c instanceof Te?c:null}var qs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sa(c){return typeof c=="function"?c:(c[qs]||(c[qs]=function(v){return c.handleEvent(v)}),c[qs])}function Pt(){V.call(this),this.i=new Te(this),this.M=this,this.G=null}x(Pt,V),Pt.prototype[Tt]=!0,Pt.prototype.removeEventListener=function(c,v,b,R){Un(this,c,v,b,R)};function $t(c,v){var b,R=c.G;if(R)for(b=[];R;R=R.G)b.push(R);if(c=c.M,R=v.type||v,typeof v=="string")v=new O(v,c);else if(v instanceof O)v.target=v.target||c;else{var X=v;v=new O(R,c),ye(v,X)}X=!0;let J,ge;if(b)for(ge=b.length-1;ge>=0;ge--)J=v.g=b[ge],X=Ei(J,R,!0,v)&&X;if(J=v.g=c,X=Ei(J,R,!0,v)&&X,X=Ei(J,R,!1,v)&&X,b)for(ge=0;ge<b.length;ge++)J=v.g=b[ge],X=Ei(J,R,!1,v)&&X}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const b=c.g[v];for(let R=0;R<b.length;R++)_e(b[R]);delete c.g[v],c.h--}}this.G=null},Pt.prototype.J=function(c,v,b,R){return this.i.add(String(c),v,!1,b,R)},Pt.prototype.K=function(c,v,b,R){return this.i.add(String(c),v,!0,b,R)};function Ei(c,v,b,R){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let X=!0;for(let J=0;J<v.length;++J){const ge=v[J];if(ge&&!ge.da&&ge.capture==b){const Pe=ge.listener,Ht=ge.ha||ge.src;ge.fa&&ze(c.i,ge),X=Pe.call(Ht,R)!==!1&&X}}return X&&!R.defaultPrevented}function bl(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:m.setTimeout(c,v||0)}function mr(c){c.g=bl(()=>{c.g=null,c.i&&(c.i=!1,mr(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class An extends V{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){V.call(this),this.h=c,this.g={}}x(ts,V);var ns=[];function $n(c){$e(c.g,function(v,b){this.g.hasOwnProperty(b)&&ps(v)},c),c.g={}}ts.prototype.N=function(){ts.Z.N.call(this),$n(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=m.JSON.stringify,ao=m.JSON.parse,pr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ro(){}function oo(){}var Ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function De(){O.call(this,"d")}x(De,O);function Wn(){O.call(this,"c")}x(Wn,O);var Ut={},gr=null;function bi(){return gr=gr||new Pt}Ut.Ia="serverreachability";function lo(c){O.call(this,Ut.Ia,c)}x(lo,O);function mn(c){const v=bi();$t(v,new lo(v))}Ut.STAT_EVENT="statevent";function gs(c,v){O.call(this,Ut.STAT_EVENT,c),this.stat=v}x(gs,O);function Gt(c){const v=bi();$t(v,new gs(v,c))}Ut.Ja="timingevent";function Si(c,v){O.call(this,Ut.Ja,c),this.size=v}x(Si,O);function me(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},v)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function Sl(c,v,b,R,X,J){c.info(function(){if(c.g)if(J){var ge="",Pe=J.split("&");for(let ht=0;ht<Pe.length;ht++){var Ht=Pe[ht].split("=");if(Ht.length>1){const Mt=Ht[0];Ht=Ht[1];const F=Mt.split("_");ge=F.length>=2&&F[1]=="type"?ge+(Mt+"="+Ht+"&"):ge+(Mt+"=redacted&")}}}else ge=null;else ge=J;return"XMLHTTP REQ ("+R+") [attempt "+X+"]: "+v+`
`+b+`
`+ge})}function Nn(c,v,b,R,X,J,ge){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+X+"]: "+v+`
`+b+`
`+J+" "+ge})}function li(c,v,b,R){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+_r(c,b)+(R?" "+R:"")})}function ss(c,v){c.info(function(){return"TIMEOUT: "+v})}wi.prototype.info=function(){};function _r(c,v){if(!c.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(c=0;c<J.length;c++)if(Array.isArray(J[c])){var b=J[c];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var X=R[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<R.length;ge++)R[ge]=""}}}}return is(J)}catch{return v}}var Zn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},an;function _s(){}x(_s,ro),_s.prototype.g=function(){return new XMLHttpRequest},an=new _s;function Bn(c){return encodeURIComponent(String(c))}function yr(c){var v=1;c=c.split(":");const b=[];for(;v>0&&c.length;)b.push(c.shift()),v--;return c.length&&b.push(c.join(":")),b}function ui(c,v,b,R){this.j=c,this.i=v,this.l=b,this.S=R||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var it={},Jt={};function Mi(c,v,b){c.M=1,c.A=Vi(Nt(v)),c.u=b,c.R=!0,ys(c,null)}function ys(c,v){c.F=Date.now(),Jn(c),c.B=Nt(c.A);var b=c.B,R=c.S;Array.isArray(R)||(R=[String(R)]),fi(b.i,"t",R),c.C=0,b=c.j.L,c.h=new zn,c.g=_o(c.j,b?v:null,!c.u),c.P>0&&(c.O=new An(g(c.Y,c,c.g),c.P)),v=c.V,b=c.g,R=c.ba;var X="readystatechange";Array.isArray(X)||(X&&(ns[0]=X.toString()),X=ns);for(let J=0;J<X.length;J++){const ge=jt(b,X[J],R||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=c.J?q(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),mn(),Sl(c.i,c.v,c.B,c.l,c.S,c.u)}ui.prototype.ba=function(c){c=c.target;const v=this.O;v&&Ae(c)==3?v.j():this.Y(c)},ui.prototype.Y=function(c){try{if(c==this.g)e:{const Pe=Ae(this.g),Ht=this.g.ya(),ht=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Pe!=4||Ht==7||(Ht==8||ht<=0?mn(3):mn(2)),en(this);var v=this.g.ca();this.X=v;var b=wl(this);if(this.o=v==200,Nn(this.i,this.v,this.B,this.l,this.S,Pe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,X=this.g;if((R=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(R)){var J=R;break t}}J=null}if(c=J)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,c);else{this.o=!1,this.m=3,Gt(12),Cn(this),Rn(this);break e}}if(this.R){c=!0;let Mt;for(;!this.K&&this.C<b.length;)if(Mt=vr(this,b),Mt==Jt){Pe==4&&(this.m=4,Gt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==it){this.m=4,Gt(15),li(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,Mt,null),Ai(this,Mt);if(Aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||b.length!=0||this.h.h||(this.m=1,Gt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Rn(this);else if(b.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Nr(ge),ge.P=!0,Gt(11))}}else li(this.i,this.l,b,null),Ai(this,b);Pe==4&&Cn(this),this.o&&!this.K&&(Pe==4?Rr(this.j,this):(this.o=!1,Jn(this)))}else Ue(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Cn(this),Rn(this)}}}catch{}};function wl(c){if(!Aa(c))return c.g.la();const v=ke(c.g);if(v==="")return"";let b="";const R=v.length,X=Ae(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Cn(c),Rn(c),"";c.h.i=new m.TextDecoder}for(let J=0;J<R;J++)c.h.h=!0,b+=c.h.i.decode(v[J],{stream:!(X&&J==R-1)});return v.length=0,c.h.g+=b,c.C=0,c.h.g}function Aa(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vr(c,v){var b=c.C,R=v.indexOf(`
`,b);return R==-1?Jt:(b=Number(v.substring(b,R)),isNaN(b)?it:(R+=1,R+b>v.length?Jt:(v=v.slice(R,R+b),c.C=R+b,v)))}ui.prototype.cancel=function(){this.K=!0,Cn(this)};function Jn(c){c.T=Date.now()+c.H,Na(c,c.H)}function Na(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=me(g(c.aa,c),v)}function en(c){c.D&&(m.clearTimeout(c.D),c.D=null)}ui.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ss(this.i,this.B),this.M!=2&&(mn(),Gt(17)),Cn(this),this.m=2,Rn(this)):Na(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Rr(c.j,c)}function Cn(c){en(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,$n(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Ai(c,v){try{var b=c.j;if(b.I!=0&&(b.g==c||Ni(b.h,c))){if(!c.L&&Ni(b.h,c)&&b.I==3){try{var R=b.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var X=R;if(X[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Ia(b),Ss(b);else break e;Ys(b),Gt(18)}}else b.xa=X[1],0<b.xa-b.K&&X[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=me(g(b.Va,b),6e3));ei(b.h)<=1&&b.ta&&(b.ta=void 0)}else Hi(b,11)}else if((c.L||b.g==c)&&Ia(b),!C(v))for(X=b.Ba.g.parse(v),v=0;v<X.length;v++){let ht=X[v];const Mt=ht[0];if(!(Mt<=b.K))if(b.K=Mt,ht=ht[1],b.I==2)if(ht[0]=="c"){b.M=ht[1],b.ba=ht[2];const F=ht[3];F!=null&&(b.ka=F,b.j.info("VER="+b.ka));const le=ht[4];le!=null&&(b.za=le,b.j.info("SVER="+b.za));const Ee=ht[5];Ee!=null&&typeof Ee=="number"&&Ee>0&&(R=1.5*Ee,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Re=c.g;if(Re){const Le=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var J=R.h;J.g||Le.indexOf("spdy")==-1&&Le.indexOf("quic")==-1&&Le.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Li(J,J.h),J.h=null))}if(R.G){const st=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;st&&(R.wa=st,ft(R.J,R.G,st))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var ge=c;if(R.na=go(R,R.L?R.ba:null,R.W),ge.L){Bs(R.h,ge);var Pe=ge,Ht=R.O;Ht&&(Pe.H=Ht),Pe.D&&(en(Pe),Jn(Pe)),R.g=ge}else fo(R);b.i.length>0&&Pi(b)}else ht[0]!="stop"&&ht[0]!="close"||Hi(b,7);else b.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Hi(b,7):Da(b):ht[0]!="noop"&&b.l&&b.l.qa(ht),b.A=0)}}mn(4)}catch{}}var Xt=class{constructor(c,v){this.g=c,this.map=v}};function as(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ei(c){return c.h?1:c.g?c.g.size:0}function Ni(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Li(c,v){c.g?c.g.add(v):c.h=v}function Bs(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}as.prototype.cancel=function(){if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ca(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const b of c.g.values())v=v.concat(b.G);return v}return $(c.i)}var Er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(c,v){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const R=c[b].indexOf("=");let X,J=null;R>=0?(X=c[b].substring(0,R),J=c[b].substring(R+1)):X=c[b],v(X,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ti(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof ti?(this.l=c.l,Fe(this,c.j),this.o=c.o,this.g=c.g,Pn(this,c.u),this.h=c.h,vs(this,xa(c.i)),this.m=c.m):c&&(v=String(c).match(Er))?(this.l=!1,Fe(this,v[1]||"",!0),this.o=ci(v[2]||""),this.g=ci(v[3]||"",!0),Pn(this,v[4]),this.h=ci(v[5]||"",!0),vs(this,v[6]||"",!0),this.m=ci(v[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}ti.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Ps(v,Ui,!0),":");var b=this.g;return(b||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Ps(v,Ui,!0),"@"),c.push(Bn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Ps(b,b.charAt(0)=="/"?br:Tr,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Ps(b,Sr)),c.join("")},ti.prototype.resolve=function(c){const v=Nt(this);let b=!!c.j;b?Fe(v,c.j):b=!!c.o,b?v.o=c.o:b=!!c.g,b?v.g=c.g:b=c.u!=null;var R=c.h;if(b)Pn(v,c.u);else if(b=!!c.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var X=v.h.lastIndexOf("/");X!=-1&&(R=v.h.slice(0,X+1)+R)}if(X=R,X==".."||X==".")R="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){R=X.lastIndexOf("/",0)==0,X=X.split("/");const J=[];for(let ge=0;ge<X.length;){const Pe=X[ge++];Pe=="."?R&&ge==X.length&&J.push(""):Pe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ge==X.length&&J.push("")):(J.push(Pe),R=!0)}R=J.join("/")}else R=X}return b?v.h=R:b=c.i.toString()!=="",b?vs(v,xa(c.i)):b=!!c.m,b&&(v.m=c.m),v};function Nt(c){return new ti(c)}function Fe(c,v,b){c.j=b?ci(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Pn(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function vs(c,v,b){v instanceof Bi?(c.i=v,ni(c.i,c.l)):(b||(v=Ps(v,qi)),c.i=new Bi(v,c.l))}function ft(c,v,b){c.i.set(v,b)}function Vi(c){return ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ci(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ps(c,v,b){return typeof c=="string"?(c=encodeURI(c).replace(v,Hn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ui=/[#\/\?@]/g,Tr=/[#\?:]/g,br=/[#\?]/g,qi=/[#\?@]/g,Sr=/#/g;function Bi(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&zs(c.i,function(v,b){c.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}s=Bi.prototype,s.add=function(c,v){yn(this),this.i=null,c=vn(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(v),this.h+=1,this};function uo(c,v){yn(c),v=vn(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Es(c,v){return yn(c),v=vn(c,v),c.g.has(v)}s.forEach=function(c,v){yn(this),this.g.forEach(function(b,R){b.forEach(function(X){c.call(v,X,R,this)},this)},this)};function Ts(c,v){yn(c);let b=[];if(typeof v=="string")Es(c,v)&&(b=b.concat(c.g.get(vn(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)b=b.concat(c[v]);return b}s.set=function(c,v){return yn(this),this.i=null,c=vn(this,c),Es(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},s.get=function(c,v){return c?(c=Ts(this,c),c.length>0?String(c[0]):v):v};function fi(c,v,b){uo(c,v),b.length>0&&(c.i=null,c.g.set(vn(c,v),$(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var b=v[R];const X=Bn(b);b=Ts(this,b);for(let J=0;J<b.length;J++){let ge=X;b[J]!==""&&(ge+="="+Bn(b[J])),c.push(ge)}}return this.i=c.join("&")};function xa(c){const v=new Bi;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function vn(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ni(c,v){v&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(b,R){const X=R.toLowerCase();R!=X&&(uo(this,R),fi(this,X,b))},c)),c.j=v}function xn(c,v){const b=new wi;if(m.Image){const R=new Image;R.onload=w(be,b,"TestLoadImage: loaded",!0,v,R),R.onerror=w(be,b,"TestLoadImage: error",!1,v,R),R.onabort=w(be,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=w(be,b,"TestLoadImage: timeout",!1,v,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else v(!1)}function wr(c,v){const b=new wi,R=new AbortController,X=setTimeout(()=>{R.abort(),be(b,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:R.signal}).then(J=>{clearTimeout(X),J.ok?be(b,"TestPingServer: ok",!0,v):be(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),be(b,"TestPingServer: error",!1,v)})}function be(c,v,b,R,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),R(b)}catch{}}function zi(){this.g=new pr}function ii(c){this.i=c.Sb||null,this.h=c.ab||!1}x(ii,ro),ii.prototype.g=function(){return new bs(this.i,this.h)};function bs(c,v){Pt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(bs,Pt),s=bs.prototype,s.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,rn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||m).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,rn(this)),this.g&&(this.readyState=3,rn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?hi(this):rn(this),this.readyState==3&&Hs(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,hi(this))},s.Na=function(c){this.g&&(this.response=c,hi(this))},s.ga=function(){this.g&&hi(this)};function hi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,rn(c)}s.setRequestHeader=function(c,v){this.A.append(c,v)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=v.next();return c.join(`\r
`)};function rn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function En(c){let v="";return $e(c,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function rs(c,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=En(b),typeof c=="string"?b!=null&&Bn(b):ft(c,v,b))}function h(c){Pt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(h,Pt);var _=/^https?$/i,S=["POST","PUT"];s=h.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():an.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(J){N(this,J);return}if(c=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var X in R)b.set(X,R[X]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),X=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(S,v,void 0)>=0)||R||X||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of b)this.g.setRequestHeader(J,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(J){N(this,J)}};function N(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,L(c),ie(c)}function L(c){c.A||(c.A=!0,$t(c,"complete"),$t(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,$t(this,"complete"),$t(this,"abort"),ie(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ie(this,!0)),h.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?G(this):this.Xa())},s.Xa=function(){G(this)};function G(c){if(c.h&&typeof u<"u"){if(c.v&&Ae(c)==4)setTimeout(c.Ca.bind(c),0);else if($t(c,"readystatechange"),Ae(c)==4){c.h=!1;try{const J=c.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=J===0){let ge=String(c.D).match(Er)[1]||null;!ge&&m.self&&m.self.location&&(ge=m.self.location.protocol.slice(0,-1)),R=!_.test(ge?ge.toLowerCase():"")}b=R}if(b)$t(c,"complete"),$t(c,"success");else{c.o=6;try{var X=Ae(c)>2?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.ca()+"]",L(c)}}finally{ie(c)}}}}function ie(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,v||$t(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ae(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Ae(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),ao(v)}};function ke(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ue(c){const v={};c=(c.g&&Ae(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(C(c[R]))continue;var b=yr(c[R]);const X=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[X]||[];v[X]=J,J.push(b)}Qe(v,function(R){return R.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gt(c,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||v}function Yt(c){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gt("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gt("baseRetryDelayMs",5e3,c),this.Za=gt("retryDelaySeedMs",1e4,c),this.Ta=gt("forwardChannelMaxRetries",2,c),this.va=gt("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new as(c&&c.concurrentRequestLimit),this.Ba=new zi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Yt.prototype,s.ka=8,s.I=1,s.connect=function(c,v,b,R){Gt(0),this.W=c,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=go(this,null,this.W),Pi(this)};function Da(c){if(Fs(c),c.I==3){var v=c.V++,b=Nt(c.J);if(ft(b,"SID",c.M),ft(b,"RID",v),ft(b,"TYPE","terminate"),Xs(c,b),v=new ui(c,c.j,v),v.M=2,v.A=Vi(Nt(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&m.Image&&(new Image().src=v.A,b=!0),b||(v.g=_o(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Jn(v)}po(c)}function Ss(c){c.g&&(Nr(c),c.g.cancel(),c.g=null)}function Fs(c){Ss(c),c.v&&(m.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function Pi(c){if(!Ra(c.h)&&!c.m){c.m=!0;var v=c.Ea;xe||D(),Ie||(xe(),Ie=!0),k.add(v,c),c.D=0}}function Gs(c,v){return ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=me(g(c.Ea,c,v),mo(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const X=new ui(this,this.j,c);let J=this.o;if(this.U&&(J?(J=q(J),ye(J,this.U)):J=this.U),this.u!==null||this.R||(X.J=J,J=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=co(this,X,v),b=Nt(this.J),ft(b,"RID",c),ft(b,"CVER",22),this.G&&ft(b,"X-HTTP-Session-Id",this.G),Xs(this,b),J&&(this.R?v="headers="+Bn(En(J))+"&"+v:this.u&&rs(b,this.u,J)),Li(this.h,X),this.Ra&&ft(b,"TYPE","init"),this.S?(ft(b,"$req",v),ft(b,"SID","null"),X.U=!0,Mi(X,b,null)):Mi(X,b,v),this.I=2}}else this.I==3&&(c?Ar(this,c):this.i.length==0||Ra(this.h)||Ar(this))};function Ar(c,v){var b;v?b=v.l:b=c.V++;const R=Nt(c.J);ft(R,"SID",c.M),ft(R,"RID",b),ft(R,"AID",c.K),Xs(c,R),c.u&&c.o&&rs(R,c.u,c.o),b=new ui(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),v&&(c.i=v.G.concat(c.i)),v=co(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Li(c.h,b),Mi(b,R,v)}function Xs(c,v){c.H&&$e(c.H,function(b,R){ft(v,R,b)}),c.l&&$e({},function(b,R){ft(v,R,b)})}function co(c,v,b){b=Math.min(c.i.length,b);const R=c.l?g(c.l.Ka,c.l,c):null;e:{var X=c.i;let Pe=-1;for(;;){const Ht=["count="+b];Pe==-1?b>0?(Pe=X[0].g,Ht.push("ofs="+Pe)):Pe=0:Ht.push("ofs="+Pe);let ht=!0;for(let Mt=0;Mt<b;Mt++){var J=X[Mt].g;const F=X[Mt].map;if(J-=Pe,J<0)Pe=Math.max(0,X[Mt].g-100),ht=!1;else try{J="req"+J+"_"||"";try{var ge=F instanceof Map?F:Object.entries(F);for(const[le,Ee]of ge){let Re=Ee;y(Ee)&&(Re=is(Ee)),Ht.push(J+le+"="+encodeURIComponent(Re))}}catch(le){throw Ht.push(J+"type="+encodeURIComponent("_badmap")),le}}catch{R&&R(F)}}if(ht){ge=Ht.join("&");break e}}ge=void 0}return c=c.i.splice(0,b),v.G=c,ge}function fo(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;xe||D(),Ie||(xe(),Ie=!0),k.add(v,c),c.A=0}}function Ys(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=me(g(c.Da,c),mo(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,ho(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=me(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Ss(this),ho(this))};function Nr(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function ho(c){c.g=new ui(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Nt(c.na);ft(v,"RID","rpc"),ft(v,"SID",c.M),ft(v,"AID",c.K),ft(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&ft(v,"TO",c.ia),ft(v,"TYPE","xmlhttp"),Xs(c,v),c.u&&c.o&&rs(v,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Vi(Nt(v)),b.u=null,b.R=!0,ys(b,c)}s.Va=function(){this.C!=null&&(this.C=null,Ss(this),Ys(this),Gt(19))};function Ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Rr(c,v){var b=null;if(c.g==v){Ia(c),Nr(c),c.g=null;var R=2}else if(Ni(c.h,v))b=v.G,Bs(c.h,v),R=1;else return;if(c.I!=0){if(v.o)if(R==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var X=c.D;R=bi(),$t(R,new Si(R,b)),Pi(c)}else fo(c);else if(X=v.m,X==3||X==0&&v.X>0||!(R==1&&Gs(c,v)||R==2&&Ys(c)))switch(b&&b.length>0&&(v=c.h,v.i=v.i.concat(b)),X){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function mo(c,v){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*v}function Hi(c,v){if(c.j.info("Error code "+v),v==2){var b=g(c.bb,c),R=c.Ua;const X=!R;R=new ti(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Fe(R,"https"),Vi(R),X?xn(R.toString(),b):wr(R.toString(),b)}else Gt(2);c.I=0,c.l&&c.l.pa(v),po(c),Fs(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function po(c){if(c.I=0,c.ja=[],c.l){const v=Ca(c.h);(v.length!=0||c.i.length!=0)&&(se(c.ja,v),se(c.ja,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.oa()}}function go(c,v,b){var R=b instanceof ti?Nt(b):new ti(b);if(R.g!="")v&&(R.g=v+"."+R.g),Pn(R,R.u);else{var X=m.location;R=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;const J=new ti(null);R&&Fe(J,R),v&&(J.g=v),X&&Pn(J,X),b&&(J.h=b),R=J}return b=c.G,v=c.wa,b&&v&&ft(R,b,v),ft(R,"VER",c.ka),Xs(c,R),R}function _o(c,v,b){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new h(new ii({ab:b})):new h(c.ma),v.Fa(c.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}s=yo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(c,v){return new Tn(c,v)};function Tn(c,v){Pt.call(this),this.g=new Yt(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!C(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new os(this)}x(Tn,Pt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Da(this.g)},Tn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=is(c),c=b);v.i.push(new Xt(v.Ya++,c)),v.I==3&&Pi(v)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Da(this.g),delete this.g,Tn.Z.N.call(this)};function vo(c){De.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const b in v){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(vo,De);function Eo(){Wn.call(this),this.status=1}x(Eo,Wn);function os(c){this.g=c}x(os,yo),os.prototype.ra=function(){$t(this.g,"a")},os.prototype.qa=function(c){$t(this.g,new vo(c))},os.prototype.pa=function(c){$t(this.g,new Eo)},os.prototype.oa=function(){$t(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,E0=function(){return new ws},v0=function(){return bi()},y0=Ut,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,Xc=Zn,wa.COMPLETE="complete",_0=wa,oo.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,fu=oo,h.prototype.listenOnce=h.prototype.K,h.prototype.getLastError=h.prototype.Ha,h.prototype.getLastErrorCode=h.prototype.ya,h.prototype.getStatus=h.prototype.ca,h.prototype.getResponseJson=h.prototype.La,h.prototype.getResponseText=h.prototype.la,h.prototype.send=h.prototype.ea,h.prototype.setWithCredentials=h.prototype.Fa,g0=h}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");let gl="12.8.0";function p2(s){gl=s}const Qr=new l0("@firebase/firestore");function Zo(){return Qr.logLevel}function Se(s,...e){if(Qr.logLevel<=mt.DEBUG){const i=e.map(Ym);Qr.debug(`Firestore (${gl}): ${s}`,...i)}}function ya(s,...e){if(Qr.logLevel<=mt.ERROR){const i=e.map(Ym);Qr.error(`Firestore (${gl}): ${s}`,...i)}}function ol(s,...e){if(Qr.logLevel<=mt.WARN){const i=e.map(Ym);Qr.warn(`Firestore (${gl}): ${s}`,...i)}}function Ym(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Be(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,T0(s,a,i)}function T0(s,e,i){let a=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ya(a),new Error(a)}function At(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||T0(e,l,a)}function Ye(s,e){return s}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Zr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class b0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xn.UNAUTHENTICATED)))}shutdown(){}}class _2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class y2{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){At(this.o===void 0,42304);let a=this.i;const l=E=>this.i!==a?(a=this.i,i(E)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const E=u;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},y=E=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((E=>y(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}}),0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(At(typeof a.accessToken=="string",31837,{l:a}),new b0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new Xn(e)}}class v2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class E2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new v2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,JA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){At(this.o===void 0,3512);const a=u=>{u.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,Se("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(At(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function b2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=b2(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=e.charAt(l[u]%62))}return a}}function lt(s,e){return s<e?-1:s>e?1:0}function vm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),u=e.charAt(a);if(l!==u)return Zd(l)===Zd(u)?lt(l,u):Zd(l)?1:-1}return lt(s.length,e.length)}const S2=55296,w2=57343;function Zd(s){const e=s.charCodeAt(0);return e>=S2&&e<=w2}function ll(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const Dv="__name__";class Ds{constructor(e,i,a){i===void 0?i=0:i>e.length&&Be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const u=Ds.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return lt(e.length,i.length)}static compareSegments(e,i){const a=Ds.isNumericId(e),l=Ds.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ds.extractNumericId(e).compare(Ds.extractNumericId(i)):vm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class Vt extends Ds{construct(e,i,a){return new Vt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new we(fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Vt(i)}static emptyPath(){return new Vt([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Ds{construct(e,i,a){return new Ln(e,i,a)}static isValidIdentifier(e){return A2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Ln([Dv])}static fromServerFormat(e){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new we(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let m=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new we(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new we(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=E,l+=2}else y==="`"?(m=!m,l++):y!=="."||m?(a+=y,l++):(u(),l++)}if(u(),m)throw new we(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(i)}static emptyPath(){return new Ln([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Vt.fromString(e))}static fromName(e){return new Me(Vt.fromString(e).popFirst(5))}static empty(){return new Me(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Vt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Vt(e.slice()))}}function S0(s,e,i){if(!i)throw new we(fe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function N2(s,e,i,a){if(e===!0&&a===!0)throw new we(fe.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Iv(s){if(!Me.isDocumentKey(s))throw new we(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ov(s){if(Me.isDocumentKey(s))throw new we(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function w0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Af(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Be(12329,{type:typeof s})}function ul(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new we(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Af(s);throw new we(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function dn(s,e){const i={typeString:s};return e&&(i.value=e),i}function xu(s,e){if(!w0(s))throw new we(fe.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const m=s[a];if(l&&typeof m!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&m!==u.value){i=`Expected '${a}' field to equal '${u.value}'`;break}}if(i)throw new we(fe.INVALID_ARGUMENT,i);return!0}const kv=-62135596800,jv=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*jv);return new zt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new we(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new we(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<kv)throw new we(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:dn("string",zt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new zt(0,0))}static max(){return new He(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function R2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=He.fromTimestamp(a===1e9?new zt(i+1,0):new zt(i,a));return new lr(l,Me.empty(),e)}function C2(s){return new lr(s.readTime,s.key,Eu)}class lr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(He.min(),Me.empty(),Eu)}static max(){return new lr(He.max(),Me.empty(),Eu)}}function x2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Me.comparator(s.documentKey,e.documentKey),i!==0?i:lt(s.largestBatchId,e.largestBatchId))}const D2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _l(s){if(s.code!==fe.FAILED_PRECONDITION||s.message!==D2)throw s;Se("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new he(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof he?i:he.resolve(i)}catch(i){return he.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):he.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):he.reject(i)}static resolve(e){return new he(((i,a)=>{i(e)}))}static reject(e){return new he(((i,a)=>{a(e)}))}static waitFor(e){return new he(((i,a)=>{let l=0,u=0,m=!1;e.forEach((y=>{++l,y.next((()=>{++u,m&&u===l&&i()}),(E=>a(E)))})),m=!0,u===l&&i()}))}static or(e){let i=he.resolve(!1);for(const a of e)i=i.next((l=>l?he.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(e,i){return new he(((a,l)=>{const u=e.length,m=new Array(u);let y=0;for(let E=0;E<u;E++){const g=E;i(e[g]).next((w=>{m[g]=w,++y,y===u&&a(m)}),(w=>l(w)))}}))}static doWhile(e,i){return new he(((a,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):a()};u()}))}}function O2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yl(s){return s.name==="IndexedDbTransactionError"}class Nf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nf.ce=-1;const Km=-1;function Rf(s){return s==null}function sf(s){return s===0&&1/s==-1/0}function k2(s){return typeof s=="number"&&Number.isInteger(s)&&!sf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const A0="";function j2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Mv(e)),e=M2(s.get(i),e);return Mv(e)}function M2(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case A0:i+="";break;default:i+=u}}return i}function Mv(s){return s+A0+""}function Lv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Jr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function N0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Qt{constructor(e,i){this.comparator=e,this.root=i||jn.EMPTY}insert(e,i){return new Qt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?a(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,i,a,l,u){this.key=e,this.value=i,this.color=a??jn.RED,this.left=l??jn.EMPTY,this.right=u??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,u){return new jn(e??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return jn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,i,a,l,u){return this}insert(e,i,a){return new jn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(e){return new Vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new _n(this.comparator);return i.data=e,i}}class Vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fs{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new fs([])}unionWith(e){let i=new _n(Ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fs(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class R0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R0("Invalid base64 string: "+u):u}})(e);return new Vn(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let m=0;m<l.length;++m)u+=String.fromCharCode(l[m]);return u})(e);return new Vn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(At(!!s,39018),typeof s=="string"){let e=0;const i=L2.exec(s);if(At(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:sn(s.seconds),nanos:sn(s.nanos)}}function sn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Vn.fromBase64String(s):Vn.fromUint8Array(s)}const C0="server_timestamp",x0="__type__",D0="__previous_value__",I0="__local_write_time__";function $m(s){return(s?.mapValue?.fields||{})[x0]?.stringValue===C0}function Cf(s){const e=s.mapValue.fields[D0];return $m(e)?Cf(e):e}function Tu(s){const e=ur(s.mapValue.fields[I0].timestampValue);return new zt(e.seconds,e.nanos)}class V2{constructor(e,i,a,l,u,m,y,E,g,w,x){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=E,this.useFetchStreams=g,this.isUsingEmulator=w,this.apiKey=x}}const af="(default)";class bu{constructor(e,i){this.projectId=e,this.database=i||af}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}function U2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new we(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(s.options.projectId,e)}const O0="__type__",q2="__max__",Bc={mapValue:{}},k0="__vector__",rf="value";function fr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$m(s)?4:z2(s)?9007199254740991:B2(s)?10:11:Be(28295,{value:s})}function Vs(s,e){if(s===e)return!0;const i=fr(s);if(i!==fr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Tu(s).isEqual(Tu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const m=ur(l.timestampValue),y=ur(u.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return cr(l.bytesValue).isEqual(cr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return sn(l.geoPointValue.latitude)===sn(u.geoPointValue.latitude)&&sn(l.geoPointValue.longitude)===sn(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return sn(l.integerValue)===sn(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const m=sn(l.doubleValue),y=sn(u.doubleValue);return m===y?sf(m)===sf(y):isNaN(m)&&isNaN(y)}return!1})(s,e);case 9:return ll(s.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(l,u){const m=l.mapValue.fields||{},y=u.mapValue.fields||{};if(Lv(m)!==Lv(y))return!1;for(const E in m)if(m.hasOwnProperty(E)&&(y[E]===void 0||!Vs(m[E],y[E])))return!1;return!0})(s,e);default:return Be(52216,{left:s})}}function Su(s,e){return(s.values||[]).find((i=>Vs(i,e)))!==void 0}function cl(s,e){if(s===e)return 0;const i=fr(s),a=fr(e);if(i!==a)return lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return lt(s.booleanValue,e.booleanValue);case 2:return(function(u,m){const y=sn(u.integerValue||u.doubleValue),E=sn(m.integerValue||m.doubleValue);return y<E?-1:y>E?1:y===E?0:isNaN(y)?isNaN(E)?0:-1:1})(s,e);case 3:return Uv(s.timestampValue,e.timestampValue);case 4:return Uv(Tu(s),Tu(e));case 5:return vm(s.stringValue,e.stringValue);case 6:return(function(u,m){const y=cr(u),E=cr(m);return y.compareTo(E)})(s.bytesValue,e.bytesValue);case 7:return(function(u,m){const y=u.split("/"),E=m.split("/");for(let g=0;g<y.length&&g<E.length;g++){const w=lt(y[g],E[g]);if(w!==0)return w}return lt(y.length,E.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,m){const y=lt(sn(u.latitude),sn(m.latitude));return y!==0?y:lt(sn(u.longitude),sn(m.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return qv(s.arrayValue,e.arrayValue);case 10:return(function(u,m){const y=u.fields||{},E=m.fields||{},g=y[rf]?.arrayValue,w=E[rf]?.arrayValue,x=lt(g?.values?.length||0,w?.values?.length||0);return x!==0?x:qv(g,w)})(s.mapValue,e.mapValue);case 11:return(function(u,m){if(u===Bc.mapValue&&m===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(m===Bc.mapValue)return-1;const y=u.fields||{},E=Object.keys(y),g=m.fields||{},w=Object.keys(g);E.sort(),w.sort();for(let x=0;x<E.length&&x<w.length;++x){const I=vm(E[x],w[x]);if(I!==0)return I;const $=cl(y[E[x]],g[w[x]]);if($!==0)return $}return lt(E.length,w.length)})(s.mapValue,e.mapValue);default:throw Be(23264,{he:i})}}function Uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return lt(s,e);const i=ur(s),a=ur(e),l=lt(i.seconds,a.seconds);return l!==0?l:lt(i.nanos,a.nanos)}function qv(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=cl(i[l],a[l]);if(u)return u}return lt(i.length,a.length)}function fl(s){return Em(s)}function Em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return cr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Me.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=Em(u);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const m of a)u?u=!1:l+=",",l+=`${m}:${Em(i.fields[m])}`;return l+"}"})(s.mapValue):Be(61005,{value:s})}function Yc(s){switch(fr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+Yc(u)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Jr(a.fields,((u,m)=>{l+=u.length+Yc(m)})),l})(s.mapValue);default:throw Be(13486,{value:s})}}function Bv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Tm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function zv(s){return!!s&&"nullValue"in s}function Pv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qc(s){return!!s&&"mapValue"in s}function B2(s){return(s?.mapValue?.fields||{})[O0]?.stringValue===k0}function pu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Jr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=pu(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=pu(s.arrayValue.values[i]);return e}return{...s}}function z2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===q2}class Ji{constructor(e){this.value=e}static empty(){return new Ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(i)}setAll(e){let i=Ln.emptyPath(),a={},l=[];e.forEach(((m,y)=>{if(!i.isImmediateParentOf(y)){const E=this.getFieldsMap(i);this.applyChanges(E,a,l),a={},l=[],i=y.popLast()}m?a[y.lastSegment()]=pu(m):l.push(y.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(e){const i=this.field(e.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Jr(i,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new Ji(pu(this.value))}}function j0(s){const e=[];return Jr(s.fields,((i,a)=>{const l=new Ln([i]);if(Qc(a)){const u=j0(a.mapValue).fields;if(u.length===0)e.push(l);else for(const m of u)e.push(l.child(m))}else e.push(l)})),new fs(e)}class Yn{constructor(e,i,a,l,u,m,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=m,this.documentState=y}static newInvalidDocument(e){return new Yn(e,0,He.min(),He.min(),He.min(),Ji.empty(),0)}static newFoundDocument(e,i,a,l){return new Yn(e,1,i,He.min(),a,l,0)}static newNoDocument(e,i){return new Yn(e,2,i,He.min(),He.min(),Ji.empty(),0)}static newUnknownDocument(e,i){return new Yn(e,3,i,He.min(),He.min(),Ji.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(e,i){this.position=e,this.inclusive=i}}function Hv(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const u=e[l],m=s.position[l];if(u.field.isKeyField()?a=Me.comparator(Me.fromName(m.referenceValue),i.key):a=cl(m,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Fv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Vs(s.position[i],e.position[i]))return!1;return!0}class lf{constructor(e,i="asc"){this.field=e,this.dir=i}}function P2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class M0{}class hn extends M0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new F2(e,i,a):i==="array-contains"?new Y2(e,a):i==="in"?new Q2(e,a):i==="not-in"?new K2(e,a):i==="array-contains-any"?new $2(e,a):new hn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new G2(e,a):new X2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(cl(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(cl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends M0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ds(e,i)}matches(e){return L0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L0(s){return s.op==="and"}function V0(s){return H2(s)&&L0(s)}function H2(s){for(const e of s.filters)if(e instanceof ds)return!1;return!0}function bm(s){if(s instanceof hn)return s.field.canonicalString()+s.op.toString()+fl(s.value);if(V0(s))return s.filters.map((e=>bm(e))).join(",");{const e=s.filters.map((i=>bm(i))).join(",");return`${s.op}(${e})`}}function U0(s,e){return s instanceof hn?(function(a,l){return l instanceof hn&&a.op===l.op&&a.field.isEqual(l.field)&&Vs(a.value,l.value)})(s,e):s instanceof ds?(function(a,l){return l instanceof ds&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,m,y)=>u&&U0(m,l.filters[y])),!0):!1})(s,e):void Be(19439)}function q0(s){return s instanceof hn?(function(i){return`${i.field.canonicalString()} ${i.op} ${fl(i.value)}`})(s):s instanceof ds?(function(i){return i.op.toString()+" {"+i.getFilters().map(q0).join(" ,")+"}"})(s):"Filter"}class F2 extends hn{constructor(e,i,a){super(e,i,a),this.key=Me.fromName(a.referenceValue)}matches(e){const i=Me.comparator(e.key,this.key);return this.matchesComparison(i)}}class G2 extends hn{constructor(e,i){super(e,"in",i),this.keys=B0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class X2 extends hn{constructor(e,i){super(e,"not-in",i),this.keys=B0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function B0(s,e){return(e.arrayValue?.values||[]).map((i=>Me.fromName(i.referenceValue)))}class Y2 extends hn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wm(i)&&Su(i.arrayValue,this.value)}}class Q2 extends hn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Su(this.value.arrayValue,i)}}class K2 extends hn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Su(this.value.arrayValue,i)}}class $2 extends hn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Su(this.value.arrayValue,a)))}}class W2{constructor(e,i=null,a=[],l=[],u=null,m=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=m,this.endAt=y,this.Te=null}}function Gv(s,e=null,i=[],a=[],l=null,u=null,m=null){return new W2(s,e,i,a,l,u,m)}function Zm(s){const e=Ye(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>bm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Rf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>fl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>fl(a))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!P2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!U0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Fv(s.startAt,e.startAt)&&Fv(s.endAt,e.endAt)}function Sm(s){return Me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Du{constructor(e,i=null,a=[],l=[],u=null,m="F",y=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=m,this.startAt=y,this.endAt=E,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Z2(s,e,i,a,l,u,m,y){return new Du(s,e,i,a,l,u,m,y)}function z0(s){return new Du(s)}function Xv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function J2(s){return Me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function P0(s){return s.collectionGroup!==null}function gu(s){const e=Ye(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new _n(Ln.comparator);return m.filters.forEach((E=>{E.getFlattenedFilters().forEach((g=>{g.isInequality()&&(y=y.add(g.field))}))})),y})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new lf(u,a))})),i.has(Ln.keyField().canonicalString())||e.Ie.push(new lf(Ln.keyField(),a))}return e.Ie}function ks(s){const e=Ye(s);return e.Ee||(e.Ee=eN(e,gu(s))),e.Ee}function eN(s,e){if(s.limitType==="F")return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new lf(l.field,u)}));const i=s.endAt?new of(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new of(s.startAt.position,s.startAt.inclusive):null;return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function wm(s,e){const i=s.filters.concat([e]);return new Du(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Am(s,e,i){return new Du(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function xf(s,e){return Jm(ks(s),ks(e))&&s.limitType===e.limitType}function H0(s){return`${Zm(ks(s))}|lt:${s.limitType}`}function Jo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>q0(l))).join(", ")}]`),Rf(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>fl(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>fl(l))).join(",")),`Target(${a})`})(ks(s))}; limitType=${s.limitType})`}function Df(s,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Me.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(s,e)&&(function(a,l){for(const u of gu(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(m,y,E){const g=Hv(m,y,E);return m.inclusive?g<=0:g<0})(a.startAt,gu(a),l)||a.endAt&&!(function(m,y,E){const g=Hv(m,y,E);return m.inclusive?g>=0:g>0})(a.endAt,gu(a),l))})(s,e)}function tN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function F0(s){return(e,i)=>{let a=!1;for(const l of gu(s)){const u=nN(l,e,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function nN(s,e,i){const a=s.field.isKeyField()?Me.comparator(e.key,i.key):(function(u,m,y){const E=m.data.field(u),g=y.data.field(u);return E!==null&&g!==null?cl(E,g):Be(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Be(19790,{direction:s.dir})}}class eo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,((i,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return N0(this.inner)}size(){return this.innerSize}}const iN=new Qt(Me.comparator);function va(){return iN}const G0=new Qt(Me.comparator);function hu(...s){let e=G0;for(const i of s)e=e.insert(i.key,i);return e}function X0(s){let e=G0;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Xr(){return _u()}function Y0(){return _u()}function _u(){return new eo((s=>s.toString()),((s,e)=>s.isEqual(e)))}const sN=new Qt(Me.comparator),aN=new _n(Me.comparator);function ut(...s){let e=aN;for(const i of s)e=e.add(i);return e}const rN=new _n(lt);function oN(){return rN}function ep(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function Q0(s){return{integerValue:""+s}}function lN(s,e){return k2(e)?Q0(e):ep(s,e)}class If{constructor(){this._=void 0}}function uN(s,e,i){return s instanceof uf?(function(l,u){const m={fields:{[x0]:{stringValue:C0},[I0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&$m(u)&&(u=Cf(u)),u&&(m.fields[D0]=u),{mapValue:m}})(i,e):s instanceof wu?$0(s,e):s instanceof Au?W0(s,e):(function(l,u){const m=K0(l,u),y=Yv(m)+Yv(l.Ae);return Tm(m)&&Tm(l.Ae)?Q0(y):ep(l.serializer,y)})(s,e)}function cN(s,e,i){return s instanceof wu?$0(s,e):s instanceof Au?W0(s,e):i}function K0(s,e){return s instanceof cf?(function(a){return Tm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class uf extends If{}class wu extends If{constructor(e){super(),this.elements=e}}function $0(s,e){const i=Z0(e);for(const a of s.elements)i.some((l=>Vs(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Au extends If{constructor(e){super(),this.elements=e}}function W0(s,e){let i=Z0(e);for(const a of s.elements)i=i.filter((l=>!Vs(l,a)));return{arrayValue:{values:i}}}class cf extends If{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yv(s){return sn(s.integerValue||s.doubleValue)}function Z0(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fN(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof wu&&l instanceof wu||a instanceof Au&&l instanceof Au?ll(a.elements,l.elements,Vs):a instanceof cf&&l instanceof cf?Vs(a.Ae,l.Ae):a instanceof uf&&l instanceof uf})(s.transform,e.transform)}class hN{constructor(e,i){this.version=e,this.transformResults=i}}class js{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new js}static exists(e){return new js(void 0,e)}static updateTime(e){return new js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Of{}function J0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new tp(s.key,js.none()):new Iu(s.key,s.data,js.none());{const i=s.data,a=Ji.empty();let l=new _n(Ln.comparator);for(let u of e.fields)if(!l.has(u)){let m=i.field(u);m===null&&u.length>1&&(u=u.popLast(),m=i.field(u)),m===null?a.delete(u):a.set(u,m),l=l.add(u)}return new to(s.key,a,new fs(l.toArray()),js.none())}}function dN(s,e,i){s instanceof Iu?(function(l,u,m){const y=l.value.clone(),E=Kv(l.fieldTransforms,u,m.transformResults);y.setAll(E),u.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(s,e,i):s instanceof to?(function(l,u,m){if(!Kc(l.precondition,u))return void u.convertToUnknownDocument(m.version);const y=Kv(l.fieldTransforms,u,m.transformResults),E=u.data;E.setAll(eT(l)),E.setAll(y),u.convertToFoundDocument(m.version,E).setHasCommittedMutations()})(s,e,i):(function(l,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,i)}function yu(s,e,i,a){return s instanceof Iu?(function(u,m,y,E){if(!Kc(u.precondition,m))return y;const g=u.value.clone(),w=$v(u.fieldTransforms,E,m);return g.setAll(w),m.convertToFoundDocument(m.version,g).setHasLocalMutations(),null})(s,e,i,a):s instanceof to?(function(u,m,y,E){if(!Kc(u.precondition,m))return y;const g=$v(u.fieldTransforms,E,m),w=m.data;return w.setAll(eT(u)),w.setAll(g),m.convertToFoundDocument(m.version,w).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(u,m,y){return Kc(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y})(s,e,i)}function mN(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),u=K0(a.transform,l||null);u!=null&&(i===null&&(i=Ji.empty()),i.set(a.field,u))}return i||null}function Qv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ll(a,l,((u,m)=>fN(u,m)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Iu extends Of{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class to extends Of{constructor(e,i,a,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Kv(s,e,i){const a=new Map;At(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const u=s[l],m=u.transform,y=e.data.field(u.field);a.set(u.field,cN(m,y,i[l]))}return a}function $v(s,e,i){const a=new Map;for(const l of s){const u=l.transform,m=i.data.field(l.field);a.set(l.field,uN(u,m,e))}return a}class tp extends Of{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pN extends Of{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gN{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&dN(u,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=yu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=yu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Y0();return this.mutations.forEach((l=>{const u=e.get(l.key),m=u.overlayedDocument;let y=this.applyToLocalView(m,u.mutatedFields);y=i.has(l.key)?null:y;const E=J0(m,y);E!==null&&a.set(l.key,E),m.isValidDocument()||m.convertToNoDocument(He.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ut())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((i,a)=>Qv(i,a)))&&ll(this.baseMutations,e.baseMutations,((i,a)=>Qv(i,a)))}}class np{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){At(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return sN})();const u=e.mutations;for(let m=0;m<u.length;m++)l=l.insert(u[m].key,a[m].version);return new np(e,i,a,l)}}class _N{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yN{constructor(e,i){this.count=e,this.unchangedNames=i}}var fn,dt;function vN(s){switch(s){case fe.OK:return Be(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Be(15467,{code:s})}}function tT(s){if(s===void 0)return ya("GRPC error has no .code"),fe.UNKNOWN;switch(s){case fn.OK:return fe.OK;case fn.CANCELLED:return fe.CANCELLED;case fn.UNKNOWN:return fe.UNKNOWN;case fn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case fn.INTERNAL:return fe.INTERNAL;case fn.UNAVAILABLE:return fe.UNAVAILABLE;case fn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case fn.NOT_FOUND:return fe.NOT_FOUND;case fn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case fn.ABORTED:return fe.ABORTED;case fn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case fn.DATA_LOSS:return fe.DATA_LOSS;default:return Be(39323,{code:s})}}(dt=fn||(fn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";function EN(){return new TextEncoder}const TN=new sr([4294967295,4294967295],0);function Wv(s){const e=EN().encode(s),i=new p0;return i.update(e),new Uint8Array(i.digest())}function Zv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sr([i,a],0),new sr([l,u],0)]}class ip{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new du(`Invalid padding: ${i}`);if(a<0)throw new du(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new du(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=sr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(sr.fromNumber(a)));return l.compare(TN)===1&&(l=new sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Wv(e),[a,l]=Zv(i);for(let u=0;u<this.hashCount;u++){const m=this.ye(a,l,u);if(!this.we(m))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new ip(u,l,i);return a.forEach((y=>m.insert(y))),m}insert(e){if(this.ge===0)return;const i=Wv(e),[a,l]=Zv(i);for(let u=0;u<this.hashCount;u++){const m=this.ye(a,l,u);this.be(m)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kf{constructor(e,i,a,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new kf(He.min(),l,new Qt(lt),va(),ut())}}class Ou{constructor(e,i,a,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Ou(a,i,ut(),ut(),ut())}}class $c{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class nT{constructor(e,i){this.targetId=e,this.Ce=i}}class iT{constructor(e,i,a=Vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Jv{constructor(){this.ve=0,this.Fe=eE(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),i=ut(),a=ut();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Be(38017,{changeType:u})}})),new Ou(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=eE()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bN{constructor(e){this.Ge=e,this.ze=new Map,this.je=va(),this.He=zc(),this.Je=zc(),this.Ze=new Qt(lt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Sm(u))if(a===0){const m=new Me(u.path);this.et(i,m,Yn.newNoDocument(m,He.min()))}else At(a===1,20013,{expectedCount:a});else{const m=this._t(i);if(m!==a){const y=this.ut(e),E=y?this.ct(y,e,m):1;if(E!==0){this.it(i);const g=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=i;let m,y;try{m=cr(a).toUint8Array()}catch(E){if(E instanceof R0)return ol("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{y=new ip(m,l,u)}catch(E){return ol(E instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((u=>{const m=this.Ge.ht(),y=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,m)=>{const y=this.ot(m);if(y){if(u.current&&Sm(y.target)){const E=new Me(y.target.path);this.It(E).has(m)||this.Et(m,E)||this.et(m,E,Yn.newNoDocument(E,e))}u.Be&&(i.set(m,u.ke()),u.Ke())}}));let a=ut();this.Je.forEach(((u,m)=>{let y=!0;m.forEachWhile((E=>{const g=this.ot(E);return!g||g.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(u))})),this.je.forEach(((u,m)=>m.setReadTime(e)));const l=new kf(e,i,this.Ze,this.je,a);return this.je=va(),this.He=zc(),this.Je=zc(),this.Ze=new Qt(lt),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Jv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new _n(lt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new _n(lt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||Se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new Qt(Me.comparator)}function eE(){return new Qt(Me.comparator)}const SN={asc:"ASCENDING",desc:"DESCENDING"},wN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AN={and:"AND",or:"OR"};class NN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nm(s,e){return s.useProto3Json||Rf(e)?e:{value:e}}function ff(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function RN(s,e){return ff(s,e.toTimestamp())}function Ms(s){return At(!!s,49232),He.fromTimestamp((function(i){const a=ur(i);return new zt(a.seconds,a.nanos)})(s))}function sp(s,e){return Rm(s,e).canonicalString()}function Rm(s,e){const i=(function(l){return new Vt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function aT(s){const e=Vt.fromString(s);return At(cT(e),10190,{key:e.toString()}),e}function Cm(s,e){return sp(s.databaseId,e.path)}function Jd(s,e){const i=aT(e);if(i.get(1)!==s.databaseId.projectId)throw new we(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new we(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Me(oT(i))}function rT(s,e){return sp(s.databaseId,e)}function CN(s){const e=aT(s);return e.length===4?Vt.emptyPath():oT(e)}function xm(s){return new Vt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function oT(s){return At(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function tE(s,e,i){return{name:Cm(s,e),fields:i.value.mapValue.fields}}function xN(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(g,w){return g.useProto3Json?(At(w===void 0||typeof w=="string",58123),Vn.fromBase64String(w||"")):(At(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Vn.fromUint8Array(w||new Uint8Array))})(s,e.targetChange.resumeToken),m=e.targetChange.cause,y=m&&(function(g){const w=g.code===void 0?fe.UNKNOWN:tT(g.code);return new we(w,g.message||"")})(m);i=new iT(a,l,u,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Jd(s,a.document.name),u=Ms(a.document.updateTime),m=a.document.createTime?Ms(a.document.createTime):He.min(),y=new Ji({mapValue:{fields:a.document.fields}}),E=Yn.newFoundDocument(l,u,m,y),g=a.targetIds||[],w=a.removedTargetIds||[];i=new $c(g,w,E.key,E)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Jd(s,a.document),u=a.readTime?Ms(a.readTime):He.min(),m=Yn.newNoDocument(l,u),y=a.removedTargetIds||[];i=new $c([],y,m.key,m)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Jd(s,a.document),u=a.removedTargetIds||[];i=new $c([],u,l,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,m=new yN(l,u),y=a.targetId;i=new nT(y,m)}}return i}function DN(s,e){let i;if(e instanceof Iu)i={update:tE(s,e.key,e.value)};else if(e instanceof tp)i={delete:Cm(s,e.key)};else if(e instanceof to)i={update:tE(s,e.key,e.data),updateMask:qN(e.fieldMask)};else{if(!(e instanceof pN))return Be(16599,{dt:e.type});i={verify:Cm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(u,m){const y=m.transform;if(y instanceof uf)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof wu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Au)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof cf)return{fieldPath:m.field.canonicalString(),increment:y.Ae};throw Be(20930,{transform:m.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:RN(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Be(27497)})(s,e.precondition)),i}function IN(s,e){return s&&s.length>0?(At(e!==void 0,14353),s.map((i=>(function(l,u){let m=l.updateTime?Ms(l.updateTime):Ms(u);return m.isEqual(He.min())&&(m=Ms(u)),new hN(m,l.transformResults||[])})(i,e)))):[]}function ON(s,e){return{documents:[rT(s,e.path)]}}function kN(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rT(s,l);const u=(function(g){if(g.length!==0)return uT(ds.create(g,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const m=(function(g){if(g.length!==0)return g.map((w=>(function(I){return{field:el(I.field),direction:LN(I.dir)}})(w)))})(e.orderBy);m&&(i.structuredQuery.orderBy=m);const y=Nm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:l}}function jN(s){let e=CN(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){At(a===1,65062);const w=i.from[0];w.allDescendants?l=w.collectionId:e=e.child(w.collectionId)}let u=[];i.where&&(u=(function(x){const I=lT(x);return I instanceof ds&&V0(I)?I.getFilters():[I]})(i.where));let m=[];i.orderBy&&(m=(function(x){return x.map((I=>(function(se){return new lf(tl(se.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(se.direction))})(I)))})(i.orderBy));let y=null;i.limit&&(y=(function(x){let I;return I=typeof x=="object"?x.value:x,Rf(I)?null:I})(i.limit));let E=null;i.startAt&&(E=(function(x){const I=!!x.before,$=x.values||[];return new of($,I)})(i.startAt));let g=null;return i.endAt&&(g=(function(x){const I=!x.before,$=x.values||[];return new of($,I)})(i.endAt)),Z2(e,l,m,u,y,"F",E,g)}function MN(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function lT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=tl(i.unaryFilter.field);return hn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=tl(i.unaryFilter.field);return hn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=tl(i.unaryFilter.field);return hn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=tl(i.unaryFilter.field);return hn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return hn.create(tl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ds.create(i.compositeFilter.filters.map((a=>lT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(i.compositeFilter.op))})(s):Be(30097,{filter:s})}function LN(s){return SN[s]}function VN(s){return wN[s]}function UN(s){return AN[s]}function el(s){return{fieldPath:s.canonicalString()}}function tl(s){return Ln.fromServerFormat(s.fieldPath)}function uT(s){return s instanceof hn?(function(i){if(i.op==="=="){if(Pv(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NAN"}};if(zv(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Pv(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NAN"}};if(zv(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(i.field),op:VN(i.op),value:i.value}}})(s):s instanceof ds?(function(i){const a=i.getFilters().map((l=>uT(l)));return a.length===1?a[0]:{compositeFilter:{op:UN(i.op),filters:a}}})(s):Be(54877,{filter:s})}function qN(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function cT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function fT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class tr{constructor(e,i,a,l,u=He.min(),m=He.min(),y=Vn.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=E}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BN{constructor(e){this.yt=e}}function zN(s){const e=jN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Am(e,e.limit,"L"):e}class PN{constructor(){this.Sn=new HN}addToCollectionParentIndex(e,i){return this.Sn.add(i),he.resolve()}getCollectionParents(e,i){return he.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return he.resolve()}deleteFieldIndex(e,i){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,i){return he.resolve()}getDocumentsMatchingTarget(e,i){return he.resolve(null)}getIndexType(e,i){return he.resolve(0)}getFieldIndexes(e,i){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,i){return he.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,i){return he.resolve(lr.min())}updateCollectionGroup(e,i,a){return he.resolve()}updateIndexEntries(e,i){return he.resolve()}}class HN{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new _n(Vt.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new _n(Vt.comparator)).toArray()}}const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class vi{static withCacheSize(e){return new vi(e,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(hT,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);class hl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new hl(0)}static ar(){return new hl(-1)}}const iE="LruGarbageCollector",FN=1048576;function sE([s,e],[i,a]){const l=lt(s,i);return l===0?lt(e,a):l}class GN{constructor(e){this.Pr=e,this.buffer=new _n(sE),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();sE(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XN{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Se(iE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yl(i)?Se(iE,"Ignoring IndexedDB error during garbage collection: ",i):await _l(i)}await this.Ar(3e5)}))}}class YN{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return he.resolve(Nf.ce);const a=new GN(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(nE)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,u,m,y,E,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,m=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(a=x,y=Date.now(),this.removeTargets(e,a,i)))).next((x=>(u=x,E=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(g=Date.now(),Zo()<=mt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-w}ms
	Determined least recently used ${l} in `+(y-m)+`ms
	Removed ${u} targets in `+(E-y)+`ms
	Removed ${x} documents in `+(g-E)+`ms
Total Duration: ${g-w}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:x}))))}}function QN(s,e){return new YN(s,e)}class KN{constructor(){this.changes=new eo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?he.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $N{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class WN{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&yu(a.mutation,l,fs.empty(),zt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ut()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ut()){const l=Xr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((u=>{let m=hu();return u.forEach(((y,E)=>{m=m.insert(y,E.overlayedDocument)})),m}))))}getOverlayedDocuments(e,i){const a=Xr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ut())))}populateOverlays(e,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((m,y)=>{i.set(m,y)}))}))}computeViews(e,i,a,l){let u=va();const m=_u(),y=(function(){return _u()})();return i.forEach(((E,g)=>{const w=a.get(g.key);l.has(g.key)&&(w===void 0||w.mutation instanceof to)?u=u.insert(g.key,g):w!==void 0?(m.set(g.key,w.mutation.getFieldMask()),yu(w.mutation,g,w.mutation.getFieldMask(),zt.now())):m.set(g.key,fs.empty())})),this.recalculateAndSaveOverlays(e,u).next((E=>(E.forEach(((g,w)=>m.set(g,w))),i.forEach(((g,w)=>y.set(g,new $N(w,m.get(g)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=_u();let l=new Qt(((m,y)=>m-y)),u=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((m=>{for(const y of m)y.keys().forEach((E=>{const g=i.get(E);if(g===null)return;let w=a.get(E)||fs.empty();w=y.applyToLocalView(g,w),a.set(E,w);const x=(l.get(y.batchId)||ut()).add(E);l=l.insert(y.batchId,x)}))})).next((()=>{const m=[],y=l.getReverseIterator();for(;y.hasNext();){const E=y.getNext(),g=E.key,w=E.value,x=Y0();w.forEach((I=>{if(!u.has(I)){const $=J0(i.get(I),a.get(I));$!==null&&x.set(I,$),u=u.add(I)}})),m.push(this.documentOverlayCache.saveOverlays(e,g,x))}return he.waitFor(m)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return J2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):P0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((u=>{const m=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-u.size):he.resolve(Xr());let y=Eu,E=u;return m.next((g=>he.forEach(g,((w,x)=>(y<x.largestBatchId&&(y=x.largestBatchId),u.get(w)?he.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{E=E.insert(w,I)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,E,g,ut()))).next((w=>({batchId:y,changes:X0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Me(i)).next((a=>{let l=hu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const u=i.collectionGroup;let m=hu();return this.indexManager.getCollectionParents(e,u).next((y=>he.forEach(y,(E=>{const g=(function(x,I){return new Du(I,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,E.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,l).next((w=>{w.forEach(((x,I)=>{m=m.insert(x,I)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,u,l)))).next((m=>{u.forEach(((E,g)=>{const w=g.getKey();m.get(w)===null&&(m=m.insert(w,Yn.newInvalidDocument(w)))}));let y=hu();return m.forEach(((E,g)=>{const w=u.get(E);w!==void 0&&yu(w.mutation,g,fs.empty(),zt.now()),Df(i,g)&&(y=y.insert(E,g))})),y}))}}class ZN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return he.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ms(l.createTime)}})(i)),he.resolve()}getNamedQuery(e,i){return he.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:zN(l.bundledQuery),readTime:Ms(l.readTime)}})(i)),he.resolve()}}class JN{constructor(){this.overlays=new Qt(Me.comparator),this.Lr=new Map}getOverlay(e,i){return he.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Xr();return he.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,u)=>{this.bt(e,i,u)})),he.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),he.resolve()}getOverlaysForCollection(e,i,a){const l=Xr(),u=i.length+1,m=new Me(i.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const E=y.getNext().value,g=E.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&E.largestBatchId>a&&l.set(E.getKey(),E)}return he.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let u=new Qt(((g,w)=>g-w));const m=this.overlays.getIterator();for(;m.hasNext();){const g=m.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>a){let w=u.get(g.largestBatchId);w===null&&(w=Xr(),u=u.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const y=Xr(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((g,w)=>y.set(g,w))),!(y.size()>=l)););return he.resolve(y)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const m=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new _N(i,a));let u=this.Lr.get(i);u===void 0&&(u=ut(),this.Lr.set(i,u)),this.Lr.set(i,u.add(a.key))}}class eR{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,he.resolve()}}class ap{constructor(){this.kr=new _n(wn.Kr),this.qr=new _n(wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new wn(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new wn(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new Me(new Vt([])),a=new wn(i,e),l=new wn(i,e+1),u=[];return this.qr.forEachInRange([a,l],(m=>{this.Wr(m),u.push(m.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Me(new Vt([])),a=new wn(i,e),l=new wn(i,e+1);let u=ut();return this.qr.forEachInRange([a,l],(m=>{u=u.add(m.key)})),u}containsKey(e){const i=new wn(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class wn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Me.comparator(e.key,i.key)||lt(e.Hr,i.Hr)}static Ur(e,i){return lt(e.Hr,i.Hr)||Me.comparator(e.key,i.key)}}class tR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new _n(wn.Kr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new gN(u,i,a,l);this.mutationQueue.push(m);for(const y of l)this.Jr=this.Jr.add(new wn(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return he.resolve(m)}lookupMutationBatch(e,i){return he.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),u=l<0?0:l;return he.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Km:this.Yn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new wn(i,0),l=new wn(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,l],(m=>{const y=this.Zr(m.Hr);u.push(y)})),he.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new _n(lt);return i.forEach((l=>{const u=new wn(l,0),m=new wn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,m],(y=>{a=a.add(y.Hr)}))})),he.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let u=a;Me.isDocumentKey(u)||(u=u.child(""));const m=new wn(new Me(u),0);let y=new _n(lt);return this.Jr.forEachWhile((E=>{const g=E.key.path;return!!a.isPrefixOf(g)&&(g.length===l&&(y=y.add(E.Hr)),!0)}),m),he.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){At(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return he.forEach(i.mutations,(l=>{const u=new wn(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new wn(i,0),l=this.Jr.firstAfterOrEqual(a);return he.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nR{constructor(e){this.ti=e,this.docs=(function(){return new Qt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,m=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return he.resolve(a?a.document.mutableCopy():Yn.newInvalidDocument(i))}getEntries(e,i){let a=va();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Yn.newInvalidDocument(l))})),he.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let u=va();const m=i.path,y=new Me(m.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(y);for(;E.hasNext();){const{key:g,value:{document:w}}=E.getNext();if(!m.isPrefixOf(g.path))break;g.path.length>m.length+1||x2(C2(w),a)<=0||(l.has(w.key)||Df(i,w))&&(u=u.insert(w.key,w.mutableCopy()))}return he.resolve(u)}getAllFromCollectionGroup(e,i,a,l){Be(9500)}ni(e,i){return he.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new iR(this)}getSize(e){return he.resolve(this.size)}}class iR extends KN{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),he.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class sR{constructor(e){this.persistence=e,this.ri=new eo((i=>Zm(i)),Jm),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ii=0,this.si=new ap,this.targetCount=0,this.oi=hl._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),he.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new hl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,he.resolve()}updateTargetData(e,i){return this.lr(i),he.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,i,a){let l=0;const u=[];return this.ri.forEach(((m,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(m),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),he.waitFor(u).next((()=>l))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return he.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),he.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((m=>{u.push(l.markPotentiallyOrphaned(e,m))})),he.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),he.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return he.resolve(a)}containsKey(e,i){return he.resolve(this.si.containsKey(i))}}class dT{constructor(e,i){this._i={},this.overlays={},this.ai=new Nf(0),this.ui=!1,this.ui=!0,this.ci=new eR,this.referenceDelegate=e(this),this.li=new sR(this),this.indexManager=new PN,this.remoteDocumentCache=(function(l){return new nR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new BN(i),this.Pi=new ZN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new JN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new tR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){Se("MemoryPersistence","Starting transaction:",e);const l=new aR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,i){return he.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class aR extends I2{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ri=new ap,this.Ai=null}static Vi(e){return new rp(e)}get di(){if(this.Ai)return this.Ai;throw Be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),he.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),he.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),he.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,(a=>{const l=Me.fromPath(a);return this.mi(e,l).next((u=>{u||i.removeEntry(l,He.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return he.or([()=>he.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class hf{constructor(e,i){this.persistence=e,this.fi=new eo((a=>j2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=QN(this,i)}static Vi(e,i){return new hf(e,i)}Ti(){}Ii(e){return he.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return he.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((u=>u?he.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(m=>this.wr(e,m,i).next((y=>{y||(a++,u.removeEntry(m,He.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),he.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),he.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),he.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}wr(e,i,a){return he.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return he.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class op{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=ut(),l=ut();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new op(e,i.fromCache,a,l)}}class rR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Jw()?8:O2(Ww())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const u={result:null};return this.gs(e,i).next((m=>{u.result=m})).next((()=>{if(!u.result)return this.ps(e,i,l,a).next((m=>{u.result=m}))})).next((()=>{if(u.result)return;const m=new rR;return this.ys(e,i,m).next((y=>{if(u.result=y,this.As)return this.ws(e,i,m,y.size)}))})).next((()=>u.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Zo()<=mt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Jo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(Zo()<=mt.DEBUG&&Se("QueryEngine","Query:",Jo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Zo()<=mt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Jo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(i))):he.resolve())}gs(e,i){if(Xv(i))return he.resolve(null);let a=ks(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Am(i,null,"F"),a=ks(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const m=ut(...u);return this.fs.getDocuments(e,m).next((y=>this.indexManager.getMinOffset(e,a).next((E=>{const g=this.bs(i,y);return this.Ss(i,g,m,E.readTime)?this.gs(e,Am(i,null,"F")):this.Ds(e,g,i,E)}))))})))))}ps(e,i,a,l){return Xv(i)||l.isEqual(He.min())?he.resolve(null):this.fs.getDocuments(e,a).next((u=>{const m=this.bs(i,u);return this.Ss(i,m,a,l)?he.resolve(null):(Zo()<=mt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Jo(i)),this.Ds(e,m,i,R2(l,Eu)).next((y=>y)))}))}bs(e,i){let a=new _n(F0(e));return i.forEach(((l,u)=>{Df(e,u)&&(a=a.add(u))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,i,a){return Zo()<=mt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Jo(i)),this.fs.getDocumentsMatchingQuery(e,i,lr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((u=>(i.forEach((m=>{u=u.insert(m.key,m)})),u)))}}const lp="LocalStore",lR=3e8;class uR{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new Qt(lt),this.Fs=new eo((u=>Zm(u)),Jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function cR(s,e,i,a){return new uR(s,e,i,a)}async function mT(s,e){const i=Ye(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const m=[],y=[];let E=ut();for(const g of l){m.push(g.batchId);for(const w of g.mutations)E=E.add(w.key)}for(const g of u){y.push(g.batchId);for(const w of g.mutations)E=E.add(w.key)}return i.localDocuments.getDocuments(a,E).next((g=>({Ns:g,removedBatchIds:m,addedBatchIds:y})))}))}))}function fR(s,e){const i=Ye(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,E,g,w){const x=g.batch,I=x.keys();let $=he.resolve();return I.forEach((se=>{$=$.next((()=>w.getEntry(E,se))).next((ee=>{const z=g.docVersions.get(se);At(z!==null,48541),ee.version.compareTo(z)<0&&(x.applyToRemoteDocument(ee,g),ee.isValidDocument()&&(ee.setReadTime(g.commitVersion),w.addEntry(ee)))}))})),$.next((()=>y.mutationQueue.removeMutationBatch(E,x)))})(i,a,e,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let E=ut();for(let g=0;g<y.mutationResults.length;++g)y.mutationResults[g].transformResults.length>0&&(E=E.add(y.batch.mutations[g].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function pT(s){const e=Ye(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function hR(s,e){const i=Ye(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const m=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];e.targetChanges.forEach(((w,x)=>{const I=l.get(x);if(!I)return;y.push(i.li.removeMatchingKeys(u,w.removedDocuments,x).next((()=>i.li.addMatchingKeys(u,w.addedDocuments,x))));let $=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?$=$.withResumeToken(Vn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):w.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(w.resumeToken,a)),l=l.insert(x,$),(function(ee,z,Y){return ee.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=lR?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(I,$,w)&&y.push(i.li.updateTargetData(u,$))}));let E=va(),g=ut();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(u,w))})),y.push(dR(u,m,e.documentUpdates).next((w=>{E=w.Bs,g=w.Ls}))),!a.isEqual(He.min())){const w=i.li.getLastRemoteSnapshotVersion(u).next((x=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));y.push(w)}return he.waitFor(y).next((()=>m.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,E,g))).next((()=>E))})).then((u=>(i.vs=l,u)))}function dR(s,e,i){let a=ut(),l=ut();return i.forEach((u=>a=a.add(u))),e.getEntries(s,a).next((u=>{let m=va();return i.forEach(((y,E)=>{const g=u.get(y);E.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(y)),E.isNoDocument()&&E.version.isEqual(He.min())?(e.removeEntry(y,E.readTime),m=m.insert(y,E)):!g.isValidDocument()||E.version.compareTo(g.version)>0||E.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(E),m=m.insert(y,E)):Se(lp,"Ignoring outdated watch update for ",y,". Current version:",g.version," Watch version:",E.version)})),{Bs:m,Ls:l}}))}function mR(s,e){const i=Ye(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function pR(s,e){const i=Ye(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((u=>u?(l=u,he.resolve(l)):i.li.allocateTargetId(a).next((m=>(l=new tr(e,m,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Dm(s,e,i){const a=Ye(s),l=a.vs.get(e),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(m=>a.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!yl(m))throw m;Se(lp,`Failed to update sequence numbers for target ${e}: ${m}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function aE(s,e,i){const a=Ye(s);let l=He.min(),u=ut();return a.persistence.runTransaction("Execute query","readwrite",(m=>(function(E,g,w){const x=Ye(E),I=x.Fs.get(w);return I!==void 0?he.resolve(x.vs.get(I)):x.li.getTargetData(g,w)})(a,m,ks(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(m,y.targetId).next((E=>{u=E}))})).next((()=>a.Cs.getDocumentsMatchingQuery(m,e,i?l:He.min(),i?u:ut()))).next((y=>(gR(a,tN(e),y),{documents:y,ks:u})))))}function gR(s,e,i){let a=s.Ms.get(e)||He.min();i.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),s.Ms.set(e,a)}class rE{constructor(){this.activeTargetIds=oN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _R{constructor(){this.vo=new rE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rE,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yR{Mo(e){}shutdown(){}}const oE="ConnectivityMonitor";class lE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Se(oE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Se(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Im(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const em="RestConnection",vR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ER{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===af?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,u){const m=Im(),y=this.Qo(e,i.toUriEncodedString());Se(em,`Sending RPC '${e}' ${m}:`,y,a);const E={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(E,l,u);const{host:g}=new URL(y),w=Gm(g);return this.zo(e,y,E,a,w).then((x=>(Se(em,`Received RPC '${e}' ${m}: `,x),x)),(x=>{throw ol(em,`RPC '${e}' ${m} failed with error: `,x,"url: ",y,"request:",a),x}))}jo(e,i,a,l,u,m){return this.Wo(e,i,a,l,u)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}Qo(e,i){const a=vR[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class TR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Gn="WebChannelConnection",lu=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class nl extends ER{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!nl.c_){const e=v0();lu(e,y0.STAT_EVENT,(i=>{i.stat===ym.PROXY?Se(Gn,"STAT_EVENT: detected buffering proxy"):i.stat===ym.NOPROXY&&Se(Gn,"STAT_EVENT: detected no buffering proxy")})),nl.c_=!0}}zo(e,i,a,l,u){const m=Im();return new Promise(((y,E)=>{const g=new g0;g.setWithCredentials(!0),g.listenOnce(_0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Xc.NO_ERROR:const x=g.getResponseJson();Se(Gn,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(x)),y(x);break;case Xc.TIMEOUT:Se(Gn,`RPC '${e}' ${m} timed out`),E(new we(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const I=g.getStatus();if(Se(Gn,`RPC '${e}' ${m} failed with status:`,I,"response text:",g.getResponseText()),I>0){let $=g.getResponseJson();Array.isArray($)&&($=$[0]);const se=$?.error;if(se&&se.status&&se.message){const ee=(function(Y){const ue=Y.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(ue)>=0?ue:fe.UNKNOWN})(se.status);E(new we(ee,se.message))}else E(new we(fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else E(new we(fe.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:m,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Se(Gn,`RPC '${e}' ${m} completed.`)}}));const w=JSON.stringify(l);Se(Gn,`RPC '${e}' ${m} sending request:`,l),g.send(i,"POST",w,a,15)}))}T_(e,i,a){const l=Im(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const g=u.join("");Se(Gn,`Creating RPC '${e}' stream ${l}: ${g}`,y);const w=m.createWebChannel(g,y);this.I_(w);let x=!1,I=!1;const $=new TR({Ho:se=>{I?Se(Gn,`Not sending because RPC '${e}' stream ${l} is closed:`,se):(x||(Se(Gn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),x=!0),Se(Gn,`RPC '${e}' stream ${l} sending:`,se),w.send(se))},Jo:()=>w.close()});return lu(w,fu.EventType.OPEN,(()=>{I||(Se(Gn,`RPC '${e}' stream ${l} transport opened.`),$.i_())})),lu(w,fu.EventType.CLOSE,(()=>{I||(I=!0,Se(Gn,`RPC '${e}' stream ${l} transport closed`),$.o_(),this.E_(w))})),lu(w,fu.EventType.ERROR,(se=>{I||(I=!0,ol(Gn,`RPC '${e}' stream ${l} transport errored. Name:`,se.name,"Message:",se.message),$.o_(new we(fe.UNAVAILABLE,"The operation could not be completed")))})),lu(w,fu.EventType.MESSAGE,(se=>{if(!I){const ee=se.data[0];At(!!ee,16349);const z=ee,Y=z?.error||z[0]?.error;if(Y){Se(Gn,`RPC '${e}' stream ${l} received error:`,Y);const ue=Y.status;let de=(function(Ie){const k=fn[Ie];if(k!==void 0)return tT(k)})(ue),pe=Y.message;de===void 0&&(de=fe.INTERNAL,pe="Unknown error status: "+ue+" with message "+Y.message),I=!0,$.o_(new we(de,pe)),w.close()}else Se(Gn,`RPC '${e}' stream ${l} received:`,ee),$.__(ee)}})),nl.u_(),setTimeout((()=>{$.s_()}),0),$}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return E0()}}function bR(s){return new nl(s)}function tm(){return typeof document<"u"?document:null}function jf(s){return new NN(s,!0)}nl.c_=!1;class gT{constructor(e,i,a=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&Se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const uE="PersistentStream";class _T{constructor(e,i,a,l,u,m,y,E){this.Ci=e,this.b_=a,this.S_=l,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===fe.RESOURCE_EXHAUSTED?(ya(i.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new we(fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(Se(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SR extends _T{constructor(e,i,a,l,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,m),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xN(this.serializer,e),a=(function(u){if(!("targetChange"in u))return He.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?He.min():m.readTime?Ms(m.readTime):He.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(u,m){let y;const E=m.target;if(y=Sm(E)?{documents:ON(u,E)}:{query:kN(u,E).ft},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=sT(u,m.resumeToken);const g=Nm(u,m.expectedCount);g!==null&&(y.expectedCount=g)}else if(m.snapshotVersion.compareTo(He.min())>0){y.readTime=ff(u,m.snapshotVersion.toTimestamp());const g=Nm(u,m.expectedCount);g!==null&&(y.expectedCount=g)}return y})(this.serializer,e);const a=MN(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.K_(i)}}class wR extends _T{constructor(e,i,a,l,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,m),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=IN(e.writeResults,e.commitTime),a=Ms(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>DN(this.serializer,a)))};this.K_(i)}}class AR{}class NR extends AR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new we(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Wo(e,Rm(i,a),l,u,m))).catch((u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(fe.UNKNOWN,u.toString())}))}jo(e,i,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,y])=>this.connection.jo(e,Rm(i,a),l,m,y,u))).catch((m=>{throw m.name==="FirebaseError"?(m.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new we(fe.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function RR(s,e,i,a){return new NR(s,e,i,a)}class CR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ya(i),this.aa=!1):Se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class xR{constructor(e,i,a,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((m=>{a.enqueueAndForget((async()=>{no(this)&&(Se(Kr,"Restarting streams for network reachability change."),await(async function(E){const g=Ye(E);g.Ea.add(4),await ku(g),g.Va.set("Unknown"),g.Ea.delete(4),await Mf(g)})(this))}))})),this.Va=new CR(a,l)}}async function Mf(s){if(no(s))for(const e of s.Ra)await e(!0)}async function ku(s){for(const e of s.Ra)await e(!1)}function yT(s,e){const i=Ye(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hp(i)?fp(i):vl(i).O_()&&cp(i,e))}function up(s,e){const i=Ye(s),a=vl(i);i.Ia.delete(e),a.O_()&&vT(i,e),i.Ia.size===0&&(a.O_()?a.L_():no(i)&&i.Va.set("Unknown"))}function cp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}vl(s).Z_(e)}function vT(s,e){s.da.$e(e),vl(s).X_(e)}function fp(s){s.da=new bN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),vl(s).start(),s.Va.ua()}function hp(s){return no(s)&&!vl(s).x_()&&s.Ia.size>0}function no(s){return Ye(s).Ea.size===0}function ET(s){s.da=void 0}async function DR(s){s.Va.set("Online")}async function IR(s){s.Ia.forEach(((e,i)=>{cp(s,e)}))}async function OR(s,e){ET(s),hp(s)?(s.Va.ha(e),fp(s)):s.Va.set("Unknown")}async function kR(s,e,i){if(s.Va.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await(async function(l,u){const m=u.cause;for(const y of u.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,m),l.Ia.delete(y),l.da.removeTarget(y))})(s,e)}catch(a){Se(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await df(s,a)}else if(e instanceof $c?s.da.Xe(e):e instanceof nT?s.da.st(e):s.da.tt(e),!i.isEqual(He.min()))try{const a=await pT(s.localStore);i.compareTo(a)>=0&&await(function(u,m){const y=u.da.Tt(m);return y.targetChanges.forEach(((E,g)=>{if(E.resumeToken.approximateByteSize()>0){const w=u.Ia.get(g);w&&u.Ia.set(g,w.withResumeToken(E.resumeToken,m))}})),y.targetMismatches.forEach(((E,g)=>{const w=u.Ia.get(E);if(!w)return;u.Ia.set(E,w.withResumeToken(Vn.EMPTY_BYTE_STRING,w.snapshotVersion)),vT(u,E);const x=new tr(w.target,E,g,w.sequenceNumber);cp(u,x)})),u.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){Se(Kr,"Failed to raise snapshot:",a),await df(s,a)}}async function df(s,e,i){if(!yl(e))throw e;s.Ea.add(1),await ku(s),s.Va.set("Offline"),i||(i=()=>pT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{Se(Kr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mf(s)}))}function TT(s,e){return e().catch((i=>df(s,i,e)))}async function Lf(s){const e=Ye(s),i=hr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;jR(e);)try{const l=await mR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,MR(e,l)}catch(l){await df(e,l)}bT(e)&&ST(e)}function jR(s){return no(s)&&s.Ta.length<10}function MR(s,e){s.Ta.push(e);const i=hr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function bT(s){return no(s)&&!hr(s).x_()&&s.Ta.length>0}function ST(s){hr(s).start()}async function LR(s){hr(s).ra()}async function VR(s){const e=hr(s);for(const i of s.Ta)e.ea(i.mutations)}async function UR(s,e,i){const a=s.Ta.shift(),l=np.from(a,e,i);await TT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Lf(s)}async function qR(s,e){e&&hr(s).Y_&&await(async function(a,l){if((function(m){return vN(m)&&m!==fe.ABORTED})(l.code)){const u=a.Ta.shift();hr(a).B_(),await TT(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Lf(a)}})(s,e),bT(s)&&ST(s)}async function cE(s,e){const i=Ye(s);i.asyncQueue.verifyOperationInProgress(),Se(Kr,"RemoteStore received new credentials");const a=no(i);i.Ea.add(3),await ku(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mf(i)}async function BR(s,e){const i=Ye(s);e?(i.Ea.delete(2),await Mf(i)):e||(i.Ea.add(2),await ku(i),i.Va.set("Unknown"))}function vl(s){return s.ma||(s.ma=(function(i,a,l){const u=Ye(i);return u.sa(),new SR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:DR.bind(null,s),Yo:IR.bind(null,s),t_:OR.bind(null,s),J_:kR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),hp(s)?fp(s):s.Va.set("Unknown")):(await s.ma.stop(),ET(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(i,a,l){const u=Ye(i);return u.sa(),new wR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:LR.bind(null,s),t_:qR.bind(null,s),ta:VR.bind(null,s),na:UR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Lf(s)):(await s.fa.stop(),s.Ta.length>0&&(Se(Kr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class dp{constructor(e,i,a,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,u){const m=Date.now()+a,y=new dp(e,i,m,l,u);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(s,e){if(ya("AsyncQueue",`${e}: ${s}`),yl(s))return new we(fe.UNAVAILABLE,`${e}: ${s}`);throw s}class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Me.comparator(i.key,a.key):(i,a)=>Me.comparator(i.key,a.key),this.keyedMap=hu(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new il;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class fE{constructor(){this.ga=new Qt(Me.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Be(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class dl{constructor(e,i,a,l,u,m,y,E,g){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=E,this.hasCachedResults=g}static fromInitialDocuments(e,i,a,l,u){const m=[];return i.forEach((y=>{m.push({type:0,doc:y})})),new dl(e,i,il.emptySet(i),m,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class zR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class PR{constructor(){this.queries=hE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ye(i),u=l.queries;l.queries=hE(),u.forEach(((m,y)=>{for(const E of y.ba)E.onError(a)}))})(this,new we(fe.ABORTED,"Firestore shutting down"))}}function hE(){return new eo((s=>H0(s)),xf)}async function HR(s,e){const i=Ye(s);let a=3;const l=e.query;let u=i.queries.get(l);u?!u.Sa()&&e.Da()&&(a=2):(u=new zR,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(m){const y=mp(m,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,u),u.ba.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&pp(i)}async function FR(s,e){const i=Ye(s),a=e.query;let l=3;const u=i.queries.get(a);if(u){const m=u.ba.indexOf(e);m>=0&&(u.ba.splice(m,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GR(s,e){const i=Ye(s);let a=!1;for(const l of e){const u=l.query,m=i.queries.get(u);if(m){for(const y of m.ba)y.Fa(l)&&(a=!0);m.wa=l}}a&&pp(i)}function XR(s,e,i){const a=Ye(s),l=a.queries.get(e);if(l)for(const u of l.ba)u.onError(i);a.queries.delete(e)}function pp(s){s.Ca.forEach((e=>{e.next()}))}var Om,dE;(dE=Om||(Om={})).Ma="default",dE.Cache="cache";class YR{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new dl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Om.Cache}}class wT{constructor(e){this.key=e}}class AT{constructor(e){this.key=e}}class QR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.eu=F0(e),this.tu=new il(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new fE,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,m=l,y=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((w,x)=>{const I=l.get(w),$=Df(this.query,x)?x:null,se=!!I&&this.mutatedKeys.has(I.key),ee=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let z=!1;I&&$?I.data.isEqual($.data)?se!==ee&&(a.track({type:3,doc:$}),z=!0):this.su(I,$)||(a.track({type:2,doc:$}),z=!0,(E&&this.eu($,E)>0||g&&this.eu($,g)<0)&&(y=!0)):!I&&$?(a.track({type:0,doc:$}),z=!0):I&&!$&&(a.track({type:1,doc:I}),z=!0,(E||g)&&(y=!0)),z&&($?(m=m.add($),u=ee?u.add(w):u.delete(w)):(m=m.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const w=this.query.limitType==="F"?m.last():m.first();m=m.delete(w.key),u=u.delete(w.key),a.track({type:1,doc:w})}return{tu:m,iu:a,Ss:y,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((w,x)=>(function($,se){const ee=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:z})}};return ee($)-ee(se)})(w.type,x.type)||this.eu(w.doc,x.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],E=this.Ya.size===0&&this.current&&!l?1:0,g=E!==this.Xa;return this.Xa=E,m.length!==0||g?{snapshot:new dl(this.query,e.tu,u,m,e.mutatedKeys,E===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new AT(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new wT(a))})),i}cu(e){this.Za=e.ks,this.Ya=ut();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gp="SyncEngine";class KR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class $R{constructor(e){this.key=e,this.hu=!1}}class WR{constructor(e,i,a,l,u,m){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new eo((y=>H0(y)),xf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qt(Me.comparator),this.Au=new Map,this.Vu=new ap,this.du={},this.mu=new Map,this.fu=hl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZR(s,e,i=!0){const a=IT(s);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await NT(a,e,i,!0),l}async function JR(s,e){const i=IT(s);await NT(i,e,!0,!1)}async function NT(s,e,i,a){const l=await pR(s.localStore,ks(e)),u=l.targetId,m=s.sharedClientState.addLocalQueryTarget(u,i);let y;return a&&(y=await eC(s,e,u,m==="current",l.resumeToken)),s.isPrimaryClient&&i&&yT(s.remoteStore,l),y}async function eC(s,e,i,a,l){s.pu=(x,I,$)=>(async function(ee,z,Y,ue){let de=z.view.ru(Y);de.Ss&&(de=await aE(ee.localStore,z.query,!1).then((({documents:k})=>z.view.ru(k,de))));const pe=ue&&ue.targetChanges.get(z.targetId),xe=ue&&ue.targetMismatches.get(z.targetId)!=null,Ie=z.view.applyChanges(de,ee.isPrimaryClient,pe,xe);return pE(ee,z.targetId,Ie.au),Ie.snapshot})(s,x,I,$);const u=await aE(s.localStore,e,!0),m=new QR(e,u.ks),y=m.ru(u.documents),E=Ou.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),g=m.applyChanges(y,s.isPrimaryClient,E);pE(s,i,g.au);const w=new KR(e,i,m);return s.Tu.set(e,w),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),g.snapshot}async function tC(s,e,i){const a=Ye(s),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((m=>!xf(m,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&up(a.remoteStore,l.targetId),km(a,l.targetId)})).catch(_l)):(km(a,l.targetId),await Dm(a.localStore,l.targetId,!0))}async function nC(s,e){const i=Ye(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),up(i.remoteStore,a.targetId))}async function iC(s,e,i){const a=cC(s);try{const l=await(function(m,y){const E=Ye(m),g=zt.now(),w=y.reduce((($,se)=>$.add(se.key)),ut());let x,I;return E.persistence.runTransaction("Locally write mutations","readwrite",($=>{let se=va(),ee=ut();return E.xs.getEntries($,w).next((z=>{se=z,se.forEach(((Y,ue)=>{ue.isValidDocument()||(ee=ee.add(Y))}))})).next((()=>E.localDocuments.getOverlayedDocuments($,se))).next((z=>{x=z;const Y=[];for(const ue of y){const de=mN(ue,x.get(ue.key).overlayedDocument);de!=null&&Y.push(new to(ue.key,de,j0(de.value.mapValue),js.exists(!0)))}return E.mutationQueue.addMutationBatch($,g,Y,y)})).next((z=>{I=z;const Y=z.applyToLocalDocumentSet(x,ee);return E.documentOverlayCache.saveOverlays($,z.batchId,Y)}))})).then((()=>({batchId:I.batchId,changes:X0(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(m,y,E){let g=m.du[m.currentUser.toKey()];g||(g=new Qt(lt)),g=g.insert(y,E),m.du[m.currentUser.toKey()]=g})(a,l.batchId,i),await ju(a,l.changes),await Lf(a.remoteStore)}catch(l){const u=mp(l,"Failed to persist write");i.reject(u)}}async function RT(s,e){const i=Ye(s);try{const a=await hR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const m=i.Au.get(u);m&&(At(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?At(m.hu,14607):l.removedDocuments.size>0&&(At(m.hu,42227),m.hu=!1))})),await ju(i,a,e)}catch(a){await _l(a)}}function mE(s,e,i){const a=Ye(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((u,m)=>{const y=m.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(m,y){const E=Ye(m);E.onlineState=y;let g=!1;E.queries.forEach(((w,x)=>{for(const I of x.ba)I.va(y)&&(g=!0)})),g&&pp(E)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function sC(s,e,i){const a=Ye(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),u=l&&l.key;if(u){let m=new Qt(Me.comparator);m=m.insert(u,Yn.newNoDocument(u,He.min()));const y=ut().add(u),E=new kf(He.min(),new Map,new Qt(lt),m,y);await RT(a,E),a.Ru=a.Ru.remove(u),a.Au.delete(e),_p(a)}else await Dm(a.localStore,e,!1).then((()=>km(a,e,i))).catch(_l)}async function aC(s,e){const i=Ye(s),a=e.batch.batchId;try{const l=await fR(i.localStore,e);xT(i,a,null),CT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ju(i,l)}catch(l){await _l(l)}}async function rC(s,e,i){const a=Ye(s);try{const l=await(function(m,y){const E=Ye(m);return E.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let w;return E.mutationQueue.lookupMutationBatch(g,y).next((x=>(At(x!==null,37113),w=x.keys(),E.mutationQueue.removeMutationBatch(g,x)))).next((()=>E.mutationQueue.performConsistencyCheck(g))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(g,w,y))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w))).next((()=>E.localDocuments.getDocuments(g,w)))}))})(a.localStore,e);xT(a,e,i),CT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ju(a,l)}catch(l){await _l(l)}}function CT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function xT(s,e,i){const a=Ye(s);let l=a.du[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function km(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||DT(s,a)}))}function DT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(up(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),_p(s))}function pE(s,e,i){for(const a of i)a instanceof wT?(s.Vu.addReference(a.key,e),oC(s,a)):a instanceof AT?(Se(gp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||DT(s,a.key)):Be(19791,{wu:a})}function oC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(Se(gp,"New document in limbo: "+i),s.Eu.add(a),_p(s))}function _p(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Me(Vt.fromString(e)),a=s.fu.next();s.Au.set(a,new $R(i)),s.Ru=s.Ru.insert(i,a),yT(s.remoteStore,new tr(ks(z0(i.path)),a,"TargetPurposeLimboResolution",Nf.ce))}}async function ju(s,e,i){const a=Ye(s),l=[],u=[],m=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,E)=>{m.push(a.pu(E,e,i).then((g=>{if((g||i)&&a.isPrimaryClient){const w=g?!g.fromCache:i?.targetChanges.get(E.targetId)?.current;a.sharedClientState.updateQueryState(E.targetId,w?"current":"not-current")}if(g){l.push(g);const w=op.Es(E.targetId,g);u.push(w)}})))})),await Promise.all(m),a.Pu.J_(l),await(async function(E,g){const w=Ye(E);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>he.forEach(g,(I=>he.forEach(I.Ts,($=>w.persistence.referenceDelegate.addReference(x,I.targetId,$))).next((()=>he.forEach(I.Is,($=>w.persistence.referenceDelegate.removeReference(x,I.targetId,$)))))))))}catch(x){if(!yl(x))throw x;Se(lp,"Failed to update sequence numbers: "+x)}for(const x of g){const I=x.targetId;if(!x.fromCache){const $=w.vs.get(I),se=$.snapshotVersion,ee=$.withLastLimboFreeSnapshotVersion(se);w.vs=w.vs.insert(I,ee)}}})(a.localStore,u))}async function lC(s,e){const i=Ye(s);if(!i.currentUser.isEqual(e)){Se(gp,"User change. New user:",e.toKey());const a=await mT(i.localStore,e);i.currentUser=e,(function(u,m){u.mu.forEach((y=>{y.forEach((E=>{E.reject(new we(fe.CANCELLED,m))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ju(i,a.Ns)}}function uC(s,e){const i=Ye(s),a=i.Au.get(e);if(a&&a.hu)return ut().add(a.key);{let l=ut();const u=i.Iu.get(e);if(!u)return l;for(const m of u){const y=i.Tu.get(m);l=l.unionWith(y.view.nu)}return l}}function IT(s){const e=Ye(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sC.bind(null,e),e.Pu.J_=GR.bind(null,e.eventManager),e.Pu.yu=XR.bind(null,e.eventManager),e}function cC(s){const e=Ye(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rC.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return cR(this.persistence,new oR,e.initialUser,this.serializer)}Cu(e){return new dT(rp.Vi,this.serializer)}Du(e){return new _R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class fC extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){At(this.persistence.referenceDelegate instanceof hf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new XN(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new dT((a=>hf.Vi(a,i)),this.serializer)}}class jm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>mE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await BR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PR})()}createDatastore(e){const i=jf(e.databaseInfo.databaseId),a=bR(e.databaseInfo);return RR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,u,m,y){return new xR(a,l,u,m,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>mE(this.syncEngine,i,0)),(function(){return lE.v()?new lE:new yR})())}createSyncEngine(e,i){return(function(l,u,m,y,E,g,w){const x=new WR(l,u,m,y,E,g);return w&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ye(i);Se(Kr,"RemoteStore shutting down."),a.Ea.add(5),await ku(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};class hC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const dr="FirestoreClient";class dC{constructor(e,i,a,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Xn.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async m=>{Se(dr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(a,(m=>(Se(dr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=mp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function nm(s,e){s.asyncQueue.verifyOperationInProgress(),Se(dr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await mT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function gE(s,e){s.asyncQueue.verifyOperationInProgress();const i=await mC(s);Se(dr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>cE(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>cE(e.remoteStore,l))),s._onlineComponents=e}async function mC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Se(dr,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===fe.FAILED_PRECONDITION||l.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ol("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new mf)}}else Se(dr,"Using default OfflineComponentProvider"),await nm(s,new fC(void 0));return s._offlineComponents}async function OT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Se(dr,"Using user provided OnlineComponentProvider"),await gE(s,s._uninitializedComponentsProvider._online)):(Se(dr,"Using default OnlineComponentProvider"),await gE(s,new jm))),s._onlineComponents}function pC(s){return OT(s).then((e=>e.syncEngine))}async function gC(s){const e=await OT(s),i=e.eventManager;return i.onListen=ZR.bind(null,e.syncEngine),i.onUnlisten=tC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=JR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=nC.bind(null,e.syncEngine),i}function _C(s,e,i={}){const a=new ar;return s.asyncQueue.enqueueAndForget((async()=>(function(u,m,y,E,g){const w=new hC({next:I=>{w.Nu(),m.enqueueAndForget((()=>FR(u,x))),I.fromCache&&E.source==="server"?g.reject(new we(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),x=new YR(y,w,{includeMetadataChanges:!0,Ka:!0});return HR(u,x)})(await gC(s),s.asyncQueue,e,i,a))),a.promise}function yC(s,e){const i=new ar;return s.asyncQueue.enqueueAndForget((async()=>iC(await pC(s),e,i))),i.promise}function kT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const vC="ComponentProvider",_E=new Map;function EC(s,e,i,a,l){return new V2(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,kT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const jT="firestore.googleapis.com",yE=!0;class vE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=yE}else this.host=e.host,this.ssl=e.ssl??yE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FN)throw new we(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new g2;switch(a.type){case"firstParty":return new E2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new we(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=_E.get(i);a&&(Se(vC,"Removing Datastore"),_E.delete(i),a.terminate())})(this),Promise.resolve()}}function TC(s,e,i,a={}){s=ul(s,Vf);const l=Gm(e),u=s._getSettings(),m={...u,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(Xw(`https://${y}`),$w("Firestore",!0)),u.host!==jT&&u.host!==y&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...u,host:y,ssl:l,emulatorOptions:a};if(!tf(E,m)&&(s._setSettings(E),a.mockUserToken)){let g,w;if(typeof a.mockUserToken=="string")g=a.mockUserToken,w=Xn.MOCK_USER;else{g=Yw(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new we(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Xn(x)}s._authCredentials=new _2(new b0(g,w))}}class El{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class gn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}toJSON(){return{type:gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(xu(i,gn._jsonSchema))return new gn(e,a||null,new Me(Vt.fromString(i.referencePath)))}}gn._jsonSchemaVersion="firestore/documentReference/1.0",gn._jsonSchema={type:dn("string",gn._jsonSchemaVersion),referencePath:dn("string")};class rr extends El{constructor(e,i,a){super(e,i,z0(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Me(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function bC(s,e,...i){if(s=pa(s),S0("collection","path",e),s instanceof Vf){const a=Vt.fromString(e,...i);return Ov(a),new rr(s,null,a)}{if(!(s instanceof gn||s instanceof rr))throw new we(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Vt.fromString(e,...i));return Ov(a),new rr(s.firestore,null,a)}}function io(s,e,...i){if(s=pa(s),arguments.length===1&&(e=Qm.newId()),S0("doc","path",e),s instanceof Vf){const a=Vt.fromString(e,...i);return Iv(a),new gn(s,null,new Me(a))}{if(!(s instanceof gn||s instanceof rr))throw new we(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Vt.fromString(e,...i));return Iv(a),new gn(s.firestore,s instanceof rr?s.converter:null,new Me(a))}}const EE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const a=tm();a&&Se(EE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;Se(EE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ya("INTERNAL UNHANDLED ERROR: ",bE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=dp.createAndSchedule(this,e,i,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Be(47125,{Pc:bE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function bE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Uf extends Vf{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new TE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function SC(s,e){const i=typeof s=="object"?s:h0(),a=typeof s=="string"?s:af,l=wf(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=Fw("firestore");u&&TC(l,...u)}return l}function MT(s){if(s._terminated)throw new we(fe.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||wC(s),s._firestoreClient}function wC(s){const e=s._freezeSettings(),i=EC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new dC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(Vn.fromBase64String(e))}catch(i){throw new we(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new es(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:dn("string",es._jsonSchemaVersion),bytes:dn("string")};class LT{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new we(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class VT{constructor(e){this._methodName=e}}class Ls{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new we(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new we(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(xu(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:dn("string",Ls._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class hs{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new hs(e.vectorValues);throw new we(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hs._jsonSchemaVersion="firestore/vectorValue/1.0",hs._jsonSchema={type:dn("string",hs._jsonSchemaVersion),vectorValues:dn("object")};const AC=/^__.*__$/;class NC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,i,this.fieldTransforms):new Iu(e,this.data,i,this.fieldTransforms)}}function UT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{dataSource:s})}}class yp{constructor(e,i,a,l,u,m){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(UT(this.dataSource)&&AC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class RC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||jf(e)}createContext(e,i,a,l=!1){return new yp({dataSource:e,methodName:i,targetDoc:a,path:Ln.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qT(s){const e=s._freezeSettings(),i=jf(s._databaseId);return new RC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function CC(s,e,i,a,l,u={}){const m=s.createContext(u.merge||u.mergeFields?2:0,e,i,l);PT("Data must be an object, but it was:",m,a);const y=BT(a,m);let E,g;if(u.merge)E=new fs(m.fieldMask),g=m.fieldTransforms;else if(u.mergeFields){const w=[];for(const x of u.mergeFields){const I=qf(e,x,i);if(!m.contains(I))throw new we(fe.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);OC(w,I)||w.push(I)}E=new fs(w),g=m.fieldTransforms.filter((x=>E.covers(x.field)))}else E=null,g=m.fieldTransforms;return new NC(new Ji(y),E,g)}function xC(s,e,i,a=!1){return vp(i,s.createContext(a?4:3,e))}function vp(s,e){if(zT(s=pa(s)))return PT("Unsupported field value:",e,s),BT(s,e);if(s instanceof VT)return(function(a,l){if(!UT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const u=[];let m=0;for(const y of a){let E=vp(y,l.childContextForArray(m));E==null&&(E={nullValue:"NULL_VALUE"}),u.push(E),m++}return{arrayValue:{values:u}}})(s,e)}return(function(a,l){if((a=pa(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lN(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=zt.fromDate(a);return{timestampValue:ff(l.serializer,u)}}if(a instanceof zt){const u=new zt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ff(l.serializer,u)}}if(a instanceof Ls)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof es)return{bytesValue:sT(l.serializer,a._byteString)};if(a instanceof gn){const u=l.databaseId,m=a.firestore._databaseId;if(!m.isEqual(u))throw l.createError(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof hs)return(function(m,y){const E=m instanceof hs?m.toArray():m;return{mapValue:{fields:{[O0]:{stringValue:k0},[rf]:{arrayValue:{values:E.map((w=>{if(typeof w!="number")throw y.createError("VectorValues must only contain numeric values.");return ep(y.serializer,w)}))}}}}}})(a,l);if(fT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Af(a)}`)})(s,e)}function BT(s,e){const i={};return N0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(s,((a,l)=>{const u=vp(l,e.childContextForField(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function zT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof zt||s instanceof Ls||s instanceof es||s instanceof gn||s instanceof VT||s instanceof hs||fT(s))}function PT(s,e,i){if(!zT(i)||!w0(i)){const a=Af(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function qf(s,e,i){if((e=pa(e))instanceof LT)return e._internalPath;if(typeof e=="string")return IC(s,e);throw pf("Field path arguments must be of type string or ",s,!1,void 0,i)}const DC=new RegExp("[~\\*/\\[\\]]");function IC(s,e,i){if(e.search(DC)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new LT(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function pf(s,e,i,a,l){const u=a&&!a.isEmpty(),m=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(u||m)&&(E+=" (found",u&&(E+=` in field ${a}`),m&&(E+=` in document ${l}`),E+=")"),new we(fe.INVALID_ARGUMENT,y+s+E)}function OC(s,e){return s.some((i=>i.isEqual(e)))}class kC{convertValue(e,i="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Jr(e,((l,u)=>{a[l]=this.convertValue(u,i)})),a}convertVectorValue(e){const i=e.fields?.[rf].arrayValue?.values?.map((a=>sn(a.doubleValue)));return new hs(i)}convertGeoPoint(e){return new Ls(sn(e.latitude),sn(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Cf(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const i=ur(e);return new zt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Vt.fromString(e);At(cT(a),9688,{name:e});const l=new bu(a.get(1),a.get(3)),u=new Me(a.popFirst(5));return l.isEqual(i)||ya(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class jC extends kC{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,i)}}const SE="@firebase/firestore",wE="4.10.0";class HT{constructor(e,i,a,l,u){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(qf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MC extends HT{data(){return super.data()}}function LC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new we(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class VC extends Ep{}function UC(s,e,...i){let a=[];e instanceof Ep&&a.push(e),a=a.concat(i),(function(u){const m=u.filter((E=>E instanceof Tp)).length,y=u.filter((E=>E instanceof Bf)).length;if(m>1||m>0&&y>0)throw new we(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Bf extends VC{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Bf(e,i,a)}_apply(e){const i=this._parse(e);return FT(e._query,i),new El(e.firestore,e.converter,wm(e._query,i))}_parse(e){const i=qT(e.firestore);return(function(u,m,y,E,g,w,x){let I;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new we(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){RE(x,w);const se=[];for(const ee of x)se.push(NE(E,u,ee));I={arrayValue:{values:se}}}else I=NE(E,u,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||RE(x,w),I=xC(y,m,x,w==="in"||w==="not-in");return hn.create(g,w,I)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function AE(s,e,i){const a=e,l=qf("where",s);return Bf._create(l,a,i)}class Tp extends Ep{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Tp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ds.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let m=l;const y=u.getFlattenedFilters();for(const E of y)FT(m,E),m=wm(m,E)})(e._query,i),new El(e.firestore,e.converter,wm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NE(s,e,i){if(typeof(i=pa(i))=="string"){if(i==="")throw new we(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P0(e)&&i.indexOf("/")!==-1)throw new we(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Vt.fromString(i));if(!Me.isDocumentKey(a))throw new we(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Bv(s,new Me(a))}if(i instanceof gn)return Bv(s,i._key);throw new we(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(i)}.`)}function RE(s,e){if(!Array.isArray(s)||s.length===0)throw new we(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(s,e){const i=(function(l,u){for(const m of l)for(const y of m.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new we(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function qC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Hc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sl extends HT{constructor(e,i,a,l,u,m){super(e,i,a,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qf("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sl._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sl._jsonSchemaVersion="firestore/documentSnapshot/1.0",sl._jsonSchema={type:dn("string",sl._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Wc extends sl{data(e={}){return super.data(e)}}class al{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Hc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Wc(this._firestore,this._userDataWriter,a.key,a,new Hc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new we(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((y=>{const E=new Wc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Hc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:E,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const E=new Wc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Hc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,w=-1;return y.type!==0&&(g=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),w=m.indexOf(y.doc.key)),{type:BC(y.type),doc:E,oldIndex:g,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:s})}}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:dn("string",al._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};function zC(s){s=ul(s,El);const e=ul(s.firestore,Uf),i=MT(e),a=new jC(e);return LC(s._query),_C(i,s._query).then((l=>new al(e,a,s,l)))}function bp(s,e,i){s=ul(s,gn);const a=ul(s.firestore,Uf),l=qC(s.converter,e),u=qT(a);return GT(a,[CC(u,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,js.none())])}function zf(s){return GT(ul(s.firestore,Uf),[new tp(s._key,js.none())])}function GT(s,e){const i=MT(s);return yC(i,e)}(function(e,i=!0){p2(n2),or(new ga("firestore",((a,{instanceIdentifier:l,options:u})=>{const m=a.getProvider("app").getImmediate(),y=new Uf(new y2(a.getProvider("auth-internal")),new T2(m,a.getProvider("app-check-internal")),U2(m,l),m);return u={useFetchStreams:i,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),Os(SE,wE,e),Os(SE,wE,"esm2020")})();const XT="@firebase/installations",Sp="0.6.19";const YT=1e4,QT=`w:${Sp}`,KT="FIS_v2",PC="https://firebaseinstallations.googleapis.com/v1",HC=3600*1e3,FC="installations",GC="Installations";const XC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$r=new bf(FC,GC,XC);function $T(s){return s instanceof Zr&&s.code.includes("request-failed")}function WT({projectId:s}){return`${PC}/projects/${s}/installations`}function ZT(s){return{token:s.token,requestStatus:2,expiresIn:QC(s.expiresIn),creationTime:Date.now()}}async function JT(s,e){const a=(await e.json()).error;return $r.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function eb({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function YC(s,{refreshToken:e}){const i=eb(s);return i.append("Authorization",KC(e)),i}async function tb(s){const e=await s();return e.status>=500&&e.status<600?s():e}function QC(s){return Number(s.replace("s","000"))}function KC(s){return`${KT} ${s}`}async function $C({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const a=WT(s),l=eb(s),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={fid:i,authVersion:KT,appId:s.appId,sdkVersion:QT},y={method:"POST",headers:l,body:JSON.stringify(m)},E=await tb(()=>fetch(a,y));if(E.ok){const g=await E.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:ZT(g.authToken)}}else throw await JT("Create Installation",E)}function nb(s){return new Promise(e=>{setTimeout(e,s)})}function WC(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const ZC=/^[cdef][\w-]{21}$/,Mm="";function JC(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=ex(s);return ZC.test(i)?i:Mm}catch{return Mm}}function ex(s){return WC(s).substr(0,22)}function Pf(s){return`${s.appName}!${s.appId}`}const ib=new Map;function sb(s,e){const i=Pf(s);ab(i,e),tx(i,e)}function ab(s,e){const i=ib.get(s);if(i)for(const a of i)a(e)}function tx(s,e){const i=nx();i&&i.postMessage({key:s,fid:e}),ix()}let Yr=null;function nx(){return!Yr&&"BroadcastChannel"in self&&(Yr=new BroadcastChannel("[Firebase] FID Change"),Yr.onmessage=s=>{ab(s.data.key,s.data.fid)}),Yr}function ix(){ib.size===0&&Yr&&(Yr.close(),Yr=null)}const sx="firebase-installations-database",ax=1,Wr="firebase-installations-store";let im=null;function wp(){return im||(im=Sf(sx,ax,{upgrade:(s,e)=>{e===0&&s.createObjectStore(Wr)}})),im}async function gf(s,e){const i=Pf(s),l=(await wp()).transaction(Wr,"readwrite"),u=l.objectStore(Wr),m=await u.get(i);return await u.put(e,i),await l.done,(!m||m.fid!==e.fid)&&sb(s,e.fid),e}async function rb(s){const e=Pf(s),a=(await wp()).transaction(Wr,"readwrite");await a.objectStore(Wr).delete(e),await a.done}async function Hf(s,e){const i=Pf(s),l=(await wp()).transaction(Wr,"readwrite"),u=l.objectStore(Wr),m=await u.get(i),y=e(m);return y===void 0?await u.delete(i):await u.put(y,i),await l.done,y&&(!m||m.fid!==y.fid)&&sb(s,y.fid),y}async function Ap(s){let e;const i=await Hf(s.appConfig,a=>{const l=rx(a),u=ox(s,l);return e=u.registrationPromise,u.installationEntry});return i.fid===Mm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function rx(s){const e=s||{fid:JC(),registrationStatus:0};return ob(e)}function ox(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject($r.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=lx(s,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ux(s)}:{installationEntry:e}}async function lx(s,e){try{const i=await $C(s,e);return gf(s.appConfig,i)}catch(i){throw $T(i)&&i.customData.serverCode===409?await rb(s.appConfig):await gf(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function ux(s){let e=await CE(s.appConfig);for(;e.registrationStatus===1;)await nb(100),e=await CE(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await Ap(s);return a||i}return e}function CE(s){return Hf(s,e=>{if(!e)throw $r.create("installation-not-found");return ob(e)})}function ob(s){return cx(s)?{fid:s.fid,registrationStatus:0}:s}function cx(s){return s.registrationStatus===1&&s.registrationTime+YT<Date.now()}async function fx({appConfig:s,heartbeatServiceProvider:e},i){const a=hx(s,i),l=YC(s,i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={installation:{sdkVersion:QT,appId:s.appId}},y={method:"POST",headers:l,body:JSON.stringify(m)},E=await tb(()=>fetch(a,y));if(E.ok){const g=await E.json();return ZT(g)}else throw await JT("Generate Auth Token",E)}function hx(s,{fid:e}){return`${WT(s)}/${e}/authTokens:generate`}async function Np(s,e=!1){let i;const a=await Hf(s.appConfig,u=>{if(!lb(u))throw $r.create("not-registered");const m=u.authToken;if(!e&&px(m))return u;if(m.requestStatus===1)return i=dx(s,e),u;{if(!navigator.onLine)throw $r.create("app-offline");const y=_x(u);return i=mx(s,y),y}});return i?await i:a.authToken}async function dx(s,e){let i=await xE(s.appConfig);for(;i.authToken.requestStatus===1;)await nb(100),i=await xE(s.appConfig);const a=i.authToken;return a.requestStatus===0?Np(s,e):a}function xE(s){return Hf(s,e=>{if(!lb(e))throw $r.create("not-registered");const i=e.authToken;return yx(i)?{...e,authToken:{requestStatus:0}}:e})}async function mx(s,e){try{const i=await fx(s,e),a={...e,authToken:i};return await gf(s.appConfig,a),i}catch(i){if($T(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await rb(s.appConfig);else{const a={...e,authToken:{requestStatus:0}};await gf(s.appConfig,a)}throw i}}function lb(s){return s!==void 0&&s.registrationStatus===2}function px(s){return s.requestStatus===2&&!gx(s)}function gx(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+HC}function _x(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function yx(s){return s.requestStatus===1&&s.requestTime+YT<Date.now()}async function vx(s){const e=s,{installationEntry:i,registrationPromise:a}=await Ap(e);return a?a.catch(console.error):Np(e).catch(console.error),i.fid}async function Ex(s,e=!1){const i=s;return await Tx(i),(await Np(i,e)).token}async function Tx(s){const{registrationPromise:e}=await Ap(s);e&&await e}function bx(s){if(!s||!s.options)throw sm("App Configuration");if(!s.name)throw sm("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw sm(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function sm(s){return $r.create("missing-app-config-values",{valueName:s})}const ub="installations",Sx="installations-internal",wx=s=>{const e=s.getProvider("app").getImmediate(),i=bx(e),a=wf(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},Ax=s=>{const e=s.getProvider("app").getImmediate(),i=wf(e,ub).getImmediate();return{getId:()=>vx(i),getToken:l=>Ex(i,l)}};function Nx(){or(new ga(ub,wx,"PUBLIC")),or(new ga(Sx,Ax,"PRIVATE"))}Nx();Os(XT,Sp);Os(XT,Sp,"esm2020");const Rx="/firebase-messaging-sw.js",Cx="/firebase-cloud-messaging-push-scope",cb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xx="https://fcmregistrations.googleapis.com/v1",fb="google.c.a.c_id",Dx="google.c.a.c_l",Ix="google.c.a.ts",Ox="google.c.a.e",DE=1e4;var IE;(function(s){s[s.DATA_MESSAGE=1]="DATA_MESSAGE",s[s.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(IE||(IE={}));var Nu;(function(s){s.PUSH_RECEIVED="push-received",s.NOTIFICATION_CLICKED="notification-clicked"})(Nu||(Nu={}));function ca(s){const e=new Uint8Array(s);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kx(s){const e="=".repeat((4-s.length%4)%4),i=(s+e).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(i),l=new Uint8Array(a.length);for(let u=0;u<a.length;++u)l[u]=a.charCodeAt(u);return l}const am="fcm_token_details_db",jx=5,OE="fcm_token_object_Store";async function Mx(s){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(am))return null;let e=null;return(await Sf(am,jx,{upgrade:async(a,l,u,m)=>{if(l<2||!a.objectStoreNames.contains(OE))return;const y=m.objectStore(OE),E=await y.index("fcmSenderId").get(s);if(await y.clear(),!!E){if(l===2){const g=E;if(!g.auth||!g.p256dh||!g.endpoint)return;e={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:ca(g.vapidKey)}}}else if(l===3){const g=E;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ca(g.auth),p256dh:ca(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ca(g.vapidKey)}}}else if(l===4){const g=E;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ca(g.auth),p256dh:ca(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ca(g.vapidKey)}}}}}})).close(),await Kd(am),await Kd("fcm_vapid_details_db"),await Kd("undefined"),Lx(e)?e:null}function Lx(s){if(!s||!s.subscriptionOptions)return!1;const{subscriptionOptions:e}=s;return typeof s.createTime=="number"&&s.createTime>0&&typeof s.token=="string"&&s.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const Vx="firebase-messaging-database",Ux=1,Ru="firebase-messaging-store";let rm=null;function hb(){return rm||(rm=Sf(Vx,Ux,{upgrade:(s,e)=>{e===0&&s.createObjectStore(Ru)}})),rm}async function qx(s){const e=db(s),a=await(await hb()).transaction(Ru).objectStore(Ru).get(e);if(a)return a;{const l=await Mx(s.appConfig.senderId);if(l)return await Rp(s,l),l}}async function Rp(s,e){const i=db(s),l=(await hb()).transaction(Ru,"readwrite");return await l.objectStore(Ru).put(e,i),await l.done,e}function db({appConfig:s}){return s.appId}const Bx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kn=new bf("messaging","Messaging",Bx);async function zx(s,e){const i=await xp(s),a=mb(e),l={method:"POST",headers:i,body:JSON.stringify(a)};let u;try{u=await(await fetch(Cp(s.appConfig),l)).json()}catch(m){throw Kn.create("token-subscribe-failed",{errorInfo:m?.toString()})}if(u.error){const m=u.error.message;throw Kn.create("token-subscribe-failed",{errorInfo:m})}if(!u.token)throw Kn.create("token-subscribe-no-token");return u.token}async function Px(s,e){const i=await xp(s),a=mb(e.subscriptionOptions),l={method:"PATCH",headers:i,body:JSON.stringify(a)};let u;try{u=await(await fetch(`${Cp(s.appConfig)}/${e.token}`,l)).json()}catch(m){throw Kn.create("token-update-failed",{errorInfo:m?.toString()})}if(u.error){const m=u.error.message;throw Kn.create("token-update-failed",{errorInfo:m})}if(!u.token)throw Kn.create("token-update-no-token");return u.token}async function Hx(s,e){const a={method:"DELETE",headers:await xp(s)};try{const u=await(await fetch(`${Cp(s.appConfig)}/${e}`,a)).json();if(u.error){const m=u.error.message;throw Kn.create("token-unsubscribe-failed",{errorInfo:m})}}catch(l){throw Kn.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function Cp({projectId:s}){return`${xx}/projects/${s}/registrations`}async function xp({appConfig:s,installations:e}){const i=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function mb({p256dh:s,auth:e,endpoint:i,vapidKey:a}){const l={web:{endpoint:i,auth:e,p256dh:s}};return a!==cb&&(l.web.applicationPubKey=a),l}const Fx=10080*60*1e3;async function Gx(s){const e=await Yx(s.swRegistration,s.vapidKey),i={vapidKey:s.vapidKey,swScope:s.swRegistration.scope,endpoint:e.endpoint,auth:ca(e.getKey("auth")),p256dh:ca(e.getKey("p256dh"))},a=await qx(s.firebaseDependencies);if(a){if(Qx(a.subscriptionOptions,i))return Date.now()>=a.createTime+Fx?Xx(s,{token:a.token,createTime:Date.now(),subscriptionOptions:i}):a.token;try{await Hx(s.firebaseDependencies,a.token)}catch(l){console.warn(l)}return kE(s.firebaseDependencies,i)}else return kE(s.firebaseDependencies,i)}async function Xx(s,e){try{const i=await Px(s.firebaseDependencies,e),a={...e,token:i,createTime:Date.now()};return await Rp(s.firebaseDependencies,a),i}catch(i){throw i}}async function kE(s,e){const a={token:await zx(s,e),createTime:Date.now(),subscriptionOptions:e};return await Rp(s,a),a.token}async function Yx(s,e){const i=await s.pushManager.getSubscription();return i||s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kx(e)})}function Qx(s,e){const i=e.vapidKey===s.vapidKey,a=e.endpoint===s.endpoint,l=e.auth===s.auth,u=e.p256dh===s.p256dh;return i&&a&&l&&u}function jE(s){const e={from:s.from,collapseKey:s.collapse_key,messageId:s.fcmMessageId};return Kx(e,s),$x(e,s),Wx(e,s),e}function Kx(s,e){if(!e.notification)return;s.notification={};const i=e.notification.title;i&&(s.notification.title=i);const a=e.notification.body;a&&(s.notification.body=a);const l=e.notification.image;l&&(s.notification.image=l);const u=e.notification.icon;u&&(s.notification.icon=u)}function $x(s,e){e.data&&(s.data=e.data)}function Wx(s,e){if(!e.fcmOptions&&!e.notification?.click_action)return;s.fcmOptions={};const i=e.fcmOptions?.link??e.notification?.click_action;i&&(s.fcmOptions.link=i);const a=e.fcmOptions?.analytics_label;a&&(s.fcmOptions.analyticsLabel=a)}function Zx(s){return typeof s=="object"&&!!s&&fb in s}function Jx(s){if(!s||!s.options)throw om("App Configuration Object");if(!s.name)throw om("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=s;for(const a of e)if(!i[a])throw om(a);return{appName:s.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function om(s){return Kn.create("missing-app-config-values",{valueName:s})}class eD{constructor(e,i,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=Jx(e);this.firebaseDependencies={app:e,appConfig:l,installations:i,analyticsProvider:a}}_delete(){return Promise.resolve()}}async function tD(s){try{s.swRegistration=await navigator.serviceWorker.register(Rx,{scope:Cx}),s.swRegistration.update().catch(()=>{}),await nD(s.swRegistration)}catch(e){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function nD(s){return new Promise((e,i)=>{const a=setTimeout(()=>i(new Error(`Service worker not registered after ${DE} ms`)),DE),l=s.installing||s.waiting;s.active?(clearTimeout(a),e()):l?l.onstatechange=u=>{u.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(a),e())}:(clearTimeout(a),i(new Error("No incoming service worker found.")))})}async function iD(s,e){if(!e&&!s.swRegistration&&await tD(s),!(!e&&s.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");s.swRegistration=e}}async function sD(s,e){e?s.vapidKey=e:s.vapidKey||(s.vapidKey=cb)}async function pb(s,e){if(!navigator)throw Kn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Kn.create("permission-blocked");return await sD(s,e?.vapidKey),await iD(s,e?.serviceWorkerRegistration),Gx(s)}async function aD(s,e,i){const a=rD(e);(await s.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:i[fb],message_name:i[Dx],message_time:i[Ix],message_device_time:Math.floor(Date.now()/1e3)})}function rD(s){switch(s){case Nu.NOTIFICATION_CLICKED:return"notification_open";case Nu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function oD(s,e){const i=e.data;if(!i.isFirebaseMessaging)return;s.onMessageHandler&&i.messageType===Nu.PUSH_RECEIVED&&(typeof s.onMessageHandler=="function"?s.onMessageHandler(jE(i)):s.onMessageHandler.next(jE(i)));const a=i.data;Zx(a)&&a[Ox]==="1"&&await aD(s,i.messageType,a)}const ME="@firebase/messaging",LE="0.12.23";const lD=s=>{const e=new eD(s.getProvider("app").getImmediate(),s.getProvider("installations-internal").getImmediate(),s.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>oD(e,i)),e},uD=s=>{const e=s.getProvider("messaging").getImmediate();return{getToken:a=>pb(e,a)}};function cD(){or(new ga("messaging",lD,"PUBLIC")),or(new ga("messaging-internal",uD,"PRIVATE")),Os(ME,LE),Os(ME,LE,"esm2020")}async function gb(){try{await o0()}catch{return!1}return typeof window<"u"&&r0()&&eA()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function fD(s,e){if(!navigator)throw Kn.create("only-available-in-window");return s.onMessageHandler=e,()=>{s.onMessageHandler=null}}function hD(s=h0()){return gb().then(e=>{if(!e)throw Kn.create("unsupported-browser")},e=>{throw Kn.create("indexed-db-unsupported")}),wf(pa(s),"messaging").getImmediate()}async function dD(s,e){return s=pa(s),pb(s,e)}function mD(s,e){return s=pa(s),fD(s,e)}cD();const Zc={apiKey:"AIzaSyA3dJLU8Xw6vcqXtOhVbuI5aO_ImdT8upg",authDomain:"goal-game-7ad53.firebaseapp.com",projectId:"goal-game-7ad53",storageBucket:"goal-game-7ad53.firebasestorage.app",messagingSenderId:"86507800050",appId:"1:86507800050:web:f7674a55bc2291686f976b"},_b="BLD2XB0Bh-Y2EwwHU1YimB6-tzKQNrGh-bzoZHXbSWlvQt1mg6K5c7EJWfBIDrGY0cQJXO4LNrKD9MjlZhMsb3c";let lm=null,um=null,Fc=null;function Us(){return!!(Zc.apiKey&&Zc.projectId&&Zc.messagingSenderId&&_b)}function yb(){if(!lm){if(!Us())throw new Error("Firebase is not configured. Please add your Firebase config to .env file.");lm=f0(Zc)}return lm}function so(){return um||(um=SC(yb())),um}async function vb(){return Fc||(await gb()?(Fc=hD(yb()),Fc):(console.warn("Firebase Messaging is not supported in this browser"),null))}function Ea(){let s=localStorage.getItem("goal-game-device-id");return s||(s=crypto.randomUUID(),localStorage.setItem("goal-game-device-id",s)),s}const ml="scheduled_notifications",Eb="fcm_tokens";async function pD(s,e,i,a,l,u){if(!Us())return console.warn("Firebase not configured, skipping notification scheduling"),null;const m=so(),y=Ea(),E=new Date(`${i}T${a}`),g=new Date(E.getTime()-l*60*1e3);if(g<=new Date)return console.warn("Notification trigger time is in the past, skipping"),null;const w=`${y}_event_${s}`,x={id:w,eventId:s,eventTitle:e,eventDate:i,eventTime:a,triggerAt:g.toISOString(),fcmToken:u,deviceId:y,status:"pending",createdAt:new Date().toISOString(),notificationType:"event"};try{return await bp(io(m,ml,w),x),w}catch(I){return console.error("Failed to schedule notification:",I),null}}async function gD(s,e,i,a,l){if(!Us())return console.warn("Firebase not configured, skipping notification scheduling"),null;const u=so(),m=Ea(),y=new Date(a);if(y<=new Date)return console.warn("Buff expiry time is in the past, skipping notification"),null;const E=`${m}_buff_${s}`,g={id:E,buffLogId:s,buffName:e,buffType:i,triggerAt:y.toISOString(),fcmToken:l,deviceId:m,status:"pending",createdAt:new Date().toISOString(),notificationType:"buff_expiry"};try{return await bp(io(u,ml,E),g),E}catch(w){return console.error("Failed to schedule buff expiry notification:",w),null}}async function _D(s){if(!Us())return;const e=so(),a=`${Ea()}_buff_${s}`;try{await zf(io(e,ml,a))}catch(l){console.error("Failed to cancel buff expiry notification:",l)}}async function yD(s){if(!Us())return;const e=so(),a=`${Ea()}_event_${s}`;try{await zf(io(e,ml,a))}catch(l){console.error("Failed to cancel notification:",l)}}async function vD(){if(!Us())return;const s=so(),e=Ea();try{const i=UC(bC(s,ml),AE("deviceId","==",e),AE("status","==","pending")),l=(await zC(i)).docs.map(u=>zf(io(s,ml,u.id)));await Promise.all(l)}catch(i){console.error("Failed to cancel all notifications:",i)}}async function ED(s){if(!Us())return;const e=so(),i=Ea();try{await bp(io(e,Eb,i),{token:s,deviceId:i,updatedAt:new Date().toISOString(),platform:navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")?"ios":navigator.userAgent.includes("Android")?"android":"web"})}catch(a){console.error("Failed to save FCM token:",a)}}async function TD(){if(!Us())return;const s=so(),e=Ea();try{await zf(io(s,Eb,e))}catch(i){console.error("Failed to delete FCM token:",i)}}function bD(){return"Notification"in window?Notification.permission:"unsupported"}function Dp(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}function Ip(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function Op(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function SD(){return Ip()&&!Op()?!1:Dp()}async function wD(){if(!Us())return{success:!1,token:null,error:"Firebase is not configured"};if(!Dp())return{success:!1,token:null,error:"Notifications are not supported in this browser"};if(Ip()&&!Op())return{success:!1,token:null,error:"On iOS, you must add this app to your home screen first, then enable notifications"};try{if(await Notification.requestPermission()!=="granted")return{success:!1,token:null,error:"Notification permission was denied"};const e=await vb();if(!e)return{success:!1,token:null,error:"Failed to initialize Firebase Messaging"};const i=await navigator.serviceWorker.register("/goal-game/firebase-messaging-sw.js");await navigator.serviceWorker.ready;const a=await dD(e,{vapidKey:_b,serviceWorkerRegistration:i});return a?(await ED(a),{success:!0,token:a}):{success:!1,token:null,error:"Failed to get FCM token"}}catch(s){return console.error("Error requesting notification permission:",s),{success:!1,token:null,error:s instanceof Error?s.message:"Unknown error occurred"}}}async function AD(){try{await TD(),await vD()}catch(s){console.error("Error disabling notifications:",s)}}function ND(s){let e=null;return vb().then(i=>{i&&(e=mD(i,a=>{if(console.log("Foreground message received:",a),s(a),a.notification){const{title:l,body:u}=a.notification;l&&new Notification(l,{body:u||"",icon:"/goal-game/icons/icon-192.png",badge:"/goal-game/icons/icon-192.png",tag:a.data?.eventId||"goal-game-notification"})}}))}),()=>{e&&e()}}function Tb(){const s=Oe(),e=Ea(),i=s.exec("SELECT enabled, default_reminder_minutes, fcm_token, device_id FROM notification_settings WHERE id = 1");if(i.length===0||i[0].values.length===0)return s.run("INSERT OR REPLACE INTO notification_settings (id, enabled, default_reminder_minutes, fcm_token, device_id) VALUES (1, 0, 15, NULL, ?)",[e]),{enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:e};const a=i[0].values[0];return{enabled:!!a[0],defaultReminderMinutes:a[1],fcmToken:a[2],deviceId:a[3]}}async function cm(s){const e=Oe(),i=Ea(),l={...Tb(),...s};e.run(`UPDATE notification_settings SET
      enabled = ?,
      default_reminder_minutes = ?,
      fcm_token = ?,
      device_id = ?,
      updated_at = datetime('now')
    WHERE id = 1`,[l.enabled?1:0,l.defaultReminderMinutes,l.fcmToken,i]),await Je()}function bb(){const[s,e]=ne.useState({enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:""}),[i,a]=ne.useState("default"),[l,u]=ne.useState(!1),[m,y]=ne.useState(null),E=Dp(),g=Us(),w=SD(),x=Ip(),I=Op();ne.useEffect(()=>{try{const pe=Tb();e(pe),a(bD())}catch(pe){console.error("Failed to load notification settings:",pe)}},[]),ne.useEffect(()=>!s.enabled||!s.fcmToken?void 0:ND(xe=>{console.log("Notification received in foreground:",xe)}),[s.enabled,s.fcmToken]);const $=ne.useCallback(async()=>{u(!0),y(null);try{const pe=await wD();return pe.success?(await cm({enabled:!0,fcmToken:pe.token}),e(xe=>({...xe,enabled:!0,fcmToken:pe.token})),a("granted"),!0):(y(pe.error||"Failed to enable notifications"),!1)}catch(pe){const xe=pe instanceof Error?pe.message:"Unknown error";return y(xe),!1}finally{u(!1)}},[]),se=ne.useCallback(async()=>{u(!0),y(null);try{await AD(),await cm({enabled:!1,fcmToken:null}),e(pe=>({...pe,enabled:!1,fcmToken:null}))}catch(pe){const xe=pe instanceof Error?pe.message:"Unknown error";y(xe)}finally{u(!1)}},[]),ee=ne.useCallback(async pe=>{await cm({defaultReminderMinutes:pe}),e(xe=>({...xe,defaultReminderMinutes:pe}))},[]),z=ne.useCallback(async(pe,xe,Ie,k,D)=>{!s.enabled||!s.fcmToken||await pD(pe,xe,Ie,k,D,s.fcmToken)},[s.enabled,s.fcmToken]),Y=ne.useCallback(async pe=>{await yD(pe)},[]),ue=ne.useCallback(async(pe,xe,Ie,k)=>{!s.enabled||!s.fcmToken||await gD(pe,xe,Ie,k,s.fcmToken)},[s.enabled,s.fcmToken]),de=ne.useCallback(async pe=>{await _D(pe)},[]);return{settings:s,permissionState:i,isSupported:E,isConfigured:g,canEnable:w,isIOS:x,isStandalone:I,loading:l,error:m,enableNotifications:$,disableNotificationsHandler:se,setDefaultReminderMinutes:ee,scheduleEventReminder:z,cancelEventReminder:Y,scheduleBuffExpiry:ue,cancelBuffExpiry:de}}const RD=[{type:"activate_buffs",title:"Habit Builder",description:"Activate {target} buff(s) today",targetRange:[2,4],xpReward:25},{type:"complete_steps",title:"Step by Step",description:"Complete {target} quest step(s) today",targetRange:[3,7],xpReward:30},{type:"no_debuffs",title:"Clean Slate",description:"Avoid activating any debuffs today",targetRange:[1,1],xpReward:40},{type:"gym_session",title:"Iron Warrior",description:"Complete a gym workout today",targetRange:[1,1],xpReward:35},{type:"early_start",title:"Early Bird",description:"Complete a habit before 8 AM",targetRange:[1,1],xpReward:30},{type:"planner_event",title:"Planned Execution",description:"Complete {target} planner event(s)",targetRange:[1,3],xpReward:25},{type:"activate_specific",title:"Wellness Warrior",description:"Activate a health-related buff",targetRange:[1,1],xpReward:20}],VE=50;function Tl(){return new Date().toISOString().split("T")[0]}function UE(s){const e=Oe(),i=s||Tl(),a=e.exec(`SELECT id, date, quest_type, title, description, target_value, current_value, xp_reward, is_completed, completed_at
     FROM daily_quests WHERE date = ? ORDER BY id`,[i]);return a.length?a[0].values.map(l=>({id:l[0],date:l[1],quest_type:l[2],title:l[3],description:l[4],target_value:l[5],current_value:l[6],xp_reward:l[7],is_completed:!!l[8],completed_at:l[9]})):[]}function CD(s){const e=Oe(),i=Tl(),a=e.exec("SELECT id FROM daily_quest_bonus WHERE date = ?",[i]);return a.length>0&&a[0].values.length>0}async function xD(s){const e=Oe(),i=Tl();e.run("INSERT OR IGNORE INTO daily_quest_bonus (date, claimed_at) VALUES (?, datetime('now'))",[i]),await Je()}async function DD(){const s=Oe(),e=Tl(),i=UE(e);if(i.length>0)return i;const l=[...RD].sort(()=>Math.random()-.5).slice(0,3);for(const u of l){const m=u.targetRange[0]===u.targetRange[1]?u.targetRange[0]:Math.floor(Math.random()*(u.targetRange[1]-u.targetRange[0]+1))+u.targetRange[0],y=u.description.replace("{target}",m.toString());s.run(`INSERT INTO daily_quests (date, quest_type, title, description, target_value, xp_reward)
       VALUES (?, ?, ?, ?, ?, ?)`,[e,u.type,u.title,y,m,u.xpReward])}return await Je(),UE(e)}async function Sb(s,e=1,i){const a=Oe(),l=i||Tl(),u=a.exec(`SELECT id, current_value, target_value, is_completed FROM daily_quests
     WHERE date = ? AND quest_type = ? AND is_completed = 0`,[l,s]);if(!u.length||!u[0].values.length)return null;const m=u[0].values[0][0],y=u[0].values[0][1],E=u[0].values[0][2],g=y+e,w=g>=E;a.run(`UPDATE daily_quests SET current_value = ?, is_completed = ?, completed_at = ?
     WHERE id = ?`,[g,w?1:0,w?new Date().toISOString():null,m]),await Je();const x=a.exec(`SELECT id, date, quest_type, title, description, target_value, current_value, xp_reward, is_completed, completed_at
     FROM daily_quests WHERE id = ?`,[m]);if(!x.length)return null;const I=x[0].values[0];return{id:I[0],date:I[1],quest_type:I[2],title:I[3],description:I[4],target_value:I[5],current_value:I[6],xp_reward:I[7],is_completed:!!I[8],completed_at:I[9]}}async function ID(s){const e=Oe(),i=Tl();(e.exec(`SELECT COUNT(*) FROM buff_log bl
     JOIN buff_definitions bd ON bl.definition_id = bd.id
     WHERE bd.type = 'debuff' AND date(bl.activated_at) = ?`,[i])[0]?.values[0]?.[0]||0)===0&&await Sb("no_debuffs",1,i)}function OD({grantXP:s}){const[e,i]=ne.useState([]),[a,l]=ne.useState(!1),[u,m]=ne.useState(!0),y=ne.useCallback(async()=>{const se=await DD();i(se),l(CD()),m(!1)},[]);ne.useEffect(()=>{y()},[y]),ne.useEffect(()=>{const ee=setInterval(()=>{const z=new Date().toISOString().split("T")[0];e.length>0&&e[0].date!==z&&y()},6e4);return()=>clearInterval(ee)},[e,y]);const E=ne.useCallback(async(se,ee=1)=>{const z=await Sb(se,ee);return z?.is_completed&&await s(z.xp_reward,`Daily Quest: ${z.title}`,"daily_quest",z.id),await y(),z},[s,y]),g=ne.useCallback(async()=>!e.every(ee=>ee.is_completed)||a?!1:(await xD(),await s(VE,"Daily Quest Bonus: All quests completed!","daily_quest_bonus"),l(!0),!0),[e,a,s]),w=ne.useCallback(async()=>{await ID(),await y()},[y]),x=e.every(se=>se.is_completed),I=e.filter(se=>se.is_completed).length,$=e.filter(se=>se.is_completed).reduce((se,ee)=>se+ee.xp_reward,0);return{quests:e,loading:u,allCompleted:x,completedCount:I,bonusClaimed:a,bonusXp:VE,totalXpEarned:$,refresh:y,updateProgress:E,claimBonus:g,checkNoDebuffs:w}}const wb=[{days:3,title:"Getting Started",bonusXp:15,icon:""},{days:7,title:"One Week Strong",bonusXp:50,icon:""},{days:14,title:"Two Week Warrior",bonusXp:75,icon:""},{days:21,title:"Habit Forming",bonusXp:100,icon:""},{days:30,title:"Monthly Master",bonusXp:150,icon:""},{days:60,title:"Two Month Champion",bonusXp:250,icon:""},{days:90,title:"Quarterly Legend",bonusXp:400,icon:""},{days:180,title:"Half Year Hero",bonusXp:750,icon:""},{days:365,title:"Annual Achiever",bonusXp:1500,icon:""}];function kD(s){return wb.filter(e=>e.days<=s)}function jD(s){const e=kD(s);return e.length>0?e[e.length-1]:null}function Ab(){return new Date().toISOString().split("T")[0]}function MD(){const s=new Date;return s.setDate(s.getDate()-1),s.toISOString().split("T")[0]}function Nb(s){const e=Oe(),i=Ab(),a=MD(),l=e.exec(`SELECT DISTINCT date(activated_at) as d FROM buff_log
     WHERE definition_id = ? AND activated_at >= date('now', '-400 days')
     ORDER BY d DESC`,[s]),u=l.length?l[0].values.map(z=>z[0]):[],m=e.exec(`SELECT freeze_date FROM streak_freezes
     WHERE buff_definition_id = ? AND freeze_date >= date('now', '-400 days')`,[s]),y=m.length?m[0].values.map(z=>z[0]):[],E=e.exec(`SELECT used_date FROM streak_shield_uses
     WHERE buff_definition_id = ? AND used_date >= date('now', '-400 days')`,[s]),g=E.length?E[0].values.map(z=>z[0]):[];let w=0;const x=new Set([...u,...y,...g]);let I=i;if(!x.has(i))if(x.has(a))I=a;else if(y.includes(i))I=i;else return{buffDefinitionId:s,currentStreak:0,longestStreak:qE(s),lastActivatedDate:u[0]||null,isAtRisk:u.length>0&&u[0]===a,shieldActive:!1};for(;x.has(I);){w++;const z=new Date(I+"T12:00:00");z.setDate(z.getDate()-1),I=z.toISOString().split("T")[0]}const $=!u.includes(i)&&!y.includes(i)&&u.includes(a),se=g.includes(i),ee=qE(s);return w>ee&&LD(s,w),{buffDefinitionId:s,currentStreak:w,longestStreak:Math.max(w,ee),lastActivatedDate:u[0]||null,isAtRisk:$,shieldActive:se}}function qE(s){const i=Oe().exec("SELECT longest_streak FROM streak_records WHERE buff_definition_id = ?",[s]);return i.length&&i[0].values.length?i[0].values[0][0]:0}async function LD(s,e){Oe().run(`INSERT INTO streak_records (buff_definition_id, longest_streak, updated_at)
     VALUES (?, ?, datetime('now'))
     ON CONFLICT(buff_definition_id) DO UPDATE SET
       longest_streak = MAX(longest_streak, excluded.longest_streak),
       updated_at = datetime('now')`,[s,e]),await Je()}function Rb(){const e=Oe().exec("SELECT SUM(quantity) FROM streak_shields");return e.length&&e[0].values.length&&e[0].values[0][0]||0}async function VD(s){Oe().run("INSERT INTO streak_shields (quantity) VALUES (?)",[s]),await Je()}async function UD(s){const e=Oe(),i=Ab();if(Rb()<=0)return!1;const l=e.exec("SELECT id FROM streak_shield_uses WHERE buff_definition_id = ? AND used_date = ?",[s,i]);if(l.length&&l[0].values.length)return!1;const u=Nb(s);return e.run(`UPDATE streak_shields SET quantity = quantity - 1
     WHERE id = (SELECT id FROM streak_shields WHERE quantity > 0 ORDER BY earned_at LIMIT 1)`),e.run(`INSERT INTO streak_shield_uses (buff_definition_id, used_date, streak_saved)
     VALUES (?, ?, ?)`,[s,i,u.currentStreak]),e.run("DELETE FROM streak_shields WHERE quantity <= 0"),await Je(),!0}function qD(s){const i=Oe().exec(`SELECT id, buff_definition_id, freeze_date, reason, created_at
     FROM streak_freezes WHERE buff_definition_id = ? AND freeze_date >= date('now')
     ORDER BY freeze_date`,[s]);return i.length?i[0].values.map(a=>({id:a[0],buff_definition_id:a[1],freeze_date:a[2],reason:a[3],created_at:a[4]})):[]}async function BD(s,e,i){Oe().run(`INSERT OR IGNORE INTO streak_freezes (buff_definition_id, freeze_date, reason)
     VALUES (?, ?, ?)`,[s,e,i||null]),await Je()}async function zD(s){Oe().run("DELETE FROM streak_freezes WHERE id = ?",[s]),await Je()}function PD(s){const i=Oe().exec("SELECT last_milestone_claimed FROM streak_records WHERE buff_definition_id = ?",[s]);return i.length&&i[0].values.length?i[0].values[0][0]:0}async function HD(s,e){Oe().run(`INSERT INTO streak_records (buff_definition_id, longest_streak, last_milestone_claimed, updated_at)
     VALUES (?, 0, ?, datetime('now'))
     ON CONFLICT(buff_definition_id) DO UPDATE SET
       last_milestone_claimed = ?,
       updated_at = datetime('now')`,[s,e,e]),await Je()}function BE(s,e){const i=PD(s);return wb.filter(a=>a.days<=e&&a.days>i)}function FD(){const e=Oe().exec("SELECT DISTINCT definition_id FROM buff_log WHERE definition_id IN (SELECT id FROM buff_definitions WHERE type = ?)",["buff"]),i=new Map;if(!e.length)return i;for(const a of e[0].values){const l=a[0];i.set(l,Nb(l))}return i}function GD({grantXP:s}){const[e,i]=ne.useState(new Map),[a,l]=ne.useState(0),[u,m]=ne.useState(!0),y=ne.useCallback(()=>{i(FD()),l(Rb()),m(!1)},[]);ne.useEffect(()=>{y()},[y]);const E=ne.useCallback(z=>e.get(z)||{buffDefinitionId:z,currentStreak:0,longestStreak:0,lastActivatedDate:null,isAtRisk:!1,shieldActive:!1},[e]),g=ne.useCallback(async z=>{const Y=await UD(z);return Y&&y(),Y},[y]),w=ne.useCallback(async(z,Y,ue)=>{await BD(z,Y,ue),y()},[y]),x=ne.useCallback(async z=>{await zD(z),y()},[y]),I=ne.useCallback(z=>qD(z),[]),$=ne.useCallback(async z=>{const Y=E(z),ue=BE(z,Y.currentStreak);for(const de of ue)await s(de.bonusXp,`Streak Milestone: ${de.title} (${de.days} days)`,"streak_milestone",z),await HD(z,de.days);return y(),ue},[E,s,y]),se=ne.useCallback(z=>{const Y=E(z);return BE(z,Y.currentStreak)},[E]),ee=ne.useCallback(async z=>{await VD(z),y()},[y]);return{streakInfos:e,shieldCount:a,loading:u,refresh:y,getStreakForBuff:E,useShield:g,addFreeze:w,removeFreeze:x,getFreezes:I,claimMilestones:$,getUnclaimedMilestones:se,addShields:ee}}const XD="_appShell_1hrux_1",YD="_sidebar_1hrux_13",QD="_sidebarLogo_1hrux_41",KD="_logoTitle_1hrux_51",$D="_logoSubtitle_1hrux_67",WD="_sidebarNav_1hrux_81",ZD="_navItem_1hrux_97",JD="_navItemActive_1hrux_147",eI="_navIcon_1hrux_179",tI="_header_1hrux_193",nI="_headerLeft_1hrux_227",iI="_characterName_1hrux_239",sI="_levelBadge_1hrux_253",aI="_headerXP_1hrux_283",rI="_headerRight_1hrux_291",oI="_main_1hrux_305",lI="_xpFloat_1hrux_323",Mn={appShell:XD,sidebar:YD,sidebarLogo:QD,logoTitle:KD,logoSubtitle:$D,sidebarNav:WD,navItem:ZD,navItemActive:JD,navIcon:eI,header:tI,headerLeft:nI,characterName:iI,levelBadge:sI,headerXP:aI,headerRight:rI,main:oI,xpFloat:lI},uI=[{id:"character",label:"Character",icon:""},{id:"quests",label:"Quest Log",icon:""},{id:"buffs",label:"Buffs",icon:""},{id:"planner",label:"Planner",icon:""}];function cI({activeTab:s,onTabChange:e}){return p.jsxs("aside",{className:Mn.sidebar,children:[p.jsxs("div",{className:Mn.sidebarLogo,children:[p.jsx("div",{className:Mn.logoTitle,children:"GOAL GAME"}),p.jsx("div",{className:Mn.logoSubtitle,children:"Life Management RPG"})]}),p.jsx("nav",{className:Mn.sidebarNav,children:uI.map(i=>p.jsxs("button",{className:`${Mn.navItem} ${s===i.id?Mn.navItemActive:""}`,onClick:()=>e(i.id),children:[p.jsx("span",{className:Mn.navIcon,children:i.icon}),i.label]},i.id))})]})}const fI="_progressContainer_1jr5p_1",hI="_progressLabel_1jr5p_9",dI="_track_1jr5p_33",mI="_fill_1jr5p_53",pI="_fillGold_1jr5p_67",gI="_fillGreen_1jr5p_77",_I="_fillBlue_1jr5p_85",yI="_shimmer_1jr5p_93",vI="_trackLarge_1jr5p_117",ua={progressContainer:fI,progressLabel:hI,track:dI,fill:mI,fillGold:pI,fillGreen:gI,fillBlue:_I,shimmer:yI,trackLarge:vI};function Lm({value:s,max:e,label:i,showValue:a=!0,color:l="gold",size:u="normal",shimmer:m=!1,className:y}){const E=e>0?Math.min(s/e*100,100):0,g=l==="gold"?ua.fillGold:l==="green"?ua.fillGreen:ua.fillBlue,w=[ua.track,u==="large"&&ua.trackLarge].filter(Boolean).join(" ");return p.jsxs("div",{className:`${ua.progressContainer} ${y||""}`,children:[(i||a)&&p.jsxs("div",{className:ua.progressLabel,children:[i&&p.jsx("span",{children:i}),a&&p.jsxs("span",{children:[s," / ",e]})]}),p.jsx("div",{className:w,children:p.jsx("div",{className:[g,ua.fill,m&&ua.shimmer].filter(Boolean).join(" "),style:{width:`${E}%`}})})]})}function EI({character:s}){const e=QE(s.total_xp);return p.jsxs("header",{className:Mn.header,children:[p.jsxs("div",{className:Mn.headerLeft,children:[p.jsx("span",{className:Mn.characterName,children:s.name}),p.jsxs("span",{className:Mn.levelBadge,children:["Lv. ",s.level,"  ",s.title]})]}),p.jsx("div",{className:Mn.headerRight,children:p.jsx("div",{className:Mn.headerXP,children:p.jsx(Lm,{value:e.current,max:e.needed,label:"XP",shimmer:!0})})})]})}const TI="_levelUpOverlay_dig0a_1",bI="_levelUpContent_dig0a_23",SI="_levelUpIcon_dig0a_33",wI="_levelUpTitle_dig0a_47",AI="_levelUpLevel_dig0a_65",NI="_levelUpTitleName_dig0a_79",RI="_dismissText_dig0a_95",Fr={levelUpOverlay:TI,levelUpContent:bI,levelUpIcon:SI,levelUpTitle:wI,levelUpLevel:AI,levelUpTitleName:NI,dismissText:RI};function CI({level:s,title:e,onDismiss:i}){return ne.useEffect(()=>{const a=setTimeout(i,5e3),l=u=>{(u.key==="Escape"||u.key==="Enter"||u.key===" ")&&i()};return window.addEventListener("keydown",l),()=>{clearTimeout(a),window.removeEventListener("keydown",l)}},[i]),p.jsx("div",{className:Fr.levelUpOverlay,onClick:i,children:p.jsxs("div",{className:Fr.levelUpContent,children:[p.jsx("span",{className:Fr.levelUpIcon,children:""}),p.jsx("div",{className:Fr.levelUpTitle,children:"LEVEL UP"}),p.jsxs("div",{className:Fr.levelUpLevel,children:["Level ",s]}),p.jsx("div",{className:Fr.levelUpTitleName,children:e}),p.jsx("div",{className:Fr.dismissText,children:"Click or press any key to continue"})]})})}const xI="_panel_zw35t_1",DI="_panelHeader_zw35t_69",II="_panelGlow_zw35t_93",fm={panel:xI,panelHeader:DI,panelGlow:II};function Qn({children:s,header:e,glow:i,className:a,style:l}){const u=[fm.panel,i&&fm.panelGlow,a].filter(Boolean).join(" ");return p.jsxs("div",{className:u,style:l,children:[e&&p.jsx("div",{className:fm.panelHeader,children:e}),s]})}const OI="_button_vi3e3_1",kI="_primary_vi3e3_61",jI="_danger_vi3e3_83",MI="_small_vi3e3_103",LI="_ghost_vi3e3_113",VI="_fullWidth_vi3e3_133",Gc={button:OI,primary:kI,danger:jI,small:MI,ghost:LI,fullWidth:VI};function pt({variant:s="default",size:e="normal",fullWidth:i,children:a,className:l,...u}){const m=[Gc.button,s!=="default"&&Gc[s],e==="small"&&Gc.small,i&&Gc.fullWidth,l].filter(Boolean).join(" ");return p.jsx("button",{className:m,...u,children:a})}const UI="_inputGroup_1helv_1",qI="_label_1helv_13",BI="_input_1helv_1",zI="_select_1helv_31",PI="_textarea_1helv_31",ma={inputGroup:UI,label:qI,input:BI,select:zI,textarea:PI};function Is({label:s,className:e,...i}){return p.jsxs("div",{className:ma.inputGroup,children:[s&&p.jsx("label",{className:ma.label,children:s}),p.jsx("input",{className:`${ma.input} ${e||""}`,...i})]})}function nr({label:s,children:e,className:i,...a}){return p.jsxs("div",{className:ma.inputGroup,children:[s&&p.jsx("label",{className:ma.label,children:s}),p.jsx("select",{className:`${ma.select} ${i||""}`,...a,children:e})]})}function _f({label:s,className:e,...i}){return p.jsxs("div",{className:ma.inputGroup,children:[s&&p.jsx("label",{className:ma.label,children:s}),p.jsx("textarea",{className:`${ma.textarea} ${e||""}`,...i})]})}const HI=[{minLevel:50,tier:7},{minLevel:40,tier:6},{minLevel:30,tier:5},{minLevel:22,tier:4},{minLevel:15,tier:3},{minLevel:10,tier:2},{minLevel:5,tier:1},{minLevel:1,tier:0}];function FI(s){for(const{minLevel:e,tier:i}of HI)if(s>=e)return i;return 0}function uu(s){if(s<5)return 0;const a=(s-5)/25;return Math.min(Math.pow(a,.7),1)}const cu={stamina:"#2ecc71",willpower:"#9b59b6",health:"#e74c3c",focus:"#3498db",charisma:"#e67e22"},Cb={0:{primary:"#8b7355",secondary:"#6b5344",accent:"#a08060",skin:"#e8c4a0",hair:"#4a3728"},1:{primary:"#8b4513",secondary:"#654321",accent:"#cd853f",skin:"#e8c4a0",hair:"#4a3728"},2:{primary:"#708090",secondary:"#4a5568",accent:"#a0aec0",skin:"#e8c4a0",hair:"#4a3728"},3:{primary:"#5a6672",secondary:"#3d4852",accent:"#8892a0",skin:"#e8c4a0",hair:"#4a3728"},4:{primary:"#b8860b",secondary:"#8b6914",accent:"#daa520",skin:"#e8c4a0",hair:"#4a3728"},5:{primary:"#ffd700",secondary:"#b8860b",accent:"#ffed4a",skin:"#e8c4a0",hair:"#4a3728",glow:"#ffd700"},6:{primary:"#e6e6fa",secondary:"#9370db",accent:"#dda0dd",skin:"#e8c4a0",hair:"#4a3728",glow:"#9370db"},7:{primary:"#8b0000",secondary:"#4a0000",accent:"#ff4500",skin:"#e8c4a0",hair:"#ffd700",glow:"#ff4500",crown:"#ffd700"}},pl=64;function fa(s,e,i,a,l=1){s.fillStyle=a,s.fillRect(e,i,l,l)}function Dt(s,e,i,a,l,u){s.fillStyle=u,s.fillRect(e,i,a,l)}function GI({ctx:s,palette:e}){Dt(s,27,7,10,4,e.hair),Dt(s,28,8,8,8,e.skin),Dt(s,28,7,8,2,e.hair),fa(s,30,11,"#2c3e50"),fa(s,33,11,"#2c3e50")}function XI({ctx:s,palette:e,tier:i}){Dt(s,26,16,12,16,e.primary),Dt(s,31,18,2,12,e.secondary),i>=2&&(Dt(s,24,16,3,4,e.accent),Dt(s,37,16,3,4,e.accent)),i>=1&&(Dt(s,26,28,12,2,e.secondary),fa(s,31,28,e.accent,2)),i>=3&&(Dt(s,28,18,8,6,e.accent),Dt(s,30,19,4,4,e.secondary))}function YI({ctx:s,palette:e,tier:i}){Dt(s,22,18,4,12,e.primary),Dt(s,22,30,4,3,e.skin),Dt(s,38,18,4,12,e.primary),Dt(s,38,30,4,3,e.skin),i>=2&&(Dt(s,22,18,4,3,e.accent),Dt(s,38,18,4,3,e.accent)),i>=4&&(Dt(s,21,28,5,5,e.accent),Dt(s,38,28,5,5,e.accent))}function QI({ctx:s,palette:e,tier:i}){Dt(s,27,32,5,14,i>=3?e.secondary:e.primary),Dt(s,26,46,6,4,e.secondary),Dt(s,32,32,5,14,i>=3?e.secondary:e.primary),Dt(s,32,46,6,4,e.secondary),i>=2&&(Dt(s,26,46,6,2,e.accent),Dt(s,32,46,6,2,e.accent))}function KI({ctx:s,palette:e,tier:i}){if(i<3)return;const l={3:"#8b0000",4:"#4a0082",5:"#1a1a2e",6:"#4a0082",7:"#8b0000"}[i]||e.secondary;s.fillStyle=l,s.beginPath(),s.moveTo(24,16),s.lineTo(40,16),s.lineTo(42,48),s.lineTo(22,48),s.closePath(),s.fill(),s.fillStyle=e.accent,s.fillRect(22,16,2,32),s.fillRect(40,16,2,32)}function $I({ctx:s,palette:e,tier:i}){if(i<2)return;const a=28,l=8;i===2?Dt(s,a-1,l-2,10,3,e.secondary):i>=3&&i<7&&(Dt(s,a-2,l-3,12,5,e.accent),Dt(s,a,l+2,8,2,"#1a1a2e"),i>=4&&Dt(s,a+3,l-6,2,4,"#e74c3c"))}function WI({ctx:s,palette:e}){const i="crown"in e?e.crown:"#ffd700",a=28,l=8;Dt(s,a-2,l-4,12,3,i),fa(s,a-1,l-6,i,2),fa(s,a+3,l-7,i,2),fa(s,a+7,l-6,i,2),fa(s,a,l-5,"#e74c3c"),fa(s,a+4,l-6,"#3498db"),fa(s,a+8,l-5,"#2ecc71")}function ZI({ctx:s}){const e="#8b0000",i="#ff4500";s.fillStyle=e,s.beginPath(),s.moveTo(22,20),s.lineTo(8,10),s.lineTo(6,16),s.lineTo(10,24),s.lineTo(14,32),s.lineTo(20,36),s.lineTo(22,28),s.closePath(),s.fill(),s.fillStyle=i,s.beginPath(),s.moveTo(20,22),s.lineTo(12,14),s.lineTo(12,20),s.lineTo(16,28),s.closePath(),s.fill(),s.fillStyle=e,s.beginPath(),s.moveTo(42,20),s.lineTo(56,10),s.lineTo(58,16),s.lineTo(54,24),s.lineTo(50,32),s.lineTo(44,36),s.lineTo(42,28),s.closePath(),s.fill(),s.fillStyle=i,s.beginPath(),s.moveTo(44,22),s.lineTo(52,14),s.lineTo(52,20),s.lineTo(48,28),s.closePath(),s.fill()}function JI(s,e){if(e<5)return;const i=Cb[e],a="glow"in i?i.glow:"#ffd700",l=s.createRadialGradient(32,32,10,32,32,40);l.addColorStop(0,`${a}40`),l.addColorStop(.5,`${a}20`),l.addColorStop(1,`${a}00`),s.fillStyle=l,s.fillRect(0,0,pl,pl)}function e3(s,e){const i=Math.max(0,Math.min(7,e)),a=Cb[i];s.clearRect(0,0,pl,pl),s.imageSmoothingEnabled=!1;const l={ctx:s,palette:a,tier:i};JI(s,i),i>=7&&ZI(l),i>=3&&KI(l),QI(l),XI(l),YI(l),GI(l),i>=7?WI(l):i>=2&&$I(l)}const t3="_spriteContainer_1vkdq_3",n3="_spriteCanvas_1vkdq_25",i3="_auraStamina_1vkdq_79",s3="_auraWillpower_1vkdq_81",a3="_auraHealth_1vkdq_83",r3="_auraFocus_1vkdq_85",o3="_auraCharisma_1vkdq_87",l3="_auraLayer_1vkdq_99",Zi={spriteContainer:t3,spriteCanvas:n3,auraStamina:i3,auraWillpower:s3,auraHealth:a3,auraFocus:r3,auraCharisma:o3,auraLayer:l3};function u3({level:s,stats:e}){const i=ne.useRef(null),a=FI(s);ne.useEffect(()=>{const m=i.current;if(!m)return;const y=m.getContext("2d");y&&e3(y,a)},[a]);const l={stamina:uu(e.stamina),willpower:uu(e.willpower),health:uu(e.health),focus:uu(e.focus),charisma:uu(e.charisma)},u={"--aura-stamina-intensity":l.stamina,"--aura-stamina-color":cu.stamina,"--aura-willpower-intensity":l.willpower,"--aura-willpower-color":cu.willpower,"--aura-health-intensity":l.health,"--aura-health-color":cu.health,"--aura-focus-intensity":l.focus,"--aura-focus-color":cu.focus,"--aura-charisma-intensity":l.charisma,"--aura-charisma-color":cu.charisma};return p.jsxs("div",{className:Zi.spriteContainer,style:u,children:[l.stamina>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraStamina}`}),l.willpower>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraWillpower}`}),l.health>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraHealth}`}),l.focus>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraFocus}`}),l.charisma>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraCharisma}`}),p.jsx("canvas",{ref:i,width:pl,height:pl,className:Zi.spriteCanvas})]})}const c3="_characterGrid_1vnpd_1",f3="_characterMain_1vnpd_13",h3="_characterSide_1vnpd_25",d3="_profileSection_1vnpd_37",m3="_characterNameDisplay_1vnpd_61",p3="_characterTitleDisplay_1vnpd_75",g3="_xpSection_1vnpd_89",_3="_totalXP_1vnpd_97",y3="_statsGrid_1vnpd_113",v3="_statRow_1vnpd_125",E3="_statName_1vnpd_137",T3="_statBar_1vnpd_157",b3="_statValue_1vnpd_165",S3="_buffsList_1vnpd_185",w3="_activeBuff_1vnpd_197",A3="_buffType_1vnpd_219",N3="_debuffType_1vnpd_229",R3="_buffIcon_1vnpd_239",C3="_buffInfo_1vnpd_247",x3="_buffName_1vnpd_255",D3="_buffTimer_1vnpd_265",I3="_emptyState_1vnpd_275",O3="_nameEditRow_1vnpd_291",k3="_xpLogList_1vnpd_307",j3="_xpLogEntry_1vnpd_323",M3="_xpLogReason_1vnpd_343",L3="_xpLogAmount_1vnpd_351",V3="_negative_1vnpd_363",xt={characterGrid:c3,characterMain:f3,characterSide:h3,profileSection:d3,characterNameDisplay:m3,characterTitleDisplay:p3,xpSection:g3,totalXP:_3,statsGrid:y3,statRow:v3,statName:E3,statBar:T3,statValue:b3,buffsList:S3,activeBuff:w3,buffType:A3,debuffType:N3,buffIcon:R3,buffInfo:C3,buffName:x3,buffTimer:D3,emptyState:I3,nameEditRow:O3,xpLogList:k3,xpLogEntry:j3,xpLogReason:M3,xpLogAmount:L3,negative:V3},U3={stamina:"green",willpower:"blue",health:"gold",focus:"blue",charisma:"gold"};function q3({character:s,stats:e,activeBuffs:i,xpLog:a,onNameChange:l}){const u=QE(s.total_xp),[m,y]=ne.useState(!1),[E,g]=ne.useState(s.name),w=()=>{E.trim()&&(l(E.trim()),y(!1))};function x(I){const $=new Date,ee=new Date(I+"Z").getTime()-$.getTime();if(ee<=0)return"Expired";const z=Math.floor(ee/36e5),Y=Math.floor(ee%36e5/6e4);return z>0?`${z}h ${Y}m remaining`:`${Y}m remaining`}return p.jsxs("div",{className:xt.characterGrid,children:[p.jsxs("div",{className:xt.characterMain,children:[p.jsx(Qn,{children:p.jsxs("div",{className:xt.profileSection,children:[p.jsx(u3,{level:s.level,stats:e}),m?p.jsxs("div",{className:xt.nameEditRow,children:[p.jsx(Is,{value:E,onChange:I=>g(I.target.value),onKeyDown:I=>I.key==="Enter"&&w(),autoFocus:!0}),p.jsx(pt,{size:"small",variant:"primary",onClick:w,children:"Save"}),p.jsx(pt,{size:"small",onClick:()=>y(!1),children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:xt.characterNameDisplay,children:s.name}),p.jsx(pt,{size:"small",variant:"ghost",onClick:()=>y(!0),children:"Rename"})]}),p.jsxs("div",{className:xt.characterTitleDisplay,children:["Level ",s.level,"  ",s.title]}),p.jsxs("div",{className:xt.xpSection,children:[p.jsx(Lm,{value:u.current,max:u.needed,label:"Experience",size:"large",shimmer:!0}),p.jsxs("div",{className:xt.totalXP,children:[s.total_xp," Total XP"]})]})]})}),p.jsx(Qn,{header:"Stats",children:p.jsx("div",{className:xt.statsGrid,children:XE.map(I=>p.jsxs("div",{className:xt.statRow,children:[p.jsx("span",{className:xt.statName,children:I}),p.jsx("div",{className:xt.statBar,children:p.jsx(Lm,{value:e[I],max:30,showValue:!1,color:U3[I]||"gold"})}),p.jsx("span",{className:xt.statValue,children:e[I]})]},I))})})]}),p.jsxs("div",{className:xt.characterSide,children:[p.jsx(Qn,{header:"Active Effects",children:i.length===0?p.jsx("div",{className:xt.emptyState,children:"No active buffs or debuffs"}):p.jsx("div",{className:xt.buffsList,children:i.map(I=>{const $=vf(I.stat_effects),se=Object.entries($).map(([ee,z])=>`${z>0?"+":""}${z} ${ee}`).join(", ");return p.jsxs("div",{className:`${xt.activeBuff} ${I.type==="buff"?xt.buffType:xt.debuffType}`,children:[p.jsx("span",{className:xt.buffIcon,children:I.icon}),p.jsxs("div",{className:xt.buffInfo,children:[p.jsx("div",{className:xt.buffName,children:I.name}),p.jsxs("div",{className:xt.buffTimer,children:[x(I.expires_at),se&&`  ${se}`]})]})]},I.id)})})}),p.jsx(Qn,{header:"XP History",children:a.length===0?p.jsx("div",{className:xt.emptyState,children:"No XP earned yet. Complete steps to earn XP!"}):p.jsx("div",{className:xt.xpLogList,children:a.slice(0,20).map(I=>p.jsxs("div",{className:xt.xpLogEntry,children:[p.jsx("span",{className:xt.xpLogReason,children:I.reason}),p.jsxs("span",{className:`${xt.xpLogAmount} ${I.amount<0?xt.negative:""}`,children:[I.amount>0?"+":"",I.amount," XP"]})]},I.id))})})]})]})}const B3="_overlay_15bjw_1",z3="_modal_15bjw_25",P3="_modalHeader_15bjw_97",H3="_modalTitle_15bjw_111",F3="_closeButton_15bjw_123",G3="_modalActions_15bjw_153",$o={overlay:B3,modal:z3,modalHeader:P3,modalTitle:H3,closeButton:F3,modalActions:G3};function yf({open:s,onClose:e,title:i,children:a,actions:l}){return ne.useEffect(()=>{if(!s)return;const u=m=>{m.key==="Escape"&&e()};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[s,e]),s?p.jsx("div",{className:$o.overlay,onClick:e,children:p.jsxs("div",{className:$o.modal,onClick:u=>u.stopPropagation(),children:[i&&p.jsxs("div",{className:$o.modalHeader,children:[p.jsx("h3",{className:$o.modalTitle,children:i}),p.jsx("button",{className:$o.closeButton,onClick:e,children:""})]}),a,l&&p.jsx("div",{className:$o.modalActions,children:l})]})}):null}const X3="_checkbox_543u2_1",Y3="_box_543u2_17",Q3="_checked_543u2_53",K3="_checkmark_543u2_63",$3="_checkboxLabel_543u2_75",W3="_hidden_543u2_99",Wo={checkbox:X3,box:Y3,checked:Q3,checkmark:K3,checkboxLabel:$3,hidden:W3};function xb({checked:s,onChange:e,label:i,className:a}){const l=[Wo.checkbox,s&&Wo.checked,a].filter(Boolean).join(" ");return p.jsxs("label",{className:l,onClick:u=>u.stopPropagation(),children:[p.jsx("input",{type:"checkbox",className:Wo.hidden,checked:s,onChange:u=>e(u.target.checked)}),p.jsx("span",{className:Wo.box,children:s&&p.jsx("span",{className:Wo.checkmark,children:""})}),i&&p.jsx("span",{className:Wo.checkboxLabel,children:i})]})}const Z3="_questLog_1dd70_1",J3="_questToolbar_1dd70_13",e4="_questFilters_1dd70_27",t4="_goalSection_1dd70_39",n4="_goalHeader_1dd70_47",i4="_goalDomainIcon_1dd70_61",s4="_goalTitle_1dd70_69",a4="_goalDomain_1dd70_61",r4="_questsList_1dd70_99",o4="_questCard_1dd70_115",l4="_questCardHeader_1dd70_139",u4="_questPriority_1dd70_157",c4="_normal_1dd70_171",f4="_important_1dd70_173",h4="_legendary_1dd70_175",d4="_questTitle_1dd70_179",m4="_questCompleted_1dd70_191",p4="_questMeta_1dd70_201",g4="_questStepCount_1dd70_217",_4="_expandIcon_1dd70_233",y4="_expanded_1dd70_245",v4="_stepsSection_1dd70_255",E4="_stepsList_1dd70_265",T4="_stepItem_1dd70_279",b4="_stepPriorityDot_1dd70_305",S4="_stepTitle_1dd70_319",w4="_stepActions_1dd70_329",A4="_addStepRow_1dd70_347",N4="_addStepInput_1dd70_359",R4="_formGrid_1dd70_369",C4="_formRow_1dd70_381",x4="_emptyState_1dd70_399",wt={questLog:Z3,questToolbar:J3,questFilters:e4,goalSection:t4,goalHeader:n4,goalDomainIcon:i4,goalTitle:s4,goalDomain:a4,questsList:r4,questCard:o4,questCardHeader:l4,questPriority:u4,normal:c4,important:f4,legendary:h4,questTitle:d4,questCompleted:m4,questMeta:p4,questStepCount:g4,expandIcon:_4,expanded:y4,stepsSection:v4,stepsList:E4,stepItem:T4,stepPriorityDot:b4,stepTitle:S4,stepActions:w4,addStepRow:A4,addStepInput:N4,formGrid:R4,formRow:C4,emptyState:x4};function D4({quest:s,onCreateStep:e,onCompleteStep:i,onUncompleteStep:a,onDeleteStep:l,onDeleteQuest:u}){const[m,y]=ne.useState(!1),[E,g]=ne.useState(""),[w,x]=ne.useState("normal"),I=s.steps.filter(Y=>Y.status==="completed").length,$=s.steps.length,se=s.status==="completed",ee=()=>{E.trim()&&(e(s.id,E.trim(),w),g(""),x("normal"))},z=Y=>Y==="legendary"?"var(--priority-legendary)":Y==="important"?"var(--priority-important)":"var(--priority-normal)";return p.jsxs("div",{className:`${wt.questCard} ${se?wt.questCompleted:""}`,children:[p.jsxs("div",{className:wt.questCardHeader,onClick:()=>y(!m),children:[p.jsx("div",{className:`${wt.questPriority} ${wt[s.priority]}`}),p.jsx("span",{className:wt.questTitle,children:s.title}),p.jsxs("span",{className:wt.questMeta,children:[p.jsxs("span",{className:wt.questStepCount,children:[I,"/",$]}),p.jsx(pt,{size:"small",variant:"danger",onClick:Y=>{Y.stopPropagation(),u(s.id)},children:""})]}),p.jsx("span",{className:`${wt.expandIcon} ${m?wt.expanded:""}`,children:""})]}),m&&p.jsxs("div",{className:wt.stepsSection,children:[p.jsx("div",{className:wt.stepsList,children:s.steps.map(Y=>p.jsxs("div",{className:wt.stepItem,children:[p.jsx("div",{className:wt.stepPriorityDot,style:{background:z(Y.priority)}}),p.jsx(xb,{checked:Y.status==="completed",onChange:ue=>{ue?i(Y.id,s.id,Y.priority):a(Y.id)},label:Y.title}),p.jsx("div",{className:wt.stepActions,children:p.jsx(pt,{size:"small",variant:"danger",onClick:()=>l(Y.id),children:""})})]},Y.id))}),!se&&p.jsxs("div",{className:wt.addStepRow,children:[p.jsx("div",{className:wt.addStepInput,children:p.jsx(Is,{value:E,onChange:Y=>g(Y.target.value),placeholder:"Add a step...",onKeyDown:Y=>Y.key==="Enter"&&ee()})}),p.jsxs(nr,{value:w,onChange:Y=>x(Y.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important"}),p.jsx("option",{value:"legendary",children:"Legendary"})]}),p.jsx(pt,{variant:"primary",onClick:ee,children:"Add"})]})]})]})}function I4({goals:s,domains:e,filterDomain:i,filterStatus:a,onFilterDomain:l,onFilterStatus:u,onCreateGoal:m,onCreateQuest:y,onCreateStep:E,onCompleteStep:g,onUncompleteStep:w,onDeleteStep:x,onDeleteQuest:I,onDeleteGoal:$}){const[se,ee]=ne.useState(!1),[z,Y]=ne.useState(null),[ue,de]=ne.useState(""),[pe,xe]=ne.useState(""),[Ie,k]=ne.useState(1),[D,j]=ne.useState(""),[V,O]=ne.useState(""),[U,C]=ne.useState("normal"),ve=()=>{ue.trim()&&(m(Ie,ue.trim(),pe.trim()),de(""),xe(""),ee(!1))},Tt=()=>{!D.trim()||z===null||(y(z,D.trim(),V.trim(),U),j(""),O(""),C("normal"),Y(null))};return p.jsxs("div",{className:wt.questLog,children:[p.jsxs("div",{className:wt.questToolbar,children:[p.jsxs("div",{className:wt.questFilters,children:[p.jsxs(nr,{value:i??"",onChange:P=>l(P.target.value?Number(P.target.value):void 0),children:[p.jsx("option",{value:"",children:"All Domains"}),e.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))]}),p.jsxs(nr,{value:a??"",onChange:P=>u(P.target.value||void 0),children:[p.jsx("option",{value:"",children:"All Status"}),p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"completed",children:"Completed"})]})]}),p.jsx(pt,{variant:"primary",onClick:()=>ee(!0),children:"+ New Goal"})]}),s.length===0?p.jsx(Qn,{children:p.jsx("div",{className:wt.emptyState,children:"No goals yet. Create your first goal to begin your adventure!"})}):s.map(P=>p.jsx(Qn,{children:p.jsxs("div",{className:wt.goalSection,children:[p.jsxs("div",{className:wt.goalHeader,children:[p.jsx("span",{className:wt.goalDomainIcon,children:P.domain_icon}),p.jsx("span",{className:wt.goalTitle,children:P.title}),p.jsx("span",{className:wt.goalDomain,children:P.domain_name}),p.jsx(pt,{size:"small",variant:"primary",onClick:()=>Y(P.id),children:"+ Quest"}),p.jsx(pt,{size:"small",variant:"danger",onClick:()=>$(P.id),children:""})]}),P.quests.length===0?p.jsx("div",{className:wt.emptyState,children:"No quests yet. Add a quest to this goal."}):p.jsx("div",{className:wt.questsList,children:P.quests.map(Z=>p.jsx(D4,{quest:Z,onCreateStep:E,onCompleteStep:g,onUncompleteStep:w,onDeleteStep:x,onDeleteQuest:I},Z.id))})]})},P.id)),p.jsx(yf,{open:se,onClose:()=>ee(!1),title:"New Goal",actions:p.jsxs(p.Fragment,{children:[p.jsx(pt,{onClick:()=>ee(!1),children:"Cancel"}),p.jsx(pt,{variant:"primary",onClick:ve,children:"Create Goal"})]}),children:p.jsxs("div",{className:wt.formGrid,children:[p.jsx(nr,{label:"Domain",value:Ie,onChange:P=>k(Number(P.target.value)),children:e.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))}),p.jsx(Is,{label:"Goal Title",value:ue,onChange:P=>de(P.target.value),placeholder:"e.g., Get in shape",onKeyDown:P=>P.key==="Enter"&&ve()}),p.jsx(_f,{label:"Description (optional)",value:pe,onChange:P=>xe(P.target.value),placeholder:"Describe your goal..."})]})}),p.jsx(yf,{open:z!==null,onClose:()=>Y(null),title:"New Quest",actions:p.jsxs(p.Fragment,{children:[p.jsx(pt,{onClick:()=>Y(null),children:"Cancel"}),p.jsx(pt,{variant:"primary",onClick:Tt,children:"Create Quest"})]}),children:p.jsxs("div",{className:wt.formGrid,children:[p.jsx(Is,{label:"Quest Title",value:D,onChange:P=>j(P.target.value),placeholder:"e.g., Run 5K",onKeyDown:P=>P.key==="Enter"&&Tt()}),p.jsx(_f,{label:"Description (optional)",value:V,onChange:P=>O(P.target.value),placeholder:"Describe this quest..."}),p.jsxs(nr,{label:"Priority",value:U,onChange:P=>C(P.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important (1.5x XP)"}),p.jsx("option",{value:"legendary",children:"Legendary (2x XP)"})]})]})})]})}const O4="_buffTracker_10dzk_1",k4="_buffToolbar_10dzk_13",j4="_buffGrid_10dzk_33",M4="_buffSection_10dzk_45",L4="_buffCard_10dzk_59",V4="_buffCardIcon_10dzk_89",U4="_buffCardInfo_10dzk_99",q4="_buffCardName_10dzk_107",B4="_buffCardDesc_10dzk_119",z4="_buffCardMeta_10dzk_131",P4="_buffCardActions_10dzk_141",H4="_buffTypeBadge_10dzk_155",F4="_buffTypeBuff_10dzk_175",G4="_buffTypeDebuff_10dzk_187",X4="_activeSection_10dzk_201",Y4="_activeBuffItem_10dzk_213",Q4="_isBuff_10dzk_229",K4="_isDebuff_10dzk_241",$4="_activeBuffIcon_10dzk_253",W4="_activeBuffInfo_10dzk_261",Z4="_activeBuffName_10dzk_269",J4="_activeBuffTimer_10dzk_277",eO="_activeBuffEffects_10dzk_287",tO="_formGrid_10dzk_299",nO="_formRow_10dzk_311",iO="_statEffectRow_10dzk_329",sO="_statEffectLabel_10dzk_341",aO="_statEffectInput_10dzk_355",rO="_divider_10dzk_363",oO="_emptyState_10dzk_375",lO="_streakBadge_10dzk_391",uO="_atRisk_10dzk_421",cO="_shieldActive_10dzk_435",fO="_streakIcon_10dzk_447",hO="_streakCount_10dzk_455",dO="_streakLabel_10dzk_463",mO="_shieldInventory_10dzk_483",pO="_shieldIcon_10dzk_505",gO="_shieldInfo_10dzk_513",_O="_shieldTitle_10dzk_521",yO="_shieldDesc_10dzk_533",vO="_shieldCount_10dzk_543",EO="_milestoneBadge_10dzk_563",TO="_milestoneIcon_10dzk_589",bO="_claimMilestone_10dzk_619",qe={buffTracker:O4,buffToolbar:k4,buffGrid:j4,buffSection:M4,buffCard:L4,buffCardIcon:V4,buffCardInfo:U4,buffCardName:q4,buffCardDesc:B4,buffCardMeta:z4,buffCardActions:P4,buffTypeBadge:H4,buffTypeBuff:F4,buffTypeDebuff:G4,activeSection:X4,activeBuffItem:Y4,isBuff:Q4,isDebuff:K4,activeBuffIcon:$4,activeBuffInfo:W4,activeBuffName:Z4,activeBuffTimer:J4,activeBuffEffects:eO,formGrid:tO,formRow:nO,statEffectRow:iO,statEffectLabel:sO,statEffectInput:aO,divider:rO,emptyState:oO,streakBadge:lO,atRisk:uO,shieldActive:cO,streakIcon:fO,streakCount:hO,streakLabel:dO,shieldInventory:mO,shieldIcon:pO,shieldInfo:gO,shieldTitle:_O,shieldDesc:yO,shieldCount:vO,milestoneBadge:EO,milestoneIcon:TO,claimMilestone:bO},hm=[{name:"Morning Exercise",description:"Worked out in the morning",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2,willpower:1}},{name:"Cardio / Running",description:"Ran, cycled, swam, or did sustained cardio",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2}},{name:"Strength Training",description:"Lifted weights or did resistance training",type:"buff",icon:"",duration:24,stats:{stamina:2,health:1,willpower:2}},{name:"Yoga / Stretching",description:"Did yoga, stretching, or mobility work",type:"buff",icon:"",duration:24,stats:{health:2,focus:1,willpower:1}},{name:"8 Hours Sleep",description:"Got a full night of quality sleep",type:"buff",icon:"",duration:24,stats:{health:2,focus:2,stamina:1,willpower:1}},{name:"Meditation",description:"Practiced mindfulness or meditation",type:"buff",icon:"",duration:24,stats:{willpower:3,focus:2}},{name:"Healthy Meal",description:"Ate a balanced, nutritious meal",type:"buff",icon:"",duration:24,stats:{health:3,stamina:1}},{name:"Drank Enough Water",description:"Hit daily water intake goal",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Read 30+ Minutes",description:"Read a book, article, or educational material",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:1}},{name:"Studied / Learned",description:"Studied a course, skill, or new subject",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2}},{name:"Deep Work Session",description:"Focused work with no distractions for 90+ min",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2,stamina:1}},{name:"Journaling",description:"Wrote in journal or reflected on the day",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Cold Shower",description:"Took a cold shower or ice bath",type:"buff",icon:"",duration:24,stats:{willpower:3,stamina:1}},{name:"No Phone First Hour",description:"Avoided phone for first hour after waking",type:"buff",icon:"",duration:24,stats:{focus:2,willpower:2}},{name:"Socialised",description:"Had meaningful social interaction",type:"buff",icon:"",duration:24,stats:{charisma:3,willpower:1}},{name:"Helped Someone",description:"Did something kind or helpful for another person",type:"buff",icon:"",duration:24,stats:{charisma:2,willpower:1}},{name:"Creative Time",description:"Spent time on a creative pursuit",type:"buff",icon:"",duration:24,stats:{focus:2,charisma:1,willpower:1}},{name:"Sunlight / Nature",description:"Spent 20+ minutes outdoors in natural light",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Gratitude Practice",description:"Practiced gratitude  wrote or reflected on 3+",type:"buff",icon:"",duration:24,stats:{willpower:2,charisma:1}},{name:"Meal Prep",description:"Prepared healthy meals in advance",type:"buff",icon:"",duration:48,stats:{health:2,willpower:1,stamina:1}},{name:"Cleaned / Organised",description:"Cleaned home, desk, or organised belongings",type:"buff",icon:"",duration:24,stats:{focus:1,willpower:2}},{name:"Financial Check-In",description:"Reviewed budget, tracked expenses, or saved",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Junk Food",description:"Ate fast food, excessive sugar, or processed food",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-1}},{name:"Skipped Exercise",description:"Had planned to exercise but didn't",type:"debuff",icon:"",duration:24,stats:{stamina:-2,willpower:-2}},{name:"Poor Sleep",description:"Got less than 6 hours or very poor quality",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,stamina:-1,willpower:-1}},{name:"Doomscrolling",description:"Mindlessly scrolled social media for 30+ min",type:"debuff",icon:"",duration:24,stats:{focus:-3,willpower:-2}},{name:"Excessive Gaming",description:"Played video games for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-2,stamina:-1}},{name:"Binge Watching",description:"Watched TV/streaming for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-1,stamina:-1}},{name:"Alcohol",description:"Drank alcohol",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,willpower:-1}},{name:"Smoking / Vaping",description:"Smoked cigarettes or vaped",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-2}},{name:"Excessive Caffeine",description:"Had too much coffee or energy drinks",type:"debuff",icon:"",duration:24,stats:{health:-1,focus:-1,stamina:-1}},{name:"Procrastinated",description:"Avoided important tasks most of the day",type:"debuff",icon:"",duration:24,stats:{willpower:-3,focus:-2}},{name:"Skipped Meals",description:"Skipped a meal or barely ate",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-2,focus:-1}},{name:"Stayed Up Too Late",description:"Went to bed much later than planned",type:"debuff",icon:"",duration:24,stats:{health:-1,willpower:-2,stamina:-1}},{name:"Impulse Spending",description:"Made unnecessary or impulse purchases",type:"debuff",icon:"",duration:24,stats:{willpower:-2}},{name:"Negative Self-Talk",description:"Caught in self-criticism or negative thought loops",type:"debuff",icon:"",duration:24,stats:{willpower:-2,charisma:-2}},{name:"Social Isolation",description:"Avoided people or cancelled social plans",type:"debuff",icon:"",duration:24,stats:{charisma:-3,willpower:-1}},{name:"Sugary Drinks",description:"Had soda, energy drinks, or sugary beverages",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-1}},{name:"Lost Temper",description:"Got angry or had an emotional outburst",type:"debuff",icon:"",duration:24,stats:{charisma:-2,willpower:-2}}],SO=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function wO(s){const e=Math.round(s*60);if(e<60)return`${e}m`;const i=Math.floor(e/60),a=e%60;return a===0?`${i}h`:`${i}h ${a}m`}function AO({definitions:s,activeBuffs:e,onCreateDefinition:i,onDeleteDefinition:a,onActivateBuff:l,onDeactivateBuff:u,streakInfos:m,shieldCount:y=0,onUseShield:E,getUnclaimedMilestones:g,onClaimMilestones:w}){const[x,I]=ne.useState(!1),[$,se]=ne.useState(""),[ee,z]=ne.useState(""),[Y,ue]=ne.useState("buff"),[de,pe]=ne.useState(""),[xe,Ie]=ne.useState(1440),[k,D]=ne.useState({}),j=Z=>{if(Z==="")return;const _e=hm[Number(Z)];_e&&(se(_e.name),z(_e.description),ue(_e.type),pe(_e.icon),Ie(_e.duration*60),D({..._e.stats}))},V=()=>{se(""),z(""),ue("buff"),pe(""),Ie(1440),D({})},O=()=>{if(!$.trim())return;const Z=Object.fromEntries(Object.entries(k).filter(([,$e])=>$e!==0)),_e=xe/60;i($.trim(),ee.trim(),Y,de,_e,JSON.stringify(Z)),V(),I(!1)};function U(Z){const _e=new Date,Qe=new Date(Z+"Z").getTime()-_e.getTime();if(Qe<=0)return"Expired";const q=Math.floor(Qe/36e5),re=Math.floor(Qe%36e5/6e4);return q>0?`${q}h ${re}m`:`${re}m`}const C=s.filter(Z=>Z.type==="buff"),ve=s.filter(Z=>Z.type==="debuff"),Tt=hm.map((Z,_e)=>({...Z,index:_e})).filter(Z=>Z.type==="buff"),P=hm.map((Z,_e)=>({...Z,index:_e})).filter(Z=>Z.type==="debuff");return p.jsxs("div",{className:qe.buffTracker,children:[p.jsxs("div",{className:qe.buffToolbar,children:[p.jsx("div",{}),p.jsx(pt,{variant:"primary",onClick:()=>{V(),I(!0)},children:"+ New Buff/Debuff"})]}),p.jsxs("div",{className:qe.shieldInventory,children:[p.jsx("span",{className:qe.shieldIcon,children:""}),p.jsxs("div",{className:qe.shieldInfo,children:[p.jsx("div",{className:qe.shieldTitle,children:"Streak Shields"}),p.jsx("div",{className:qe.shieldDesc,children:"Protects a streak if you miss a day"})]}),p.jsx("span",{className:qe.shieldCount,children:y})]}),e.length>0&&p.jsx(Qn,{header:"Active Effects",glow:!0,children:p.jsx("div",{className:qe.activeSection,children:e.map(Z=>{const _e=vf(Z.stat_effects),$e=Object.entries(_e).map(([Qe,q])=>`${q>0?"+":""}${q} ${Qe}`).join(", ");return p.jsxs("div",{className:`${qe.activeBuffItem} ${Z.type==="buff"?qe.isBuff:qe.isDebuff}`,children:[p.jsx("span",{className:qe.activeBuffIcon,children:Z.icon}),p.jsxs("div",{className:qe.activeBuffInfo,children:[p.jsx("div",{className:qe.activeBuffName,children:Z.name}),p.jsxs("div",{className:qe.activeBuffTimer,children:[U(Z.expires_at)," remaining"]}),$e&&p.jsx("div",{className:qe.activeBuffEffects,children:$e})]}),p.jsx(pt,{size:"small",variant:"danger",onClick:()=>u(Z.id),children:"Remove"})]},Z.id)})})}),p.jsxs("div",{className:qe.buffGrid,children:[p.jsx(Qn,{header:"Buffs (Positive Habits)",children:C.length===0?p.jsx("div",{className:qe.emptyState,children:"No buffs defined yet"}):p.jsx("div",{className:qe.buffSection,children:C.map(Z=>p.jsx(zE,{definition:Z,onActivate:l,onDelete:a,streakInfo:m?.get(Z.id),shieldCount:y,onUseShield:E,unclaimedMilestones:g?.(Z.id)||[],onClaimMilestones:w},Z.id))})}),p.jsx(Qn,{header:"Debuffs (Negative Habits)",children:ve.length===0?p.jsx("div",{className:qe.emptyState,children:"No debuffs defined yet"}):p.jsx("div",{className:qe.buffSection,children:ve.map(Z=>p.jsx(zE,{definition:Z,onActivate:l,onDelete:a},Z.id))})})]}),p.jsx(yf,{open:x,onClose:()=>I(!1),title:"New Buff / Debuff",actions:p.jsxs(p.Fragment,{children:[p.jsx(pt,{onClick:()=>I(!1),children:"Cancel"}),p.jsx(pt,{variant:"primary",onClick:O,children:"Create"})]}),children:p.jsxs("div",{className:qe.formGrid,children:[p.jsxs(nr,{label:"Quick Select  Common Habits",value:"",onChange:Z=>j(Z.target.value),children:[p.jsx("option",{value:"",children:" Choose a preset to auto-fill "}),p.jsx("optgroup",{label:"Buffs (Positive Habits)",children:Tt.map(Z=>p.jsxs("option",{value:Z.index,children:[Z.icon," ",Z.name]},Z.index))}),p.jsx("optgroup",{label:"Debuffs (Negative Habits)",children:P.map(Z=>p.jsxs("option",{value:Z.index,children:[Z.icon," ",Z.name]},Z.index))})]}),p.jsx("div",{className:qe.divider}),p.jsxs("div",{className:qe.formRow,children:[p.jsx(Is,{label:"Name",value:$,onChange:Z=>se(Z.target.value),placeholder:"e.g., Morning Exercise"}),p.jsxs(nr,{label:"Type",value:Y,onChange:Z=>ue(Z.target.value),children:[p.jsx("option",{value:"buff",children:"Buff (Positive)"}),p.jsx("option",{value:"debuff",children:"Debuff (Negative)"})]})]}),p.jsx(_f,{label:"Description",value:ee,onChange:Z=>z(Z.target.value),placeholder:"Describe this habit..."}),p.jsxs("div",{className:qe.formRow,children:[p.jsx(nr,{label:"Icon",value:de,onChange:Z=>pe(Z.target.value),children:SO.map(Z=>p.jsx("option",{value:Z,children:Z},Z))}),p.jsx(Is,{label:"Duration (minutes)",type:"number",value:xe,onChange:Z=>Ie(Number(Z.target.value)),min:1,max:10080})]}),p.jsxs("div",{children:[p.jsx("label",{className:qe.statEffectLabel,style:{display:"block",marginBottom:8,fontFamily:"var(--font-heading)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"var(--text-secondary)"},children:"Stat Effects"}),XE.map(Z=>p.jsxs("div",{className:qe.statEffectRow,children:[p.jsx("span",{className:qe.statEffectLabel,children:Z}),p.jsx("input",{type:"number",className:qe.statEffectInput,value:k[Z]||0,onChange:_e=>D({...k,[Z]:Number(_e.target.value)}),style:{padding:"4px 8px",background:"var(--bg-dark)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",fontFamily:"var(--font-body)"}})]},Z))]})]})})]})}function zE({definition:s,onActivate:e,onDelete:i,streakInfo:a,shieldCount:l=0,onUseShield:u,unclaimedMilestones:m=[],onClaimMilestones:y}){const E=vf(s.stat_effects),g=Object.entries(E).map(([z,Y])=>`${Y>0?"+":""}${Y} ${z}`).join(", "),w=a?jD(a.currentStreak):null,x=a&&a.currentStreak>0,I=a?.isAtRisk&&!a?.shieldActive,$=a?.shieldActive,se=async()=>{u&&a&&await u(s.id)},ee=async()=>{y&&await y(s.id)};return p.jsxs("div",{className:qe.buffCard,children:[p.jsx("span",{className:qe.buffCardIcon,children:s.icon}),p.jsxs("div",{className:qe.buffCardInfo,children:[p.jsxs("div",{className:qe.buffCardName,children:[s.name,w&&p.jsxs("span",{className:qe.milestoneBadge,children:[p.jsx("span",{className:qe.milestoneIcon,children:w.icon}),w.title]})]}),s.description&&p.jsx("div",{className:qe.buffCardDesc,children:s.description}),p.jsxs("div",{className:qe.buffCardMeta,children:[p.jsx("span",{className:`${qe.buffTypeBadge} ${s.type==="buff"?qe.buffTypeBuff:qe.buffTypeDebuff}`,children:s.type})," ",wO(s.duration_hours),g&&`  ${g}`]}),s.type==="buff"&&x&&p.jsxs("div",{className:`${qe.streakBadge} ${I?qe.atRisk:""} ${$?qe.shieldActive:""}`,children:[p.jsx("span",{className:qe.streakIcon,children:$?"":""}),p.jsx("span",{className:qe.streakCount,children:a.currentStreak}),p.jsxs("span",{className:qe.streakLabel,children:["day streak",I&&" (at risk!)",$&&" (protected)"]})]}),I&&l>0&&u&&p.jsx(pt,{size:"small",variant:"ghost",onClick:se,style:{marginTop:6},children:" Use Shield"}),m.length>0&&y&&p.jsxs(pt,{size:"small",variant:"primary",onClick:ee,className:qe.claimMilestone,children:[" Claim ",m.length," Milestone",m.length>1?"s":"","!"]})]}),p.jsxs("div",{className:qe.buffCardActions,children:[p.jsx(pt,{size:"small",variant:"primary",onClick:()=>e(s.id),children:"Activate"}),p.jsx(pt,{size:"small",variant:"danger",onClick:()=>i(s.id),children:"Delete"})]})]})}const Db=[{value:null,label:"No reminder"},{value:0,label:"At event time"},{value:5,label:"5 minutes before"},{value:10,label:"10 minutes before"},{value:15,label:"15 minutes before"},{value:30,label:"30 minutes before"},{value:60,label:"1 hour before"}],NO="_settingsPanel_zjhn0_1",RO="_settingsTitle_zjhn0_9",CO="_settingsDescription_zjhn0_23",xO="_settingRow_zjhn0_35",DO="_settingLabel_zjhn0_59",IO="_iosInstructions_zjhn0_71",OO="_iosTitle_zjhn0_87",kO="_iosText_zjhn0_99",jO="_iosList_zjhn0_111",MO="_deniedMessage_zjhn0_135",LO="_errorMessage_zjhn0_137",VO="_statusIndicator_zjhn0_169",UO="_statusDot_zjhn0_187",qO="_reminderPicker_zjhn0_223",BO="_reminderLabel_zjhn0_235",zO="_reminderSelect_zjhn0_251",PO="_debugInfo_zjhn0_317",HO="_debugLabel_zjhn0_335",FO="_debugToken_zjhn0_349",GO="_debugError_zjhn0_363",St={settingsPanel:NO,settingsTitle:RO,settingsDescription:CO,settingRow:xO,settingLabel:DO,iosInstructions:IO,iosTitle:OO,iosText:kO,iosList:jO,deniedMessage:MO,errorMessage:LO,statusIndicator:VO,statusDot:UO,reminderPicker:qO,reminderLabel:BO,reminderSelect:zO,debugInfo:PO,debugLabel:HO,debugToken:FO,debugError:GO};function XO({value:s,onChange:e,disabled:i}){return p.jsxs("div",{className:St.reminderPicker,children:[p.jsx("label",{className:St.reminderLabel,children:"Reminder"}),p.jsx("select",{className:St.reminderSelect,value:s===null?"null":s.toString(),onChange:a=>{const l=a.target.value;e(l==="null"?null:Number(l))},disabled:i,children:Db.map(a=>p.jsx("option",{value:a.value===null?"null":a.value,children:a.label},a.value===null?"null":a.value))})]})}const YO="_planner_17b5r_1",QO="_plannerToolbar_17b5r_13",KO="_viewTabs_17b5r_25",$O="_viewTab_17b5r_25",WO="_viewTabActive_17b5r_81",ZO="_dateNav_17b5r_91",JO="_dateLabel_17b5r_107",e6="_navArrow_17b5r_123",t6="_dayView_17b5r_157",n6="_timeSlot_17b5r_169",i6="_timeLabel_17b5r_185",s6="_timeEvents_17b5r_205",a6="_weekGrid_17b5r_221",r6="_weekDay_17b5r_233",o6="_weekDayHeader_17b5r_245",l6="_weekDayHeaderToday_17b5r_267",u6="_weekDayDate_17b5r_277",c6="_weekDayEvents_17b5r_291",f6="_monthGrid_17b5r_307",h6="_monthDayHeader_17b5r_319",d6="_monthDay_17b5r_319",m6="_monthDayEmpty_17b5r_367",p6="_monthDayToday_17b5r_387",g6="_monthDayNumber_17b5r_395",_6="_monthDayEvents_17b5r_419",y6="_eventItem_17b5r_433",v6="_eventItemCompleted_17b5r_465",E6="_eventTitle_17b5r_475",T6="_eventTime_17b5r_489",b6="_eventLinked_17b5r_501",S6="_eventItemSmall_17b5r_511",w6="_eventActions_17b5r_523",A6="_formGrid_17b5r_547",N6="_formRow_17b5r_559",R6="_emptyState_17b5r_577",C6="_unscheduledSection_17b5r_691",x6="_unscheduledLabel_17b5r_703",Xe={planner:YO,plannerToolbar:QO,viewTabs:KO,viewTab:$O,viewTabActive:WO,dateNav:ZO,dateLabel:JO,navArrow:e6,dayView:t6,timeSlot:n6,timeLabel:i6,timeEvents:s6,weekGrid:a6,weekDay:r6,weekDayHeader:o6,weekDayHeaderToday:l6,weekDayDate:u6,weekDayEvents:c6,monthGrid:f6,monthDayHeader:h6,monthDay:d6,monthDayEmpty:m6,monthDayToday:p6,monthDayNumber:g6,monthDayEvents:_6,eventItem:y6,eventItemCompleted:v6,eventTitle:E6,eventTime:T6,eventLinked:b6,eventItemSmall:S6,eventActions:w6,formGrid:A6,formRow:N6,emptyState:R6,unscheduledSection:C6,unscheduledLabel:x6},Ib=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],D6=Array.from({length:16},(s,e)=>e+6);function I6({view:s,setView:e,currentDate:i,events:a,onNavigate:l,onGoToToday:u,onCreate:m,onComplete:y,onUncomplete:E,onDelete:g,notificationsEnabled:w=!1,defaultReminderMinutes:x=15}){const[I,$]=ne.useState(!1),[se,ee]=ne.useState(i),[z,Y]=ne.useState(""),[ue,de]=ne.useState(""),[pe,xe]=ne.useState(""),[Ie,k]=ne.useState(""),[D,j]=ne.useState(w?x:null),V=()=>{z.trim()&&(m(z.trim(),se,ue.trim(),pe||null,Ie||null,null,null,pe?D:null),Y(""),de(""),xe(""),k(""),j(w?x:null),$(!1))},O=ve=>{ee(ve),$(!0)},U=new Date(i+"T00:00:00");let C="";if(s==="day")C=Xd(i);else if(s==="week"){const ve=Hm(i);C=`${Xd(ve[0])}  ${Xd(ve[6])}`}else C=`${Tw(U.getMonth())} ${U.getFullYear()}`;return p.jsxs("div",{className:Xe.planner,children:[p.jsxs("div",{className:Xe.plannerToolbar,children:[p.jsx("div",{className:Xe.viewTabs,children:["day","week","month"].map(ve=>p.jsx("button",{className:`${Xe.viewTab} ${s===ve?Xe.viewTabActive:""}`,onClick:()=>e(ve),children:ve},ve))}),p.jsxs("div",{className:Xe.dateNav,children:[p.jsx("button",{className:Xe.navArrow,onClick:()=>l(-1),children:""}),p.jsx("span",{className:Xe.dateLabel,children:C}),p.jsx("button",{className:Xe.navArrow,onClick:()=>l(1),children:""})]}),p.jsx(pt,{size:"small",variant:"ghost",onClick:u,children:"Today"}),p.jsx(pt,{variant:"primary",onClick:()=>O(i),children:"+ Event"})]}),p.jsxs(Qn,{children:[s==="day"&&p.jsx(O6,{date:i,events:a,onComplete:y,onUncomplete:E,onDelete:g}),s==="week"&&p.jsx(k6,{currentDate:i,events:a,onComplete:y,onUncomplete:E,onDelete:g,onAddEvent:O}),s==="month"&&p.jsx(j6,{currentDate:i,events:a,onAddEvent:O})]}),p.jsx(yf,{open:I,onClose:()=>$(!1),title:"New Event",actions:p.jsxs(p.Fragment,{children:[p.jsx(pt,{onClick:()=>$(!1),children:"Cancel"}),p.jsx(pt,{variant:"primary",onClick:V,children:"Create"})]}),children:p.jsxs("div",{className:Xe.formGrid,children:[p.jsx(Is,{label:"Title",value:z,onChange:ve=>Y(ve.target.value),placeholder:"Event title...",onKeyDown:ve=>ve.key==="Enter"&&V()}),p.jsx(Is,{label:"Date",type:"date",value:se,onChange:ve=>ee(ve.target.value)}),p.jsxs("div",{className:Xe.formRow,children:[p.jsx(Is,{label:"Start Time",type:"time",value:pe,onChange:ve=>xe(ve.target.value)}),p.jsx(Is,{label:"End Time",type:"time",value:Ie,onChange:ve=>k(ve.target.value)})]}),p.jsx(_f,{label:"Description (optional)",value:ue,onChange:ve=>de(ve.target.value),placeholder:"Event details..."}),pe&&w&&p.jsx(XO,{value:D,onChange:j})]})})]})}function O6({date:s,events:e,onComplete:i,onUncomplete:a,onDelete:l}){const u=e.filter(E=>E.start_time),m=e.filter(E=>!E.start_time),y=E=>u.filter(g=>g.start_time?parseInt(g.start_time.split(":")[0],10)===E:!1);return p.jsxs("div",{className:Xe.dayView,children:[D6.map(E=>{const g=y(E);return p.jsxs("div",{className:Xe.timeSlot,children:[p.jsxs("span",{className:Xe.timeLabel,children:[E%12||12," ",E<12?"AM":"PM"]}),p.jsx("div",{className:Xe.timeEvents,children:g.map(w=>p.jsx(Vm,{event:w,onComplete:i,onUncomplete:a,onDelete:l},w.id))})]},E)}),m.length>0&&p.jsxs("div",{className:Xe.unscheduledSection,children:[p.jsx("div",{className:Xe.unscheduledLabel,children:"Unscheduled"}),m.map(E=>p.jsx(Vm,{event:E,onComplete:i,onUncomplete:a,onDelete:l},E.id))]}),e.length===0&&p.jsx("div",{className:Xe.emptyState,children:"No events for this day"})]})}function k6({currentDate:s,events:e,onComplete:i,onUncomplete:a,onDelete:l,onAddEvent:u}){const m=Hm(s),y=Jc();return p.jsx("div",{className:Xe.weekGrid,children:m.map((E,g)=>{const w=e.filter($=>$.date===E),x=E===y,I=new Date(E+"T00:00:00").getDate();return p.jsxs("div",{className:Xe.weekDay,children:[p.jsxs("div",{className:`${Xe.weekDayHeader} ${x?Xe.weekDayHeaderToday:""}`,children:[Ib[g],p.jsx("span",{className:Xe.weekDayDate,children:I})]}),p.jsxs("div",{className:Xe.weekDayEvents,children:[w.map($=>p.jsx(Vm,{event:$,small:!0,onComplete:i,onUncomplete:a,onDelete:l},$.id)),p.jsx(pt,{size:"small",variant:"ghost",onClick:()=>u(E),style:{fontSize:"0.7rem",padding:"2px 6px"},children:"+"})]})]},E)})})}function j6({currentDate:s,events:e,onAddEvent:i}){const a=new Date(s+"T00:00:00"),l=Ew(a.getFullYear(),a.getMonth()),u=Jc();return p.jsx("div",{children:p.jsxs("div",{className:Xe.monthGrid,children:[Ib.map(m=>p.jsx("div",{className:Xe.monthDayHeader,children:m},m)),l.flat().map((m,y)=>{if(!m)return p.jsx("div",{className:`${Xe.monthDay} ${Xe.monthDayEmpty}`},`empty-${y}`);const E=e.filter(x=>x.date===m),g=m===u,w=new Date(m+"T00:00:00").getDate();return p.jsxs("div",{className:`${Xe.monthDay} ${g?Xe.monthDayToday:""}`,onClick:()=>i(m),children:[p.jsx("div",{className:Xe.monthDayNumber,children:w}),p.jsxs("div",{className:Xe.monthDayEvents,children:[E.slice(0,3).map(x=>p.jsx("div",{className:`${Xe.eventItem} ${Xe.eventItemSmall} ${x.is_completed?Xe.eventItemCompleted:""}`,children:p.jsx("span",{className:Xe.eventTitle,children:x.title})},x.id)),E.length>3&&p.jsxs("div",{className:Xe.emptyState,style:{padding:"2px",fontSize:"0.7rem"},children:["+",E.length-3," more"]})]})]},m)})]})})}function Vm({event:s,small:e,onComplete:i,onUncomplete:a,onDelete:l}){return p.jsxs("div",{className:`${Xe.eventItem} ${e?Xe.eventItemSmall:""} ${s.is_completed?Xe.eventItemCompleted:""}`,children:[p.jsx(xb,{checked:s.is_completed,onChange:u=>u?i(s.id):a(s.id)}),p.jsx("span",{className:Xe.eventTitle,children:s.title}),s.start_time&&!e&&p.jsxs("span",{className:Xe.eventTime,children:[pv(s.start_time),s.end_time&&` - ${pv(s.end_time)}`]}),(s.quest_id||s.step_id)&&p.jsx("span",{className:Xe.eventLinked,children:""}),!e&&p.jsx("div",{className:Xe.eventActions,children:p.jsx(pt,{size:"small",variant:"danger",onClick:()=>l(s.id),children:""})})]})}const M6="_container_e9q7r_1",L6="_title_e9q7r_17",V6="_status_e9q7r_33",U6="_indicator_e9q7r_49",q6="_connected_e9q7r_61",B6="_disconnected_e9q7r_71",z6="_lastBackup_e9q7r_79",P6="_statusMessage_e9q7r_91",H6="_actions_e9q7r_121",F6="_button_e9q7r_135",G6="_buttonSecondary_e9q7r_167 _button_e9q7r_135",X6="_buttonDanger_e9q7r_187 _button_e9q7r_135",Y6="_backupList_e9q7r_209",Q6="_backupItem_e9q7r_233",K6="_backupName_e9q7r_255",$6="_backupDate_e9q7r_269",W6="_restoreButton_e9q7r_279",Z6="_noBackups_e9q7r_307",J6="_tokenInputContainer_e9q7r_321",ek="_tokenHelp_e9q7r_329",tk="_tokenInput_e9q7r_321",nk="_tokenActions_e9q7r_393",Et={container:M6,title:L6,status:V6,indicator:U6,connected:q6,disconnected:B6,lastBackup:z6,statusMessage:P6,actions:H6,button:F6,buttonSecondary:G6,buttonDanger:X6,backupList:Y6,backupItem:Q6,backupName:K6,backupDate:$6,restoreButton:W6,noBackups:Z6,tokenInputContainer:J6,tokenHelp:ek,tokenInput:tk,tokenActions:nk};function ik(){const[s,e]=ne.useState(!1),[i,a]=ne.useState(!0),[l,u]=ne.useState(null),[m,y]=ne.useState(""),[E,g]=ne.useState([]),[w,x]=ne.useState(!1),[I,$]=ne.useState(""),[se,ee]=ne.useState(!1),[z,Y]=ne.useState(!1),[ue,de]=ne.useState(""),pe=ne.useCallback(()=>{e(WE()),u(ZE())},[]);ne.useEffect(()=>{pe(),a(!1)},[pe]);const xe=async()=>{if(!I.trim()){y("Please enter a GitHub token");return}y("Verifying token..."),await Ow(I.trim())?(Aw(I.trim()),e(!0),ee(!1),$(""),y("Connected to GitHub!")):y("Invalid token. Please check and try again.")},Ie=()=>{Nw(),e(!1),u(null),y("Disconnected"),g([])},k=async()=>{y("Backing up...");try{const U=await qm(),C=await e0(U);C.success?(y(`Backup saved: ${C.fileName}`),u(new Date),await n0(7)):y(`Backup failed: ${C.error}`)}catch(U){y(`Backup failed: ${U instanceof Error?U.message:"Unknown error"}`)}},D=async()=>{if(x(!w),!w){y("Loading backups...");const U=await t0();g(U),y("")}},j=()=>{const U=ue.trim();if(!U){y("Please enter a gist ID");return}const C=U.match(/([a-f0-9]{32})/i);C?(localStorage.setItem("github_gist_id",C[1]),y('Gist ID set! Click "Restore from Backup" to see backups.'),Y(!1),de("")):y("Invalid gist ID. Paste the gist URL or ID.")},V=async U=>{if(confirm(`Restore from "${U}"? This will replace all current data.`)){y("Restoring...");try{const C=await Iw(U);C?(await GE(C),y("Restored successfully! Refreshing..."),setTimeout(()=>window.location.reload(),1500)):y("Failed to download backup")}catch(C){y(`Restore failed: ${C instanceof Error?C.message:"Unknown error"}`)}}},O=U=>{const C=U.match(/backup-(\d{4})-(\d{2})-(\d{2})T(\d{2})-(\d{2})/);if(C){const[,ve,Tt,P,Z,_e]=C;return`${ve}-${Tt}-${P} ${Z}:${_e}`}return U};return i?p.jsx("div",{className:Et.container,children:"Loading..."}):p.jsxs("div",{className:Et.container,children:[p.jsx("h3",{className:Et.title,children:"Cloud Backup (GitHub)"}),p.jsxs("div",{className:Et.status,children:[p.jsx("span",{className:`${Et.indicator} ${s?Et.connected:Et.disconnected}`}),p.jsx("span",{children:s?"Connected to GitHub":"Not connected"})]}),l&&p.jsxs("p",{className:Et.lastBackup,children:["Last backup: ",l.toLocaleString()]}),m&&p.jsx("p",{className:Et.statusMessage,children:m}),p.jsx("div",{className:Et.actions,children:s?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:k,className:Et.button,children:"Backup Now"}),p.jsx("button",{onClick:D,className:Et.buttonSecondary,children:w?"Hide Backups":"Restore from Backup"}),p.jsx("button",{onClick:()=>Y(!z),className:Et.buttonSecondary,children:z?"Cancel":"Link Existing Gist"}),p.jsx("button",{onClick:Ie,className:Et.buttonDanger,children:"Disconnect"}),z&&p.jsxs("div",{className:Et.tokenInputContainer,children:[p.jsx("p",{className:Et.tokenHelp,children:"Paste your gist URL or ID to restore from an existing backup:"}),p.jsx("input",{type:"text",value:ue,onChange:U=>de(U.target.value),placeholder:"https://gist.github.com/user/abc123... or just abc123...",className:Et.tokenInput}),p.jsx("button",{onClick:j,className:Et.button,children:"Link Gist"})]})]}):p.jsx(p.Fragment,{children:se?p.jsxs("div",{className:Et.tokenInputContainer,children:[p.jsxs("p",{className:Et.tokenHelp,children:["Create a token at ",p.jsx("a",{href:"https://github.com/settings/tokens/new?description=Goal%20Game%20Backup&scopes=gist",target:"_blank",rel:"noopener noreferrer",children:"GitHub Settings"})," with ",p.jsx("strong",{children:"gist"})," scope."]}),p.jsx("input",{type:"password",value:I,onChange:U=>$(U.target.value),placeholder:"Paste your GitHub token",className:Et.tokenInput}),p.jsxs("div",{className:Et.tokenActions,children:[p.jsx("button",{onClick:xe,className:Et.button,children:"Save Token"}),p.jsx("button",{onClick:()=>{ee(!1),$("")},className:Et.buttonSecondary,children:"Cancel"})]})]}):p.jsx("button",{onClick:()=>ee(!0),className:Et.button,children:"Connect GitHub"})})}),w&&E.length>0&&p.jsxs("div",{className:Et.backupList,children:[p.jsx("h4",{children:"Available Backups (Last 7 kept)"}),E.map(U=>p.jsxs("div",{className:Et.backupItem,children:[p.jsx("span",{className:Et.backupName,children:O(U.fileName)}),p.jsxs("span",{className:Et.backupDate,children:[Math.round(U.size/1024)," KB"]}),p.jsx("button",{onClick:()=>V(U.fileName),className:Et.restoreButton,children:"Restore"})]},U.fileName))]}),w&&E.length===0&&p.jsx("p",{className:Et.noBackups,children:"No backups found"})]})}function sk(){const{settings:s,permissionState:e,isSupported:i,isConfigured:a,canEnable:l,isIOS:u,isStandalone:m,loading:y,error:E,enableNotifications:g,disableNotificationsHandler:w,setDefaultReminderMinutes:x}=bb();return a?i?p.jsxs(Qn,{className:St.settingsPanel,children:[p.jsx("h3",{className:St.settingsTitle,children:"Push Notifications"}),u&&!m&&p.jsxs("div",{className:St.iosInstructions,children:[p.jsx("p",{className:St.iosTitle,children:"iOS Setup Required"}),p.jsx("p",{className:St.iosText,children:"To receive push notifications on iOS, you need to add this app to your home screen first:"}),p.jsxs("ol",{className:St.iosList,children:[p.jsx("li",{children:"Tap the Share button in Safari"}),p.jsx("li",{children:'Select "Add to Home Screen"'}),p.jsx("li",{children:"Open the app from your home screen"}),p.jsx("li",{children:"Then enable notifications here"})]})]}),e==="denied"&&p.jsx("div",{className:St.deniedMessage,children:p.jsx("p",{children:"Notifications are blocked. Please enable them in your browser settings."})}),E&&p.jsx("div",{className:St.errorMessage,children:p.jsx("p",{children:E})}),p.jsxs("div",{className:St.settingRow,children:[p.jsx("span",{className:St.settingLabel,children:"Event Reminders"}),s.enabled?p.jsx(pt,{variant:"danger",size:"small",onClick:w,disabled:y,children:y?"Disabling...":"Disable"}):p.jsx(pt,{variant:"primary",size:"small",onClick:g,disabled:y||!l||e==="denied",children:y?"Enabling...":"Enable"})]}),s.enabled&&p.jsxs("div",{className:St.settingRow,children:[p.jsx("span",{className:St.settingLabel,children:"Default Reminder"}),p.jsx("select",{className:St.reminderSelect,value:s.defaultReminderMinutes,onChange:I=>x(Number(I.target.value)),children:Db.filter(I=>I.value!==null).map(I=>p.jsx("option",{value:I.value,children:I.label},I.value))})]}),s.enabled&&p.jsxs("div",{className:St.statusIndicator,children:[p.jsx("span",{className:St.statusDot}),"Notifications enabled"]}),s.enabled&&p.jsxs("div",{className:St.debugInfo,children:[p.jsx("p",{className:St.debugLabel,children:"Token Status:"}),s.fcmToken?p.jsxs("p",{className:St.debugToken,children:[s.fcmToken.substring(0,20),"...",s.fcmToken.substring(s.fcmToken.length-10)]}):p.jsx("p",{className:St.debugError,children:"No token - notifications will not work!"}),p.jsxs("p",{className:St.debugLabel,children:["Device ID: ",s.deviceId.substring(0,8),"..."]})]}),s.enabled&&!s.fcmToken&&p.jsx("div",{className:St.errorMessage,children:p.jsx("p",{children:"Token missing! Try: Disable  Wait 5 sec  Re-enable"})})]}):p.jsxs(Qn,{className:St.settingsPanel,children:[p.jsx("h3",{className:St.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:St.settingsDescription,children:"Push notifications are not supported in this browser."})]}):p.jsxs(Qn,{className:St.settingsPanel,children:[p.jsx("h3",{className:St.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:St.settingsDescription,children:"Push notifications are not configured. To enable them, add your Firebase configuration to the .env file."})]})}const ak="_dailyQuestsPanel_rygmp_1",rk="_questsHeader_rygmp_9",ok="_questsTitle_rygmp_23",lk="_questsIcon_rygmp_35",uk="_questsProgress_rygmp_43",ck="_questsList_rygmp_55",fk="_questItem_rygmp_67",hk="_completed_rygmp_89",dk="_questItemHeader_rygmp_99",mk="_questCheckbox_rygmp_111",pk="_questInfo_rygmp_149",gk="_questTitleRow_rygmp_159",_k="_questName_rygmp_173",yk="_questXp_rygmp_193",vk="_questDescription_rygmp_223",Ek="_progressContainer_rygmp_235",Tk="_progressBar_rygmp_247",bk="_progressFill_rygmp_263",Sk="_progressText_rygmp_285",wk="_bonusSection_rygmp_303",Ak="_available_rygmp_321",Nk="_claimed_rygmp_329",Rk="_bonusTitle_rygmp_349",Ck="_bonusDescription_rygmp_371",xk="_bonusXp_rygmp_383",Dk="_claimButton_rygmp_403",Ik="_loading_rygmp_413",Ok="_emptyState_rygmp_429",ot={dailyQuestsPanel:ak,questsHeader:rk,questsTitle:ok,questsIcon:lk,questsProgress:uk,questsList:ck,questItem:fk,completed:hk,questItemHeader:dk,questCheckbox:mk,questInfo:pk,questTitleRow:gk,questName:_k,questXp:yk,questDescription:vk,progressContainer:Ek,progressBar:Tk,progressFill:bk,progressText:Sk,bonusSection:wk,available:Ak,claimed:Nk,bonusTitle:Rk,bonusDescription:Ck,bonusXp:xk,claimButton:Dk,loading:Ik,emptyState:Ok};function kk({quests:s,loading:e,allCompleted:i,completedCount:a,bonusClaimed:l,bonusXp:u,onClaimBonus:m}){return e?p.jsx(Qn,{className:ot.dailyQuestsPanel,header:p.jsx("div",{className:ot.questsHeader,children:p.jsxs("div",{className:ot.questsTitle,children:[p.jsx("span",{className:ot.questsIcon,children:""}),p.jsx("span",{children:"Daily Quests"})]})}),children:p.jsx("div",{className:ot.loading,children:"Loading daily quests..."})}):s.length===0?p.jsx(Qn,{className:ot.dailyQuestsPanel,header:p.jsx("div",{className:ot.questsHeader,children:p.jsxs("div",{className:ot.questsTitle,children:[p.jsx("span",{className:ot.questsIcon,children:""}),p.jsx("span",{children:"Daily Quests"})]})}),children:p.jsx("div",{className:ot.emptyState,children:"No daily quests available"})}):p.jsxs(Qn,{className:ot.dailyQuestsPanel,glow:i&&!l,header:p.jsxs("div",{className:ot.questsHeader,children:[p.jsxs("div",{className:ot.questsTitle,children:[p.jsx("span",{className:ot.questsIcon,children:""}),p.jsx("span",{children:"Daily Quests"})]}),p.jsxs("span",{className:ot.questsProgress,children:[a,"/",s.length," Complete"]})]}),children:[p.jsx("div",{className:ot.questsList,children:s.map(y=>p.jsx(jk,{quest:y},y.id))}),p.jsxs("div",{className:`${ot.bonusSection} ${i&&!l?ot.available:l?ot.claimed:""}`,children:[p.jsx("div",{className:ot.bonusTitle,children:l?"Bonus Claimed!":"Complete All Quests"}),p.jsx("div",{className:ot.bonusDescription,children:l?"Great work! See you tomorrow.":"Finish all 3 quests to earn a bonus"}),p.jsxs("div",{className:ot.bonusXp,children:["+",u," XP"]}),i&&!l&&p.jsx(pt,{className:ot.claimButton,size:"small",onClick:m,children:"Claim Bonus"})]})]})}function jk({quest:s}){const e=Math.min(s.current_value/s.target_value*100,100);return p.jsxs("div",{className:`${ot.questItem} ${s.is_completed?ot.completed:""}`,children:[p.jsxs("div",{className:ot.questItemHeader,children:[p.jsx("div",{className:ot.questCheckbox,children:s.is_completed&&p.jsx("span",{children:""})}),p.jsxs("div",{className:ot.questInfo,children:[p.jsxs("div",{className:ot.questTitleRow,children:[p.jsx("span",{className:ot.questName,children:s.title}),p.jsxs("span",{className:ot.questXp,children:["+",s.xp_reward," XP"]})]}),p.jsx("div",{className:ot.questDescription,children:s.description})]})]}),p.jsxs("div",{className:ot.progressContainer,children:[p.jsx("div",{className:ot.progressBar,children:p.jsx("div",{className:ot.progressFill,style:{width:`${e}%`}})}),p.jsxs("span",{className:ot.progressText,children:[s.current_value,"/",s.target_value]})]})]})}const Mk="_guideButton_1u1py_1",Lk="_guideOverlay_1u1py_71",Vk="_guideContainer_1u1py_95",Uk="_guideHeader_1u1py_159",qk="_guideTitle_1u1py_177",Bk="_closeButton_1u1py_191",zk="_guideContent_1u1py_229",Pk="_table_1u1py_335",Hk="_tocList_1u1py_393",Fk="_tocItem_1u1py_411",ri={guideButton:Mk,guideOverlay:Lk,guideContainer:Vk,guideHeader:Uk,guideTitle:qk,closeButton:Bk,guideContent:zk,table:Pk,tocList:Hk,tocItem:Fk};function Gk(){const[s,e]=ne.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:ri.guideButton,onClick:()=>e(!0),title:"Open Guide",children:"?"}),s&&p.jsx(Xk,{onClose:()=>e(!1)})]})}function Xk({onClose:s}){const e=ne.useRef(null);ne.useEffect(()=>{const a=l=>{l.key==="Escape"&&s()};return window.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",a),document.body.style.overflow=""}},[s]);const i=a=>{e.current?.querySelector(`#${a}`)?.scrollIntoView({behavior:"smooth"})};return p.jsx("div",{className:ri.guideOverlay,onClick:s,children:p.jsxs("div",{className:ri.guideContainer,onClick:a=>a.stopPropagation(),ref:e,children:[p.jsxs("div",{className:ri.guideHeader,children:[p.jsx("span",{className:ri.guideTitle,children:"Adventurer's Guide"}),p.jsx("button",{className:ri.closeButton,onClick:s,children:"Close"})]}),p.jsx("ul",{className:ri.tocList,children:["overview","character","quests","buffs","planner","xp","levels","stats","tips","data"].map(a=>p.jsx("li",{className:ri.tocItem,onClick:()=>i(`guide-${a}`),children:a==="xp"?"XP System":a==="data"?"Save Data":a.charAt(0).toUpperCase()+a.slice(1)},a))}),p.jsxs("div",{className:ri.guideContent,children:[p.jsx("h2",{id:"guide-overview",children:"Overview"}),p.jsxs("p",{children:["Goal Game turns your real-life goals into an RPG adventure. You create ",p.jsx("strong",{children:"Goals"})," (big-picture ambitions), break them into ",p.jsx("strong",{children:"Quests"})," (projects), and then into ",p.jsx("strong",{children:"Steps"})," (individual tasks). Completing steps earns ",p.jsx("strong",{children:"XP"}),", which levels up your character."]}),p.jsxs("p",{children:["Track daily habits as ",p.jsx("strong",{children:"Buffs"})," (positive) and ",p.jsx("strong",{children:"Debuffs"})," (negative) that affect your character's stats. Plan your schedule with the ",p.jsx("strong",{children:"Planner"}),"."]}),p.jsx("h2",{id:"guide-character",children:"Character Screen"}),p.jsx("p",{children:"Your character screen shows your current progress at a glance."}),p.jsx("h3",{children:"What you'll see"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Name"}),`  Tap "Rename" to change your character's name.`]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Level & Title"}),'  Your current level and rank title (e.g., "Novice", "Adept"). Titles change automatically as you level up.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP Bar"}),"  Shows progress toward your next level. The numbers show current XP in this level / XP needed for next level."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Total XP"}),"  Your lifetime XP earned across all activities."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Stats"}),"  Five attributes (Stamina, Willpower, Health, Focus, Charisma) that start at 10 and change based on your active buffs/debuffs."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Active Effects"}),"  Currently active buffs (green pulse) and debuffs (red throb) with time remaining."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP History"}),"  A log of your most recent XP gains showing what you earned and why."]})]}),p.jsx("h2",{id:"guide-quests",children:"Quest Log"}),p.jsx("p",{children:"This is where you organize everything you want to accomplish."}),p.jsx("h3",{children:"Hierarchy"}),p.jsx("p",{children:"Life is organized in three layers:"}),p.jsxs("ol",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Goals"}),'  Big-picture ambitions tied to a life domain. Example: "Get fit" in the Health domain.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Quests"}),'  Specific projects within a goal. Example: "Run a 5K" under "Get fit".']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Steps"}),'  Individual actionable tasks within a quest. Example: "Run 1 mile without stopping" inside "Run a 5K".']})]}),p.jsx("h3",{children:"Domains"}),p.jsx("p",{children:"Every goal belongs to one of eight life domains:"}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Icon"}),p.jsx("th",{children:"Domain"}),p.jsx("th",{children:"Examples"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Fitness, diet, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Career"}),p.jsx("td",{children:"Work projects, promotions, skills"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Learning"}),p.jsx("td",{children:"Courses, reading, certifications"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Social"}),p.jsx("td",{children:"Relationships, networking, community"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Finance"}),p.jsx("td",{children:"Saving, investing, budgeting"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Creative"}),p.jsx("td",{children:"Art, music, writing, hobbies"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Spiritual"}),p.jsx("td",{children:"Meditation, mindfulness, gratitude"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Home"}),p.jsx("td",{children:"Cleaning, organizing, repairs"})]})]})]}),p.jsx("h3",{children:"Priority Levels"}),p.jsx("p",{children:"Quests and steps can have a priority that affects XP rewards:"}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Priority"}),p.jsx("th",{children:"Color"}),p.jsx("th",{children:"Step XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Normal"}),p.jsx("td",{children:"Gray"}),p.jsx("td",{children:"10 XP"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Important"}),p.jsx("td",{children:"Gold"}),p.jsx("td",{children:"15 XP (1.5x)"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Legendary"}),p.jsx("td",{children:"Orange"}),p.jsx("td",{children:"20 XP (2x)"})]})]})]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Goal"}),"  pick a domain, give it a title."]}),p.jsxs("li",{children:["Inside a goal, tap ",p.jsx("strong",{children:"+ Quest"}),"  name the project, choose priority."]}),p.jsx("li",{children:'Tap a quest to expand it, then type steps in the "Add a step" field at the bottom.'}),p.jsx("li",{children:"Check off steps to earn XP. When all steps are done, the quest auto-completes for bonus XP. When all quests in a goal are done, the goal auto-completes for even more bonus XP."})]}),p.jsx("h3",{children:"Filters"}),p.jsx("p",{children:"Use the dropdowns at the top to filter by domain or status (Active / Completed / All)."}),p.jsx("h2",{id:"guide-buffs",children:"Buffs & Debuffs"}),p.jsx("p",{children:"Buffs and debuffs represent daily habits that affect your character."}),p.jsx("h3",{children:"Buffs (Positive Habits)"}),p.jsxs("p",{children:["Things you ",p.jsx("em",{children:"want"})," to do every day. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Morning Exercise  +2 Stamina, +1 Health"}),p.jsx("li",{children:" Meditation  +2 Willpower, +1 Focus"}),p.jsx("li",{children:" 8 Hours Sleep  +1 Health, +1 Focus, +1 Stamina"}),p.jsx("li",{children:" Read 30 Minutes  +2 Focus"})]}),p.jsxs("p",{children:["Activating a buff earns ",p.jsx("strong",{children:"5 XP"})," and applies its stat effects for the duration you set (e.g., 24 hours). After that, the buff expires and you need to activate it again the next day."]}),p.jsx("h3",{children:"Debuffs (Negative Habits)"}),p.jsxs("p",{children:["Things you want to be ",p.jsx("em",{children:"honest about tracking"}),". There is no XP penalty  this is for self-awareness. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Junk Food  -1 Health, -1 Stamina"}),p.jsx("li",{children:" Doomscrolling  -2 Focus, -1 Willpower"}),p.jsx("li",{children:" Alcohol  -1 Health, -1 Focus"})]}),p.jsx("p",{children:"Debuffs still affect your stats while active, shown as red on your character screen."}),p.jsx("h3",{children:"Streaks"}),p.jsxs("p",{children:["Activate the same buff on consecutive days to build a streak. Every ",p.jsx("strong",{children:"7-day streak"})," earns a bonus ",p.jsx("strong",{children:"25 XP"}),"."]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Buff/Debuff"})," to define a habit template."]}),p.jsx("li",{children:"Choose a name, type (buff or debuff), icon, duration in hours, and stat effects (positive numbers for buffs, negative for debuffs)."}),p.jsxs("li",{children:["Once created, it appears in the Buffs or Debuffs column. Tap ",p.jsx("strong",{children:"Activate"})," each day you do the habit."]}),p.jsx("li",{children:"Active effects appear at the top with a countdown timer and are reflected on your Character screen stats."})]}),p.jsx("h3",{children:"Expiry"}),p.jsxs("p",{children:["Buffs and debuffs expire automatically after their duration. The app checks every 60 seconds. You can also manually remove an active effect by tapping ",p.jsx("strong",{children:"Remove"}),"."]}),p.jsx("h2",{id:"guide-planner",children:"Planner"}),p.jsx("p",{children:"A calendar to schedule your time and link events to your quests."}),p.jsx("h3",{children:"Views"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Day"}),"  Shows time slots from 6 AM to 9 PM. Scheduled events appear in their time slot. Unscheduled events appear at the bottom."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Week"}),"  7-column grid (MonSun). Each day shows its events. Tap ",p.jsx("strong",{children:"+"})," on any day to add an event."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Month"}),'  Calendar grid. Tap any day to add an event. Shows up to 3 events per day with a "+X more" indicator.']})]}),p.jsx("h3",{children:"Navigation"}),p.jsxs("p",{children:["Use the ",p.jsx("strong",{children:" "})," arrows to move between days/weeks/months. Tap ",p.jsx("strong",{children:"Today"})," to jump back to the current date."]}),p.jsx("h3",{children:"Events"}),p.jsxs("p",{children:["Tap ",p.jsx("strong",{children:"+ Event"})," to create one. Each event has:"]}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Title"}),"  What you're doing."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Date"}),"  When."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Start/End Time"}),"  Optional. If set, it appears in the correct time slot in Day view."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Description"}),"  Optional notes."]})]}),p.jsxs("p",{children:["Check off events when completed. Linked events (connected to a quest or step) earn ",p.jsx("strong",{children:"10 XP"})," when completed."]}),p.jsx("h2",{id:"guide-xp",children:"XP System"}),p.jsx("p",{children:"Everything you do earns experience points:"}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Action"}),p.jsx("th",{children:"XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a normal step"}),p.jsx("td",{children:"+10"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete an important step"}),p.jsx("td",{children:"+15"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a legendary step"}),p.jsx("td",{children:"+20"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a quest (all steps done)"}),p.jsx("td",{children:"+50 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a goal (all quests done)"}),p.jsx("td",{children:"+200 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Activate a buff (daily habit)"}),p.jsx("td",{children:"+5"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"7-day streak on any buff"}),p.jsx("td",{children:"+25 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a linked planner event"}),p.jsx("td",{children:"+10"})]})]})]}),p.jsx("h2",{id:"guide-levels",children:"Levels & Titles"}),p.jsxs("p",{children:["XP needed per level increases as you grow. The formula is ",p.jsx("code",{children:"50  level^1.8"}),"."]}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Level"}),p.jsx("th",{children:"Title"}),p.jsx("th",{children:"Approx. Timeline"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"14"}),p.jsx("td",{children:"Novice"}),p.jsx("td",{children:"Starting out"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"59"}),p.jsx("td",{children:"Apprentice"}),p.jsx("td",{children:"~12 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1014"}),p.jsx("td",{children:"Journeyman"}),p.jsx("td",{children:"~34 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1521"}),p.jsx("td",{children:"Adept"}),p.jsx("td",{children:"~12 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2229"}),p.jsx("td",{children:"Expert"}),p.jsx("td",{children:"~24 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3039"}),p.jsx("td",{children:"Master"}),p.jsx("td",{children:"~48 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4049"}),p.jsx("td",{children:"Legend"}),p.jsx("td",{children:"~812 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"50+"}),p.jsx("td",{children:"Dragonborn"}),p.jsx("td",{children:"~1 year+"})]})]})]}),p.jsx("p",{children:"When you level up, a golden overlay appears announcing your new level and title."}),p.jsx("h2",{id:"guide-stats",children:"Stats"}),p.jsxs("p",{children:["Your character has five stats, all starting at ",p.jsx("strong",{children:"10"}),":"]}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Stat"}),p.jsx("th",{children:"Represents"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Stamina"}),p.jsx("td",{children:"Physical energy, endurance, exercise habits"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Willpower"}),p.jsx("td",{children:"Discipline, self-control, mental toughness"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Physical wellbeing, nutrition, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Focus"}),p.jsx("td",{children:"Concentration, productivity, mental clarity"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Charisma"}),p.jsx("td",{children:"Social skills, confidence, communication"})]})]})]}),p.jsx("p",{children:"Stats are modified by active buffs and debuffs. They serve as a mirror of your current lifestyle  high Focus means you've been studying and avoiding distractions; low Health means you've been eating junk food or skipping sleep."}),p.jsx("h2",{id:"guide-tips",children:"Tips"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Start small."})," Create one goal with one quest and a few steps. Don't overload yourself on day one."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Be honest with debuffs."})," There's no punishment  tracking negative habits helps you see patterns."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use priorities wisely."}),' Reserve "Legendary" for truly difficult or impactful tasks.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Build streaks."})," The 7-day streak bonus compounds  maintaining 3 daily buffs earns 75 bonus XP per week on top of the daily 5 XP each."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use the planner."})," Scheduling time for quests makes you far more likely to complete them."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Check your character screen daily."})," Your stats tell you how balanced your life is."]})]}),p.jsx("h2",{id:"guide-data",children:"Saving & Data"}),p.jsx("p",{children:"All your data is stored locally on this device in the browser's database. It persists across sessions  closing and reopening the app keeps everything."}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Export Save"}),"  Downloads your entire database as a .db file. Use this for backups."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Import Save"}),"  Loads a previously exported .db file, replacing all current data. Use this to restore a backup or transfer data between devices."]})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Important:"})," Clearing your browser/app data will erase your progress. Export a backup regularly."]}),p.jsx("h3",{children:"Keyboard Shortcuts (Desktop)"}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Key"}),p.jsx("th",{children:"Action"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"1"}),p.jsx("td",{children:"Character screen"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2"}),p.jsx("td",{children:"Quest Log"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3"}),p.jsx("td",{children:"Buffs"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4"}),p.jsx("td",{children:"Planner"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Esc"}),p.jsx("td",{children:"Close any open modal/popup"})]})]})]})]})]})})}function Yk(){const{ready:s,error:e}=kS(),[i,a]=ne.useState("character");return s?p.jsx(Qk,{activeTab:i,setActiveTab:a}):p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0f",color:"#c8a84e",fontFamily:"Cinzel, serif",fontSize:"1.2rem"},children:e?`Error: ${e}`:"Loading database..."})}function Qk({activeTab:s,setActiveTab:e}){const i=GS(),a=GD({grantXP:i.grantXP}),l=OD({grantXP:i.grantXP}),u=aw({grantXP:i.grantXP,onStepComplete:()=>l.updateProgress("complete_steps",1)}),m=bb(),y=pw({grantXP:i.grantXP,scheduleBuffExpiry:m.scheduleBuffExpiry,cancelBuffExpiry:m.cancelBuffExpiry,onBuffActivated:z=>{l.updateProgress("activate_buffs",1),new Date().getHours()<8&&l.updateProgress("early_start",1),z==="buff"&&l.updateProgress("activate_specific",1),a.refresh()}}),E=bw({grantXP:i.grantXP,scheduleEventReminder:m.scheduleEventReminder,cancelEventReminder:m.cancelEventReminder,onEventComplete:()=>l.updateProgress("planner_event",1)}),g=kw(),[w,x]=ne.useState(!1),[I,$]=ne.useState(!1);ne.useEffect(()=>{i.refresh(),s==="quests"&&u.refresh(),s==="buffs"&&(y.refresh(),a.refresh()),s==="planner"&&E.refresh()},[s]),ne.useEffect(()=>{u.refresh(),y.refresh(),E.refresh(),a.refresh(),l.checkNoDebuffs()},[]),ne.useEffect(()=>{const z=Y=>{Y.target instanceof HTMLInputElement||Y.target instanceof HTMLTextAreaElement||Y.target instanceof HTMLSelectElement||(Y.key==="1"&&e("character"),Y.key==="2"&&e("quests"),Y.key==="3"&&e("buffs"),Y.key==="4"&&e("planner"))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e]);const se=ne.useCallback(async()=>{const z=await qm(),Y=new Blob([new Uint8Array(z)],{type:"application/octet-stream"}),ue=URL.createObjectURL(Y),de=document.createElement("a");de.href=ue,de.download=`goal-game-backup-${new Date().toISOString().split("T")[0]}.db`,de.click(),URL.revokeObjectURL(ue)},[]),ee=ne.useCallback(async()=>{const z=document.createElement("input");z.type="file",z.accept=".db",z.onchange=async()=>{const Y=z.files?.[0];if(!Y)return;const ue=await Y.arrayBuffer();await GE(new Uint8Array(ue)),window.location.reload()},z.click()},[]);return p.jsxs("div",{className:Mn.appShell,children:[p.jsx(cI,{activeTab:s,onTabChange:e}),p.jsx(EI,{character:i.character}),p.jsxs("main",{className:Mn.main,children:[s==="character"&&p.jsxs(p.Fragment,{children:[p.jsx(kk,{quests:l.quests,loading:l.loading,allCompleted:l.allCompleted,completedCount:l.completedCount,bonusClaimed:l.bonusClaimed,bonusXp:l.bonusXp,totalXpEarned:l.totalXpEarned,onClaimBonus:l.claimBonus}),p.jsx(q3,{character:i.character,stats:y.stats,activeBuffs:y.activeBuffs,xpLog:i.xpLog,onNameChange:i.setName})]}),s==="quests"&&p.jsx(I4,{goals:u.goals,domains:u.domains,filterDomain:u.filterDomain,filterStatus:u.filterStatus,onFilterDomain:z=>{u.setFilterDomain(z)},onFilterStatus:z=>{u.setFilterStatus(z)},onCreateGoal:u.createGoal,onCreateQuest:u.createQuest,onCreateStep:u.createStep,onCompleteStep:u.completeStep,onUncompleteStep:u.uncompleteStep,onDeleteStep:u.deleteStep,onDeleteQuest:u.deleteQuest,onDeleteGoal:u.deleteGoal}),s==="buffs"&&p.jsx(AO,{definitions:y.definitions,activeBuffs:y.activeBuffs,onCreateDefinition:y.createDefinition,onDeleteDefinition:y.deleteDefinition,onActivateBuff:y.activateBuff,onDeactivateBuff:y.deactivateBuff,streakInfos:a.streakInfos,shieldCount:a.shieldCount,onUseShield:a.useShield,getUnclaimedMilestones:a.getUnclaimedMilestones,onClaimMilestones:a.claimMilestones}),s==="planner"&&p.jsx(I6,{view:E.view,setView:E.setView,currentDate:E.currentDate,events:E.events,onNavigate:E.navigateDay,onGoToToday:E.goToToday,onCreate:E.createEvent,onComplete:E.completeEvent,onUncomplete:E.uncompleteEvent,onDelete:E.deleteEvent,notificationsEnabled:m.settings.enabled,defaultReminderMinutes:m.settings.defaultReminderMinutes}),p.jsxs("div",{style:{marginTop:40,paddingTop:20,borderTop:"1px solid var(--border-color)"},children:[I&&p.jsx(sk,{}),w&&p.jsx(ik,{}),p.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center",flexWrap:"wrap"},children:[p.jsx(pt,{size:"small",variant:"ghost",onClick:()=>$(!I),children:I?"Hide Notifications":"Notifications"}),p.jsx(pt,{size:"small",variant:"ghost",onClick:()=>x(!w),children:w?"Hide Cloud Backup":"Cloud Backup"}),p.jsx(pt,{size:"small",variant:"ghost",onClick:se,children:"Export Save"}),p.jsx(pt,{size:"small",variant:"ghost",onClick:ee,children:"Import Save"})]})]})]}),i.xpFloats.map(z=>p.jsxs("div",{className:Mn.xpFloat,children:["+",z.amount," XP"]},z.id)),i.levelUpInfo&&p.jsx(CI,{level:i.levelUpInfo.level,title:i.levelUpInfo.title,onDismiss:i.dismissLevelUp}),p.jsx(Gk,{}),g.message&&p.jsx("div",{style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",padding:"10px 20px",background:g.status==="error"?"rgba(231, 76, 60, 0.9)":"rgba(46, 204, 113, 0.9)",color:"#fff",borderRadius:8,fontSize:"0.9rem",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:g.message})]})}gS.createRoot(document.getElementById("root")).render(p.jsx(ne.StrictMode,{children:p.jsx(Yk,{})}));
