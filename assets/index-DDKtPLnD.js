(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Z1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function J1(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var e=a.default;if(typeof e=="function"){var i=function r(){var l=!1;try{l=this instanceof r}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(r){var l=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(i,r,l.get?l:{enumerable:!0,get:function(){return a[r]}})}),i}var Vd={exports:{}},ru={};var W_;function eS(){if(W_)return ru;W_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var m=null;if(c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),"key"in l){c={};for(var v in l)v!=="key"&&(c[v]=l[v])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:m,ref:l!==void 0?l:null,props:c}}return ru.Fragment=e,ru.jsx=i,ru.jsxs=i,ru}var Z_;function tS(){return Z_||(Z_=1,Vd.exports=eS()),Vd.exports}var p=tS(),Ud={exports:{}},Fe={};var J_;function nS(){if(J_)return Fe;J_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function $(q){return q===null||typeof q!="object"?null:(q=O&&q[O]||q["@@iterator"],typeof q=="function"?q:null)}var ae={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,W={};function J(q,se,ye){this.props=q,this.context=se,this.refs=W,this.updater=ye||ae}J.prototype.isReactComponent={},J.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},J.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function fe(){}fe.prototype=J.prototype;function ge(q,se,ye){this.props=q,this.context=se,this.refs=W,this.updater=ye||ae}var me=ge.prototype=new fe;me.constructor=ge,Y(me,J.prototype),me.isPureReactComponent=!0;var Ce=Array.isArray;function Ie(){}var M={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function L(q,se,ye){var Ee=ye.ref;return{$$typeof:a,type:q,key:se,ref:Ee!==void 0?Ee:null,props:ye}}function U(q,se){return L(q.type,se,q.props)}function j(q){return typeof q=="object"&&q!==null&&q.$$typeof===a}function D(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return se[ye]})}var C=/\/+/g;function _e(q,se){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):se.toString(36)}function ut(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(Ie,Ie):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function P(q,se,ye,Ee,qe){var Xe=typeof q;(Xe==="undefined"||Xe==="boolean")&&(q=null);var $e=!1;if(q===null)$e=!0;else switch(Xe){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(q.$$typeof){case a:case e:$e=!0;break;case w:return $e=q._init,P($e(q._payload),se,ye,Ee,qe)}}if($e)return qe=qe(q),$e=Ee===""?"."+_e(q,0):Ee,Ce(qe)?(ye="",$e!=null&&(ye=$e.replace(C,"$&/")+"/"),P(qe,se,ye,"",function(ma){return ma})):qe!=null&&(j(qe)&&(qe=U(qe,ye+(qe.key==null||q&&q.key===qe.key?"":(""+qe.key).replace(C,"$&/")+"/")+$e)),se.push(qe)),1;$e=0;var Kt=Ee===""?".":Ee+":";if(Ce(q))for(var jt=0;jt<q.length;jt++)Ee=q[jt],Xe=Kt+_e(Ee,jt),$e+=P(Ee,se,ye,Xe,qe);else if(jt=$(q),typeof jt=="function")for(q=jt.call(q),jt=0;!(Ee=q.next()).done;)Ee=Ee.value,Xe=Kt+_e(Ee,jt++),$e+=P(Ee,se,ye,Xe,qe);else if(Xe==="object"){if(typeof q.then=="function")return P(ut(q),se,ye,Ee,qe);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return $e}function he(q,se,ye){if(q==null)return q;var Ee=[],qe=0;return P(q,Ee,"","",function(Xe){return se.call(ye,Xe,qe++)}),Ee}function xe(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var et=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},We={map:he,forEach:function(q,se,ye){he(q,function(){se.apply(this,arguments)},ye)},count:function(q){var se=0;return he(q,function(){se++}),se},toArray:function(q){return he(q,function(se){return se})||[]},only:function(q){if(!j(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Fe.Activity=x,Fe.Children=We,Fe.Component=J,Fe.Fragment=i,Fe.Profiler=l,Fe.PureComponent=ge,Fe.StrictMode=r,Fe.Suspense=E,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},Fe.cache=function(q){return function(){return q.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(q,se,ye){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Ee=Y({},q.props),qe=q.key;if(se!=null)for(Xe in se.key!==void 0&&(qe=""+se.key),se)!I.call(se,Xe)||Xe==="key"||Xe==="__self"||Xe==="__source"||Xe==="ref"&&se.ref===void 0||(Ee[Xe]=se[Xe]);var Xe=arguments.length-2;if(Xe===1)Ee.children=ye;else if(1<Xe){for(var $e=Array(Xe),Kt=0;Kt<Xe;Kt++)$e[Kt]=arguments[Kt+2];Ee.children=$e}return L(q.type,qe,Ee)},Fe.createContext=function(q){return q={$$typeof:m,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:c,_context:q},q},Fe.createElement=function(q,se,ye){var Ee,qe={},Xe=null;if(se!=null)for(Ee in se.key!==void 0&&(Xe=""+se.key),se)I.call(se,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(qe[Ee]=se[Ee]);var $e=arguments.length-2;if($e===1)qe.children=ye;else if(1<$e){for(var Kt=Array($e),jt=0;jt<$e;jt++)Kt[jt]=arguments[jt+2];qe.children=Kt}if(q&&q.defaultProps)for(Ee in $e=q.defaultProps,$e)qe[Ee]===void 0&&(qe[Ee]=$e[Ee]);return L(q,Xe,qe)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(q){return{$$typeof:v,render:q}},Fe.isValidElement=j,Fe.lazy=function(q){return{$$typeof:w,_payload:{_status:-1,_result:q},_init:xe}},Fe.memo=function(q,se){return{$$typeof:g,type:q,compare:se===void 0?null:se}},Fe.startTransition=function(q){var se=M.T,ye={};M.T=ye;try{var Ee=q(),qe=M.S;qe!==null&&qe(ye,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(Ie,et)}catch(Xe){et(Xe)}finally{se!==null&&ye.types!==null&&(se.types=ye.types),M.T=se}},Fe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Fe.use=function(q){return M.H.use(q)},Fe.useActionState=function(q,se,ye){return M.H.useActionState(q,se,ye)},Fe.useCallback=function(q,se){return M.H.useCallback(q,se)},Fe.useContext=function(q){return M.H.useContext(q)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(q,se){return M.H.useDeferredValue(q,se)},Fe.useEffect=function(q,se){return M.H.useEffect(q,se)},Fe.useEffectEvent=function(q){return M.H.useEffectEvent(q)},Fe.useId=function(){return M.H.useId()},Fe.useImperativeHandle=function(q,se,ye){return M.H.useImperativeHandle(q,se,ye)},Fe.useInsertionEffect=function(q,se){return M.H.useInsertionEffect(q,se)},Fe.useLayoutEffect=function(q,se){return M.H.useLayoutEffect(q,se)},Fe.useMemo=function(q,se){return M.H.useMemo(q,se)},Fe.useOptimistic=function(q,se){return M.H.useOptimistic(q,se)},Fe.useReducer=function(q,se,ye){return M.H.useReducer(q,se,ye)},Fe.useRef=function(q){return M.H.useRef(q)},Fe.useState=function(q){return M.H.useState(q)},Fe.useSyncExternalStore=function(q,se,ye){return M.H.useSyncExternalStore(q,se,ye)},Fe.useTransition=function(){return M.H.useTransition()},Fe.version="19.2.4",Fe}var ev;function Um(){return ev||(ev=1,Ud.exports=nS()),Ud.exports}var ne=Um(),qd={exports:{}},ou={},Bd={exports:{}},Pd={};var tv;function iS(){return tv||(tv=1,(function(a){function e(P,he){var xe=P.length;P.push(he);e:for(;0<xe;){var et=xe-1>>>1,We=P[et];if(0<l(We,he))P[et]=he,P[xe]=We,xe=et;else break e}}function i(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var he=P[0],xe=P.pop();if(xe!==he){P[0]=xe;e:for(var et=0,We=P.length,q=We>>>1;et<q;){var se=2*(et+1)-1,ye=P[se],Ee=se+1,qe=P[Ee];if(0>l(ye,xe))Ee<We&&0>l(qe,ye)?(P[et]=qe,P[Ee]=xe,et=Ee):(P[et]=ye,P[se]=xe,et=se);else if(Ee<We&&0>l(qe,xe))P[et]=qe,P[Ee]=xe,et=Ee;else break e}}return he}function l(P,he){var xe=P.sortIndex-he.sortIndex;return xe!==0?xe:P.id-he.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var m=Date,v=m.now();a.unstable_now=function(){return m.now()-v}}var E=[],g=[],w=1,x=null,O=3,$=!1,ae=!1,Y=!1,W=!1,J=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function me(P){for(var he=i(g);he!==null;){if(he.callback===null)r(g);else if(he.startTime<=P)r(g),he.sortIndex=he.expirationTime,e(E,he);else break;he=i(g)}}function Ce(P){if(Y=!1,me(P),!ae)if(i(E)!==null)ae=!0,Ie||(Ie=!0,D());else{var he=i(g);he!==null&&ut(Ce,he.startTime-P)}}var Ie=!1,M=-1,I=5,L=-1;function U(){return W?!0:!(a.unstable_now()-L<I)}function j(){if(W=!1,Ie){var P=a.unstable_now();L=P;var he=!0;try{e:{ae=!1,Y&&(Y=!1,fe(M),M=-1),$=!0;var xe=O;try{t:{for(me(P),x=i(E);x!==null&&!(x.expirationTime>P&&U());){var et=x.callback;if(typeof et=="function"){x.callback=null,O=x.priorityLevel;var We=et(x.expirationTime<=P);if(P=a.unstable_now(),typeof We=="function"){x.callback=We,me(P),he=!0;break t}x===i(E)&&r(E),me(P)}else r(E);x=i(E)}if(x!==null)he=!0;else{var q=i(g);q!==null&&ut(Ce,q.startTime-P),he=!1}}break e}finally{x=null,O=xe,$=!1}he=void 0}}finally{he?D():Ie=!1}}}var D;if(typeof ge=="function")D=function(){ge(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,_e=C.port2;C.port1.onmessage=j,D=function(){_e.postMessage(null)}}else D=function(){J(j,0)};function ut(P,he){M=J(function(){P(a.unstable_now())},he)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function(P){switch(O){case 1:case 2:case 3:var he=3;break;default:he=O}var xe=O;O=he;try{return P()}finally{O=xe}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(P,he){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var xe=O;O=P;try{return he()}finally{O=xe}},a.unstable_scheduleCallback=function(P,he,xe){var et=a.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?et+xe:et):xe=et,P){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=xe+We,P={id:w++,callback:he,priorityLevel:P,startTime:xe,expirationTime:We,sortIndex:-1},xe>et?(P.sortIndex=xe,e(g,P),i(E)===null&&P===i(g)&&(Y?(fe(M),M=-1):Y=!0,ut(Ce,xe-et))):(P.sortIndex=We,e(E,P),ae||$||(ae=!0,Ie||(Ie=!0,D()))),P},a.unstable_shouldYield=U,a.unstable_wrapCallback=function(P){var he=O;return function(){var xe=O;O=he;try{return P.apply(this,arguments)}finally{O=xe}}}})(Pd)),Pd}var nv;function aS(){return nv||(nv=1,Bd.exports=iS()),Bd.exports}var zd={exports:{}},Fn={};var iv;function sS(){if(iv)return Fn;iv=1;var a=Um();function e(E){var g="https://react.dev/errors/"+E;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+E+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,g,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:E,containerInfo:g,implementation:w}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(E,g){if(E==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(E,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(E,g,null,w)},Fn.flushSync=function(E){var g=m.T,w=r.p;try{if(m.T=null,r.p=2,E)return E()}finally{m.T=g,r.p=w,r.d.f()}},Fn.preconnect=function(E,g){typeof E=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(E,g))},Fn.prefetchDNS=function(E){typeof E=="string"&&r.d.D(E)},Fn.preinit=function(E,g){if(typeof E=="string"&&g&&typeof g.as=="string"){var w=g.as,x=v(w,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,$=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?r.d.S(E,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:$}):w==="script"&&r.d.X(E,{crossOrigin:x,integrity:O,fetchPriority:$,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Fn.preinitModule=function(E,g){if(typeof E=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=v(g.as,g.crossOrigin);r.d.M(E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(E)},Fn.preload=function(E,g){if(typeof E=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,x=v(w,g.crossOrigin);r.d.L(E,w,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Fn.preloadModule=function(E,g){if(typeof E=="string")if(g){var w=v(g.as,g.crossOrigin);r.d.m(E,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(E)},Fn.requestFormReset=function(E){r.d.r(E)},Fn.unstable_batchedUpdates=function(E,g){return E(g)},Fn.useFormState=function(E,g,w){return m.H.useFormState(E,g,w)},Fn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Fn.version="19.2.4",Fn}var av;function rS(){if(av)return zd.exports;av=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),zd.exports=sS(),zd.exports}var sv;function oS(){if(sv)return ou;sv=1;var a=aS(),e=Um(),i=rS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(c(t)!==t)throw Error(r(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,o=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return E(f),t;if(d===o)return E(f),n;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=f,o=d;else{for(var T=!1,A=f.child;A;){if(A===s){T=!0,s=f,o=d;break}if(A===o){T=!0,o=f,s=d;break}A=A.sibling}if(!T){for(A=d.child;A;){if(A===s){T=!0,s=d,o=f;break}if(A===o){T=!0,o=d,s=f;break}A=A.sibling}if(!T)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function w(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=w(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),ae=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function _e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case J:return"Profiler";case W:return"StrictMode";case Ce:return"Suspense";case Ie:return"SuspenseList";case L:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ae:return"Portal";case ge:return t.displayName||"Context";case fe:return(t._context.displayName||"Context")+".Consumer";case me:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:_e(t.type)||"Memo";case I:n=t._payload,t=t._init;try{return _e(t(n))}catch{}}return null}var ut=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},et=[],We=-1;function q(t){return{current:t}}function se(t){0>We||(t.current=et[We],et[We]=null,We--)}function ye(t,n){We++,et[We]=t.current,t.current=n}var Ee=q(null),qe=q(null),Xe=q(null),$e=q(null);function Kt(t,n){switch(ye(Xe,n),ye(qe,t),ye(Ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?E_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=E_(n),t=T_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(Ee),ye(Ee,t)}function jt(){se(Ee),se(qe),se(Xe)}function ma(t){t.memoizedState!==null&&ye($e,t);var n=Ee.current,s=T_(n,t.type);n!==s&&(ye(qe,t),ye(Ee,s))}function Ts(t){qe.current===t&&(se(Ee),se(qe)),$e.current===t&&(se($e),nu._currentValue=xe)}var Un,pa;function qn(t){if(Un===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Un=n&&n[1]||"",pa=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+t+pa}var bs=!1;function bt(t,n){if(!t||bs)return"";bs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var K=ee}Reflect.construct(t,[],le)}else{try{le.call()}catch(ee){K=ee}t.call(le.prototype)}}else{try{throw Error()}catch(ee){K=ee}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&K&&typeof ee.stack=="string")return[ee.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),T=d[0],A=d[1];if(T&&A){var k=T.split(`
`),X=A.split(`
`);for(f=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(o===k.length||f===X.length)for(o=k.length-1,f=X.length-1;1<=o&&0<=f&&k[o]!==X[f];)f--;for(;1<=o&&0<=f;o--,f--)if(k[o]!==X[f]){if(o!==1||f!==1)do if(o--,f--,0>f||k[o]!==X[f]){var ie=`
`+k[o].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=o&&0<=f);break}}}finally{bs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?qn(s):""}function qa(t,n){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return t.child!==n&&n!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return qn("Activity");default:return""}}function Ss(t){try{var n="",s=null;do n+=qa(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pt=Object.prototype.hasOwnProperty,$t=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,bl=a.unstable_shouldYield,mr=a.unstable_requestPaint,An=a.unstable_now,ta=a.unstable_getCurrentPriorityLevel,na=a.unstable_ImmediatePriority,$n=a.unstable_UserBlockingPriority,ia=a.unstable_NormalPriority,so=a.unstable_LowPriority,pr=a.unstable_IdlePriority,ro=a.log,oo=a.unstable_setDisableYieldValue,Ti=null,De=null;function Wn(t){if(typeof ro=="function"&&oo(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Ti,t)}catch{}}var Vt=Math.clz32?Math.clz32:lo,gr=Math.log,bi=Math.LN2;function lo(t){return t>>>=0,t===0?32:31-(gr(t)/bi|0)|0}var mn=256,ga=262144,Gt=4194304;function Si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function de(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var f=0,d=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~d,o!==0?f=Si(o):(T&=A,T!==0?f=Si(T):s||(s=A&~t,s!==0&&(f=Si(s))))):(A=o&~d,A!==0?f=Si(A):T!==0?f=Si(T):s||(s=o&~t,s!==0&&(f=Si(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function wi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var t=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),t}function li(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function aa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yr(t,n,s,o,f,d){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,k=t.expirationTimes,X=t.hiddenUpdates;for(s=T&~s;0<s;){var ie=31-Vt(s),le=1<<ie;A[ie]=0,k[ie]=-1;var K=X[ie];if(K!==null)for(X[ie]=null,ie=0;ie<K.length;ie++){var ee=K[ie];ee!==null&&(ee.lane&=-536870913)}s&=~le}o!==0&&Zn(t,o,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(T&~n))}function Zn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Vt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function ws(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Vt(s),f=1<<o;f&n|t[o]&n&&(t[o]|=n),s&=~f}}function sn(t,n){var s=n&-n;return s=(s&42)!==0?1:ya(s),(s&(t.suspendedLanes|n))!==0?0:s}function ya(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _r(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:F_(t.type))}function ui(t,n){var s=he.p;try{return he.p=t,n()}finally{he.p=s}}var Pn=Math.random().toString(36).slice(2),tt="__reactFiber$"+Pn,Jt="__reactProps$"+Pn,Li="__reactContainer$"+Pn,_a="__reactEvents$"+Pn,wl="__reactListeners$"+Pn,As="__reactHandles$"+Pn,vr="__reactResources$"+Pn,Jn="__reactMarker$"+Pn;function Rs(t){delete t[tt],delete t[Jt],delete t[_a],delete t[wl],delete t[As]}function en(t){var n=t[tt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Li]||s[tt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=C_(t);t!==null;){if(s=t[tt])return s;t=C_(t)}return n}t=s,s=t.parentNode}return null}function Nn(t){if(t=t[tt]||t[Li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ai(t){var n=t[vr];return n||(n=t[vr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qt(t){t[Jn]=!0}var sa=new Set,Ns={};function ei(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Ns[t]=n,t=0;t<n.length;t++)sa.add(n[t])}var ki=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ba={},Cs={};function Er(t){return Pt.call(Cs,t)?!0:Pt.call(Ba,t)?!1:ki.test(t)?Cs[t]=!0:(Ba[t]=!0,!1)}function Pa(t,n,s){if(Er(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function ti(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function At(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function He(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function va(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){s=""+T,d.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ct(t){if(!t._valueTracker){var n=zn(t)?"checked":"value";t._valueTracker=va(t,n,""+t[n])}}function Vi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=zn(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var za=/[\n"\\]/g;function Hn(t){return t.replace(za,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ui(t,n,s,o,f,d,T,A){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+He(n)):t.value!==""+He(n)&&(t.value=""+He(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?br(t,T,He(n)):s!=null?br(t,T,He(s)):o!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+He(A):t.removeAttribute("name")}function Tr(t,n,s,o,f,d,T,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){ct(t);return}s=s!=null?""+He(s):"",n=n!=null?""+He(n):s,A||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),ct(t)}function br(t,n,s){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function qi(t,n,s,o){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&o&&(t[s].defaultSelected=!0)}else{for(s=""+He(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Sr(t,n,s){if(n!=null&&(n=""+He(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+He(s):""}function Bi(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(ut(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=He(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),ct(t)}function _n(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ea(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||uo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Ta(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&Ea(t,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Ea(t,d,n[d])}function fi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return vn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xn(){}var wr=null;function Te(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,ii=null;function ba(t){var n=Nn(t);if(n&&(t=n.stateNode)){var s=t[Jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ui(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var f=o[Jt]||null;if(!f)throw Error(r(90));Ui(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Vi(o)}break e;case"textarea":Sr(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&qi(t,!!s.multiple,n,!1)}}}var Ha=!1;function hi(t,n,s){if(Ha)return t(n,s);Ha=!0;try{var o=t(n);return o}finally{if(Ha=!1,(Pi!==null||ii!==null)&&(gc(),Pi&&(n=Pi,t=ii,ii=Pi=null,ba(n),t)))for(n=0;n<t.length;n++)ba(t[n])}}function rn(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Jt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(En)try{var h={};Object.defineProperty(h,"passive",{get:function(){ra=!0}}),window.addEventListener("test",h,h),window.removeEventListener("test",h,h)}catch{ra=!1}var y=null,S=null,R=null;function V(){if(R)return R;var t,n=S,s=n.length,o,f="value"in y?y.value:y.textContent,d=f.length;for(t=0;t<s&&n[t]===f[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===f[d-o];o++);return R=f.slice(t,1<o?1-o:void 0)}function F(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function te(){return!0}function we(){return!1}function Oe(t){function n(s,o,f,d,T){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?te:we,this.isPropagationStopped=we,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=te)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=te)},persist:function(){},isPersistent:te}),n}var Ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pt=Oe(Ve),Xt=x({},Ve,{view:0,detail:0}),Ds=Oe(Xt),Sa,Fa,zi,Ga=x({},Xt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(Sa=t.screenX-zi.screenX,Fa=t.screenY-zi.screenY):Fa=Sa=0,zi=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),Ar=Oe(Ga),Qa=x({},Ga,{dataTransfer:0}),co=Oe(Qa),fo=x({},Xt,{relatedTarget:0}),Xa=Oe(fo),Rr=x({},Ve,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=Oe(Rr),Is=x({},Ve,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nr=Oe(Is),mo=x({},Ve,{data:0}),Hi=Oe(mo),po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _o(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yo[t])?!!n[t]:!1}function wa(){return _o}var Tn=x({},Xt,{key:function(t){if(t.key){var n=po[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=F(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?go[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(t){return t.type==="keypress"?F(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?F(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vo=Oe(Tn),Eo=x({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oa=Oe(Eo),u=x({},Xt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),_=Oe(u),b=x({},Ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Oe(b),G=x({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=Oe(G),pe=x({},Ve,{newState:0,oldState:0}),Be=Oe(pe),zt=[9,13,27,32],ft=En&&"CompositionEvent"in window,Mt=null;En&&"documentMode"in document&&(Mt=document.documentMode);var H=En&&"TextEvent"in window&&!Mt,oe=En&&(!ft||Mt&&8<Mt&&11>=Mt),ve=" ",Re=!1;function Le(t,n){switch(t){case"keyup":return zt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bn=!1;function di(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(Re=!0,ve);case"textInput":return t=n.data,t===ve&&Re?null:t;default:return null}}function ai(t,n){if(bn)return t==="compositionend"||!ft&&Le(t,n)?(t=V(),R=S=y=null,bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oe&&n.locale!=="ko"?null:n.data;default:return null}}var Ni={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function To(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ni[t.type]:n==="textarea"}function Aa(t,n,s,o){Pi?ii?ii.push(o):ii=[o]:Pi=o,n=Sc(n,"onChange"),0<n.length&&(s=new pt("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Cr=null,Al=null;function Ab(t){m_(t,0)}function Lu(t){var n=Cn(t);if(Vi(n))return t}function jp(t,n){if(t==="change")return n}var Mp=!1;if(En){var Ff;if(En){var Gf="oninput"in document;if(!Gf){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Gf=typeof Lp.oninput=="function"}Ff=Gf}else Ff=!1;Mp=Ff&&(!document.documentMode||9<document.documentMode)}function kp(){Cr&&(Cr.detachEvent("onpropertychange",Vp),Al=Cr=null)}function Vp(t){if(t.propertyName==="value"&&Lu(Al)){var n=[];Aa(n,Al,t,Te(t)),hi(Ab,n)}}function Rb(t,n,s){t==="focusin"?(kp(),Cr=n,Al=s,Cr.attachEvent("onpropertychange",Vp)):t==="focusout"&&kp()}function Nb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Al)}function Cb(t,n){if(t==="click")return Lu(n)}function xb(t,n){if(t==="input"||t==="change")return Lu(n)}function Db(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ci=typeof Object.is=="function"?Object.is:Db;function Rl(t,n){if(Ci(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Pt.call(n,f)||!Ci(t[f],n[f]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qp(t,n){var s=Up(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Up(s)}}function Bp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ci(t.document)}return n}function Qf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ib=En&&"documentMode"in document&&11>=document.documentMode,bo=null,Xf=null,Nl=null,Yf=!1;function zp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yf||bo==null||bo!==ci(o)||(o=bo,"selectionStart"in o&&Qf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Nl&&Rl(Nl,o)||(Nl=o,o=Sc(Xf,"onSelect"),0<o.length&&(n=new pt("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=bo)))}function xr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var So={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Kf={},Hp={};En&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Dr(t){if(Kf[t])return Kf[t];if(!So[t])return t;var n=So[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Hp)return Kf[t]=n[s];return t}var Fp=Dr("animationend"),Gp=Dr("animationiteration"),Qp=Dr("animationstart"),Ob=Dr("transitionrun"),jb=Dr("transitionstart"),Mb=Dr("transitioncancel"),Xp=Dr("transitionend"),Yp=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function la(t,n){Yp.set(t,n),ei(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fi=[],wo=0,Wf=0;function Vu(){for(var t=wo,n=Wf=wo=0;n<t;){var s=Fi[n];Fi[n++]=null;var o=Fi[n];Fi[n++]=null;var f=Fi[n];Fi[n++]=null;var d=Fi[n];if(Fi[n++]=null,o!==null&&f!==null){var T=o.pending;T===null?f.next=f:(f.next=T.next,T.next=f),o.pending=f}d!==0&&Kp(s,f,d)}}function Uu(t,n,s,o){Fi[wo++]=t,Fi[wo++]=n,Fi[wo++]=s,Fi[wo++]=o,Wf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zf(t,n,s,o){return Uu(t,n,s,o),qu(t)}function Ir(t,n){return Uu(t,null,null,n),qu(t)}function Kp(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-Vt(s),t=d.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=s|536870912),d):null}function qu(t){if(50<Kl)throw Kl=0,od=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ao={};function Lb(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,n,s,o){return new Lb(t,n,s,o)}function Jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ya(t,n){var s=t.alternate;return s===null?(s=xi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function $p(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bu(t,n,s,o,f,d){var T=0;if(o=t,typeof t=="function")Jf(t)&&(T=1);else if(typeof t=="string")T=B1(t,s,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case L:return t=xi(31,s,n,f),t.elementType=L,t.lanes=d,t;case Y:return Or(s.children,f,d,n);case W:T=8,f|=24;break;case J:return t=xi(12,s,n,f|2),t.elementType=J,t.lanes=d,t;case Ce:return t=xi(13,s,n,f),t.elementType=Ce,t.lanes=d,t;case Ie:return t=xi(19,s,n,f),t.elementType=Ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:T=10;break e;case fe:T=9;break e;case me:T=11;break e;case M:T=14;break e;case I:T=16,o=null;break e}T=29,s=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=xi(T,s,n,f),n.elementType=t,n.type=o,n.lanes=d,n}function Or(t,n,s,o){return t=xi(7,t,o,n),t.lanes=s,t}function eh(t,n,s){return t=xi(6,t,null,n),t.lanes=s,t}function Wp(t){var n=xi(18,null,null,0);return n.stateNode=t,n}function th(t,n,s){return n=xi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zp=new WeakMap;function Gi(t,n){if(typeof t=="object"&&t!==null){var s=Zp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Ss(n)},Zp.set(t,n),n)}return{value:t,source:n,stack:Ss(n)}}var Ro=[],No=0,Pu=null,Cl=0,Qi=[],Xi=0,Os=null,Ra=1,Na="";function Ka(t,n){Ro[No++]=Cl,Ro[No++]=Pu,Pu=t,Cl=n}function Jp(t,n,s){Qi[Xi++]=Ra,Qi[Xi++]=Na,Qi[Xi++]=Os,Os=t;var o=Ra;t=Na;var f=32-Vt(o)-1;o&=~(1<<f),s+=1;var d=32-Vt(n)+f;if(30<d){var T=f-f%5;d=(o&(1<<T)-1).toString(32),o>>=T,f-=T,Ra=1<<32-Vt(n)+f|s<<f|o,Na=d+t}else Ra=1<<d|s<<f|o,Na=t}function nh(t){t.return!==null&&(Ka(t,1),Jp(t,1,0))}function ih(t){for(;t===Pu;)Pu=Ro[--No],Ro[No]=null,Cl=Ro[--No],Ro[No]=null;for(;t===Os;)Os=Qi[--Xi],Qi[Xi]=null,Na=Qi[--Xi],Qi[Xi]=null,Ra=Qi[--Xi],Qi[Xi]=null}function eg(t,n){Qi[Xi++]=Ra,Qi[Xi++]=Na,Qi[Xi++]=Os,Ra=n.id,Na=n.overflow,Os=t}var Dn=null,Ut=null,lt=!1,js=null,Yi=!1,ah=Error(r(519));function Ms(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(Gi(n,t)),ah}function tg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[tt]=t,n[Jt]=o,s){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(s=0;s<Wl.length;s++)Je(Wl[s],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":Je("invalid",n),Tr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Je("invalid",n);break;case"textarea":Je("invalid",n),Bi(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||__(n.textContent,s)?(o.popover!=null&&(Je("beforetoggle",n),Je("toggle",n)),o.onScroll!=null&&Je("scroll",n),o.onScrollEnd!=null&&Je("scrollend",n),o.onClick!=null&&(n.onclick=xn),n=!0):n=!1,n||Ms(t,!0)}function ng(t){for(Dn=t.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:Dn=Dn.return}}function Co(t){if(t!==Dn)return!1;if(!lt)return ng(t),lt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||bd(t.type,t.memoizedProps)),s=!s),s&&Ut&&Ms(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ut=N_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ut=N_(t)}else n===27?(n=Ut,Ys(t.type)?(t=Nd,Nd=null,Ut=t):Ut=n):Ut=Dn?$i(t.stateNode.nextSibling):null;return!0}function jr(){Ut=Dn=null,lt=!1}function sh(){var t=js;return t!==null&&(yi===null?yi=t:yi.push.apply(yi,t),js=null),t}function xl(t){js===null?js=[t]:js.push(t)}var rh=q(null),Mr=null,$a=null;function Ls(t,n,s){ye(rh,n._currentValue),n._currentValue=s}function Wa(t){t._currentValue=rh.current,se(rh)}function oh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function lh(t,n,s,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var k=0;k<n.length;k++)if(A.context===n[k]){d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),oh(d.return,s,t),o||(T=null);break e}d=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=s,d=T.alternate,d!==null&&(d.lanes|=s),oh(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function xo(t,n,s,o){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=f.type;Ci(f.pendingProps.value,T.value)||(t!==null?t.push(A):t=[A])}}else if(f===$e.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(nu):t=[nu])}f=f.return}t!==null&&lh(n,t,s,o),n.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!Ci(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){Mr=t,$a=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function In(t){return ig(Mr,t)}function Hu(t,n){return Mr===null&&Lr(t),ig(t,n)}function ig(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},$a===null){if(t===null)throw Error(r(308));$a=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $a=$a.next=n;return s}var kb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Vb=a.unstable_scheduleCallback,Ub=a.unstable_NormalPriority,on={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uh(){return{controller:new kb,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&Vb(Ub,function(){t.controller.abort()})}var Il=null,ch=0,Do=0,Io=null;function qb(t,n){if(Il===null){var s=Il=[];ch=0,Do=dd(),Io={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ch++,n.then(ag,ag),n}function ag(){if(--ch===0&&Il!==null){Io!==null&&(Io.status="fulfilled");var t=Il;Il=null,Do=0,Io=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Bb(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var sg=P.S;P.S=function(t,n){zy=An(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&qb(t,n),sg!==null&&sg(t,n)};var kr=q(null);function fh(){var t=kr.current;return t!==null?t:Lt.pooledCache}function Fu(t,n){n===null?ye(kr,kr.current):ye(kr,n.pool)}function rg(){var t=fh();return t===null?null:{parent:on._currentValue,pool:t}}var Oo=Error(r(460)),hh=Error(r(474)),Gu=Error(r(542)),Qu={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(xn,xn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(xn,xn);else{if(t=Lt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw Ur=n,Oo}}function Vr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ur=s,Oo):s}}var Ur=null;function ug(){if(Ur===null)throw Error(r(459));var t=Ur;return Ur=null,t}function cg(t){if(t===Oo||t===Gu)throw Error(r(483))}var jo=null,Ol=0;function Xu(t){var n=Ol;return Ol+=1,jo===null&&(jo=[]),lg(jo,t,n)}function jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yu(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){function n(z,B){if(t){var Q=z.deletions;Q===null?(z.deletions=[B],z.flags|=16):Q.push(B)}}function s(z,B){if(!t)return null;for(;B!==null;)n(z,B),B=B.sibling;return null}function o(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function f(z,B){return z=Ya(z,B),z.index=0,z.sibling=null,z}function d(z,B,Q){return z.index=Q,t?(Q=z.alternate,Q!==null?(Q=Q.index,Q<B?(z.flags|=67108866,B):Q):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function T(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,B,Q,re){return B===null||B.tag!==6?(B=eh(Q,z.mode,re),B.return=z,B):(B=f(B,Q),B.return=z,B)}function k(z,B,Q,re){var je=Q.type;return je===Y?ie(z,B,Q.props.children,re,Q.key):B!==null&&(B.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===I&&Vr(je)===B.type)?(B=f(B,Q.props),jl(B,Q),B.return=z,B):(B=Bu(Q.type,Q.key,Q.props,null,z.mode,re),jl(B,Q),B.return=z,B)}function X(z,B,Q,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=th(Q,z.mode,re),B.return=z,B):(B=f(B,Q.children||[]),B.return=z,B)}function ie(z,B,Q,re,je){return B===null||B.tag!==7?(B=Or(Q,z.mode,re,je),B.return=z,B):(B=f(B,Q),B.return=z,B)}function le(z,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=eh(""+B,z.mode,Q),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case $:return Q=Bu(B.type,B.key,B.props,null,z.mode,Q),jl(Q,B),Q.return=z,Q;case ae:return B=th(B,z.mode,Q),B.return=z,B;case I:return B=Vr(B),le(z,B,Q)}if(ut(B)||D(B))return B=Or(B,z.mode,Q,null),B.return=z,B;if(typeof B.then=="function")return le(z,Xu(B),Q);if(B.$$typeof===ge)return le(z,Hu(z,B),Q);Yu(z,B)}return null}function K(z,B,Q,re){var je=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return je!==null?null:A(z,B,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return Q.key===je?k(z,B,Q,re):null;case ae:return Q.key===je?X(z,B,Q,re):null;case I:return Q=Vr(Q),K(z,B,Q,re)}if(ut(Q)||D(Q))return je!==null?null:ie(z,B,Q,re,null);if(typeof Q.then=="function")return K(z,B,Xu(Q),re);if(Q.$$typeof===ge)return K(z,B,Hu(z,Q),re);Yu(z,Q)}return null}function ee(z,B,Q,re,je){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(Q)||null,A(B,z,""+re,je);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case $:return z=z.get(re.key===null?Q:re.key)||null,k(B,z,re,je);case ae:return z=z.get(re.key===null?Q:re.key)||null,X(B,z,re,je);case I:return re=Vr(re),ee(z,B,Q,re,je)}if(ut(re)||D(re))return z=z.get(Q)||null,ie(B,z,re,je,null);if(typeof re.then=="function")return ee(z,B,Q,Xu(re),je);if(re.$$typeof===ge)return ee(z,B,Q,Hu(B,re),je);Yu(B,re)}return null}function Ae(z,B,Q,re){for(var je=null,gt=null,Ne=B,Ke=B=0,at=null;Ne!==null&&Ke<Q.length;Ke++){Ne.index>Ke?(at=Ne,Ne=null):at=Ne.sibling;var yt=K(z,Ne,Q[Ke],re);if(yt===null){Ne===null&&(Ne=at);break}t&&Ne&&yt.alternate===null&&n(z,Ne),B=d(yt,B,Ke),gt===null?je=yt:gt.sibling=yt,gt=yt,Ne=at}if(Ke===Q.length)return s(z,Ne),lt&&Ka(z,Ke),je;if(Ne===null){for(;Ke<Q.length;Ke++)Ne=le(z,Q[Ke],re),Ne!==null&&(B=d(Ne,B,Ke),gt===null?je=Ne:gt.sibling=Ne,gt=Ne);return lt&&Ka(z,Ke),je}for(Ne=o(Ne);Ke<Q.length;Ke++)at=ee(Ne,z,Ke,Q[Ke],re),at!==null&&(t&&at.alternate!==null&&Ne.delete(at.key===null?Ke:at.key),B=d(at,B,Ke),gt===null?je=at:gt.sibling=at,gt=at);return t&&Ne.forEach(function(Js){return n(z,Js)}),lt&&Ka(z,Ke),je}function ke(z,B,Q,re){if(Q==null)throw Error(r(151));for(var je=null,gt=null,Ne=B,Ke=B=0,at=null,yt=Q.next();Ne!==null&&!yt.done;Ke++,yt=Q.next()){Ne.index>Ke?(at=Ne,Ne=null):at=Ne.sibling;var Js=K(z,Ne,yt.value,re);if(Js===null){Ne===null&&(Ne=at);break}t&&Ne&&Js.alternate===null&&n(z,Ne),B=d(Js,B,Ke),gt===null?je=Js:gt.sibling=Js,gt=Js,Ne=at}if(yt.done)return s(z,Ne),lt&&Ka(z,Ke),je;if(Ne===null){for(;!yt.done;Ke++,yt=Q.next())yt=le(z,yt.value,re),yt!==null&&(B=d(yt,B,Ke),gt===null?je=yt:gt.sibling=yt,gt=yt);return lt&&Ka(z,Ke),je}for(Ne=o(Ne);!yt.done;Ke++,yt=Q.next())yt=ee(Ne,z,Ke,yt.value,re),yt!==null&&(t&&yt.alternate!==null&&Ne.delete(yt.key===null?Ke:yt.key),B=d(yt,B,Ke),gt===null?je=yt:gt.sibling=yt,gt=yt);return t&&Ne.forEach(function(W1){return n(z,W1)}),lt&&Ka(z,Ke),je}function Ot(z,B,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===Y&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:e:{for(var je=Q.key;B!==null;){if(B.key===je){if(je=Q.type,je===Y){if(B.tag===7){s(z,B.sibling),re=f(B,Q.props.children),re.return=z,z=re;break e}}else if(B.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===I&&Vr(je)===B.type){s(z,B.sibling),re=f(B,Q.props),jl(re,Q),re.return=z,z=re;break e}s(z,B);break}else n(z,B);B=B.sibling}Q.type===Y?(re=Or(Q.props.children,z.mode,re,Q.key),re.return=z,z=re):(re=Bu(Q.type,Q.key,Q.props,null,z.mode,re),jl(re,Q),re.return=z,z=re)}return T(z);case ae:e:{for(je=Q.key;B!==null;){if(B.key===je)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){s(z,B.sibling),re=f(B,Q.children||[]),re.return=z,z=re;break e}else{s(z,B);break}else n(z,B);B=B.sibling}re=th(Q,z.mode,re),re.return=z,z=re}return T(z);case I:return Q=Vr(Q),Ot(z,B,Q,re)}if(ut(Q))return Ae(z,B,Q,re);if(D(Q)){if(je=D(Q),typeof je!="function")throw Error(r(150));return Q=je.call(Q),ke(z,B,Q,re)}if(typeof Q.then=="function")return Ot(z,B,Xu(Q),re);if(Q.$$typeof===ge)return Ot(z,B,Hu(z,Q),re);Yu(z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(s(z,B.sibling),re=f(B,Q),re.return=z,z=re):(s(z,B),re=eh(Q,z.mode,re),re.return=z,z=re),T(z)):s(z,B)}return function(z,B,Q,re){try{Ol=0;var je=Ot(z,B,Q,re);return jo=null,je}catch(Ne){if(Ne===Oo||Ne===Gu)throw Ne;var gt=xi(29,Ne,null,z.mode);return gt.lanes=re,gt.return=z,gt}}}var qr=fg(!0),hg=fg(!1),ks=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Et&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=qu(t),Kp(t,null,s),n}return Uu(t,o,n,s),qu(t)}function Ml(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,ws(t,s)}}function ph(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var gh=!1;function Ll(){if(gh){var t=Io;if(t!==null)throw t}}function kl(t,n,s,o){gh=!1;var f=t.updateQueue;ks=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var k=A,X=k.next;k.next=null,T===null?d=X:T.next=X,T=k;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==T&&(A===null?ie.firstBaseUpdate=X:A.next=X,ie.lastBaseUpdate=k))}if(d!==null){var le=f.baseState;T=0,ie=X=k=null,A=d;do{var K=A.lane&-536870913,ee=K!==A.lane;if(ee?(it&K)===K:(o&K)===K){K!==0&&K===Do&&(gh=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ae=t,ke=A;K=n;var Ot=s;switch(ke.tag){case 1:if(Ae=ke.payload,typeof Ae=="function"){le=Ae.call(Ot,le,K);break e}le=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ke.payload,K=typeof Ae=="function"?Ae.call(Ot,le,K):Ae,K==null)break e;le=x({},le,K);break e;case 2:ks=!0}}K=A.callback,K!==null&&(t.flags|=64,ee&&(t.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[K]:ee.push(K))}else ee={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(X=ie=ee,k=le):ie=ie.next=ee,T|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);ie===null&&(k=le),f.baseState=k,f.firstBaseUpdate=X,f.lastBaseUpdate=ie,d===null&&(f.shared.lanes=0),Hs|=T,t.lanes=T,t.memoizedState=le}}function dg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function mg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)dg(s[t],n)}var Mo=q(null),Ku=q(0);function pg(t,n){t=rs,ye(Ku,t),ye(Mo,n),rs=t|n.baseLanes}function yh(){ye(Ku,rs),ye(Mo,Mo.current)}function _h(){rs=Ku.current,se(Mo),se(Ku)}var Di=q(null),Ki=null;function qs(t){var n=t.alternate;ye(tn,tn.current&1),ye(Di,t),Ki===null&&(n===null||Mo.current!==null||n.memoizedState!==null)&&(Ki=t)}function vh(t){ye(tn,tn.current),ye(Di,t),Ki===null&&(Ki=t)}function gg(t){t.tag===22?(ye(tn,tn.current),ye(Di,t),Ki===null&&(Ki=t)):Bs()}function Bs(){ye(tn,tn.current),ye(Di,Di.current)}function Ii(t){se(Di),Ki===t&&(Ki=null),se(tn)}var tn=q(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ad(s)||Rd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Za=0,Ye=null,Dt=null,ln=null,Wu=!1,Lo=!1,Br=!1,Zu=0,Vl=0,ko=null,Pb=0;function Wt(){throw Error(r(321))}function Eh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Ci(t[s],n[s]))return!1;return!0}function Th(t,n,s,o,f,d){return Za=d,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=t===null||t.memoizedState===null?Jg:kh,Br=!1,d=s(o,f),Br=!1,Lo&&(d=_g(n,s,o,f)),yg(t),d}function yg(t){P.H=Bl;var n=Dt!==null&&Dt.next!==null;if(Za=0,ln=Dt=Ye=null,Wu=!1,Vl=0,ko=null,n)throw Error(r(300));t===null||un||(t=t.dependencies,t!==null&&zu(t)&&(un=!0))}function _g(t,n,s,o){Ye=t;var f=0;do{if(Lo&&(ko=null),Vl=0,Lo=!1,25<=f)throw Error(r(301));if(f+=1,ln=Dt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=ey,d=n(s,o)}while(Lo);return d}function zb(){var t=P.H,n=t.useState()[0];return n=typeof n.then=="function"?Ul(n):n,t=t.useState()[0],(Dt!==null?Dt.memoizedState:null)!==t&&(Ye.flags|=1024),n}function bh(){var t=Zu!==0;return Zu=0,t}function Sh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function wh(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}Za=0,ln=Dt=Ye=null,Lo=!1,Vl=Zu=0,ko=null}function si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ye.memoizedState=ln=t:ln=ln.next=t,ln}function nn(){if(Dt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var n=ln===null?Ye.memoizedState:ln.next;if(n!==null)ln=n,Dt=t;else{if(t===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},ln===null?Ye.memoizedState=ln=t:ln=ln.next=t}return ln}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var n=Vl;return Vl+=1,ko===null&&(ko=[]),t=lg(ko,t,n),n=Ye,(ln===null?n.memoizedState:ln.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Jg:kh),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===ge)return In(t)}throw Error(r(438,String(t)))}function Ah(t){var n=null,s=Ye.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ye.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ju(),Ye.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=U;return n.index++,s}function Ja(t,n){return typeof n=="function"?n(t):n}function tc(t){var n=nn();return Rh(n,Dt,t)}function Rh(t,n,s){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var f=t.baseQueue,d=o.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}n.baseQueue=f=d,o.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var A=T=null,k=null,X=n,ie=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(it&le)===le:(Za&le)===le){var K=X.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Do&&(ie=!0);else if((Za&K)===K){X=X.next,K===Do&&(ie=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(A=k=le,T=d):k=k.next=le,Ye.lanes|=K,Hs|=K;le=X.action,Br&&s(d,le),d=X.hasEagerState?X.eagerState:s(d,le)}else K={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(A=k=K,T=d):k=k.next=K,Ye.lanes|=le,Hs|=le;X=X.next}while(X!==null&&X!==n);if(k===null?T=d:k.next=A,!Ci(d,t.memoizedState)&&(un=!0,ie&&(s=Io,s!==null)))throw s;t.memoizedState=d,t.baseState=T,t.baseQueue=k,o.lastRenderedState=d}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Nh(t){var n=nn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var o=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do d=t(d,T.action),T=T.next;while(T!==f);Ci(d,n.memoizedState)||(un=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function vg(t,n,s){var o=Ye,f=nn(),d=lt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var T=!Ci((Dt||f).memoizedState,s);if(T&&(f.memoizedState=s,un=!0),f=f.queue,Dh(bg.bind(null,o,f,t),[t]),f.getSnapshot!==n||T||ln!==null&&ln.memoizedState.tag&1){if(o.flags|=2048,Vo(9,{destroy:void 0},Tg.bind(null,o,f,s,n),null),Lt===null)throw Error(r(349));d||(Za&127)!==0||Eg(o,n,s)}return s}function Eg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ye.updateQueue,n===null?(n=Ju(),Ye.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Tg(t,n,s,o){n.value=s,n.getSnapshot=o,Sg(n)&&wg(t)}function bg(t,n,s){return s(function(){Sg(n)&&wg(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Ci(t,s)}catch{return!0}}function wg(t){var n=Ir(t,2);n!==null&&_i(n,t,2)}function Ch(t){var n=si();if(typeof t=="function"){var s=t;if(t=s(),Br){Wn(!0);try{s()}finally{Wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:t},n}function Ag(t,n,s,o){return t.baseState=s,Rh(t,Dt,typeof o=="function"?o:Ja)}function Hb(t,n,s,o,f){if(ac(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};P.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,Rg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Rg(t,n){var s=n.action,o=n.payload,f=t.state;if(n.isTransition){var d=P.T,T={};P.T=T;try{var A=s(f,o),k=P.S;k!==null&&k(T,A),Ng(t,n,A)}catch(X){xh(t,n,X)}finally{d!==null&&T.types!==null&&(d.types=T.types),P.T=d}}else try{d=s(f,o),Ng(t,n,d)}catch(X){xh(t,n,X)}}function Ng(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Cg(t,n,o)},function(o){return xh(t,n,o)}):Cg(t,n,s)}function Cg(t,n,s){n.status="fulfilled",n.value=s,xg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Rg(t,s)))}function xh(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,xg(n),n=n.next;while(n!==o)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dg(t,n){return n}function Ig(t,n){if(lt){var s=Lt.formState;if(s!==null){e:{var o=Ye;if(lt){if(Ut){t:{for(var f=Ut,d=Yi;f.nodeType!==8;){if(!d){f=null;break t}if(f=$i(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ut=$i(f.nextSibling),o=f.data==="F!";break e}}Ms(o)}o=!1}o&&(n=s[0])}}return s=si(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},s.queue=o,s=$g.bind(null,Ye,o),o.dispatch=s,o=Ch(!1),d=Lh.bind(null,Ye,!1,o.queue),o=si(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,s=Hb.bind(null,Ye,f,d,s),f.dispatch=s,o.memoizedState=t,[n,s,!1]}function Og(t){var n=nn();return jg(n,Dt,t)}function jg(t,n,s){if(n=Rh(t,n,Dg)[0],t=tc(Ja)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ul(n)}catch(T){throw T===Oo?Gu:T}else o=n;n=nn();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(Ye.flags|=2048,Vo(9,{destroy:void 0},Fb.bind(null,f,s),null)),[o,d,t]}function Fb(t,n){t.action=n}function Mg(t){var n=nn(),s=Dt;if(s!==null)return jg(n,s,t);nn(),n=n.memoizedState,s=nn();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Vo(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Ye.updateQueue,n===null&&(n=Ju(),Ye.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Lg(){return nn().memoizedState}function nc(t,n,s,o){var f=si();Ye.flags|=t,f.memoizedState=Vo(1|n,{destroy:void 0},s,o===void 0?null:o)}function ic(t,n,s,o){var f=nn();o=o===void 0?null:o;var d=f.memoizedState.inst;Dt!==null&&o!==null&&Eh(o,Dt.memoizedState.deps)?f.memoizedState=Vo(n,d,s,o):(Ye.flags|=t,f.memoizedState=Vo(1|n,d,s,o))}function kg(t,n){nc(8390656,8,t,n)}function Dh(t,n){ic(2048,8,t,n)}function Gb(t){Ye.flags|=4;var n=Ye.updateQueue;if(n===null)n=Ju(),Ye.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Vg(t){var n=nn().memoizedState;return Gb({ref:n,nextImpl:t}),function(){if((Et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ug(t,n){return ic(4,2,t,n)}function qg(t,n){return ic(4,4,t,n)}function Bg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pg(t,n,s){s=s!=null?s.concat([t]):null,ic(4,4,Bg.bind(null,n,t),s)}function Ih(){}function zg(t,n){var s=nn();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Eh(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Hg(t,n){var s=nn();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Eh(n,o[1]))return o[0];if(o=t(),Br){Wn(!0);try{t()}finally{Wn(!1)}}return s.memoizedState=[o,n],o}function Oh(t,n,s){return s===void 0||(Za&1073741824)!==0&&(it&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Fy(),Ye.lanes|=t,Hs|=t,s)}function Fg(t,n,s,o){return Ci(s,n)?s:Mo.current!==null?(t=Oh(t,s,o),Ci(t,n)||(un=!0),t):(Za&42)===0||(Za&1073741824)!==0&&(it&261930)===0?(un=!0,t.memoizedState=s):(t=Fy(),Ye.lanes|=t,Hs|=t,n)}function Gg(t,n,s,o,f){var d=he.p;he.p=d!==0&&8>d?d:8;var T=P.T,A={};P.T=A,Lh(t,!1,n,s);try{var k=f(),X=P.S;if(X!==null&&X(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ie=Bb(k,o);ql(t,n,ie,Mi(t))}else ql(t,n,o,Mi(t))}catch(le){ql(t,n,{then:function(){},status:"rejected",reason:le},Mi())}finally{he.p=d,T!==null&&A.types!==null&&(T.types=A.types),P.T=T}}function Qb(){}function jh(t,n,s,o){if(t.tag!==5)throw Error(r(476));var f=Qg(t).queue;Gg(t,f,n,xe,s===null?Qb:function(){return Xg(t),s(o)})}function Qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:xe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xg(t){var n=Qg(t);n.next===null&&(n=t.alternate.memoizedState),ql(t,n.next.queue,{},Mi())}function Mh(){return In(nu)}function Yg(){return nn().memoizedState}function Kg(){return nn().memoizedState}function Xb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Mi();t=Vs(s);var o=Us(n,t,s);o!==null&&(_i(o,n,s),Ml(o,n,s)),n={cache:uh()},t.payload=n;return}n=n.return}}function Yb(t,n,s){var o=Mi();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ac(t)?Wg(n,s):(s=Zf(t,n,s,o),s!==null&&(_i(s,t,o),Zg(s,n,o)))}function $g(t,n,s){var o=Mi();ql(t,n,s,o)}function ql(t,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Wg(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var T=n.lastRenderedState,A=d(T,s);if(f.hasEagerState=!0,f.eagerState=A,Ci(A,T))return Uu(t,n,f,0),Lt===null&&Vu(),!1}catch{}if(s=Zf(t,n,f,o),s!==null)return _i(s,t,o),Zg(s,n,o),!0}return!1}function Lh(t,n,s,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(n)throw Error(r(479))}else n=Zf(t,s,o,2),n!==null&&_i(n,t,2)}function ac(t){var n=t.alternate;return t===Ye||n!==null&&n===Ye}function Wg(t,n){Lo=Wu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Zg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,ws(t,s)}}var Bl={readContext:In,use:ec,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};Bl.useEffectEvent=Wt;var Jg={readContext:In,use:ec,useCallback:function(t,n){return si().memoizedState=[t,n===void 0?null:n],t},useContext:In,useEffect:kg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,nc(4194308,4,Bg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return nc(4194308,4,t,n)},useInsertionEffect:function(t,n){nc(4,2,t,n)},useMemo:function(t,n){var s=si();n=n===void 0?null:n;var o=t();if(Br){Wn(!0);try{t()}finally{Wn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=si();if(s!==void 0){var f=s(n);if(Br){Wn(!0);try{s(n)}finally{Wn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Yb.bind(null,Ye,t),[o.memoizedState,t]},useRef:function(t){var n=si();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,s=$g.bind(null,Ye,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Ih,useDeferredValue:function(t,n){var s=si();return Oh(s,t,n)},useTransition:function(){var t=Ch(!1);return t=Gg.bind(null,Ye,t.queue,!0,!1),si().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Ye,f=si();if(lt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Lt===null)throw Error(r(349));(it&127)!==0||Eg(o,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,kg(bg.bind(null,o,d,t),[t]),o.flags|=2048,Vo(9,{destroy:void 0},Tg.bind(null,o,d,s,n),null),s},useId:function(){var t=si(),n=Lt.identifierPrefix;if(lt){var s=Na,o=Ra;s=(o&~(1<<32-Vt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Pb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mh,useFormState:Ig,useActionState:Ig,useOptimistic:function(t){var n=si();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Lh.bind(null,Ye,!0,s),s.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return si().memoizedState=Xb.bind(null,Ye)},useEffectEvent:function(t){var n=si(),s={impl:t};return n.memoizedState=s,function(){if((Et&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},kh={readContext:In,use:ec,useCallback:zg,useContext:In,useEffect:Dh,useImperativeHandle:Pg,useInsertionEffect:Ug,useLayoutEffect:qg,useMemo:Hg,useReducer:tc,useRef:Lg,useState:function(){return tc(Ja)},useDebugValue:Ih,useDeferredValue:function(t,n){var s=nn();return Fg(s,Dt.memoizedState,t,n)},useTransition:function(){var t=tc(Ja)[0],n=nn().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Mh,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var s=nn();return Ag(s,Dt,t,n)},useMemoCache:Ah,useCacheRefresh:Kg};kh.useEffectEvent=Vg;var ey={readContext:In,use:ec,useCallback:zg,useContext:In,useEffect:Dh,useImperativeHandle:Pg,useInsertionEffect:Ug,useLayoutEffect:qg,useMemo:Hg,useReducer:Nh,useRef:Lg,useState:function(){return Nh(Ja)},useDebugValue:Ih,useDeferredValue:function(t,n){var s=nn();return Dt===null?Oh(s,t,n):Fg(s,Dt.memoizedState,t,n)},useTransition:function(){var t=Nh(Ja)[0],n=nn().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Mh,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var s=nn();return Dt!==null?Ag(s,Dt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:Kg};ey.useEffectEvent=Vg;function Vh(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:x({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Uh={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Mi(),f=Vs(o);f.payload=n,s!=null&&(f.callback=s),n=Us(t,f,o),n!==null&&(_i(n,t,o),Ml(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Mi(),f=Vs(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Us(t,f,o),n!==null&&(_i(n,t,o),Ml(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Mi(),o=Vs(s);o.tag=2,n!=null&&(o.callback=n),n=Us(t,o,s),n!==null&&(_i(n,t,s),Ml(n,t,s))}};function ty(t,n,s,o,f,d,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,T):n.prototype&&n.prototype.isPureReactComponent?!Rl(s,o)||!Rl(f,d):!0}function ny(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function Pr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=x({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function iy(t){ku(t)}function ay(t){console.error(t)}function sy(t){ku(t)}function sc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qh(t,n,s){return s=Vs(s),s.tag=3,s.payload={element:null},s.callback=function(){sc(t,n)},s}function oy(t){return t=Vs(t),t.tag=3,t}function ly(t,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;t.payload=function(){return f(d)},t.callback=function(){ry(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){ry(n,s,o),typeof f!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function Kb(t,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&xo(n,s,f,!0),s=Di.current,s!==null){switch(s.tag){case 31:case 13:return Ki===null?yc():s.alternate===null&&Zt===0&&(Zt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Qu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),cd(t,o,f)),!1;case 22:return s.flags|=65536,o===Qu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),cd(t,o,f)),!1}throw Error(r(435,s.tag))}return cd(t,o,f),yc(),!1}if(lt)return n=Di.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==ah&&(t=Error(r(422),{cause:o}),xl(Gi(t,s)))):(o!==ah&&(n=Error(r(423),{cause:o}),xl(Gi(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Gi(o,s),f=qh(t.stateNode,o,f),ph(t,f),Zt!==4&&(Zt=2)),!1;var d=Error(r(520),{cause:o});if(d=Gi(d,s),Yl===null?Yl=[d]:Yl.push(d),Zt!==4&&(Zt=2),n===null)return!0;o=Gi(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=qh(s.stateNode,o,t),ph(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=oy(f),ly(f,t,s,o),ph(s,f),!1}s=s.return}while(s!==null);return!1}var Bh=Error(r(461)),un=!1;function On(t,n,s,o){n.child=t===null?hg(n,null,s,o):qr(n,t.child,s,o)}function uy(t,n,s,o,f){s=s.render;var d=n.ref;if("ref"in o){var T={};for(var A in o)A!=="ref"&&(T[A]=o[A])}else T=o;return Lr(n),o=Th(t,n,s,T,d,f),A=bh(),t!==null&&!un?(Sh(t,n,f),es(t,n,f)):(lt&&A&&nh(n),n.flags|=1,On(t,n,o,f),n.child)}function cy(t,n,s,o,f){if(t===null){var d=s.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,fy(t,n,d,o,f)):(t=Bu(s.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Yh(t,f)){var T=d.memoizedProps;if(s=s.compare,s=s!==null?s:Rl,s(T,o)&&t.ref===n.ref)return es(t,n,f)}return n.flags|=1,t=Ya(d,o),t.ref=n.ref,t.return=n,n.child=t}function fy(t,n,s,o,f){if(t!==null){var d=t.memoizedProps;if(Rl(d,o)&&t.ref===n.ref)if(un=!1,n.pendingProps=o=d,Yh(t,f))(t.flags&131072)!==0&&(un=!0);else return n.lanes=t.lanes,es(t,n,f)}return Ph(t,n,s,o,f)}function hy(t,n,s,o){var f=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,n.child=null;return dy(t,n,d,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(n,d!==null?d.cachePool:null),d!==null?pg(n,d):yh(),gg(n);else return o=n.lanes=536870912,dy(t,n,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(Fu(n,d.cachePool),pg(n,d),Bs(),n.memoizedState=null):(t!==null&&Fu(n,null),yh(),Bs());return On(t,n,f,s),n.child}function Pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,s,o,f){var d=fh();return d=d===null?null:{parent:on._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&Fu(n,null),yh(),gg(n),t!==null&&xo(t,n,o,!0),n.childLanes=f,null}function rc(t,n){return n=lc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,s){return qr(n,t.child,null,s),t=rc(n,n.pendingProps),t.flags|=2,Ii(n),n.memoizedState=null,t}function $b(t,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(lt){if(o.mode==="hidden")return t=rc(n,o),n.lanes=536870912,Pl(null,t);if(vh(n),(t=Ut)?(t=R_(t,Yi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ra,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},s=Wp(t),s.return=n,n.child=s,Dn=n,Ut=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return rc(n,o)}var d=t.memoizedState;if(d!==null){var T=d.dehydrated;if(vh(n),f)if(n.flags&256)n.flags&=-257,n=my(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(un||xo(t,n,s,!1),f=(s&t.childLanes)!==0,un||f){if(o=Lt,o!==null&&(T=sn(o,s),T!==0&&T!==d.retryLane))throw d.retryLane=T,Ir(t,T),_i(o,t,T),Bh;yc(),n=my(t,n,s)}else t=d.treeContext,Ut=$i(T.nextSibling),Dn=n,lt=!0,js=null,Yi=!1,t!==null&&eg(n,t),n=rc(n,o),n.flags|=4096;return n}return t=Ya(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function oc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Ph(t,n,s,o,f){return Lr(n),s=Th(t,n,s,o,void 0,f),o=bh(),t!==null&&!un?(Sh(t,n,f),es(t,n,f)):(lt&&o&&nh(n),n.flags|=1,On(t,n,s,f),n.child)}function py(t,n,s,o,f,d){return Lr(n),n.updateQueue=null,s=_g(n,o,s,f),yg(t),o=bh(),t!==null&&!un?(Sh(t,n,d),es(t,n,d)):(lt&&o&&nh(n),n.flags|=1,On(t,n,s,d),n.child)}function gy(t,n,s,o,f){if(Lr(n),n.stateNode===null){var d=Ao,T=s.contextType;typeof T=="object"&&T!==null&&(d=In(T)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},dh(n),T=s.contextType,d.context=typeof T=="object"&&T!==null?In(T):Ao,d.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Vh(n,s,T,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Uh.enqueueReplaceState(d,d.state,null),kl(n,o,d,f),Ll(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var A=n.memoizedProps,k=Pr(s,A);d.props=k;var X=d.context,ie=s.contextType;T=Ao,typeof ie=="object"&&ie!==null&&(T=In(ie));var le=s.getDerivedStateFromProps;ie=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,ie||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||X!==T)&&ny(n,d,o,T),ks=!1;var K=n.memoizedState;d.state=K,kl(n,o,d,f),Ll(),X=n.memoizedState,A||K!==X||ks?(typeof le=="function"&&(Vh(n,s,le,o),X=n.memoizedState),(k=ks||ty(n,s,k,o,K,X,T))?(ie||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=X),d.props=o,d.state=X,d.context=T,o=k):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,mh(t,n),T=n.memoizedProps,ie=Pr(s,T),d.props=ie,le=n.pendingProps,K=d.context,X=s.contextType,k=Ao,typeof X=="object"&&X!==null&&(k=In(X)),A=s.getDerivedStateFromProps,(X=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==le||K!==k)&&ny(n,d,o,k),ks=!1,K=n.memoizedState,d.state=K,kl(n,o,d,f),Ll();var ee=n.memoizedState;T!==le||K!==ee||ks||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof A=="function"&&(Vh(n,s,A,o),ee=n.memoizedState),(ie=ks||ty(n,s,ie,o,K,ee,k)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(X||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,ee,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,ee,k)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ee),d.props=o,d.state=ee,d.context=k,o=ie):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,oc(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=qr(n,t.child,null,f),n.child=qr(n,null,s,f)):On(t,n,s,f),n.memoizedState=d.state,t=n.child):t=es(t,n,f),t}function yy(t,n,s,o){return jr(),n.flags|=256,On(t,n,s,o),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(t){return{baseLanes:t,cachePool:rg()}}function Fh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=ji),t}function _y(t,n,s){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,T;if((T=d)||(T=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(lt){if(f?qs(n):Bs(),(t=Ut)?(t=R_(t,Yi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ra,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},s=Wp(t),s.return=n,n.child=s,Dn=n,Ut=null)):t=null,t===null)throw Ms(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var A=o.children;return o=o.fallback,f?(Bs(),f=n.mode,A=lc({mode:"hidden",children:A},f),o=Or(o,f,s,null),A.return=n,o.return=n,A.sibling=o,n.child=A,o=n.child,o.memoizedState=Hh(s),o.childLanes=Fh(t,T,s),n.memoizedState=zh,Pl(null,o)):(qs(n),Gh(n,A))}var k=t.memoizedState;if(k!==null&&(A=k.dehydrated,A!==null)){if(d)n.flags&256?(qs(n),n.flags&=-257,n=Qh(t,n,s)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),A=o.fallback,f=n.mode,o=lc({mode:"visible",children:o.children},f),A=Or(A,f,s,null),A.flags|=2,o.return=n,A.return=n,o.sibling=A,n.child=o,qr(n,t.child,null,s),o=n.child,o.memoizedState=Hh(s),o.childLanes=Fh(t,T,s),n.memoizedState=zh,n=Pl(null,o));else if(qs(n),Rd(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var X=T.dgst;T=X,o=Error(r(419)),o.stack="",o.digest=T,xl({value:o,source:null,stack:null}),n=Qh(t,n,s)}else if(un||xo(t,n,s,!1),T=(s&t.childLanes)!==0,un||T){if(T=Lt,T!==null&&(o=sn(T,s),o!==0&&o!==k.retryLane))throw k.retryLane=o,Ir(t,o),_i(T,t,o),Bh;Ad(A)||yc(),n=Qh(t,n,s)}else Ad(A)?(n.flags|=192,n.child=t.child,n=null):(t=k.treeContext,Ut=$i(A.nextSibling),Dn=n,lt=!0,js=null,Yi=!1,t!==null&&eg(n,t),n=Gh(n,o.children),n.flags|=4096);return n}return f?(Bs(),A=o.fallback,f=n.mode,k=t.child,X=k.sibling,o=Ya(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,X!==null?A=Ya(X,A):(A=Or(A,f,s,null),A.flags|=2),A.return=n,o.return=n,o.sibling=A,n.child=o,Pl(null,o),o=n.child,A=t.child.memoizedState,A===null?A=Hh(s):(f=A.cachePool,f!==null?(k=on._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=rg(),A={baseLanes:A.baseLanes|s,cachePool:f}),o.memoizedState=A,o.childLanes=Fh(t,T,s),n.memoizedState=zh,Pl(t.child,o)):(qs(n),s=t.child,t=s.sibling,s=Ya(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function Gh(t,n){return n=lc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lc(t,n){return t=xi(22,t,null,n),t.lanes=0,t}function Qh(t,n,s){return qr(n,t.child,null,s),t=Gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),oh(t.return,n,s)}function Xh(t,n,s,o,f,d){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:d}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=f,T.treeForkCount=d)}function Ey(t,n,s){var o=n.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var T=tn.current,A=(T&2)!==0;if(A?(T=T&1|2,n.flags|=128):T&=1,ye(tn,T),On(t,n,o,s),o=lt?Cl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,s,n);else if(t.tag===19)vy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&$u(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Xh(n,!1,f,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&$u(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Xh(n,!0,s,null,d,o);break;case"together":Xh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function es(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(xo(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ya(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ya(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function Wb(t,n,s){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),Ls(n,on,t.memoizedState.cache),jr();break;case 27:case 5:ma(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?_y(t,n,s):(qs(n),t=es(t,n,s),t!==null?t.sibling:null);qs(n);break;case 19:var f=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(xo(t,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return Ey(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ye(tn,tn.current),o)break;return null;case 22:return n.lanes=0,hy(t,n,s,n.pendingProps);case 24:Ls(n,on,t.memoizedState.cache)}return es(t,n,s)}function Ty(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)un=!0;else{if(!Yh(t,s)&&(n.flags&128)===0)return un=!1,Wb(t,n,s);un=(t.flags&131072)!==0}else un=!1,lt&&(n.flags&1048576)!==0&&Jp(n,Cl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Vr(n.elementType),n.type=t,typeof t=="function")Jf(t)?(o=Pr(t,o),n.tag=1,n=gy(null,n,t,o,s)):(n.tag=0,n=Ph(null,n,t,o,s));else{if(t!=null){var f=t.$$typeof;if(f===me){n.tag=11,n=uy(null,n,t,o,s);break e}else if(f===M){n.tag=14,n=cy(null,n,t,o,s);break e}}throw n=_e(t)||t,Error(r(306,n,""))}}return n;case 0:return Ph(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Pr(o,n.pendingProps),gy(t,n,o,f,s);case 3:e:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,mh(t,n),kl(n,o,null,s);var T=n.memoizedState;if(o=T.cache,Ls(n,on,o),o!==d.cache&&lh(n,[on],s,!0),Ll(),o=T.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=yy(t,n,o,s);break e}else if(o!==f){f=Gi(Error(r(424)),n),xl(f),n=yy(t,n,o,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ut=$i(t.firstChild),Dn=n,lt=!0,js=null,Yi=!0,s=hg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(jr(),o===f){n=es(t,n,s);break e}On(t,n,o,s)}n=n.child}return n;case 26:return oc(t,n),t===null?(s=O_(n.type,null,n.pendingProps,null))?n.memoizedState=s:lt||(s=n.type,t=n.pendingProps,o=wc(Xe.current).createElement(s),o[tt]=n,o[Jt]=t,jn(o,s,t),Qt(o),n.stateNode=o):n.memoizedState=O_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ma(n),t===null&&lt&&(o=n.stateNode=x_(n.type,n.pendingProps,Xe.current),Dn=n,Yi=!0,f=Ut,Ys(n.type)?(Nd=f,Ut=$i(o.firstChild)):Ut=f),On(t,n,n.pendingProps.children,s),oc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&lt&&((f=o=Ut)&&(o=N1(o,n.type,n.pendingProps,Yi),o!==null?(n.stateNode=o,Dn=n,Ut=$i(o.firstChild),Yi=!1,f=!0):f=!1),f||Ms(n)),ma(n),f=n.type,d=n.pendingProps,T=t!==null?t.memoizedProps:null,o=d.children,bd(f,d)?o=null:T!==null&&bd(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Th(t,n,zb,null,null,s),nu._currentValue=f),oc(t,n),On(t,n,o,s),n.child;case 6:return t===null&&lt&&((t=s=Ut)&&(s=C1(s,n.pendingProps,Yi),s!==null?(n.stateNode=s,Dn=n,Ut=null,t=!0):t=!1),t||Ms(n)),null;case 13:return _y(t,n,s);case 4:return Kt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=qr(n,null,o,s):On(t,n,o,s),n.child;case 11:return uy(t,n,n.type,n.pendingProps,s);case 7:return On(t,n,n.pendingProps,s),n.child;case 8:return On(t,n,n.pendingProps.children,s),n.child;case 12:return On(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),On(t,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Lr(n),f=In(f),o=o(f),n.flags|=1,On(t,n,o,s),n.child;case 14:return cy(t,n,n.type,n.pendingProps,s);case 15:return fy(t,n,n.type,n.pendingProps,s);case 19:return Ey(t,n,s);case 31:return $b(t,n,s);case 22:return hy(t,n,s,n.pendingProps);case 24:return Lr(n),o=In(on),t===null?(f=fh(),f===null&&(f=Lt,d=uh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:o,cache:f},dh(n),Ls(n,on,f)):((t.lanes&s)!==0&&(mh(t,n),kl(n,null,null,s),Ll()),f=t.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ls(n,on,o)):(o=d.cache,Ls(n,on,o),o!==f.cache&&lh(n,[on],s,!0))),On(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ts(t){t.flags|=4}function Kh(t,n,s,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw Ur=Qu,hh}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V_(n))if(Yy())t.flags|=8192;else throw Ur=Qu,hh}function uc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Rn():536870912,t.lanes|=n,Po|=n)}function zl(t,n){if(!lt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function qt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Zb(t,n,s){var o=n.pendingProps;switch(ih(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return qt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wa(on),jt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Co(n)?ts(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sh())),qt(n),null;case 26:var f=n.type,d=n.memoizedState;return t===null?(ts(n),d!==null?(qt(n),by(n,d)):(qt(n),Kh(n,f,null,o,s))):d?d!==t.memoizedState?(ts(n),qt(n),by(n,d)):(qt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ts(n),qt(n),Kh(n,f,t,o,s)),null;case 27:if(Ts(n),s=Xe.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return qt(n),null}t=Ee.current,Co(n)?tg(n):(t=x_(f,o,s),n.stateNode=t,ts(n))}return qt(n),null;case 5:if(Ts(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return qt(n),null}if(d=Ee.current,Co(n))tg(n);else{var T=wc(Xe.current);switch(d){case 1:d=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=T.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?T.createElement(f,{is:o.is}):T.createElement(f)}}d[tt]=n,d[Jt]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)d.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=d;e:switch(jn(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ts(n)}}return qt(n),Kh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Xe.current,Co(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,f=Dn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[tt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||__(t.nodeValue,s)),t||Ms(n,!0)}else t=wc(t).createTextNode(o),t[tt]=n,n.stateNode=t}return qt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=Co(n),s!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[tt]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),t=!1}else s=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Ii(n),n):(Ii(n),null);if((n.flags&128)!==0)throw Error(r(558))}return qt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Co(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[tt]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),f=!1}else f=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ii(n),n):(Ii(n),null)}return Ii(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),uc(n,n.updateQueue),qt(n),null);case 4:return jt(),t===null&&yd(n.stateNode.containerInfo),qt(n),null;case 10:return Wa(n.type),qt(n),null;case 19:if(se(tn),o=n.memoizedState,o===null)return qt(n),null;if(f=(n.flags&128)!==0,d=o.rendering,d===null)if(f)zl(o,!1);else{if(Zt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=$u(t),d!==null){for(n.flags|=128,zl(o,!1),t=d.updateQueue,n.updateQueue=t,uc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)$p(s,t),s=s.sibling;return ye(tn,tn.current&1|2),lt&&Ka(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&An()>mc&&(n.flags|=128,f=!0,zl(o,!1),n.lanes=4194304)}else{if(!f)if(t=$u(d),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,uc(n,t),zl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!lt)return qt(n),null}else 2*An()-o.renderingStartTime>mc&&s!==536870912&&(n.flags|=128,f=!0,zl(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=An(),t.sibling=null,s=tn.current,ye(tn,f?s&1|2:s&1),lt&&Ka(n,o.treeForkCount),t):(qt(n),null);case 22:case 23:return Ii(n),_h(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),s=n.updateQueue,s!==null&&uc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&se(kr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Wa(on),qt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Jb(t,n){switch(ih(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wa(on),jt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(Ii(n),n.alternate===null)throw Error(r(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ii(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return se(tn),null;case 4:return jt(),null;case 10:return Wa(n.type),null;case 22:case 23:return Ii(n),_h(),t!==null&&se(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wa(on),null;case 25:return null;default:return null}}function Sy(t,n){switch(ih(n),n.tag){case 3:Wa(on),jt();break;case 26:case 27:case 5:Ts(n);break;case 4:jt();break;case 31:n.memoizedState!==null&&Ii(n);break;case 13:Ii(n);break;case 19:se(tn);break;case 10:Wa(n.type);break;case 22:case 23:Ii(n),_h(),t!==null&&se(kr);break;case 24:Wa(on)}}function Hl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){o=void 0;var d=s.create,T=s.inst;o=d(),T.destroy=o}s=s.next}while(s!==f)}}catch(A){Nt(n,n.return,A)}}function Ps(t,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&t)===t){var T=o.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=n;var k=s,X=A;try{X()}catch(ie){Nt(f,k,ie)}}}o=o.next}while(o!==d)}}catch(ie){Nt(n,n.return,ie)}}function wy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{mg(n,s)}catch(o){Nt(t,t.return,o)}}}function Ay(t,n,s){s.props=Pr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Nt(t,n,o)}}function Fl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(f){Nt(t,n,f)}}function Ca(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Nt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Nt(t,n,f)}else s.current=null}function Ry(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Nt(t,t.return,f)}}function $h(t,n,s){try{var o=t.stateNode;T1(o,t.type,s,n),o[Jt]=n}catch(f){Nt(t,t.return,f)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Wh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=xn));else if(o!==4&&(o===27&&Ys(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Zh(t,n,s),t=t.sibling;t!==null;)Zh(t,n,s),t=t.sibling}function cc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ys(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(cc(t,n,s),t=t.sibling;t!==null;)cc(t,n,s),t=t.sibling}function Cy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);jn(n,o,s),n[tt]=t,n[Jt]=s}catch(d){Nt(t,t.return,d)}}var ns=!1,cn=!1,Jh=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function e1(t,n){if(t=t.containerInfo,Ed=Ic,t=Pp(t),Qf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var T=0,A=-1,k=-1,X=0,ie=0,le=t,K=null;t:for(;;){for(var ee;le!==s||f!==0&&le.nodeType!==3||(A=T+f),le!==d||o!==0&&le.nodeType!==3||(k=T+o),le.nodeType===3&&(T+=le.nodeValue.length),(ee=le.firstChild)!==null;)K=le,le=ee;for(;;){if(le===t)break t;if(K===s&&++X===f&&(A=T),K===d&&++ie===o&&(k=T),(ee=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=ee}s=A===-1||k===-1?null:{start:A,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Td={focusedElem:t,selectionRange:s},Ic=!1,Sn=n;Sn!==null;)if(n=Sn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Sn=t;else for(;Sn!==null;){switch(n=Sn,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Ae=Pr(s.type,f);t=o.getSnapshotBeforeUpdate(Ae,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ke){Nt(s,s.return,ke)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)wd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Sn=t;break}Sn=n.return}}function Dy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:as(t,s),o&4&&Hl(5,s);break;case 1:if(as(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){Nt(s,s.return,T)}else{var f=Pr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Nt(s,s.return,T)}}o&64&&wy(s),o&512&&Fl(s,s.return);break;case 3:if(as(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{mg(t,n)}catch(T){Nt(s,s.return,T)}}break;case 27:n===null&&o&4&&Cy(s);case 26:case 5:as(t,s),n===null&&o&4&&Ry(s),o&512&&Fl(s,s.return);break;case 12:as(t,s);break;case 31:as(t,s),o&4&&jy(t,s);break;case 13:as(t,s),o&4&&My(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=u1.bind(null,s),x1(t,s))));break;case 22:if(o=s.memoizedState!==null||ns,!o){n=n!==null&&n.memoizedState!==null||cn,f=ns;var d=cn;ns=o,(cn=n)&&!d?ss(t,s,(s.subtreeFlags&8772)!==0):as(t,s),ns=f,cn=d}break;case 30:break;default:as(t,s)}}function Iy(t){var n=t.alternate;n!==null&&(t.alternate=null,Iy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Rs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,mi=!1;function is(t,n,s){for(s=s.child;s!==null;)Oy(t,n,s),s=s.sibling}function Oy(t,n,s){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Ti,s)}catch{}switch(s.tag){case 26:cn||Ca(s,n),is(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:cn||Ca(s,n);var o=Ht,f=mi;Ys(s.type)&&(Ht=s.stateNode,mi=!1),is(t,n,s),Jl(s.stateNode),Ht=o,mi=f;break;case 5:cn||Ca(s,n);case 6:if(o=Ht,f=mi,Ht=null,is(t,n,s),Ht=o,mi=f,Ht!==null)if(mi)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(s.stateNode)}catch(d){Nt(s,n,d)}else try{Ht.removeChild(s.stateNode)}catch(d){Nt(s,n,d)}break;case 18:Ht!==null&&(mi?(t=Ht,w_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ko(t)):w_(Ht,s.stateNode));break;case 4:o=Ht,f=mi,Ht=s.stateNode.containerInfo,mi=!0,is(t,n,s),Ht=o,mi=f;break;case 0:case 11:case 14:case 15:Ps(2,s,n),cn||Ps(4,s,n),is(t,n,s);break;case 1:cn||(Ca(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ay(s,n,o)),is(t,n,s);break;case 21:is(t,n,s);break;case 22:cn=(o=cn)||s.memoizedState!==null,is(t,n,s),cn=o;break;default:is(t,n,s)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ko(t)}catch(s){Nt(n,n.return,s)}}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ko(t)}catch(s){Nt(n,n.return,s)}}function t1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(r(435,t.tag))}}function fc(t,n){var s=t1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=c1.bind(null,t,o);o.then(f,f)}})}function pi(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=t,T=n,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Ys(A.type)){Ht=A.stateNode,mi=!1;break e}break;case 5:Ht=A.stateNode,mi=!1;break e;case 3:case 4:Ht=A.stateNode.containerInfo,mi=!0;break e}A=A.return}if(Ht===null)throw Error(r(160));Oy(d,T,f),Ht=null,mi=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ly(n,t),n=n.sibling}var ua=null;function Ly(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pi(n,t),gi(t),o&4&&(Ps(3,t,t.return),Hl(3,t),Ps(5,t,t.return));break;case 1:pi(n,t),gi(t),o&512&&(cn||s===null||Ca(s,s.return)),o&64&&ns&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=ua;if(pi(n,t),gi(t),o&512&&(cn||s===null||Ca(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Jn]||d[tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),jn(d,o,s),d[tt]=t,Qt(d),o=d;break e;case"link":var T=L_("link","href",f).get(o+(s.href||""));if(T){for(var A=0;A<T.length;A++)if(d=T[A],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(A,1);break t}}d=f.createElement(o),jn(d,o,s),f.head.appendChild(d);break;case"meta":if(T=L_("meta","content",f).get(o+(s.content||""))){for(A=0;A<T.length;A++)if(d=T[A],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(A,1);break t}}d=f.createElement(o),jn(d,o,s),f.head.appendChild(d);break;default:throw Error(r(468,o))}d[tt]=t,Qt(d),o=d}t.stateNode=o}else k_(f,t.type,t.stateNode);else t.stateNode=M_(f,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?k_(f,t.type,t.stateNode):M_(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$h(t,t.memoizedProps,s.memoizedProps)}break;case 27:pi(n,t),gi(t),o&512&&(cn||s===null||Ca(s,s.return)),s!==null&&o&4&&$h(t,t.memoizedProps,s.memoizedProps);break;case 5:if(pi(n,t),gi(t),o&512&&(cn||s===null||Ca(s,s.return)),t.flags&32){f=t.stateNode;try{_n(f,"")}catch(Ae){Nt(t,t.return,Ae)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,$h(t,f,s!==null?s.memoizedProps:f)),o&1024&&(Jh=!0);break;case 6:if(pi(n,t),gi(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(Ae){Nt(t,t.return,Ae)}}break;case 3:if(Nc=null,f=ua,ua=Ac(n.containerInfo),pi(n,t),ua=f,gi(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ko(n.containerInfo)}catch(Ae){Nt(t,t.return,Ae)}Jh&&(Jh=!1,ky(t));break;case 4:o=ua,ua=Ac(t.stateNode.containerInfo),pi(n,t),gi(t),ua=o;break;case 12:pi(n,t),gi(t);break;case 31:pi(n,t),gi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 13:pi(n,t),gi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(dc=An()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 22:f=t.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,X=ns,ie=cn;if(ns=X||f,cn=ie||k,pi(n,t),cn=ie,ns=X,gi(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||k||ns||cn||zr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){k=s=n;try{if(d=k.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=k.stateNode;var le=k.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Ae){Nt(k,k.return,Ae)}}}else if(n.tag===6){if(s===null){k=n;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(Ae){Nt(k,k.return,Ae)}}}else if(n.tag===18){if(s===null){k=n;try{var ee=k.stateNode;f?A_(ee,!0):A_(k.stateNode,!1)}catch(Ae){Nt(k,k.return,Ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,fc(t,s))));break;case 19:pi(n,t),gi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 30:break;case 21:break;default:pi(n,t),gi(t)}}function gi(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Ny(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=Wh(t);cc(t,d,f);break;case 5:var T=s.stateNode;s.flags&32&&(_n(T,""),s.flags&=-33);var A=Wh(t);cc(t,A,T);break;case 3:case 4:var k=s.stateNode.containerInfo,X=Wh(t);Zh(t,X,k);break;default:throw Error(r(161))}}catch(ie){Nt(t,t.return,ie)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function as(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(t,n.alternate,n),n=n.sibling}function zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),zr(n);break;case 1:Ca(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ay(n,n.return,s),zr(n);break;case 27:Jl(n.stateNode);case 26:case 5:Ca(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}t=t.sibling}}function ss(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,d=n,T=d.flags;switch(d.tag){case 0:case 11:case 15:ss(f,d,s),Hl(4,d);break;case 1:if(ss(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){Nt(o,o.return,X)}if(o=d,f=o.updateQueue,f!==null){var A=o.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)dg(k[f],A)}catch(X){Nt(o,o.return,X)}}s&&T&64&&wy(d),Fl(d,d.return);break;case 27:Cy(d);case 26:case 5:ss(f,d,s),s&&o===null&&T&4&&Ry(d),Fl(d,d.return);break;case 12:ss(f,d,s);break;case 31:ss(f,d,s),s&&T&4&&jy(f,d);break;case 13:ss(f,d,s),s&&T&4&&My(f,d);break;case 22:d.memoizedState===null&&ss(f,d,s),Fl(d,d.return);break;case 30:break;default:ss(f,d,s)}n=n.sibling}}function ed(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Dl(s))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t))}function ca(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(t,n,s,o),n=n.sibling}function Vy(t,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ca(t,n,s,o),f&2048&&Hl(9,n);break;case 1:ca(t,n,s,o);break;case 3:ca(t,n,s,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t)));break;case 12:if(f&2048){ca(t,n,s,o),t=n.stateNode;try{var d=n.memoizedProps,T=d.id,A=d.onPostCommit;typeof A=="function"&&A(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Nt(n,n.return,k)}}else ca(t,n,s,o);break;case 31:ca(t,n,s,o);break;case 13:ca(t,n,s,o);break;case 23:break;case 22:d=n.stateNode,T=n.alternate,n.memoizedState!==null?d._visibility&2?ca(t,n,s,o):Gl(t,n):d._visibility&2?ca(t,n,s,o):(d._visibility|=2,Uo(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&ed(T,n);break;case 24:ca(t,n,s,o),f&2048&&td(n.alternate,n);break;default:ca(t,n,s,o)}}function Uo(t,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,T=n,A=s,k=o,X=T.flags;switch(T.tag){case 0:case 11:case 15:Uo(d,T,A,k,f),Hl(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?Uo(d,T,A,k,f):Gl(d,T):(ie._visibility|=2,Uo(d,T,A,k,f)),f&&X&2048&&ed(T.alternate,T);break;case 24:Uo(d,T,A,k,f),f&&X&2048&&td(T.alternate,T);break;default:Uo(d,T,A,k,f)}n=n.sibling}}function Gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,f=o.flags;switch(o.tag){case 22:Gl(s,o),f&2048&&ed(o.alternate,o);break;case 24:Gl(s,o),f&2048&&td(o.alternate,o);break;default:Gl(s,o)}n=n.sibling}}var Ql=8192;function qo(t,n,s){if(t.subtreeFlags&Ql)for(t=t.child;t!==null;)Uy(t,n,s),t=t.sibling}function Uy(t,n,s){switch(t.tag){case 26:qo(t,n,s),t.flags&Ql&&t.memoizedState!==null&&P1(s,ua,t.memoizedState,t.memoizedProps);break;case 5:qo(t,n,s);break;case 3:case 4:var o=ua;ua=Ac(t.stateNode.containerInfo),qo(t,n,s),ua=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ql,Ql=16777216,qo(t,n,s),Ql=o):qo(t,n,s));break;default:qo(t,n,s)}}function qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Sn=o,Py(o,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):Xl(t);break;default:Xl(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Sn=o,Py(o,t)}qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),hc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Py(t,n){for(;Sn!==null;){var s=Sn;switch(s.tag){case 0:case 11:case 15:Ps(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Dl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Sn=o;else e:for(s=t;Sn!==null;){o=Sn;var f=o.sibling,d=o.return;if(Iy(o),o===s){Sn=null;break e}if(f!==null){f.return=d,Sn=f;break e}Sn=d}}}var n1={getCacheForType:function(t){var n=In(on),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return In(on).controller.signal}},i1=typeof WeakMap=="function"?WeakMap:Map,Et=0,Lt=null,Ze=null,it=0,Rt=0,Oi=null,zs=!1,Bo=!1,nd=!1,rs=0,Zt=0,Hs=0,Hr=0,id=0,ji=0,Po=0,Yl=null,yi=null,ad=!1,dc=0,zy=0,mc=1/0,pc=null,Fs=null,pn=0,Gs=null,zo=null,os=0,sd=0,rd=null,Hy=null,Kl=0,od=null;function Mi(){return(Et&2)!==0&&it!==0?it&-it:P.T!==null?dd():_r()}function Fy(){if(ji===0)if((it&536870912)===0||lt){var t=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),ji=t}else ji=536870912;return t=Di.current,t!==null&&(t.flags|=32),ji}function _i(t,n,s){(t===Lt&&(Rt===2||Rt===9)||t.cancelPendingCommit!==null)&&(Ho(t,0),Qs(t,it,ji,!1)),aa(t,s),((Et&2)===0||t!==Lt)&&(t===Lt&&((Et&2)===0&&(Hr|=s),Zt===4&&Qs(t,it,ji,!1)),xa(t))}function Gy(t,n,s){if((Et&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||wi(t,n),f=o?r1(t,n):ud(t,n,!0),d=o;do{if(f===0){Bo&&!o&&Qs(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!a1(s)){f=ud(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var A=t;f=Yl;var k=A.current.memoizedState.isDehydrated;if(k&&(Ho(A,T).flags|=256),T=ud(A,T,!1),T!==2){if(nd&&!k){A.errorRecoveryDisabledLanes|=d,Hr|=d,f=4;break e}d=yi,yi=f,d!==null&&(yi===null?yi=d:yi.push.apply(yi,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){Ho(t,0),Qs(t,n,0,!0);break}e:{switch(o=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,ji,!zs);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(f=dc+300-An(),10<f)){if(Qs(o,n,ji,!zs),de(o,0,!0)!==0)break e;os=n,o.timeoutHandle=b_(Qy.bind(null,o,s,yi,pc,ad,n,ji,Hr,Po,zs,d,"Throttled",-0,0),f);break e}Qy(o,s,yi,pc,ad,n,ji,Hr,Po,zs,d,null,-0,0)}}break}while(!0);xa(t)}function Qy(t,n,s,o,f,d,T,A,k,X,ie,le,K,ee){if(t.timeoutHandle=-1,le=n.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},Uy(n,d,le);var Ae=(d&62914560)===d?dc-An():(d&4194048)===d?zy-An():0;if(Ae=z1(le,Ae),Ae!==null){os=d,t.cancelPendingCommit=Ae(e_.bind(null,t,n,d,s,o,f,T,A,k,ie,le,null,K,ee)),Qs(t,d,T,!X);return}}e_(t,n,d,s,o,f,T,A,k)}function a1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!Ci(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,s,o){n&=~id,n&=~Hr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var d=31-Vt(f),T=1<<d;o[d]=-1,f&=~T}s!==0&&Zn(t,s,n)}function gc(){return(Et&6)===0?($l(0),!1):!0}function ld(){if(Ze!==null){if(Rt===0)var t=Ze.return;else t=Ze,$a=Mr=null,wh(t),jo=null,Ol=0,t=Ze;for(;t!==null;)Sy(t.alternate,t),t=t.return;Ze=null}}function Ho(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,w1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),os=0,ld(),Lt=t,Ze=s=Ya(t.current,null),it=n,Rt=0,Oi=null,zs=!1,Bo=wi(t,n),nd=!1,Po=ji=id=Hr=Hs=Zt=0,yi=Yl=null,ad=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Vt(o),d=1<<f;n|=t[f],o&=~d}return rs=n,Vu(),s}function Xy(t,n){Ye=null,P.H=Bl,n===Oo||n===Gu?(n=ug(),Rt=3):n===hh?(n=ug(),Rt=4):Rt=n===Bh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Oi=n,Ze===null&&(Zt=1,sc(t,Gi(n,t.current)))}function Yy(){var t=Di.current;return t===null?!0:(it&4194048)===it?Ki===null:(it&62914560)===it||(it&536870912)!==0?t===Ki:!1}function Ky(){var t=P.H;return P.H=Bl,t===null?Bl:t}function $y(){var t=P.A;return P.A=n1,t}function yc(){Zt=4,zs||(it&4194048)!==it&&Di.current!==null||(Bo=!0),(Hs&134217727)===0&&(Hr&134217727)===0||Lt===null||Qs(Lt,it,ji,!1)}function ud(t,n,s){var o=Et;Et|=2;var f=Ky(),d=$y();(Lt!==t||it!==n)&&(pc=null,Ho(t,n)),n=!1;var T=Zt;e:do try{if(Rt!==0&&Ze!==null){var A=Ze,k=Oi;switch(Rt){case 8:ld(),T=6;break e;case 3:case 2:case 9:case 6:Di.current===null&&(n=!0);var X=Rt;if(Rt=0,Oi=null,Fo(t,A,k,X),s&&Bo){T=0;break e}break;default:X=Rt,Rt=0,Oi=null,Fo(t,A,k,X)}}s1(),T=Zt;break}catch(ie){Xy(t,ie)}while(!0);return n&&t.shellSuspendCounter++,$a=Mr=null,Et=o,P.H=f,P.A=d,Ze===null&&(Lt=null,it=0,Vu()),T}function s1(){for(;Ze!==null;)Wy(Ze)}function r1(t,n){var s=Et;Et|=2;var o=Ky(),f=$y();Lt!==t||it!==n?(pc=null,mc=An()+500,Ho(t,n)):Bo=wi(t,n);e:do try{if(Rt!==0&&Ze!==null){n=Ze;var d=Oi;t:switch(Rt){case 1:Rt=0,Oi=null,Fo(t,n,d,1);break;case 2:case 9:if(og(d)){Rt=0,Oi=null,Zy(n);break}n=function(){Rt!==2&&Rt!==9||Lt!==t||(Rt=7),xa(t)},d.then(n,n);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:og(d)?(Rt=0,Oi=null,Zy(n)):(Rt=0,Oi=null,Fo(t,n,d,7));break;case 5:var T=null;switch(Ze.tag){case 26:T=Ze.memoizedState;case 5:case 27:var A=Ze;if(T?V_(T):A.stateNode.complete){Rt=0,Oi=null;var k=A.sibling;if(k!==null)Ze=k;else{var X=A.return;X!==null?(Ze=X,_c(X)):Ze=null}break t}}Rt=0,Oi=null,Fo(t,n,d,5);break;case 6:Rt=0,Oi=null,Fo(t,n,d,6);break;case 8:ld(),Zt=6;break e;default:throw Error(r(462))}}o1();break}catch(ie){Xy(t,ie)}while(!0);return $a=Mr=null,P.H=o,P.A=f,Et=s,Ze!==null?0:(Lt=null,it=0,Vu(),Zt)}function o1(){for(;Ze!==null&&!bl();)Wy(Ze)}function Wy(t){var n=Ty(t.alternate,t,rs);t.memoizedProps=t.pendingProps,n===null?_c(t):Ze=n}function Zy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=py(s,n,n.pendingProps,n.type,void 0,it);break;case 11:n=py(s,n,n.pendingProps,n.type.render,n.ref,it);break;case 5:wh(n);default:Sy(s,n),n=Ze=$p(n,rs),n=Ty(s,n,rs)}t.memoizedProps=t.pendingProps,n===null?_c(t):Ze=n}function Fo(t,n,s,o){$a=Mr=null,wh(n),jo=null,Ol=0;var f=n.return;try{if(Kb(t,f,n,s,it)){Zt=1,sc(t,Gi(s,t.current)),Ze=null;return}}catch(d){if(f!==null)throw Ze=f,d;Zt=1,sc(t,Gi(s,t.current)),Ze=null;return}n.flags&32768?(lt||o===1?t=!0:Bo||(it&536870912)!==0?t=!1:(zs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Di.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(n,t)):_c(n)}function _c(t){var n=t;do{if((n.flags&32768)!==0){Jy(n,zs);return}t=n.return;var s=Zb(n.alternate,n,rs);if(s!==null){Ze=s;return}if(n=n.sibling,n!==null){Ze=n;return}Ze=n=t}while(n!==null);Zt===0&&(Zt=5)}function Jy(t,n){do{var s=Jb(t.alternate,t);if(s!==null){s.flags&=32767,Ze=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ze=t;return}Ze=t=s}while(t!==null);Zt=6,Ze=null}function e_(t,n,s,o,f,d,T,A,k){t.cancelPendingCommit=null;do vc();while(pn!==0);if((Et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Wf,yr(t,s,d,T,A,k),t===Lt&&(Ze=Lt=null,it=0),zo=n,Gs=t,os=s,sd=d,rd=f,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,f1(ia,function(){return s_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,f=he.p,he.p=2,T=Et,Et|=4;try{e1(t,n,s)}finally{Et=T,he.p=f,P.T=o}}pn=1,t_(),n_(),i_()}}function t_(){if(pn===1){pn=0;var t=Gs,n=zo,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var o=he.p;he.p=2;var f=Et;Et|=4;try{Ly(n,t);var d=Td,T=Pp(t.containerInfo),A=d.focusedElem,k=d.selectionRange;if(T!==A&&A&&A.ownerDocument&&Bp(A.ownerDocument.documentElement,A)){if(k!==null&&Qf(A)){var X=k.start,ie=k.end;if(ie===void 0&&(ie=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ie,A.value.length);else{var le=A.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var ee=K.getSelection(),Ae=A.textContent.length,ke=Math.min(k.start,Ae),Ot=k.end===void 0?ke:Math.min(k.end,Ae);!ee.extend&&ke>Ot&&(T=Ot,Ot=ke,ke=T);var z=qp(A,ke),B=qp(A,Ot);if(z&&B&&(ee.rangeCount!==1||ee.anchorNode!==z.node||ee.anchorOffset!==z.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var Q=le.createRange();Q.setStart(z.node,z.offset),ee.removeAllRanges(),ke>Ot?(ee.addRange(Q),ee.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),ee.addRange(Q))}}}}for(le=[],ee=A;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var re=le[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ic=!!Ed,Td=Ed=null}finally{Et=f,he.p=o,P.T=s}}t.current=n,pn=2}}function n_(){if(pn===2){pn=0;var t=Gs,n=zo,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var o=he.p;he.p=2;var f=Et;Et|=4;try{Dy(t,n.alternate,n)}finally{Et=f,he.p=o,P.T=s}}pn=3}}function i_(){if(pn===4||pn===3){pn=0,mr();var t=Gs,n=zo,s=os,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pn=5:(pn=0,zo=Gs=null,a_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fs=null),Bn(s),n=n.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=P.T,f=he.p,he.p=2,P.T=null;try{for(var d=t.onRecoverableError,T=0;T<o.length;T++){var A=o[T];d(A.value,{componentStack:A.stack})}}finally{P.T=n,he.p=f}}(os&3)!==0&&vc(),xa(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===od?Kl++:(Kl=0,od=t):Kl=0,$l(0)}}function a_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Dl(n)))}function vc(){return t_(),n_(),i_(),s_()}function s_(){if(pn!==5)return!1;var t=Gs,n=sd;sd=0;var s=Bn(os),o=P.T,f=he.p;try{he.p=32>s?32:s,P.T=null,s=rd,rd=null;var d=Gs,T=os;if(pn=0,zo=Gs=null,os=0,(Et&6)!==0)throw Error(r(331));var A=Et;if(Et|=4,By(d.current),Vy(d,d.current,T,s),Et=A,$l(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Ti,d)}catch{}return!0}finally{he.p=f,P.T=o,a_(t,n)}}function r_(t,n,s){n=Gi(s,n),n=qh(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(aa(t,2),xa(t))}function Nt(t,n,s){if(t.tag===3)r_(t,t,s);else for(;n!==null;){if(n.tag===3){r_(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=Gi(s,t),s=oy(2),o=Us(n,s,2),o!==null&&(ly(s,o,n,t),aa(o,2),xa(o));break}}n=n.return}}function cd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new i1;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(nd=!0,f.add(s),t=l1.bind(null,t,n,s),n.then(t,t))}function l1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Lt===t&&(it&s)===s&&(Zt===4||Zt===3&&(it&62914560)===it&&300>An()-dc?(Et&2)===0&&Ho(t,0):id|=s,Po===it&&(Po=0)),xa(t)}function o_(t,n){n===0&&(n=Rn()),t=Ir(t,n),t!==null&&(aa(t,n),xa(t))}function u1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),o_(t,s)}function c1(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),o_(t,s)}function f1(t,n){return $t(t,n)}var Ec=null,Go=null,fd=!1,Tc=!1,hd=!1,Xs=0;function xa(t){t!==Go&&t.next===null&&(Go===null?Ec=Go=t:Go=Go.next=t),Tc=!0,fd||(fd=!0,d1())}function $l(t,n){if(!hd&&Tc){hd=!0;do for(var s=!1,o=Ec;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var T=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-Vt(42|t)+1)-1,d&=f&~(T&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,f_(o,d))}else d=it,d=de(o,o===Lt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||wi(o,d)||(s=!0,f_(o,d));o=o.next}while(s);hd=!1}}function h1(){l_()}function l_(){Tc=fd=!1;var t=0;Xs!==0&&S1()&&(t=Xs);for(var n=An(),s=null,o=Ec;o!==null;){var f=o.next,d=u_(o,n);d===0?(o.next=null,s===null?Ec=f:s.next=f,f===null&&(Go=s)):(s=o,(t!==0||(d&3)!==0)&&(Tc=!0)),o=f}pn!==0&&pn!==5||$l(t),Xs!==0&&(Xs=0)}function u_(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var T=31-Vt(d),A=1<<T,k=f[T];k===-1?((A&s)===0||(A&o)!==0)&&(f[T]=Sl(A,n)):k<=n&&(t.expiredLanes|=A),d&=~A}if(n=Lt,s=it,s=de(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Rt===2||Rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ei(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||wi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Ei(o),Bn(s)){case 2:case 8:s=$n;break;case 32:s=ia;break;case 268435456:s=pr;break;default:s=ia}return o=c_.bind(null,t),s=$t(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Ei(o),t.callbackPriority=2,t.callbackNode=null,2}function c_(t,n){if(pn!==0&&pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(vc()&&t.callbackNode!==s)return null;var o=it;return o=de(t,t===Lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,n),u_(t,An()),t.callbackNode!=null&&t.callbackNode===s?c_.bind(null,t):null)}function f_(t,n){if(vc())return null;Gy(t,n,!0)}function d1(){A1(function(){(Et&6)!==0?$t(na,h1):l_()})}function dd(){if(Xs===0){var t=Do;t===0&&(t=mn,mn<<=1,(mn&261888)===0&&(mn=256)),Xs=t}return Xs}function h_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function d_(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function m1(t,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var d=h_((f[Jt]||null).action),T=o.submitter;T&&(n=(n=T[Jt]||null)?h_(n.formAction):T.getAttribute("formAction"),n!==null&&(d=n,T=null));var A=new pt("action","action",null,o,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var k=T?d_(f,T):new FormData(f);jh(s,{pending:!0,data:k,method:f.method,action:d},null,k)}}else typeof d=="function"&&(A.preventDefault(),k=T?d_(f,T):new FormData(f),jh(s,{pending:!0,data:k,method:f.method,action:d},d,k))},currentTarget:f}]})}}for(var md=0;md<$f.length;md++){var pd=$f[md],p1=pd.toLowerCase(),g1=pd[0].toUpperCase()+pd.slice(1);la(p1,"on"+g1)}la(Fp,"onAnimationEnd"),la(Gp,"onAnimationIteration"),la(Qp,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(Ob,"onTransitionRun"),la(jb,"onTransitionStart"),la(Mb,"onTransitionCancel"),la(Xp,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function m_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],f=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var T=o.length-1;0<=T;T--){var A=o[T],k=A.instance,X=A.currentTarget;if(A=A.listener,k!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=X;try{d(f)}catch(ie){ku(ie)}f.currentTarget=null,d=k}else for(T=0;T<o.length;T++){if(A=o[T],k=A.instance,X=A.currentTarget,A=A.listener,k!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=X;try{d(f)}catch(ie){ku(ie)}f.currentTarget=null,d=k}}}}function Je(t,n){var s=n[_a];s===void 0&&(s=n[_a]=new Set);var o=t+"__bubble";s.has(o)||(p_(n,t,2,!1),s.add(o))}function gd(t,n,s){var o=0;n&&(o|=4),p_(s,t,o,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[bc]){t[bc]=!0,sa.forEach(function(s){s!=="selectionchange"&&(y1.has(s)||gd(s,!1,t),gd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bc]||(n[bc]=!0,gd("selectionchange",!1,n))}}function p_(t,n,s,o){switch(F_(n)){case 2:var f=G1;break;case 8:f=Q1;break;default:f=Od}s=f.bind(null,n,s,t),f=void 0,!ra||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function _d(t,n,s,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var A=o.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=o.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=en(A),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){o=d=T;continue e}A=A.parentNode}}o=o.return}hi(function(){var X=d,ie=Te(s),le=[];e:{var K=Yp.get(t);if(K!==void 0){var ee=pt,Ae=t;switch(t){case"keypress":if(F(s)===0)break e;case"keydown":case"keyup":ee=vo;break;case"focusin":Ae="focus",ee=Xa;break;case"focusout":Ae="blur",ee=Xa;break;case"beforeblur":case"afterblur":ee=Xa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=_;break;case Fp:case Gp:case Qp:ee=ho;break;case Xp:ee=N;break;case"scroll":case"scrollend":ee=Ds;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=Nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=oa;break;case"toggle":case"beforetoggle":ee=Be}var ke=(n&4)!==0,Ot=!ke&&(t==="scroll"||t==="scrollend"),z=ke?K!==null?K+"Capture":null:K;ke=[];for(var B=X,Q;B!==null;){var re=B;if(Q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Q===null||z===null||(re=rn(B,z),re!=null&&ke.push(Zl(B,re,Q))),Ot)break;B=B.return}0<ke.length&&(K=new ee(K,Ae,null,s,ie),le.push({event:K,listeners:ke}))}}if((n&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",K&&s!==wr&&(Ae=s.relatedTarget||s.fromElement)&&(en(Ae)||Ae[Li]))break e;if((ee||K)&&(K=ie.window===ie?ie:(K=ie.ownerDocument)?K.defaultView||K.parentWindow:window,ee?(Ae=s.relatedTarget||s.toElement,ee=X,Ae=Ae?en(Ae):null,Ae!==null&&(Ot=c(Ae),ke=Ae.tag,Ae!==Ot||ke!==5&&ke!==27&&ke!==6)&&(Ae=null)):(ee=null,Ae=X),ee!==Ae)){if(ke=Ar,re="onMouseLeave",z="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(ke=oa,re="onPointerLeave",z="onPointerEnter",B="pointer"),Ot=ee==null?K:Cn(ee),Q=Ae==null?K:Cn(Ae),K=new ke(re,B+"leave",ee,s,ie),K.target=Ot,K.relatedTarget=Q,re=null,en(ie)===X&&(ke=new ke(z,B+"enter",Ae,s,ie),ke.target=Q,ke.relatedTarget=Ot,re=ke),Ot=re,ee&&Ae)t:{for(ke=_1,z=ee,B=Ae,Q=0,re=z;re;re=ke(re))Q++;re=0;for(var je=B;je;je=ke(je))re++;for(;0<Q-re;)z=ke(z),Q--;for(;0<re-Q;)B=ke(B),re--;for(;Q--;){if(z===B||B!==null&&z===B.alternate){ke=z;break t}z=ke(z),B=ke(B)}ke=null}else ke=null;ee!==null&&g_(le,K,ee,ke,!1),Ae!==null&&Ot!==null&&g_(le,Ot,Ae,ke,!0)}}e:{if(K=X?Cn(X):window,ee=K.nodeName&&K.nodeName.toLowerCase(),ee==="select"||ee==="input"&&K.type==="file")var gt=jp;else if(To(K))if(Mp)gt=xb;else{gt=Nb;var Ne=Rb}else ee=K.nodeName,!ee||ee.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?X&&fi(X.elementType)&&(gt=jp):gt=Cb;if(gt&&(gt=gt(t,X))){Aa(le,gt,s,ie);break e}Ne&&Ne(t,K,X),t==="focusout"&&X&&K.type==="number"&&X.memoizedProps.value!=null&&br(K,"number",K.value)}switch(Ne=X?Cn(X):window,t){case"focusin":(To(Ne)||Ne.contentEditable==="true")&&(bo=Ne,Xf=X,Nl=null);break;case"focusout":Nl=Xf=bo=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,zp(le,s,ie);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":zp(le,s,ie)}var Ke;if(ft)e:{switch(t){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else bn?Le(t,s)&&(at="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(at="onCompositionStart");at&&(oe&&s.locale!=="ko"&&(bn||at!=="onCompositionStart"?at==="onCompositionEnd"&&bn&&(Ke=V()):(y=ie,S="value"in y?y.value:y.textContent,bn=!0)),Ne=Sc(X,at),0<Ne.length&&(at=new Hi(at,t,null,s,ie),le.push({event:at,listeners:Ne}),Ke?at.data=Ke:(Ke=nt(s),Ke!==null&&(at.data=Ke)))),(Ke=H?di(t,s):ai(t,s))&&(at=Sc(X,"onBeforeInput"),0<at.length&&(Ne=new Hi("onBeforeInput","beforeinput",null,s,ie),le.push({event:Ne,listeners:at}),Ne.data=Ke)),m1(le,t,X,s,ie)}m_(le,n)})}function Zl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Sc(t,n){for(var s=n+"Capture",o=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=rn(t,s),f!=null&&o.unshift(Zl(t,f,d)),f=rn(t,n),f!=null&&o.push(Zl(t,f,d))),t.tag===3)return o;t=t.return}return[]}function _1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g_(t,n,s,o,f){for(var d=n._reactName,T=[];s!==null&&s!==o;){var A=s,k=A.alternate,X=A.stateNode;if(A=A.tag,k!==null&&k===o)break;A!==5&&A!==26&&A!==27||X===null||(k=X,f?(X=rn(s,d),X!=null&&T.unshift(Zl(s,X,k))):f||(X=rn(s,d),X!=null&&T.push(Zl(s,X,k)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var v1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function y_(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(E1,"")}function __(t,n){return n=y_(n),y_(t)===n}function It(t,n,s,o,f,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(t,""+o);break;case"className":ti(t,"class",o);break;case"tabIndex":ti(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(t,s,o);break;case"style":Ta(t,o,d);break;case"data":if(n!=="object"){ti(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ni(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&It(t,n,"name",f.name,f,null),It(t,n,"formEncType",f.formEncType,f,null),It(t,n,"formMethod",f.formMethod,f,null),It(t,n,"formTarget",f.formTarget,f,null)):(It(t,n,"encType",f.encType,f,null),It(t,n,"method",f.method,f,null),It(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ni(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=xn);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ni(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Je("beforetoggle",t),Je("toggle",t),Pa(t,"popover",o);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Pa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=xs.get(s)||s,Pa(t,s,o))}}function vd(t,n,s,o,f,d){switch(s){case"style":Ta(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof o=="string"?_n(t,o):(typeof o=="number"||typeof o=="bigint")&&_n(t,""+o);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=t[Jt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,f);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Pa(t,s,o)}}}function jn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var T=s[d];if(T!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:It(t,n,d,T,s,null)}}f&&It(t,n,"srcSet",s.srcSet,s,null),o&&It(t,n,"src",s.src,s,null);return;case"input":Je("invalid",t);var A=d=T=f=null,k=null,X=null;for(o in s)if(s.hasOwnProperty(o)){var ie=s[o];if(ie!=null)switch(o){case"name":f=ie;break;case"type":T=ie;break;case"checked":k=ie;break;case"defaultChecked":X=ie;break;case"value":d=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,n));break;default:It(t,n,o,ie,s,null)}}Tr(t,d,A,k,X,T,f,!1);return;case"select":Je("invalid",t),o=T=d=null;for(f in s)if(s.hasOwnProperty(f)&&(A=s[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":T=A;break;case"multiple":o=A;default:It(t,n,f,A,s,null)}n=d,s=T,t.multiple=!!o,n!=null?qi(t,!!o,n,!1):s!=null&&qi(t,!!o,s,!0);return;case"textarea":Je("invalid",t),d=f=o=null;for(T in s)if(s.hasOwnProperty(T)&&(A=s[T],A!=null))switch(T){case"value":o=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:It(t,n,T,A,s,null)}Bi(t,o,f,d);return;case"option":for(k in s)s.hasOwnProperty(k)&&(o=s[k],o!=null)&&(k==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":It(t,n,k,o,s,null));return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(o=0;o<Wl.length;o++)Je(Wl[o],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(o=s[X],o!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:It(t,n,X,o,s,null)}return;default:if(fi(n)){for(ie in s)s.hasOwnProperty(ie)&&(o=s[ie],o!==void 0&&vd(t,n,ie,o,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(o=s[A],o!=null&&It(t,n,A,o,s,null))}function T1(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,A=null,k=null,X=null,ie=null;for(ee in s){var le=s[ee];if(s.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":k=le;default:o.hasOwnProperty(ee)||It(t,n,ee,null,o,le)}}for(var K in o){var ee=o[K];if(le=s[K],o.hasOwnProperty(K)&&(ee!=null||le!=null))switch(K){case"type":d=ee;break;case"name":f=ee;break;case"checked":X=ee;break;case"defaultChecked":ie=ee;break;case"value":T=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,n));break;default:ee!==le&&It(t,n,K,ee,o,le)}}Ui(t,T,A,k,X,ie,d,f);return;case"select":ee=T=A=K=null;for(d in s)if(k=s[d],s.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":ee=k;default:o.hasOwnProperty(d)||It(t,n,d,null,o,k)}for(f in o)if(d=o[f],k=s[f],o.hasOwnProperty(f)&&(d!=null||k!=null))switch(f){case"value":K=d;break;case"defaultValue":A=d;break;case"multiple":T=d;default:d!==k&&It(t,n,f,d,o,k)}n=A,s=T,o=ee,K!=null?qi(t,!!s,K,!1):!!o!=!!s&&(n!=null?qi(t,!!s,n,!0):qi(t,!!s,s?[]:"",!1));return;case"textarea":ee=K=null;for(A in s)if(f=s[A],s.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:It(t,n,A,null,o,f)}for(T in o)if(f=o[T],d=s[T],o.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":K=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&It(t,n,T,f,o,d)}Sr(t,K,ee);return;case"option":for(var Ae in s)K=s[Ae],s.hasOwnProperty(Ae)&&K!=null&&!o.hasOwnProperty(Ae)&&(Ae==="selected"?t.selected=!1:It(t,n,Ae,null,o,K));for(k in o)K=o[k],ee=s[k],o.hasOwnProperty(k)&&K!==ee&&(K!=null||ee!=null)&&(k==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":It(t,n,k,K,o,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in s)K=s[ke],s.hasOwnProperty(ke)&&K!=null&&!o.hasOwnProperty(ke)&&It(t,n,ke,null,o,K);for(X in o)if(K=o[X],ee=s[X],o.hasOwnProperty(X)&&K!==ee&&(K!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:It(t,n,X,K,o,ee)}return;default:if(fi(n)){for(var Ot in s)K=s[Ot],s.hasOwnProperty(Ot)&&K!==void 0&&!o.hasOwnProperty(Ot)&&vd(t,n,Ot,void 0,o,K);for(ie in o)K=o[ie],ee=s[ie],!o.hasOwnProperty(ie)||K===ee||K===void 0&&ee===void 0||vd(t,n,ie,K,o,ee);return}}for(var z in s)K=s[z],s.hasOwnProperty(z)&&K!=null&&!o.hasOwnProperty(z)&&It(t,n,z,null,o,K);for(le in o)K=o[le],ee=s[le],!o.hasOwnProperty(le)||K===ee||K==null&&ee==null||It(t,n,le,K,o,ee)}function v_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],d=f.transferSize,T=f.initiatorType,A=f.duration;if(d&&A&&v_(T)){for(T=0,A=f.responseEnd,o+=1;o<s.length;o++){var k=s[o],X=k.startTime;if(X>A)break;var ie=k.transferSize,le=k.initiatorType;ie&&v_(le)&&(k=k.responseEnd,T+=ie*(k<A?1:(A-X)/(k-X)))}if(--o,n+=8*(d+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function E_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function S1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,w1=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(R1)}:b_;function R1(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function w_(t,n){var s=n,o=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(f),Ko(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Jl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Jl(s);for(var d=s.firstChild;d;){var T=d.nextSibling,A=d.nodeName;d[Jn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=T}}else s==="body"&&Jl(t.ownerDocument.body);s=f}while(s);Ko(n)}function A_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wd(s),Rs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function N1(t,n,s,o){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Jn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$i(t.nextSibling),t===null)break}return null}function C1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=$i(t.nextSibling),t===null))return null;return t}function R_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$i(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function x1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $i(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Nd=null;function N_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return $i(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function C_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function x_(t,n,s){switch(n=wc(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Rs(t)}var Wi=new Map,D_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=he.d;he.d={f:D1,r:I1,D:O1,C:j1,L:M1,m:L1,X:V1,S:k1,M:U1};function D1(){var t=ls.f(),n=gc();return t||n}function I1(t){var n=Nn(t);n!==null&&n.tag===5&&n.type==="form"?Xg(n):ls.r(t)}var Qo=typeof document>"u"?null:document;function I_(t,n,s){var o=Qo;if(o&&typeof n=="string"&&n){var f=Hn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),D_.has(f)||(D_.add(f),t={rel:t,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),jn(n,"link",t),Qt(n),o.head.appendChild(n)))}}function O1(t){ls.D(t),I_("dns-prefetch",t,null)}function j1(t,n){ls.C(t,n),I_("preconnect",t,n)}function M1(t,n,s){ls.L(t,n,s);var o=Qo;if(o&&t&&n){var f='link[rel="preload"][as="'+Hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Hn(s.imageSizes)+'"]')):f+='[href="'+Hn(t)+'"]';var d=f;switch(n){case"style":d=Xo(t);break;case"script":d=Yo(t)}Wi.has(d)||(t=x({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Wi.set(d,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(eu(d))||n==="script"&&o.querySelector(tu(d))||(n=o.createElement("link"),jn(n,"link",t),Qt(n),o.head.appendChild(n)))}}function L1(t,n){ls.m(t,n);var s=Qo;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Hn(o)+'"][href="'+Hn(t)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Yo(t)}if(!Wi.has(d)&&(t=x({rel:"modulepreload",href:t},n),Wi.set(d,t),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(tu(d)))return}o=s.createElement("link"),jn(o,"link",t),Qt(o),s.head.appendChild(o)}}}function k1(t,n,s){ls.S(t,n,s);var o=Qo;if(o&&t){var f=Ai(o).hoistableStyles,d=Xo(t);n=n||"default";var T=f.get(d);if(!T){var A={loading:0,preload:null};if(T=o.querySelector(eu(d)))A.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Wi.get(d))&&Cd(t,s);var k=T=o.createElement("link");Qt(k),jn(k,"link",t),k._p=new Promise(function(X,ie){k.onload=X,k.onerror=ie}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Rc(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(d,T)}}}function V1(t,n){ls.X(t,n);var s=Qo;if(s&&t){var o=Ai(s).hoistableScripts,f=Yo(t),d=o.get(f);d||(d=s.querySelector(tu(f)),d||(t=x({src:t,async:!0},n),(n=Wi.get(f))&&xd(t,n),d=s.createElement("script"),Qt(d),jn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function U1(t,n){ls.M(t,n);var s=Qo;if(s&&t){var o=Ai(s).hoistableScripts,f=Yo(t),d=o.get(f);d||(d=s.querySelector(tu(f)),d||(t=x({src:t,async:!0,type:"module"},n),(n=Wi.get(f))&&xd(t,n),d=s.createElement("script"),Qt(d),jn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function O_(t,n,s,o){var f=(f=Xe.current)?Ac(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Xo(s.href),s=Ai(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Xo(s.href);var d=Ai(f).hoistableStyles,T=d.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,T),(d=f.querySelector(eu(t)))&&!d._p&&(T.instance=d,T.state.loading=5),Wi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Wi.set(t,s),d||q1(f,t,s,T.state))),n&&o===null)throw Error(r(528,""));return T}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Yo(s),s=Ai(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Xo(t){return'href="'+Hn(t)+'"'}function eu(t){return'link[rel="stylesheet"]['+t+"]"}function j_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function q1(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),jn(n,"link",s),Qt(n),t.head.appendChild(n))}function Yo(t){return'[src="'+Hn(t)+'"]'}function tu(t){return"script[async]"+t}function M_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Hn(s.href)+'"]');if(o)return n.instance=o,Qt(o),o;var f=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Qt(o),jn(o,"style",f),Rc(o,s.precedence,t),n.instance=o;case"stylesheet":f=Xo(s.href);var d=t.querySelector(eu(f));if(d)return n.state.loading|=4,n.instance=d,Qt(d),d;o=j_(s),(f=Wi.get(f))&&Cd(o,f),d=(t.ownerDocument||t).createElement("link"),Qt(d);var T=d;return T._p=new Promise(function(A,k){T.onload=A,T.onerror=k}),jn(d,"link",o),n.state.loading|=4,Rc(d,s.precedence,t),n.instance=d;case"script":return d=Yo(s.src),(f=t.querySelector(tu(d)))?(n.instance=f,Qt(f),f):(o=s,(f=Wi.get(d))&&(o=x({},s),xd(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Qt(f),jn(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Rc(o,s.precedence,t));return n.instance}function Rc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,T=0;T<o.length;T++){var A=o[T];if(A.dataset.precedence===n)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nc=null;function L_(t,n,s){if(Nc===null){var o=new Map,f=Nc=new Map;f.set(s,o)}else f=Nc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[Jn]||d[tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(n)||"";T=t+T;var A=o.get(T);A?A.push(d):o.set(T,[d])}}return o}function k_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function B1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function P1(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Xo(o.href),d=n.querySelector(eu(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Cc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=d,Qt(d);return}d=n.ownerDocument||n,o=j_(o),(f=Wi.get(f))&&Cd(o,f),d=d.createElement("link"),Qt(d);var T=d;T._p=new Promise(function(A,k){T.onload=A,T.onerror=k}),jn(d,"link",o),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Cc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Dd=0;function z1(t,n){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*b1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Dc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(H1,t),xc=null,Cc.call(t))}function H1(t,n){if(!(n.state.loading&4)){var s=xc.get(t);if(s)var o=s.get(null);else{s=new Map,xc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}f=n.instance,T=f.getAttribute("data-precedence"),d=s.get(T)||o,d===o&&s.set(null,f),s.set(T,f),this.count++,o=Cc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var nu={$$typeof:ge,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function F1(t,n,s,o,f,d,T,A,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function U_(t,n,s,o,f,d,T,A,k,X,ie,le){return t=new F1(t,n,s,T,k,X,ie,le,A),n=1,d===!0&&(n|=24),d=xi(3,null,null,n),t.current=d,d.stateNode=t,n=uh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},dh(d),t}function q_(t){return t?(t=Ao,t):Ao}function B_(t,n,s,o,f,d){f=q_(f),o.context===null?o.context=f:o.pendingContext=f,o=Vs(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Us(t,o,n),s!==null&&(_i(s,t,n),Ml(s,t,n))}function P_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Id(t,n){P_(t,n),(t=t.alternate)&&P_(t,n)}function z_(t){if(t.tag===13||t.tag===31){var n=Ir(t,67108864);n!==null&&_i(n,t,67108864),Id(t,67108864)}}function H_(t){if(t.tag===13||t.tag===31){var n=Mi();n=ya(n);var s=Ir(t,n);s!==null&&_i(s,t,n),Id(t,n)}}var Ic=!0;function G1(t,n,s,o){var f=P.T;P.T=null;var d=he.p;try{he.p=2,Od(t,n,s,o)}finally{he.p=d,P.T=f}}function Q1(t,n,s,o){var f=P.T;P.T=null;var d=he.p;try{he.p=8,Od(t,n,s,o)}finally{he.p=d,P.T=f}}function Od(t,n,s,o){if(Ic){var f=jd(o);if(f===null)_d(t,n,o,Oc,s),G_(t,o);else if(Y1(f,t,n,s,o))o.stopPropagation();else if(G_(t,o),n&4&&-1<X1.indexOf(t)){for(;f!==null;){var d=Nn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Si(d.pendingLanes);if(T!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var k=1<<31-Vt(T);A.entanglements[1]|=k,T&=~k}xa(d),(Et&6)===0&&(mc=An()+500,$l(0))}}break;case 31:case 13:A=Ir(d,2),A!==null&&_i(A,d,2),gc(),Id(d,2)}if(d=jd(o),d===null&&_d(t,n,o,Oc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else _d(t,n,o,null,s)}}function jd(t){return t=Te(t),Md(t)}var Oc=null;function Md(t){if(Oc=null,t=en(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=m(n),t!==null)return t;t=null}else if(s===31){if(t=v(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oc=t,null}function F_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ta()){case na:return 2;case $n:return 8;case ia:case so:return 32;case pr:return 268435456;default:return 32}default:return 32}}var Ld=!1,Ks=null,$s=null,Ws=null,iu=new Map,au=new Map,Zs=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(t,n){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":iu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(n.pointerId)}}function su(t,n,s,o,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Nn(n),n!==null&&z_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function Y1(t,n,s,o,f){switch(n){case"focusin":return Ks=su(Ks,t,n,s,o,f),!0;case"dragenter":return $s=su($s,t,n,s,o,f),!0;case"mouseover":return Ws=su(Ws,t,n,s,o,f),!0;case"pointerover":var d=f.pointerId;return iu.set(d,su(iu.get(d)||null,t,n,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,au.set(d,su(au.get(d)||null,t,n,s,o,f)),!0}return!1}function Q_(t){var n=en(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=m(s),n!==null){t.blockedOn=n,ui(t.priority,function(){H_(s)});return}}else if(n===31){if(n=v(s),n!==null){t.blockedOn=n,ui(t.priority,function(){H_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=jd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);wr=o,s.target.dispatchEvent(o),wr=null}else return n=Nn(s),n!==null&&z_(n),t.blockedOn=s,!1;n.shift()}return!0}function X_(t,n,s){jc(t)&&s.delete(n)}function K1(){Ld=!1,Ks!==null&&jc(Ks)&&(Ks=null),$s!==null&&jc($s)&&($s=null),Ws!==null&&jc(Ws)&&(Ws=null),iu.forEach(X_),au.forEach(X_)}function Mc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ld||(Ld=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,K1)))}var Lc=null;function Y_(t){Lc!==t&&(Lc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(Md(o||s)===null)continue;break}var d=Nn(s);d!==null&&(t.splice(n,3),n-=3,jh(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Ko(t){function n(k){return Mc(k,t)}Ks!==null&&Mc(Ks,t),$s!==null&&Mc($s,t),Ws!==null&&Mc(Ws,t),iu.forEach(n),au.forEach(n);for(var s=0;s<Zs.length;s++){var o=Zs[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(s=Zs[0],s.blockedOn===null);)Q_(s),s.blockedOn===null&&Zs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],T=f[Jt]||null;if(typeof d=="function")T||Y_(s);else if(T){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[Jt]||null)A=T.formAction;else if(Md(f)!==null)continue}else A=T.action;typeof A=="function"?s[o+1]=A:(s.splice(o,3),o-=3),Y_(s)}}}function K_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function kd(t){this._internalRoot=t}kc.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=Mi();B_(s,o,t,n,null,null)},kc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;B_(t.current,2,null,t,null,null),gc(),n[Li]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=_r();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Zs.length&&n!==0&&n<Zs[s].priority;s++);Zs.splice(s,0,t),s===0&&Q_(t)}};var $_=e.version;if($_!=="19.2.4")throw Error(r(527,$_,"19.2.4"));he.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(n),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var $1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Ti=Vc.inject($1),De=Vc}catch{}}return ou.createRoot=function(t,n){if(!l(t))throw Error(r(299));var s=!1,o="",f=iy,d=ay,T=sy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=U_(t,1,!1,null,null,s,o,null,f,d,T,K_),t[Li]=n.current,yd(t),new kd(n)},ou.hydrateRoot=function(t,n,s){if(!l(t))throw Error(r(299));var o=!1,f="",d=iy,T=ay,A=sy,k=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(k=s.formState)),n=U_(t,1,!0,n,s??null,o,f,k,d,T,A,K_),n.context=q_(null),s=n.current,o=Mi(),o=ya(o),f=Vs(o),f.callback=null,Us(s,f,o),s=o,n.current.lanes=s,aa(n,s),xa(n),t[Li]=n.current,yd(t),new kc(n)},ou.version="19.2.4",ou}var rv;function lS(){if(rv)return qd.exports;rv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),qd.exports=oS(),qd.exports}var uS=lS(),Hd={exports:{}};const cS={},fS=Object.freeze(Object.defineProperty({__proto__:null,default:cS},Symbol.toStringTag,{value:"Module"})),ov=J1(fS);var lv;function hS(){return lv||(lv=1,(function(a,e){var i=void 0,r=function(l){return i||(i=new Promise(function(c,m){var v=typeof l<"u"?l:{},E=v.onAbort;v.onAbort=function(h){m(new Error(h)),E&&E(h)},v.postRun=v.postRun||[],v.postRun.push(function(){c(v)}),a=void 0;var g;g||=typeof v<"u"?v:{};var w=typeof window=="object",x=typeof WorkerGlobalScope<"u",O=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";g.onRuntimeInitialized=function(){function h(H,oe){switch(typeof oe){case"boolean":pe(H,oe?1:0);break;case"number":b(H,oe);break;case"string":G(H,oe,-1,-1);break;case"object":if(oe===null)N(H);else if(oe.length!=null){var ve=Ta(oe,Ea);Z(H,ve,oe.length,-1),ii(ve)}else Be(H,"Wrong API use : tried to return a value of an unknown type ("+oe+").",-1);break;default:N(H)}}function y(H,oe){for(var ve=[],Re=0;Re<H;Re+=1){var Le=Un(oe+4*Re,"i32"),nt=vo(Le);if(nt===1||nt===2)Le=_(Le);else if(nt===3)Le=oa(Le);else if(nt===4){nt=Le,Le=Eo(nt),nt=u(nt);for(var bn=new Uint8Array(Le),di=0;di<Le;di+=1)bn[di]=U[nt+di];Le=bn}else Le=null;ve.push(Le)}return ve}function S(H,oe){this.Qa=H,this.db=oe,this.Oa=1,this.lb=[]}function R(H,oe){if(this.db=oe,oe=na(H)+1,this.eb=Pi(oe),this.eb===null)throw Error("Unable to allocate memory for the SQL string");$n(H,j,this.eb,oe),this.kb=this.eb,this.Za=this.pb=null}function V(H){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),H!=null){var oe=this.filename,ve="/",Re=oe;if(ve&&(ve=typeof ve=="string"?ve:li(ve),Re=oe?Pt(ve+"/"+oe):ve),oe=Wn(!0,!0),Re=Rs(Re,oe),H){if(typeof H=="string"){ve=Array(H.length);for(var Le=0,nt=H.length;Le<nt;++Le)ve[Le]=H.charCodeAt(Le);H=ve}ei(Re,oe|146),ve=ki(Re,577),Pa(ve,H,0,H.length,0),Ba(ve),ei(Re,oe)}}this.handleError(we(this.filename,F)),this.db=Un(F,"i32"),ft(this.db),this.fb={},this.Sa={}}var F=rn(4),te=g.cwrap,we=te("sqlite3_open","number",["string","number"]),Oe=te("sqlite3_close_v2","number",["number"]),Ve=te("sqlite3_exec","number",["number","string","number","number","number"]),pt=te("sqlite3_changes","number",["number"]),Xt=te("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Ds=te("sqlite3_sql","string",["number"]),Sa=te("sqlite3_normalized_sql","string",["number"]),Fa=te("sqlite3_prepare_v2","number",["number","number","number","number","number"]),zi=te("sqlite3_bind_text","number",["number","number","number","number","number"]),Ga=te("sqlite3_bind_blob","number",["number","number","number","number","number"]),Ar=te("sqlite3_bind_double","number",["number","number","number"]),Qa=te("sqlite3_bind_int","number",["number","number","number"]),co=te("sqlite3_bind_parameter_index","number",["number","string"]),fo=te("sqlite3_step","number",["number"]),Xa=te("sqlite3_errmsg","string",["number"]),Rr=te("sqlite3_column_count","number",["number"]),ho=te("sqlite3_data_count","number",["number"]),Is=te("sqlite3_column_double","number",["number","number"]),Nr=te("sqlite3_column_text","string",["number","number"]),mo=te("sqlite3_column_blob","number",["number","number"]),Hi=te("sqlite3_column_bytes","number",["number","number"]),po=te("sqlite3_column_type","number",["number","number"]),go=te("sqlite3_column_name","string",["number","number"]),yo=te("sqlite3_reset","number",["number"]),_o=te("sqlite3_clear_bindings","number",["number"]),wa=te("sqlite3_finalize","number",["number"]),Tn=te("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),vo=te("sqlite3_value_type","number",["number"]),Eo=te("sqlite3_value_bytes","number",["number"]),oa=te("sqlite3_value_text","string",["number"]),u=te("sqlite3_value_blob","number",["number"]),_=te("sqlite3_value_double","number",["number"]),b=te("sqlite3_result_double","",["number","number"]),N=te("sqlite3_result_null","",["number"]),G=te("sqlite3_result_text","",["number","string","number","number"]),Z=te("sqlite3_result_blob","",["number","number","number","number"]),pe=te("sqlite3_result_int","",["number","number"]),Be=te("sqlite3_result_error","",["number","string","number"]),zt=te("sqlite3_aggregate_context","number",["number","number"]),ft=te("RegisterExtensionFunctions","number",["number"]),Mt=te("sqlite3_update_hook","number",["number","number","number"]);S.prototype.bind=function(H){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(H)?this.Cb(H):H!=null&&typeof H=="object"?this.Db(H):!0},S.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var H=fo(this.Qa);switch(H){case 100:return!0;case 101:return!1;default:throw this.db.handleError(H)}},S.prototype.wb=function(H){return H==null&&(H=this.Oa,this.Oa+=1),Is(this.Qa,H)},S.prototype.Gb=function(H){if(H==null&&(H=this.Oa,this.Oa+=1),H=Nr(this.Qa,H),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(H)},S.prototype.Hb=function(H){return H==null&&(H=this.Oa,this.Oa+=1),Nr(this.Qa,H)},S.prototype.getBlob=function(H){H==null&&(H=this.Oa,this.Oa+=1);var oe=Hi(this.Qa,H);H=mo(this.Qa,H);for(var ve=new Uint8Array(oe),Re=0;Re<oe;Re+=1)ve[Re]=U[H+Re];return ve},S.prototype.get=function(H,oe){oe=oe||{},H!=null&&this.bind(H)&&this.step(),H=[];for(var ve=ho(this.Qa),Re=0;Re<ve;Re+=1)switch(po(this.Qa,Re)){case 1:var Le=oe.useBigInt?this.Gb(Re):this.wb(Re);H.push(Le);break;case 2:H.push(this.wb(Re));break;case 3:H.push(this.Hb(Re));break;case 4:H.push(this.getBlob(Re));break;default:H.push(null)}return H},S.prototype.getColumnNames=function(){for(var H=[],oe=Rr(this.Qa),ve=0;ve<oe;ve+=1)H.push(go(this.Qa,ve));return H},S.prototype.getAsObject=function(H,oe){H=this.get(H,oe),oe=this.getColumnNames();for(var ve={},Re=0;Re<oe.length;Re+=1)ve[oe[Re]]=H[Re];return ve},S.prototype.getSQL=function(){return Ds(this.Qa)},S.prototype.getNormalizedSQL=function(){return Sa(this.Qa)},S.prototype.run=function(H){return H!=null&&this.bind(H),this.step(),this.reset()},S.prototype.sb=function(H,oe){oe==null&&(oe=this.Oa,this.Oa+=1),H=ia(H);var ve=Ta(H,Ea);this.lb.push(ve),this.db.handleError(zi(this.Qa,oe,ve,H.length-1,0))},S.prototype.Bb=function(H,oe){oe==null&&(oe=this.Oa,this.Oa+=1);var ve=Ta(H,Ea);this.lb.push(ve),this.db.handleError(Ga(this.Qa,oe,ve,H.length,0))},S.prototype.rb=function(H,oe){oe==null&&(oe=this.Oa,this.Oa+=1),this.db.handleError((H===(H|0)?Qa:Ar)(this.Qa,oe,H))},S.prototype.Eb=function(H){H==null&&(H=this.Oa,this.Oa+=1),Ga(this.Qa,H,0,0,0)},S.prototype.tb=function(H,oe){switch(oe==null&&(oe=this.Oa,this.Oa+=1),typeof H){case"string":this.sb(H,oe);return;case"number":this.rb(H,oe);return;case"bigint":this.sb(H.toString(),oe);return;case"boolean":this.rb(H+0,oe);return;case"object":if(H===null){this.Eb(oe);return}if(H.length!=null){this.Bb(H,oe);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+H+")."},S.prototype.Db=function(H){var oe=this;return Object.keys(H).forEach(function(ve){var Re=co(oe.Qa,ve);Re!==0&&oe.tb(H[ve],Re)}),!0},S.prototype.Cb=function(H){for(var oe=0;oe<H.length;oe+=1)this.tb(H[oe],oe+1);return!0},S.prototype.reset=function(){return this.freemem(),_o(this.Qa)===0&&yo(this.Qa)===0},S.prototype.freemem=function(){for(var H;(H=this.lb.pop())!==void 0;)ii(H)},S.prototype.free=function(){this.freemem();var H=wa(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,H},R.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var H=En(),oe=rn(4);qn(F),qn(oe);try{this.db.handleError(Fa(this.db.db,this.kb,-1,F,oe)),this.kb=Un(oe,"i32");var ve=Un(F,"i32");return ve===0?(this.mb(),{done:!0}):(this.Za=new S(ve,this.db),this.db.fb[ve]=this.Za,{value:this.Za,done:!1})}catch(Re){throw this.pb=qa(this.kb),this.mb(),Re}finally{hi(H)}},R.prototype.mb=function(){ii(this.eb),this.eb=null},R.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:qa(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(R.prototype[Symbol.iterator]=function(){return this}),V.prototype.run=function(H,oe){if(!this.db)throw"Database closed";if(oe){H=this.prepare(H,oe);try{H.step()}finally{H.free()}}else this.handleError(Ve(this.db,H,0,0,F));return this},V.prototype.exec=function(H,oe,ve){if(!this.db)throw"Database closed";var Re=En(),Le=null;try{var nt=_n(H),bn=rn(4);for(H=[];Un(nt,"i8")!==0;){qn(F),qn(bn),this.handleError(Fa(this.db,nt,-1,F,bn));var di=Un(F,"i32");if(nt=Un(bn,"i32"),di!==0){var ai=null;for(Le=new S(di,this),oe!=null&&Le.bind(oe);Le.step();)ai===null&&(ai={columns:Le.getColumnNames(),values:[]},H.push(ai)),ai.values.push(Le.get(null,ve));Le.free()}}return H}catch(Ni){throw Le&&Le.free(),Ni}finally{hi(Re)}},V.prototype.each=function(H,oe,ve,Re,Le){typeof oe=="function"&&(Re=ve,ve=oe,oe=void 0),H=this.prepare(H,oe);try{for(;H.step();)ve(H.getAsObject(null,Le))}finally{H.free()}if(typeof Re=="function")return Re()},V.prototype.prepare=function(H,oe){if(qn(F),this.handleError(Xt(this.db,H,-1,F,0)),H=Un(F,"i32"),H===0)throw"Nothing to prepare";var ve=new S(H,this);return oe!=null&&ve.bind(oe),this.fb[H]=ve},V.prototype.iterateStatements=function(H){return new R(H,this)},V.prototype.export=function(){Object.values(this.fb).forEach(function(oe){oe.free()}),Object.values(this.Sa).forEach(ni),this.Sa={},this.handleError(Oe(this.db));var H=ti(this.filename);return this.handleError(we(this.filename,F)),this.db=Un(F,"i32"),ft(this.db),H},V.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(H){H.free()}),Object.values(this.Sa).forEach(ni),this.Sa={},this.Ya&&(ni(this.Ya),this.Ya=void 0),this.handleError(Oe(this.db)),Qt("/"+this.filename),this.db=null)},V.prototype.handleError=function(H){if(H===0)return null;throw H=Xa(this.db),Error(H)},V.prototype.getRowsModified=function(){return pt(this.db)},V.prototype.create_function=function(H,oe){Object.prototype.hasOwnProperty.call(this.Sa,H)&&(ni(this.Sa[H]),delete this.Sa[H]);var ve=xn(function(Re,Le,nt){Le=y(Le,nt);try{var bn=oe.apply(null,Le)}catch(di){Be(Re,di,-1);return}h(Re,bn)},"viii");return this.Sa[H]=ve,this.handleError(Tn(this.db,H,oe.length,1,0,ve,0,0,0)),this},V.prototype.create_aggregate=function(H,oe){var ve=oe.init||function(){return null},Re=oe.finalize||function(ai){return ai},Le=oe.step;if(!Le)throw"An aggregate function must have a step function in "+H;var nt={};Object.hasOwnProperty.call(this.Sa,H)&&(ni(this.Sa[H]),delete this.Sa[H]),oe=H+"__finalize",Object.hasOwnProperty.call(this.Sa,oe)&&(ni(this.Sa[oe]),delete this.Sa[oe]);var bn=xn(function(ai,Ni,To){var Aa=zt(ai,1);Object.hasOwnProperty.call(nt,Aa)||(nt[Aa]=ve()),Ni=y(Ni,To),Ni=[nt[Aa]].concat(Ni);try{nt[Aa]=Le.apply(null,Ni)}catch(Cr){delete nt[Aa],Be(ai,Cr,-1)}},"viii"),di=xn(function(ai){var Ni=zt(ai,1);try{var To=Re(nt[Ni])}catch(Aa){delete nt[Ni],Be(ai,Aa,-1);return}h(ai,To),delete nt[Ni]},"vi");return this.Sa[H]=bn,this.Sa[oe]=di,this.handleError(Tn(this.db,H,Le.length-1,1,0,0,bn,di,0)),this},V.prototype.updateHook=function(H){this.Ya&&(Mt(this.db,0,0),ni(this.Ya),this.Ya=void 0),H&&(this.Ya=xn(function(oe,ve,Re,Le,nt){switch(ve){case 18:oe="insert";break;case 23:oe="update";break;case 9:oe="delete";break;default:throw"unknown operationCode in updateHook callback: "+ve}if(Re=Re?bt(j,Re):"",Le=Le?bt(j,Le):"",nt>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";H(oe,Re,Le,Number(nt))},"viiiij"),Mt(this.db,this.Ya,0))},g.Database=V};var $={...g},ae="./this.program",Y=(h,y)=>{throw y},W="",J,fe;if(O){var ge=ov;W=__dirname+"/",fe=h=>(h=xe(h)?new URL(h):h,ge.readFileSync(h)),J=async h=>(h=xe(h)?new URL(h):h,ge.readFileSync(h,void 0)),!g.thisProgram&&1<process.argv.length&&(ae=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),a.exports=g,Y=(h,y)=>{throw process.exitCode=h,y}}else(w||x)&&(x?W=self.location.href:typeof document<"u"&&document.currentScript&&(W=document.currentScript.src),W=W.startsWith("blob:")?"":W.slice(0,W.replace(/[?#].*/,"").lastIndexOf("/")+1),x&&(fe=h=>{var y=new XMLHttpRequest;return y.open("GET",h,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),J=async h=>{if(xe(h))return new Promise((S,R)=>{var V=new XMLHttpRequest;V.open("GET",h,!0),V.responseType="arraybuffer",V.onload=()=>{V.status==200||V.status==0&&V.response?S(V.response):R(V.status)},V.onerror=R,V.send(null)});var y=await fetch(h,{credentials:"same-origin"});if(y.ok)return y.arrayBuffer();throw Error(y.status+" : "+y.url)});var me=g.print||console.log.bind(console),Ce=g.printErr||console.error.bind(console);Object.assign(g,$),$=null,g.thisProgram&&(ae=g.thisProgram);var Ie=g.wasmBinary,M,I=!1,L,U,j,D,C,_e,ut,P,he,xe=h=>h.startsWith("file://");function et(){var h=M.buffer;g.HEAP8=U=new Int8Array(h),g.HEAP16=D=new Int16Array(h),g.HEAPU8=j=new Uint8Array(h),g.HEAPU16=new Uint16Array(h),g.HEAP32=C=new Int32Array(h),g.HEAPU32=_e=new Uint32Array(h),g.HEAPF32=ut=new Float32Array(h),g.HEAPF64=he=new Float64Array(h),g.HEAP64=P=new BigInt64Array(h),g.HEAPU64=new BigUint64Array(h)}var We=0,q=null;function se(h){throw g.onAbort?.(h),h="Aborted("+h+")",Ce(h),I=!0,new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info.")}var ye;async function Ee(h){if(!Ie)try{var y=await J(h);return new Uint8Array(y)}catch{}if(h==ye&&Ie)h=new Uint8Array(Ie);else if(fe)h=fe(h);else throw"both async and sync fetching of the wasm failed";return h}async function qe(h,y){try{var S=await Ee(h);return await WebAssembly.instantiate(S,y)}catch(R){Ce(`failed to asynchronously prepare wasm: ${R}`),se(R)}}async function Xe(h){var y=ye;if(!Ie&&typeof WebAssembly.instantiateStreaming=="function"&&!xe(y)&&!O)try{var S=fetch(y,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(S,h)}catch(R){Ce(`wasm streaming compile failed: ${R}`),Ce("falling back to ArrayBuffer instantiation")}return qe(y,h)}class $e{name="ExitStatus";constructor(y){this.message=`Program terminated with exit(${y})`,this.status=y}}var Kt=h=>{for(;0<h.length;)h.shift()(g)},jt=[],ma=[],Ts=()=>{var h=g.preRun.shift();ma.unshift(h)};function Un(h,y="i8"){switch(y.endsWith("*")&&(y="*"),y){case"i1":return U[h];case"i8":return U[h];case"i16":return D[h>>1];case"i32":return C[h>>2];case"i64":return P[h>>3];case"float":return ut[h>>2];case"double":return he[h>>3];case"*":return _e[h>>2];default:se(`invalid type for getValue: ${y}`)}}var pa=g.noExitRuntime||!0;function qn(h){var y="i32";switch(y.endsWith("*")&&(y="*"),y){case"i1":U[h]=0;break;case"i8":U[h]=0;break;case"i16":D[h>>1]=0;break;case"i32":C[h>>2]=0;break;case"i64":P[h>>3]=BigInt(0);break;case"float":ut[h>>2]=0;break;case"double":he[h>>3]=0;break;case"*":_e[h>>2]=0;break;default:se(`invalid type for setValue: ${y}`)}}var bs=typeof TextDecoder<"u"?new TextDecoder:void 0,bt=(h,y=0,S=NaN)=>{var R=y+S;for(S=y;h[S]&&!(S>=R);)++S;if(16<S-y&&h.buffer&&bs)return bs.decode(h.subarray(y,S));for(R="";y<S;){var V=h[y++];if(V&128){var F=h[y++]&63;if((V&224)==192)R+=String.fromCharCode((V&31)<<6|F);else{var te=h[y++]&63;V=(V&240)==224?(V&15)<<12|F<<6|te:(V&7)<<18|F<<12|te<<6|h[y++]&63,65536>V?R+=String.fromCharCode(V):(V-=65536,R+=String.fromCharCode(55296|V>>10,56320|V&1023))}}else R+=String.fromCharCode(V)}return R},qa=(h,y)=>h?bt(j,h,y):"",Ss=(h,y)=>{for(var S=0,R=h.length-1;0<=R;R--){var V=h[R];V==="."?h.splice(R,1):V===".."?(h.splice(R,1),S++):S&&(h.splice(R,1),S--)}if(y)for(;S;S--)h.unshift("..");return h},Pt=h=>{var y=h.charAt(0)==="/",S=h.slice(-1)==="/";return(h=Ss(h.split("/").filter(R=>!!R),!y).join("/"))||y||(h="."),h&&S&&(h+="/"),(y?"/":"")+h},$t=h=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=y[0],y=y[1],!h&&!y?".":(y&&=y.slice(0,-1),h+y)},Ei=h=>h&&h.match(/([^\/]+|\/)\/*$/)[1],bl=()=>{if(O){var h=ov;return y=>h.randomFillSync(y)}return y=>crypto.getRandomValues(y)},mr=h=>{(mr=bl())(h)},An=(...h)=>{for(var y="",S=!1,R=h.length-1;-1<=R&&!S;R--){if(S=0<=R?h[R]:"/",typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";y=S+"/"+y,S=S.charAt(0)==="/"}return y=Ss(y.split("/").filter(V=>!!V),!S).join("/"),(S?"/":"")+y||"."},ta=[],na=h=>{for(var y=0,S=0;S<h.length;++S){var R=h.charCodeAt(S);127>=R?y++:2047>=R?y+=2:55296<=R&&57343>=R?(y+=4,++S):y+=3}return y},$n=(h,y,S,R)=>{if(!(0<R))return 0;var V=S;R=S+R-1;for(var F=0;F<h.length;++F){var te=h.charCodeAt(F);if(55296<=te&&57343>=te){var we=h.charCodeAt(++F);te=65536+((te&1023)<<10)|we&1023}if(127>=te){if(S>=R)break;y[S++]=te}else{if(2047>=te){if(S+1>=R)break;y[S++]=192|te>>6}else{if(65535>=te){if(S+2>=R)break;y[S++]=224|te>>12}else{if(S+3>=R)break;y[S++]=240|te>>18,y[S++]=128|te>>12&63}y[S++]=128|te>>6&63}y[S++]=128|te&63}}return y[S]=0,S-V},ia=(h,y)=>{var S=Array(na(h)+1);return h=$n(h,S,0,S.length),y&&(S.length=h),S},so=[];function pr(h,y){so[h]={input:[],output:[],cb:y},As(h,ro)}var ro={open(h){var y=so[h.node.rdev];if(!y)throw new de(43);h.tty=y,h.seekable=!1},close(h){h.tty.cb.fsync(h.tty)},fsync(h){h.tty.cb.fsync(h.tty)},read(h,y,S,R){if(!h.tty||!h.tty.cb.xb)throw new de(60);for(var V=0,F=0;F<R;F++){try{var te=h.tty.cb.xb(h.tty)}catch{throw new de(29)}if(te===void 0&&V===0)throw new de(6);if(te==null)break;V++,y[S+F]=te}return V&&(h.node.atime=Date.now()),V},write(h,y,S,R){if(!h.tty||!h.tty.cb.qb)throw new de(60);try{for(var V=0;V<R;V++)h.tty.cb.qb(h.tty,y[S+V])}catch{throw new de(29)}return R&&(h.node.mtime=h.node.ctime=Date.now()),V}},oo={xb(){e:{if(!ta.length){var h=null;if(O){var y=Buffer.alloc(256),S=0,R=process.stdin.fd;try{S=ge.readSync(R,y,0,256)}catch(V){if(V.toString().includes("EOF"))S=0;else throw V}0<S&&(h=y.slice(0,S).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`));if(!h){h=null;break e}ta=ia(h,!0)}h=ta.shift()}return h},qb(h,y){y===null||y===10?(me(bt(h.output)),h.output=[]):y!=0&&h.output.push(y)},fsync(h){0<h.output?.length&&(me(bt(h.output)),h.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},Ti={qb(h,y){y===null||y===10?(Ce(bt(h.output)),h.output=[]):y!=0&&h.output.push(y)},fsync(h){0<h.output?.length&&(Ce(bt(h.output)),h.output=[])}},De={Wa:null,Xa(){return De.createNode(null,"/",16895,0)},createNode(h,y,S,R){if((S&61440)===24576||(S&61440)===4096)throw new de(63);return De.Wa||(De.Wa={dir:{node:{Ta:De.La.Ta,Ua:De.La.Ua,lookup:De.La.lookup,hb:De.La.hb,rename:De.La.rename,unlink:De.La.unlink,rmdir:De.La.rmdir,readdir:De.La.readdir,symlink:De.La.symlink},stream:{Va:De.Ma.Va}},file:{node:{Ta:De.La.Ta,Ua:De.La.Ua},stream:{Va:De.Ma.Va,read:De.Ma.read,write:De.Ma.write,ib:De.Ma.ib,jb:De.Ma.jb}},link:{node:{Ta:De.La.Ta,Ua:De.La.Ua,readlink:De.La.readlink},stream:{}},ub:{node:{Ta:De.La.Ta,Ua:De.La.Ua},stream:wl}}),S=ws(h,y,S,R),sn(S.mode)?(S.La=De.Wa.dir.node,S.Ma=De.Wa.dir.stream,S.Na={}):(S.mode&61440)===32768?(S.La=De.Wa.file.node,S.Ma=De.Wa.file.stream,S.Ra=0,S.Na=null):(S.mode&61440)===40960?(S.La=De.Wa.link.node,S.Ma=De.Wa.link.stream):(S.mode&61440)===8192&&(S.La=De.Wa.ub.node,S.Ma=De.Wa.ub.stream),S.atime=S.mtime=S.ctime=Date.now(),h&&(h.Na[y]=S,h.atime=h.mtime=h.ctime=S.atime),S},Sb(h){return h.Na?h.Na.subarray?h.Na.subarray(0,h.Ra):new Uint8Array(h.Na):new Uint8Array(0)},La:{Ta(h){var y={};return y.dev=(h.mode&61440)===8192?h.id:1,y.ino=h.id,y.mode=h.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=h.rdev,sn(h.mode)?y.size=4096:(h.mode&61440)===32768?y.size=h.Ra:(h.mode&61440)===40960?y.size=h.link.length:y.size=0,y.atime=new Date(h.atime),y.mtime=new Date(h.mtime),y.ctime=new Date(h.ctime),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},Ua(h,y){for(var S of["mode","atime","mtime","ctime"])y[S]!=null&&(h[S]=y[S]);y.size!==void 0&&(y=y.size,h.Ra!=y&&(y==0?(h.Na=null,h.Ra=0):(S=h.Na,h.Na=new Uint8Array(y),S&&h.Na.set(S.subarray(0,Math.min(y,h.Ra))),h.Ra=y)))},lookup(){throw De.vb},hb(h,y,S,R){return De.createNode(h,y,S,R)},rename(h,y,S){try{var R=Zn(y,S)}catch{}if(R){if(sn(h.mode))for(var V in R.Na)throw new de(55);yr(R)}delete h.parent.Na[h.name],y.Na[S]=h,h.name=S,y.ctime=y.mtime=h.parent.ctime=h.parent.mtime=Date.now()},unlink(h,y){delete h.Na[y],h.ctime=h.mtime=Date.now()},rmdir(h,y){var S=Zn(h,y),R;for(R in S.Na)throw new de(55);delete h.Na[y],h.ctime=h.mtime=Date.now()},readdir(h){return[".","..",...Object.keys(h.Na)]},symlink(h,y,S){return h=De.createNode(h,y,41471,0),h.link=S,h},readlink(h){if((h.mode&61440)!==40960)throw new de(28);return h.link}},Ma:{read(h,y,S,R,V){var F=h.node.Na;if(V>=h.node.Ra)return 0;if(h=Math.min(h.node.Ra-V,R),8<h&&F.subarray)y.set(F.subarray(V,V+h),S);else for(R=0;R<h;R++)y[S+R]=F[V+R];return h},write(h,y,S,R,V,F){if(y.buffer===U.buffer&&(F=!1),!R)return 0;if(h=h.node,h.mtime=h.ctime=Date.now(),y.subarray&&(!h.Na||h.Na.subarray)){if(F)return h.Na=y.subarray(S,S+R),h.Ra=R;if(h.Ra===0&&V===0)return h.Na=y.slice(S,S+R),h.Ra=R;if(V+R<=h.Ra)return h.Na.set(y.subarray(S,S+R),V),R}F=V+R;var te=h.Na?h.Na.length:0;if(te>=F||(F=Math.max(F,te*(1048576>te?2:1.125)>>>0),te!=0&&(F=Math.max(F,256)),te=h.Na,h.Na=new Uint8Array(F),0<h.Ra&&h.Na.set(te.subarray(0,h.Ra),0)),h.Na.subarray&&y.subarray)h.Na.set(y.subarray(S,S+R),V);else for(F=0;F<R;F++)h.Na[V+F]=y[S+F];return h.Ra=Math.max(h.Ra,V+R),R},Va(h,y,S){if(S===1?y+=h.position:S===2&&(h.node.mode&61440)===32768&&(y+=h.node.Ra),0>y)throw new de(28);return y},ib(h,y,S,R,V){if((h.node.mode&61440)!==32768)throw new de(43);if(h=h.node.Na,V&2||!h||h.buffer!==U.buffer){V=!0,R=65536*Math.ceil(y/65536);var F=ba(65536,R);if(F&&j.fill(0,F,F+R),R=F,!R)throw new de(48);h&&((0<S||S+y<h.length)&&(h.subarray?h=h.subarray(S,S+y):h=Array.prototype.slice.call(h,S,S+y)),U.set(h,R))}else V=!1,R=h.byteOffset;return{Kb:R,Ab:V}},jb(h,y,S,R){return De.Ma.write(h,y,0,R,S,!1),0}}},Wn=(h,y)=>{var S=0;return h&&(S|=365),y&&(S|=146),S},Vt=null,gr={},bi=[],lo=1,mn=null,ga=!1,Gt=!0,Si={},de=class{name="ErrnoError";constructor(h){this.Pa=h}},wi=class{gb={};node=null;get flags(){return this.gb.flags}set flags(h){this.gb.flags=h}get position(){return this.gb.position}set position(h){this.gb.position=h}},Sl=class{La={};Ma={};ab=null;constructor(h,y,S,R){h||=this,this.parent=h,this.Xa=h.Xa,this.id=lo++,this.name=y,this.mode=S,this.rdev=R,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function Rn(h,y={}){if(!h)throw new de(44);y.nb??(y.nb=!0),h.charAt(0)==="/"||(h="//"+h);var S=0;e:for(;40>S;S++){h=h.split("/").filter(we=>!!we);for(var R=Vt,V="/",F=0;F<h.length;F++){var te=F===h.length-1;if(te&&y.parent)break;if(h[F]!==".")if(h[F]==="..")V=$t(V),R=R.parent;else{V=Pt(V+"/"+h[F]);try{R=Zn(R,h[F])}catch(we){if(we?.Pa===44&&te&&y.Jb)return{path:V};throw we}if(!R.ab||te&&!y.nb||(R=R.ab.root),(R.mode&61440)===40960&&(!te||y.$a)){if(!R.La.readlink)throw new de(52);R=R.La.readlink(R),R.charAt(0)==="/"||(R=$t(V)+"/"+R),h=R+"/"+h.slice(F+1).join("/");continue e}}}return{path:V,node:R}}throw new de(32)}function li(h){for(var y;;){if(h===h.parent)return h=h.Xa.zb,y?h[h.length-1]!=="/"?`${h}/${y}`:h+y:h;y=y?`${h.name}/${y}`:h.name,h=h.parent}}function aa(h,y){for(var S=0,R=0;R<y.length;R++)S=(S<<5)-S+y.charCodeAt(R)|0;return(h+S>>>0)%mn.length}function yr(h){var y=aa(h.parent.id,h.name);if(mn[y]===h)mn[y]=h.bb;else for(y=mn[y];y;){if(y.bb===h){y.bb=h.bb;break}y=y.bb}}function Zn(h,y){var S=sn(h.mode)?(S=Bn(h,"x"))?S:h.La.lookup?0:2:54;if(S)throw new de(S);for(S=mn[aa(h.id,y)];S;S=S.bb){var R=S.name;if(S.parent.id===h.id&&R===y)return S}return h.La.lookup(h,y)}function ws(h,y,S,R){return h=new Sl(h,y,S,R),y=aa(h.parent.id,h.name),h.bb=mn[y],mn[y]=h}function sn(h){return(h&61440)===16384}function ya(h){var y=["r","w","rw"][h&3];return h&512&&(y+="w"),y}function Bn(h,y){if(Gt)return 0;if(!y.includes("r")||h.mode&292){if(y.includes("w")&&!(h.mode&146)||y.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function _r(h,y){if(!sn(h.mode))return 54;try{return Zn(h,y),20}catch{}return Bn(h,"wx")}function ui(h,y,S){try{var R=Zn(h,y)}catch(V){return V.Pa}if(h=Bn(h,"wx"))return h;if(S){if(!sn(R.mode))return 54;if(R===R.parent||li(R)==="/")return 10}else if(sn(R.mode))return 31;return 0}function Pn(h){if(!h)throw new de(63);return h}function tt(h){if(h=bi[h],!h)throw new de(8);return h}function Jt(h,y=-1){if(h=Object.assign(new wi,h),y==-1)e:{for(y=0;4096>=y;y++)if(!bi[y])break e;throw new de(33)}return h.fd=y,bi[y]=h}function Li(h,y=-1){return h=Jt(h,y),h.Ma?.Rb?.(h),h}function _a(h,y,S){var R=h?.Ma.Ua;h=R?h:y,R??=y.La.Ua,Pn(R),R(h,S)}var wl={open(h){h.Ma=gr[h.node.rdev].Ma,h.Ma.open?.(h)},Va(){throw new de(70)}};function As(h,y){gr[h]={Ma:y}}function vr(h,y){var S=y==="/";if(S&&Vt)throw new de(10);if(!S&&y){var R=Rn(y,{nb:!1});if(y=R.path,R=R.node,R.ab)throw new de(10);if(!sn(R.mode))throw new de(54)}y={type:h,Wb:{},zb:y,Ib:[]},h=h.Xa(y),h.Xa=y,y.root=h,S?Vt=h:R&&(R.ab=y,R.Xa&&R.Xa.Ib.push(y))}function Jn(h,y,S){var R=Rn(h,{parent:!0}).node;if(h=Ei(h),!h)throw new de(28);if(h==="."||h==="..")throw new de(20);var V=_r(R,h);if(V)throw new de(V);if(!R.La.hb)throw new de(63);return R.La.hb(R,h,y,S)}function Rs(h,y=438){return Jn(h,y&4095|32768,0)}function en(h,y=511){return Jn(h,y&1023|16384,0)}function Nn(h,y,S){typeof S>"u"&&(S=y,y=438),Jn(h,y|8192,S)}function Cn(h,y){if(!An(h))throw new de(44);var S=Rn(y,{parent:!0}).node;if(!S)throw new de(44);y=Ei(y);var R=_r(S,y);if(R)throw new de(R);if(!S.La.symlink)throw new de(63);S.La.symlink(S,y,h)}function Ai(h){var y=Rn(h,{parent:!0}).node;h=Ei(h);var S=Zn(y,h),R=ui(y,h,!0);if(R)throw new de(R);if(!y.La.rmdir)throw new de(63);if(S.ab)throw new de(10);y.La.rmdir(y,h),yr(S)}function Qt(h){var y=Rn(h,{parent:!0}).node;if(!y)throw new de(44);h=Ei(h);var S=Zn(y,h),R=ui(y,h,!1);if(R)throw new de(R);if(!y.La.unlink)throw new de(63);if(S.ab)throw new de(10);y.La.unlink(y,h),yr(S)}function sa(h,y){return h=Rn(h,{$a:!y}).node,Pn(h.La.Ta)(h)}function Ns(h,y,S,R){_a(h,y,{mode:S&4095|y.mode&-4096,ctime:Date.now(),Fb:R})}function ei(h,y){h=typeof h=="string"?Rn(h,{$a:!0}).node:h,Ns(null,h,y)}function Ri(h,y,S){if(sn(y.mode))throw new de(31);if((y.mode&61440)!==32768)throw new de(28);var R=Bn(y,"w");if(R)throw new de(R);_a(h,y,{size:S,timestamp:Date.now()})}function ki(h,y,S=438){if(h==="")throw new de(44);if(typeof y=="string"){var R={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[y];if(typeof R>"u")throw Error(`Unknown file open mode: ${y}`);y=R}if(S=y&64?S&4095|32768:0,typeof h=="object")R=h;else{var V=h.endsWith("/");h=Rn(h,{$a:!(y&131072),Jb:!0}),R=h.node,h=h.path}var F=!1;if(y&64)if(R){if(y&128)throw new de(20)}else{if(V)throw new de(31);R=Jn(h,S|511,0),F=!0}if(!R)throw new de(44);if((R.mode&61440)===8192&&(y&=-513),y&65536&&!sn(R.mode))throw new de(54);if(!F&&(V=R?(R.mode&61440)===40960?32:sn(R.mode)&&(ya(y)!=="r"||y&576)?31:Bn(R,ya(y)):44))throw new de(V);return y&512&&!F&&(V=R,V=typeof V=="string"?Rn(V,{$a:!0}).node:V,Ri(null,V,0)),y&=-131713,V=Jt({node:R,path:li(R),flags:y,seekable:!0,position:0,Ma:R.Ma,Lb:[],error:!1}),V.Ma.open&&V.Ma.open(V),F&&ei(R,S&511),!g.logReadFiles||y&1||h in Si||(Si[h]=1),V}function Ba(h){if(h.fd===null)throw new de(8);h.ob&&(h.ob=null);try{h.Ma.close&&h.Ma.close(h)}catch(y){throw y}finally{bi[h.fd]=null}h.fd=null}function Cs(h,y,S){if(h.fd===null)throw new de(8);if(!h.seekable||!h.Ma.Va)throw new de(70);if(S!=0&&S!=1&&S!=2)throw new de(28);h.position=h.Ma.Va(h,y,S),h.Lb=[]}function Er(h,y,S,R,V){if(0>R||0>V)throw new de(28);if(h.fd===null)throw new de(8);if((h.flags&2097155)===1)throw new de(8);if(sn(h.node.mode))throw new de(31);if(!h.Ma.read)throw new de(28);var F=typeof V<"u";if(!F)V=h.position;else if(!h.seekable)throw new de(70);return y=h.Ma.read(h,y,S,R,V),F||(h.position+=y),y}function Pa(h,y,S,R,V){if(0>R||0>V)throw new de(28);if(h.fd===null)throw new de(8);if((h.flags&2097155)===0)throw new de(8);if(sn(h.node.mode))throw new de(31);if(!h.Ma.write)throw new de(28);h.seekable&&h.flags&1024&&Cs(h,0,2);var F=typeof V<"u";if(!F)V=h.position;else if(!h.seekable)throw new de(70);return y=h.Ma.write(h,y,S,R,V,void 0),F||(h.position+=y),y}function ti(h){var y,S=ki(h,S||0);h=sa(h).size;var R=new Uint8Array(h);return Er(S,R,0,h,0),y=R,Ba(S),y}function At(h,y,S){h=Pt("/dev/"+h);var R=Wn(!!y,!!S);At.yb??(At.yb=64);var V=At.yb++<<8|0;As(V,{open(F){F.seekable=!1},close(){S?.buffer?.length&&S(10)},read(F,te,we,Oe){for(var Ve=0,pt=0;pt<Oe;pt++){try{var Xt=y()}catch{throw new de(29)}if(Xt===void 0&&Ve===0)throw new de(6);if(Xt==null)break;Ve++,te[we+pt]=Xt}return Ve&&(F.node.atime=Date.now()),Ve},write(F,te,we,Oe){for(var Ve=0;Ve<Oe;Ve++)try{S(te[we+Ve])}catch{throw new de(29)}return Oe&&(F.node.mtime=F.node.ctime=Date.now()),Ve}}),Nn(h,R,V)}var He={};function zn(h,y,S){if(y.charAt(0)==="/")return y;if(h=h===-100?"/":tt(h).path,y.length==0){if(!S)throw new de(44);return h}return h+"/"+y}function va(h,y){C[h>>2]=y.dev,C[h+4>>2]=y.mode,_e[h+8>>2]=y.nlink,C[h+12>>2]=y.uid,C[h+16>>2]=y.gid,C[h+20>>2]=y.rdev,P[h+24>>3]=BigInt(y.size),C[h+32>>2]=4096,C[h+36>>2]=y.blocks;var S=y.atime.getTime(),R=y.mtime.getTime(),V=y.ctime.getTime();return P[h+40>>3]=BigInt(Math.floor(S/1e3)),_e[h+48>>2]=S%1e3*1e6,P[h+56>>3]=BigInt(Math.floor(R/1e3)),_e[h+64>>2]=R%1e3*1e6,P[h+72>>3]=BigInt(Math.floor(V/1e3)),_e[h+80>>2]=V%1e3*1e6,P[h+88>>3]=BigInt(y.ino),0}var ct=void 0,Vi=()=>{var h=C[+ct>>2];return ct+=4,h},ci=0,za=[0,31,60,91,121,152,182,213,244,274,305,335],Hn=[0,31,59,90,120,151,181,212,243,273,304,334],Ui={},Tr=h=>{L=h,pa||0<ci||(g.onExit?.(h),I=!0),Y(h,new $e(h))},br=h=>{if(!I)try{if(h(),!(pa||0<ci))try{L=h=L,Tr(h)}catch(y){y instanceof $e||y=="unwind"||Y(1,y)}}catch(y){y instanceof $e||y=="unwind"||Y(1,y)}},qi={},Sr=()=>{if(!Bi){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ae||"./this.program"},y;for(y in qi)qi[y]===void 0?delete h[y]:h[y]=qi[y];var S=[];for(y in h)S.push(`${y}=${h[y]}`);Bi=S}return Bi},Bi,_n=h=>{var y=na(h)+1,S=rn(y);return $n(h,j,S,y),S},uo=(h,y,S,R)=>{var V={string:Ve=>{var pt=0;return Ve!=null&&Ve!==0&&(pt=_n(Ve)),pt},array:Ve=>{var pt=rn(Ve.length);return U.set(Ve,pt),pt}};h=g["_"+h];var F=[],te=0;if(R)for(var we=0;we<R.length;we++){var Oe=V[S[we]];Oe?(te===0&&(te=En()),F[we]=Oe(R[we])):F[we]=R[we]}return S=h(...F),S=(function(Ve){return te!==0&&hi(te),y==="string"?Ve?bt(j,Ve):"":y==="boolean"?!!Ve:Ve})(S)},Ea=0,Ta=(h,y)=>(y=y==1?rn(h.length):Pi(h.length),h.subarray||h.slice||(h=new Uint8Array(h)),j.set(h,y),y),fi,xs=[],vn,ni=h=>{fi.delete(vn.get(h)),vn.set(h,null),xs.push(h)},xn=(h,y)=>{if(!fi){fi=new WeakMap;var S=vn.length;if(fi)for(var R=0;R<0+S;R++){var V=vn.get(R);V&&fi.set(V,R)}}if(S=fi.get(h)||0)return S;if(xs.length)S=xs.pop();else{try{vn.grow(1)}catch(Oe){throw Oe instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Oe}S=vn.length-1}try{vn.set(S,h)}catch(Oe){if(!(Oe instanceof TypeError))throw Oe;if(typeof WebAssembly.Function=="function"){var F=WebAssembly.Function;R={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},V={parameters:[],results:y[0]=="v"?[]:[R[y[0]]]};for(var te=1;te<y.length;++te)V.parameters.push(R[y[te]]);y=new F(V,h)}else{R=[1],V=y.slice(0,1),y=y.slice(1),te={i:127,p:127,j:126,f:125,d:124,e:111},R.push(96);var we=y.length;128>we?R.push(we):R.push(we%128|128,we>>7);for(F of y)R.push(te[F]);V=="v"?R.push(0):R.push(1,te[V]),y=[0,97,115,109,1,0,0,0,1],F=R.length,128>F?y.push(F):y.push(F%128|128,F>>7),y.push(...R),y.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),y=new WebAssembly.Module(new Uint8Array(y)),y=new WebAssembly.Instance(y,{e:{f:h}}).exports.f}vn.set(S,y)}return fi.set(h,S),S};mn=Array(4096),vr(De,"/"),en("/tmp"),en("/home"),en("/home/web_user"),(function(){en("/dev"),As(259,{read:()=>0,write:(R,V,F,te)=>te,Va:()=>0}),Nn("/dev/null",259),pr(1280,oo),pr(1536,Ti),Nn("/dev/tty",1280),Nn("/dev/tty1",1536);var h=new Uint8Array(1024),y=0,S=()=>(y===0&&(mr(h),y=h.byteLength),h[--y]);At("random",S),At("urandom",S),en("/dev/shm"),en("/dev/shm/tmp")})(),(function(){en("/proc");var h=en("/proc/self");en("/proc/self/fd"),vr({Xa(){var y=ws(h,"fd",16895,73);return y.Ma={Va:De.Ma.Va},y.La={lookup(S,R){S=+R;var V=tt(S);return S={parent:null,Xa:{zb:"fake"},La:{readlink:()=>V.path},id:S+1},S.parent=S},readdir(){return Array.from(bi.entries()).filter(([,S])=>S).map(([S])=>S.toString())}},y}},"/proc/self/fd")})(),De.vb=new de(44),De.vb.stack="<generic error, no stack>";var wr={a:(h,y,S,R)=>se(`Assertion failed: ${h?bt(j,h):""}, at: `+[y?y?bt(j,y):"":"unknown filename",S,R?R?bt(j,R):"":"unknown function"]),i:function(h,y){try{return h=h?bt(j,h):"",ei(h,y),0}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},L:function(h,y,S){try{if(y=y?bt(j,y):"",y=zn(h,y),S&-8)return-28;var R=Rn(y,{$a:!0}).node;return R?(h="",S&4&&(h+="r"),S&2&&(h+="w"),S&1&&(h+="x"),h&&Bn(R,h)?-2:0):-44}catch(V){if(typeof He>"u"||V.name!=="ErrnoError")throw V;return-V.Pa}},j:function(h,y){try{var S=tt(h);return Ns(S,S.node,y,!1),0}catch(R){if(typeof He>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},h:function(h){try{var y=tt(h);return _a(y,y.node,{timestamp:Date.now(),Fb:!1}),0}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},b:function(h,y,S){ct=S;try{var R=tt(h);switch(y){case 0:var V=Vi();if(0>V)break;for(;bi[V];)V++;return Li(R,V).fd;case 1:case 2:return 0;case 3:return R.flags;case 4:return V=Vi(),R.flags|=V,0;case 12:return V=Vi(),D[V+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(F){if(typeof He>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},g:function(h,y){try{var S=tt(h),R=S.node,V=S.Ma.Ta;h=V?S:R,V??=R.La.Ta,Pn(V);var F=V(h);return va(y,F)}catch(te){if(typeof He>"u"||te.name!=="ErrnoError")throw te;return-te.Pa}},H:function(h,y){y=-9007199254740992>y||9007199254740992<y?NaN:Number(y);try{if(isNaN(y))return 61;var S=tt(h);if(0>y||(S.flags&2097155)===0)throw new de(28);return Ri(S,S.node,y),0}catch(R){if(typeof He>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},G:function(h,y){try{if(y===0)return-28;var S=na("/")+1;return y<S?-68:($n("/",j,h,y),S)}catch(R){if(typeof He>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},K:function(h,y){try{return h=h?bt(j,h):"",va(y,sa(h,!0))}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},C:function(h,y,S){try{return y=y?bt(j,y):"",y=zn(h,y),en(y,S),0}catch(R){if(typeof He>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},J:function(h,y,S,R){try{y=y?bt(j,y):"";var V=R&256;return y=zn(h,y,R&4096),va(S,V?sa(y,!0):sa(y))}catch(F){if(typeof He>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},x:function(h,y,S,R){ct=R;try{y=y?bt(j,y):"",y=zn(h,y);var V=R?Vi():0;return ki(y,S,V).fd}catch(F){if(typeof He>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},v:function(h,y,S,R){try{if(y=y?bt(j,y):"",y=zn(h,y),0>=R)return-28;var V=Rn(y).node;if(!V)throw new de(44);if(!V.La.readlink)throw new de(28);var F=V.La.readlink(V),te=Math.min(R,na(F)),we=U[S+te];return $n(F,j,S,R+1),U[S+te]=we,te}catch(Oe){if(typeof He>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Pa}},u:function(h){try{return h=h?bt(j,h):"",Ai(h),0}catch(y){if(typeof He>"u"||y.name!=="ErrnoError")throw y;return-y.Pa}},f:function(h,y){try{return h=h?bt(j,h):"",va(y,sa(h))}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},r:function(h,y,S){try{return y=y?bt(j,y):"",y=zn(h,y),S===0?Qt(y):S===512?Ai(y):se("Invalid flags passed to unlinkat"),0}catch(R){if(typeof He>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},q:function(h,y,S){try{y=y?bt(j,y):"",y=zn(h,y,!0);var R=Date.now(),V,F;if(S){var te=_e[S>>2]+4294967296*C[S+4>>2],we=C[S+8>>2];we==1073741823?V=R:we==1073741822?V=null:V=1e3*te+we/1e6,S+=16,te=_e[S>>2]+4294967296*C[S+4>>2],we=C[S+8>>2],we==1073741823?F=R:we==1073741822?F=null:F=1e3*te+we/1e6}else F=V=R;if((F??V)!==null){h=V;var Oe=Rn(y,{$a:!0}).node;Pn(Oe.La.Ua)(Oe,{atime:h,mtime:F})}return 0}catch(Ve){if(typeof He>"u"||Ve.name!=="ErrnoError")throw Ve;return-Ve.Pa}},m:()=>se(""),l:()=>{pa=!1,ci=0},A:function(h,y){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h),h=new Date(1e3*h),C[y>>2]=h.getSeconds(),C[y+4>>2]=h.getMinutes(),C[y+8>>2]=h.getHours(),C[y+12>>2]=h.getDate(),C[y+16>>2]=h.getMonth(),C[y+20>>2]=h.getFullYear()-1900,C[y+24>>2]=h.getDay();var S=h.getFullYear();C[y+28>>2]=(S%4!==0||S%100===0&&S%400!==0?Hn:za)[h.getMonth()]+h.getDate()-1|0,C[y+36>>2]=-(60*h.getTimezoneOffset()),S=new Date(h.getFullYear(),6,1).getTimezoneOffset();var R=new Date(h.getFullYear(),0,1).getTimezoneOffset();C[y+32>>2]=(S!=R&&h.getTimezoneOffset()==Math.min(R,S))|0},y:function(h,y,S,R,V,F,te){V=-9007199254740992>V||9007199254740992<V?NaN:Number(V);try{if(isNaN(V))return 61;var we=tt(R);if((y&2)!==0&&(S&2)===0&&(we.flags&2097155)!==2)throw new de(2);if((we.flags&2097155)===1)throw new de(2);if(!we.Ma.ib)throw new de(43);if(!h)throw new de(28);var Oe=we.Ma.ib(we,h,V,y,S),Ve=Oe.Kb;return C[F>>2]=Oe.Ab,_e[te>>2]=Ve,0}catch(pt){if(typeof He>"u"||pt.name!=="ErrnoError")throw pt;return-pt.Pa}},z:function(h,y,S,R,V,F){F=-9007199254740992>F||9007199254740992<F?NaN:Number(F);try{var te=tt(V);if(S&2){if(S=F,(te.node.mode&61440)!==32768)throw new de(43);if(!(R&2)){var we=j.slice(h,h+y);te.Ma.jb&&te.Ma.jb(te,we,S,y,R)}}}catch(Oe){if(typeof He>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Pa}},n:(h,y)=>{if(Ui[h]&&(clearTimeout(Ui[h].id),delete Ui[h]),!y)return 0;var S=setTimeout(()=>{delete Ui[h],br(()=>Ha(h,performance.now()))},y);return Ui[h]={id:S,Xb:y},0},B:(h,y,S,R)=>{var V=new Date().getFullYear(),F=new Date(V,0,1).getTimezoneOffset();V=new Date(V,6,1).getTimezoneOffset(),_e[h>>2]=60*Math.max(F,V),C[y>>2]=+(F!=V),y=te=>{var we=Math.abs(te);return`UTC${0<=te?"-":"+"}${String(Math.floor(we/60)).padStart(2,"0")}${String(we%60).padStart(2,"0")}`},h=y(F),y=y(V),V<F?($n(h,j,S,17),$n(y,j,R,17)):($n(h,j,R,17),$n(y,j,S,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:h=>{var y=j.length;if(h>>>=0,2147483648<h)return!1;for(var S=1;4>=S;S*=2){var R=y*(1+.2/S);R=Math.min(R,h+100663296);e:{R=(Math.min(2147483648,65536*Math.ceil(Math.max(h,R)/65536))-M.buffer.byteLength+65535)/65536|0;try{M.grow(R),et();var V=1;break e}catch{}V=void 0}if(V)return!0}return!1},E:(h,y)=>{var S=0;return Sr().forEach((R,V)=>{var F=y+S;for(V=_e[h+4*V>>2]=F,F=0;F<R.length;++F)U[V++]=R.charCodeAt(F);U[V]=0,S+=R.length+1}),0},F:(h,y)=>{var S=Sr();_e[h>>2]=S.length;var R=0;return S.forEach(V=>R+=V.length+1),_e[y>>2]=R,0},e:function(h){try{var y=tt(h);return Ba(y),0}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},p:function(h,y){try{var S=tt(h);return U[y]=S.tty?2:sn(S.mode)?3:(S.mode&61440)===40960?7:4,D[y+2>>1]=0,P[y+8>>3]=BigInt(0),P[y+16>>3]=BigInt(0),0}catch(R){if(typeof He>"u"||R.name!=="ErrnoError")throw R;return R.Pa}},w:function(h,y,S,R){try{e:{var V=tt(h);h=y;for(var F,te=y=0;te<S;te++){var we=_e[h>>2],Oe=_e[h+4>>2];h+=8;var Ve=Er(V,U,we,Oe,F);if(0>Ve){var pt=-1;break e}if(y+=Ve,Ve<Oe)break;typeof F<"u"&&(F+=Ve)}pt=y}return _e[R>>2]=pt,0}catch(Xt){if(typeof He>"u"||Xt.name!=="ErrnoError")throw Xt;return Xt.Pa}},D:function(h,y,S,R){y=-9007199254740992>y||9007199254740992<y?NaN:Number(y);try{if(isNaN(y))return 61;var V=tt(h);return Cs(V,y,S),P[R>>3]=BigInt(V.position),V.ob&&y===0&&S===0&&(V.ob=null),0}catch(F){if(typeof He>"u"||F.name!=="ErrnoError")throw F;return F.Pa}},I:function(h){try{var y=tt(h);return y.Ma?.fsync?y.Ma.fsync(y):0}catch(S){if(typeof He>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},t:function(h,y,S,R){try{e:{var V=tt(h);h=y;for(var F,te=y=0;te<S;te++){var we=_e[h>>2],Oe=_e[h+4>>2];h+=8;var Ve=Pa(V,U,we,Oe,F);if(0>Ve){var pt=-1;break e}if(y+=Ve,Ve<Oe)break;typeof F<"u"&&(F+=Ve)}pt=y}return _e[R>>2]=pt,0}catch(Xt){if(typeof He>"u"||Xt.name!=="ErrnoError")throw Xt;return Xt.Pa}},k:Tr},Te;(async function(){function h(S){return Te=S.exports,M=Te.M,et(),vn=Te.O,We--,g.monitorRunDependencies?.(We),We==0&&q&&(S=q,q=null,S()),Te}We++,g.monitorRunDependencies?.(We);var y={a:wr};return g.instantiateWasm?new Promise(S=>{g.instantiateWasm(y,(R,V)=>{h(R),S(R.exports)})}):(ye??=g.locateFile?g.locateFile("sql-wasm.wasm",W):W+"sql-wasm.wasm",h((await Xe(y)).instance))})(),g._sqlite3_free=h=>(g._sqlite3_free=Te.P)(h),g._sqlite3_value_text=h=>(g._sqlite3_value_text=Te.Q)(h),g._sqlite3_prepare_v2=(h,y,S,R,V)=>(g._sqlite3_prepare_v2=Te.R)(h,y,S,R,V),g._sqlite3_step=h=>(g._sqlite3_step=Te.S)(h),g._sqlite3_reset=h=>(g._sqlite3_reset=Te.T)(h),g._sqlite3_exec=(h,y,S,R,V)=>(g._sqlite3_exec=Te.U)(h,y,S,R,V),g._sqlite3_finalize=h=>(g._sqlite3_finalize=Te.V)(h),g._sqlite3_column_name=(h,y)=>(g._sqlite3_column_name=Te.W)(h,y),g._sqlite3_column_text=(h,y)=>(g._sqlite3_column_text=Te.X)(h,y),g._sqlite3_column_type=(h,y)=>(g._sqlite3_column_type=Te.Y)(h,y),g._sqlite3_errmsg=h=>(g._sqlite3_errmsg=Te.Z)(h),g._sqlite3_clear_bindings=h=>(g._sqlite3_clear_bindings=Te._)(h),g._sqlite3_value_blob=h=>(g._sqlite3_value_blob=Te.$)(h),g._sqlite3_value_bytes=h=>(g._sqlite3_value_bytes=Te.aa)(h),g._sqlite3_value_double=h=>(g._sqlite3_value_double=Te.ba)(h),g._sqlite3_value_int=h=>(g._sqlite3_value_int=Te.ca)(h),g._sqlite3_value_type=h=>(g._sqlite3_value_type=Te.da)(h),g._sqlite3_result_blob=(h,y,S,R)=>(g._sqlite3_result_blob=Te.ea)(h,y,S,R),g._sqlite3_result_double=(h,y)=>(g._sqlite3_result_double=Te.fa)(h,y),g._sqlite3_result_error=(h,y,S)=>(g._sqlite3_result_error=Te.ga)(h,y,S),g._sqlite3_result_int=(h,y)=>(g._sqlite3_result_int=Te.ha)(h,y),g._sqlite3_result_int64=(h,y)=>(g._sqlite3_result_int64=Te.ia)(h,y),g._sqlite3_result_null=h=>(g._sqlite3_result_null=Te.ja)(h),g._sqlite3_result_text=(h,y,S,R)=>(g._sqlite3_result_text=Te.ka)(h,y,S,R),g._sqlite3_aggregate_context=(h,y)=>(g._sqlite3_aggregate_context=Te.la)(h,y),g._sqlite3_column_count=h=>(g._sqlite3_column_count=Te.ma)(h),g._sqlite3_data_count=h=>(g._sqlite3_data_count=Te.na)(h),g._sqlite3_column_blob=(h,y)=>(g._sqlite3_column_blob=Te.oa)(h,y),g._sqlite3_column_bytes=(h,y)=>(g._sqlite3_column_bytes=Te.pa)(h,y),g._sqlite3_column_double=(h,y)=>(g._sqlite3_column_double=Te.qa)(h,y),g._sqlite3_bind_blob=(h,y,S,R,V)=>(g._sqlite3_bind_blob=Te.ra)(h,y,S,R,V),g._sqlite3_bind_double=(h,y,S)=>(g._sqlite3_bind_double=Te.sa)(h,y,S),g._sqlite3_bind_int=(h,y,S)=>(g._sqlite3_bind_int=Te.ta)(h,y,S),g._sqlite3_bind_text=(h,y,S,R,V)=>(g._sqlite3_bind_text=Te.ua)(h,y,S,R,V),g._sqlite3_bind_parameter_index=(h,y)=>(g._sqlite3_bind_parameter_index=Te.va)(h,y),g._sqlite3_sql=h=>(g._sqlite3_sql=Te.wa)(h),g._sqlite3_normalized_sql=h=>(g._sqlite3_normalized_sql=Te.xa)(h),g._sqlite3_changes=h=>(g._sqlite3_changes=Te.ya)(h),g._sqlite3_close_v2=h=>(g._sqlite3_close_v2=Te.za)(h),g._sqlite3_create_function_v2=(h,y,S,R,V,F,te,we,Oe)=>(g._sqlite3_create_function_v2=Te.Aa)(h,y,S,R,V,F,te,we,Oe),g._sqlite3_update_hook=(h,y,S)=>(g._sqlite3_update_hook=Te.Ba)(h,y,S),g._sqlite3_open=(h,y)=>(g._sqlite3_open=Te.Ca)(h,y);var Pi=g._malloc=h=>(Pi=g._malloc=Te.Da)(h),ii=g._free=h=>(ii=g._free=Te.Ea)(h);g._RegisterExtensionFunctions=h=>(g._RegisterExtensionFunctions=Te.Fa)(h);var ba=(h,y)=>(ba=Te.Ga)(h,y),Ha=(h,y)=>(Ha=Te.Ha)(h,y),hi=h=>(hi=Te.Ia)(h),rn=h=>(rn=Te.Ja)(h),En=()=>(En=Te.Ka)();g.stackSave=()=>En(),g.stackRestore=h=>hi(h),g.stackAlloc=h=>rn(h),g.cwrap=(h,y,S,R)=>{var V=!S||S.every(F=>F==="number"||F==="boolean");return y!=="string"&&V&&!R?g["_"+h]:(...F)=>uo(h,y,S,F)},g.addFunction=xn,g.removeFunction=ni,g.UTF8ToString=qa,g.ALLOC_NORMAL=Ea,g.allocate=Ta,g.allocateUTF8OnStack=_n;function ra(){function h(){if(g.calledRun=!0,!I){if(!g.noFSInit&&!ga){var y,S;ga=!0,R??=g.stdin,y??=g.stdout,S??=g.stderr,R?At("stdin",R):Cn("/dev/tty","/dev/stdin"),y?At("stdout",null,y):Cn("/dev/tty","/dev/stdout"),S?At("stderr",null,S):Cn("/dev/tty1","/dev/stderr"),ki("/dev/stdin",0),ki("/dev/stdout",1),ki("/dev/stderr",1)}if(Te.N(),Gt=!1,g.onRuntimeInitialized?.(),g.postRun)for(typeof g.postRun=="function"&&(g.postRun=[g.postRun]);g.postRun.length;){var R=g.postRun.shift();jt.unshift(R)}Kt(jt)}}if(0<We)q=ra;else{if(g.preRun)for(typeof g.preRun=="function"&&(g.preRun=[g.preRun]);g.preRun.length;)Ts();Kt(ma),0<We?q=ra:g.setStatus?(g.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>g.setStatus(""),1),h()},1)):h()}}if(g.preInit)for(typeof g.preInit=="function"&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();return ra(),v}),i)};a.exports=r,a.exports.default=r})(Hd)),Hd.exports}var dS=hS();const q0=Z1(dS),mS=`
CREATE TABLE IF NOT EXISTS domains (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL,
  icon TEXT NOT NULL,
  color TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS goals (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  domain_id INTEGER NOT NULL REFERENCES domains(id),
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS quests (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  goal_id INTEGER NOT NULL REFERENCES goals(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS steps (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  quest_id INTEGER NOT NULL REFERENCES quests(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'pending',
  sort_order INTEGER NOT NULL DEFAULT 0,
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS buff_definitions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  type TEXT NOT NULL DEFAULT 'buff',
  icon TEXT NOT NULL DEFAULT '',
  duration_hours INTEGER NOT NULL DEFAULT 24,
  stat_effects TEXT NOT NULL DEFAULT '{}',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS buff_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  definition_id INTEGER NOT NULL REFERENCES buff_definitions(id) ON DELETE CASCADE,
  activated_at TEXT NOT NULL DEFAULT (datetime('now')),
  expires_at TEXT NOT NULL,
  is_active INTEGER NOT NULL DEFAULT 1
);

CREATE TABLE IF NOT EXISTS character (
  id INTEGER PRIMARY KEY CHECK (id = 1),
  name TEXT NOT NULL DEFAULT 'Adventurer',
  total_xp INTEGER NOT NULL DEFAULT 0,
  level INTEGER NOT NULL DEFAULT 1,
  title TEXT NOT NULL DEFAULT 'Novice',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS xp_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  amount INTEGER NOT NULL,
  reason TEXT NOT NULL,
  source_type TEXT NOT NULL,
  source_id INTEGER,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS planner_events (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  date TEXT NOT NULL,
  start_time TEXT,
  end_time TEXT,
  quest_id INTEGER REFERENCES quests(id) ON DELETE SET NULL,
  step_id INTEGER REFERENCES steps(id) ON DELETE SET NULL,
  is_completed INTEGER NOT NULL DEFAULT 0,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);
`,pS=`
INSERT OR IGNORE INTO domains (id, name, icon, color) VALUES
  (1, 'Health', '', '#e74c3c'),
  (2, 'Career', '', '#c8a84e'),
  (3, 'Learning', '', '#3498db'),
  (4, 'Social', '', '#e67e22'),
  (5, 'Finance', '', '#2ecc71'),
  (6, 'Creative', '', '#9b59b6'),
  (7, 'Spiritual', '', '#1abc9c'),
  (8, 'Home', '', '#95a5a6');
`,gS=`
INSERT OR IGNORE INTO character (id, name, total_xp, level, title)
VALUES (1, 'Adventurer', 0, 1, 'Novice');
`,yS="goal-game-db",rl="database",B0="main";let oi=null;function P0(){return new Promise((a,e)=>{const i=indexedDB.open(yS,1);i.onupgradeneeded=()=>{const r=i.result;r.objectStoreNames.contains(rl)||r.createObjectStore(rl)},i.onsuccess=()=>a(i.result),i.onerror=()=>e(i.error)})}async function _S(){const a=await P0();return new Promise((e,i)=>{const r=a.transaction(rl,"readonly"),c=r.objectStore(rl).get(B0);c.onsuccess=()=>e(c.result??null),c.onerror=()=>i(c.error),r.oncomplete=()=>a.close()})}async function vS(a){const e=await P0();return new Promise((i,r)=>{const l=e.transaction(rl,"readwrite");l.objectStore(rl).put(a,B0),l.oncomplete=()=>{e.close(),i()},l.onerror=()=>r(l.error)})}async function ES(){if(oi)return oi;const a=await q0({locateFile:()=>"/goal-game/sql-wasm.wasm"}),e=await _S();return e?oi=new a.Database(e):oi=new a.Database,oi.run(mS),oi.run(pS),oi.run(gS),await vt(),oi}async function vt(){if(!oi)return;const a=oi.export();await vS(a)}function ze(){if(!oi)throw new Error("Database not initialized. Call getDatabase() first.");return oi}async function qm(){return ze().export()}async function z0(a){const e=await q0({locateFile:()=>"/goal-game/sql-wasm.wasm"});oi&&oi.close(),oi=new e.Database(a),await vt()}const Fd="migration_feb2026_billing_v1";async function TS(){if(localStorage.getItem(Fd))return!1;const a=ze(),e=a.exec("SELECT id FROM goals WHERE title = 'Bill 190 Hours - February 2026'");if(e.length>0&&e[0].values.length>0)return localStorage.setItem(Fd,"true"),!1;a.run(`
    INSERT INTO goals (domain_id, title, description, status)
    VALUES (2, 'Bill 190 Hours - February 2026', 'Target: 8 hours on weekdays, ~4.5 hours on weekends. Started with 8 hours billed.', 'active')
  `);const r=a.exec("SELECT last_insert_rowid() as id")[0].values[0][0],l=[{title:"Week 1: Feb 3-9",description:"First partial week. Target: ~41 hours (4 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-03",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-04",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-05",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-06",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-07",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-08",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 2: Feb 9-15",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-09",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-10",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-11",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-12",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-13",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-14",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-15",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 3: Feb 16-22",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-16",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-17",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-18",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-19",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-20",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-21",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-22",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 4: Feb 23-28",description:"Final partial week. Target: ~44.5 hours (5 weekdays  8 + 1 weekend day  4.5)",days:[{date:"2026-02-23",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-24",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-25",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-26",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-27",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-28",day:"Sat",hours:4.5,isWeekend:!0}]}];for(const c of l){a.run(`
      INSERT INTO quests (goal_id, title, description, priority, status)
      VALUES (?, ?, ?, 'high', 'active')
    `,[r,c.title,c.description]);const v=a.exec("SELECT last_insert_rowid() as id")[0].values[0][0];for(let E=0;E<c.days.length;E++){const g=c.days[E],w=`${g.day} ${g.date.slice(5)}: Bill ${g.hours} hours`;a.run(`
        INSERT INTO steps (quest_id, title, priority, status, sort_order)
        VALUES (?, ?, ?, 'pending', ?)
      `,[v,w,g.isWeekend?"low":"normal",E])}}return await vt(),localStorage.setItem(Fd,"true"),!0}const uv="notifications_migration_v1";async function bS(){if(localStorage.getItem(uv))return;const a=ze();try{(a.exec("PRAGMA table_info(planner_events)")[0]?.values.map(r=>r[1])||[]).includes("reminder_minutes")||a.run("ALTER TABLE planner_events ADD COLUMN reminder_minutes INTEGER DEFAULT NULL"),a.run(`
      CREATE TABLE IF NOT EXISTS notification_settings (
        id INTEGER PRIMARY KEY CHECK (id = 1),
        enabled INTEGER NOT NULL DEFAULT 0,
        default_reminder_minutes INTEGER NOT NULL DEFAULT 15,
        fcm_token TEXT,
        device_id TEXT NOT NULL,
        updated_at TEXT NOT NULL DEFAULT (datetime('now'))
      )
    `),await vt(),localStorage.setItem(uv,"true"),console.log("Notifications migration completed successfully")}catch(e){throw console.error("Failed to run notifications migration:",e),e}}const cv="body_fat_goal_seed_v4";async function SS(){if(localStorage.getItem(cv))return;const a=ze();try{const e=a.exec("SELECT id FROM goals WHERE title = 'Achieve 12% Body Fat'");if(e.length&&e[0].values.length){const g=e[0].values[0][0],w=a.exec("SELECT id FROM quests WHERE goal_id = ?",[g]);if(w.length)for(const x of w[0].values)a.run("DELETE FROM steps WHERE quest_id = ?",[x[0]]);a.run("DELETE FROM quests WHERE goal_id = ?",[g]),a.run("DELETE FROM goals WHERE id = ?",[g])}a.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[1,"Achieve 12% Body Fat","12-week transformation program starting Feb 4, 2026. From 18-19% to 12% body fat through consistent training and nutrition."]);const r=a.exec("SELECT last_insert_rowid()")[0].values[0][0],l=new Date(2026,1,4,12,0,0),c=[{title:"Week 1 - Build Foundation",desc:"Establish daily habits and set your baseline."},{title:"Week 2 - Gain Momentum",desc:"Lock in the routine. Consistency is key."},{title:"Week 3 - Stay Disciplined",desc:"Push through early challenges. Trust the process."},{title:"Week 4 - Complete Month 1",desc:"First month done! Take measurements and assess progress."},{title:"Week 5 - Intensify",desc:"Increase intensity. Your body is adapting."},{title:"Week 6 - Push Through",desc:"Mental toughness week. No excuses."},{title:"Week 7 - Halfway Point",desc:"You're halfway there! Stay focused."},{title:"Week 8 - Stay Strong",desc:"Month 2 complete. Reassess and adjust if needed."},{title:"Week 9 - Final Month Begins",desc:"Last 4 weeks. Time to lock in."},{title:"Week 10 - Home Stretch",desc:"You can see the finish line. Don't let up."},{title:"Week 11 - Almost There",desc:"One more week after this. Give it everything."},{title:"Week 12 - Finish Strong",desc:"Final week! Complete the transformation."}],m=[{dayName:"Wed",workout:"Light Cardio (20-30 min)",isGym:!1},{dayName:"Thu",workout:"Gym - Legs (Quads/Hams/Glutes)",isGym:!0},{dayName:"Fri",workout:"Gym - Upper Body",isGym:!0},{dayName:"Sat",workout:"Gym - Lower Body / Deadlifts",isGym:!0},{dayName:"Sun",workout:"Rest + Weekly Check-in",isGym:!1},{dayName:"Mon",workout:"Gym - Push (Chest/Shoulders/Triceps)",isGym:!0},{dayName:"Tue",workout:"Gym - Pull (Back/Biceps)",isGym:!0}],v=g=>{const w=g.getMonth()+1,x=g.getDate();return`${w}/${x}`};let E=new Date(l);for(let g=0;g<c.length;g++){const w=c[g],x=v(E),O=v(new Date(E.getTime()+8640*60*1e3));a.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[r,`${w.title} (${x} - ${O})`,w.desc,"high"]);const ae=a.exec("SELECT last_insert_rowid()")[0].values[0][0];let Y=1;for(let W=0;W<7;W++){const J=m[W],fe=v(E);a.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[ae,`${J.dayName} ${fe}: ${J.workout}`,"normal",Y++]),a.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[ae,`${J.dayName} ${fe}: Hit protein goal`,"normal",Y++]),E.setDate(E.getDate()+1)}}await vt(),localStorage.setItem(cv,"true"),console.log("Body fat goal seeded successfully (v3 - starting Wed 2/4/2026)")}catch(e){throw console.error("Failed to seed body fat goal:",e),e}}const fv="daily_quests_migration_v1";async function wS(){if(localStorage.getItem(fv))return;const a=ze();try{a.run(`
      CREATE TABLE IF NOT EXISTS daily_quests (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        date TEXT NOT NULL,
        quest_type TEXT NOT NULL,
        title TEXT NOT NULL,
        description TEXT NOT NULL,
        target_value INTEGER NOT NULL DEFAULT 1,
        current_value INTEGER NOT NULL DEFAULT 0,
        xp_reward INTEGER NOT NULL DEFAULT 25,
        is_completed INTEGER NOT NULL DEFAULT 0,
        completed_at TEXT
      )
    `),a.run(`
      CREATE TABLE IF NOT EXISTS daily_quest_bonus (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        date TEXT NOT NULL UNIQUE,
        claimed_at TEXT NOT NULL
      )
    `),a.run("CREATE INDEX IF NOT EXISTS idx_daily_quests_date ON daily_quests(date)"),await vt(),localStorage.setItem(fv,"true"),console.log("Daily quests migration completed successfully")}catch(e){throw console.error("Failed to run daily quests migration:",e),e}}function AS(){const[a,e]=ne.useState(!1),[i,r]=ne.useState(null);return ne.useEffect(()=>{ES().then(async()=>{await TS(),await bS(),await SS(),await wS(),e(!0)}).catch(l=>r(l.message))},[]),{ready:a,error:i}}function hv(){const e=ze().exec("SELECT id, name, total_xp, level, title, created_at FROM character WHERE id = 1");if(!e.length)throw new Error("Character not found");const i=e[0].values[0];return{id:i[0],name:i[1],total_xp:i[2],level:i[3],title:i[4],created_at:i[5]}}async function RS(a){ze().run("UPDATE character SET name = ? WHERE id = 1",[a]),await vt()}function dv(a=50){const i=ze().exec(`SELECT id, amount, reason, source_type, source_id, created_at
     FROM xp_log ORDER BY created_at DESC LIMIT ?`,[a]);return i.length?i[0].values.map(r=>({id:r[0],amount:r[1],reason:r[2],source_type:r[3],source_id:r[4],created_at:r[5]})):[]}const H0=["stamina","willpower","health","focus","charisma"],er=["Novice","Apprentice","Journeyman","Adept","Expert","Master","Legend","Dragonborn"],NS={normal:10,important:15,legendary:20},CS=50,xS=200,DS=5,IS=25,OS=1.8,jS=50;function Bm(a){return Math.floor(jS*Math.pow(a,OS))}function MS(a){let e=0;for(let i=1;i<a;i++)e+=Bm(i);return e}function F0(a){let e=1,i=0;for(;;){if(i+=Bm(e),a<i)return e;if(e++,e>100)return 100}}function G0(a){const e=F0(a),i=MS(e),r=a-i,l=Bm(e);return{current:r,needed:l,percentage:Math.min(r/l*100,100)}}function LS(a){return a>=50?er[7]:a>=40?er[6]:a>=30?er[5]:a>=22?er[4]:a>=15?er[3]:a>=10?er[2]:a>=5?er[1]:er[0]}async function kS(a,e,i,r=null){const l=ze(),c=l.exec("SELECT total_xp, level FROM character WHERE id = 1"),m=c[0].values[0][0],v=c[0].values[0][1],E=m+a,g=F0(E),w=LS(g),x=g>v;return l.run("UPDATE character SET total_xp = ?, level = ?, title = ? WHERE id = 1",[E,g,w]),l.run("INSERT INTO xp_log (amount, reason, source_type, source_id) VALUES (?, ?, ?, ?)",[a,e,i,r]),await vt(),{amount:a,newTotal:E,leveledUp:x,newLevel:g,newTitle:w}}function VS(){const[a,e]=ne.useState(()=>hv()),[i,r]=ne.useState(()=>dv()),[l,c]=ne.useState(null),[m,v]=ne.useState([]),E=ne.useCallback(()=>{e(hv()),r(dv())},[]),g=ne.useCallback(async(O,$,ae,Y)=>{const W=await kS(O,$,ae,Y??null);W.leveledUp&&c({level:W.newLevel,title:W.newTitle});const J=Date.now();return v(fe=>[...fe,{id:J,amount:O}]),setTimeout(()=>v(fe=>fe.filter(ge=>ge.id!==J)),1500),E(),W},[E]),w=ne.useCallback(()=>c(null),[]),x=ne.useCallback(async O=>{await RS(O),E()},[E]);return{character:a,xpLog:i,levelUpInfo:l,xpFloats:m,grantXP:g,dismissLevelUp:w,setName:x,refresh:E}}function Q0(){const e=ze().exec("SELECT id, name, icon, color FROM domains ORDER BY id");return e.length?e[0].values.map(i=>({id:i[0],name:i[1],icon:i[2],color:i[3]})):[]}function US(a,e){const i=ze();let r="SELECT id, domain_id, title, description, status, created_at, completed_at FROM goals WHERE 1=1";const l=[];a&&(r+=" AND domain_id = ?",l.push(a)),e&&(r+=" AND status = ?",l.push(e)),r+=" ORDER BY created_at DESC";const c=i.exec(r,l);return c.length?c[0].values.map(m=>({id:m[0],domain_id:m[1],title:m[2],description:m[3],status:m[4],created_at:m[5],completed_at:m[6]})):[]}async function qS(a,e,i=""){const r=ze();r.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[a,e,i]);const l=r.exec("SELECT last_insert_rowid()");return await vt(),l[0].values[0][0]}async function BS(a,e){const i=ze(),r=new Date().toISOString();i.run("UPDATE goals SET status = ?, completed_at = ? WHERE id = ?",[e,r,a]),await vt()}function Pm(a,e){const i=ze();let r="SELECT id, goal_id, title, description, priority, status, created_at, completed_at FROM quests WHERE 1=1";const l=[];a&&(r+=" AND goal_id = ?",l.push(a)),r+=" ORDER BY created_at DESC";const c=i.exec(r,l);return c.length?c[0].values.map(m=>({id:m[0],goal_id:m[1],title:m[2],description:m[3],priority:m[4],status:m[5],created_at:m[6],completed_at:m[7]})):[]}async function PS(a,e,i="",r="normal"){const l=ze();l.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[a,e,i,r]);const c=l.exec("SELECT last_insert_rowid()");return await vt(),c[0].values[0][0]}async function zS(a,e){const i=ze(),r=new Date().toISOString();i.run("UPDATE quests SET status = ?, completed_at = ? WHERE id = ?",[e,r,a]),await vt()}function zm(a){const i=ze().exec("SELECT id, quest_id, title, priority, status, sort_order, completed_at FROM steps WHERE quest_id = ? ORDER BY sort_order, id",[a]);return i.length?i[0].values.map(r=>({id:r[0],quest_id:r[1],title:r[2],priority:r[3],status:r[4],sort_order:r[5],completed_at:r[6]})):[]}async function HS(a,e,i="normal"){const r=ze(),c=r.exec("SELECT COALESCE(MAX(sort_order), 0) FROM steps WHERE quest_id = ?",[a])[0].values[0][0]+1;r.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[a,e,i,c]);const m=r.exec("SELECT last_insert_rowid()");return await vt(),m[0].values[0][0]}async function FS(a){ze().run("UPDATE steps SET status = 'completed', completed_at = datetime('now') WHERE id = ?",[a]),await vt()}async function GS(a){ze().run("UPDATE steps SET status = 'pending', completed_at = NULL WHERE id = ?",[a]),await vt()}async function QS(a){ze().run("DELETE FROM steps WHERE id = ?",[a]),await vt()}async function XS(a){const e=ze();e.run("DELETE FROM steps WHERE quest_id = ?",[a]),e.run("DELETE FROM quests WHERE id = ?",[a]),await vt()}async function YS(a){const e=ze(),i=Pm(a);for(const r of i)e.run("DELETE FROM steps WHERE quest_id = ?",[r.id]);e.run("DELETE FROM quests WHERE goal_id = ?",[a]),e.run("DELETE FROM goals WHERE id = ?",[a]),await vt()}function KS(a){const i=ze().exec(`SELECT q.id, q.goal_id, q.title, q.description, q.priority, q.status, q.created_at, q.completed_at,
            d.name as domain_name, d.icon as domain_icon, d.color as domain_color, g.title as goal_title
     FROM quests q
     JOIN goals g ON q.goal_id = g.id
     JOIN domains d ON g.domain_id = d.id
     WHERE q.id = ?`,[a]);if(!i.length)return null;const r=i[0].values[0];return{id:r[0],goal_id:r[1],title:r[2],description:r[3],priority:r[4],status:r[5],created_at:r[6],completed_at:r[7],domain_name:r[8],domain_icon:r[9],domain_color:r[10],goal_title:r[11],steps:zm(a)}}function $S(a,e){const i=US(a,e),r=Q0(),l=new Map(r.map(c=>[c.id,c]));return i.map(c=>{const m=l.get(c.domain_id),v=Pm(c.id).map(E=>({...E,steps:zm(E.id),domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color,goal_title:c.title}));return{...c,quests:v,domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color}})}function WS({grantXP:a,onStepComplete:e}){const[i,r]=ne.useState([]),[l]=ne.useState(()=>Q0()),[c,m]=ne.useState(void 0),[v,E]=ne.useState("active"),g=ne.useCallback(()=>{r($S(c,v))},[c,v]);ne.useEffect(()=>{g()},[g]);const w=ne.useCallback(async(fe,ge,me)=>{await qS(fe,ge,me),g()},[g]),x=ne.useCallback(async(fe,ge,me,Ce)=>{await PS(fe,ge,me,Ce),g()},[g]),O=ne.useCallback(async(fe,ge,me)=>{await HS(fe,ge,me),g()},[g]),$=ne.useCallback(async(fe,ge,me)=>{await FS(fe);const Ce=NS[me]||10;await a(Ce,"Completed step","step",fe),e&&e();const Ie=zm(ge);if(Ie.every(I=>I.status==="completed")&&Ie.length>0){await zS(ge,"completed"),await a(CS,"Completed quest","quest",ge);const I=KS(ge);I&&Pm(I.goal_id).every(j=>j.status==="completed")&&(await BS(I.goal_id,"completed"),await a(xS,"Completed goal","goal",I.goal_id))}g()},[g,a,e]),ae=ne.useCallback(async fe=>{await GS(fe),g()},[g]),Y=ne.useCallback(async fe=>{await QS(fe),g()},[g]),W=ne.useCallback(async fe=>{await XS(fe),g()},[g]),J=ne.useCallback(async fe=>{await YS(fe),g()},[g]);return{goals:i,domains:l,filterDomain:c,filterStatus:v,setFilterDomain:m,setFilterStatus:E,refresh:g,createGoal:w,createQuest:x,createStep:O,completeStep:$,uncompleteStep:ae,deleteStep:Y,deleteQuest:W,deleteGoal:J}}function ZS(a){const e=ze();let i="SELECT id, name, description, type, icon, duration_hours, stat_effects, created_at FROM buff_definitions";const r=[];i+=" ORDER BY name";const l=e.exec(i,r);return l.length?l[0].values.map(c=>({id:c[0],name:c[1],description:c[2],type:c[3],icon:c[4],duration_hours:c[5],stat_effects:c[6],created_at:c[7]})):[]}async function JS(a,e,i,r,l,c){const m=ze();m.run("INSERT INTO buff_definitions (name, description, type, icon, duration_hours, stat_effects) VALUES (?, ?, ?, ?, ?, ?)",[a,e,i,r,l,c]);const v=m.exec("SELECT last_insert_rowid()");return await vt(),v[0].values[0][0]}async function ew(a){const e=ze();e.run("DELETE FROM buff_log WHERE definition_id = ?",[a]),e.run("DELETE FROM buff_definitions WHERE id = ?",[a]),await vt()}async function tw(a){const e=ze(),i=e.exec("SELECT duration_hours FROM buff_definitions WHERE id = ?",[a]);if(!i.length)throw new Error("Buff definition not found");const r=i[0].values[0][0],l=e.exec(`SELECT id, expires_at FROM buff_log
     WHERE definition_id = ? AND is_active = 1 AND expires_at > datetime('now')
     ORDER BY expires_at DESC LIMIT 1`,[a]);if(l.length&&l[0].values.length){const g=l[0].values[0][0];e.run(`UPDATE buff_log SET expires_at = datetime(expires_at, '+' || ? || ' hours')
       WHERE id = ?`,[r,g]);const x=e.exec("SELECT expires_at FROM buff_log WHERE id = ?",[g])[0].values[0][0];return await vt(),{logId:g,isStacked:!0,newExpiresAt:x}}e.run(`INSERT INTO buff_log (definition_id, expires_at)
     VALUES (?, datetime('now', '+' || ? || ' hours'))`,[a,r]);const m=e.exec("SELECT last_insert_rowid()")[0].values[0][0],E=e.exec("SELECT expires_at FROM buff_log WHERE id = ?",[m])[0].values[0][0];return await vt(),{logId:m,isStacked:!1,newExpiresAt:E}}async function nw(a){ze().run("UPDATE buff_log SET is_active = 0 WHERE id = ?",[a]),await vt()}function iw(a){const i=ze().exec(`SELECT DISTINCT date(activated_at) as d FROM buff_log
     WHERE definition_id = ? AND activated_at >= date('now', '-30 days')
     ORDER BY d DESC`,[a]);if(!i.length)return 0;let r=0;const l=new Date().toISOString().split("T")[0],c=i[0].values.map(E=>E[0]),m=new Date(Date.now()-864e5).toISOString().split("T")[0];if(!c.includes(l)&&!c.includes(m))return 0;let v=c.includes(l)?l:m;for(const E of c)if(E===v){r++;const g=new Date(v+"T00:00:00");g.setDate(g.getDate()-1),v=g.toISOString().split("T")[0]}return r}function vf(a){try{return JSON.parse(a)}catch{return{}}}async function aw(){ze().run("UPDATE buff_log SET is_active = 0 WHERE is_active = 1 AND expires_at <= datetime('now')"),await vt()}function sw(){const e=ze().exec(`
    SELECT bl.id, bl.definition_id, bl.activated_at, bl.expires_at, bl.is_active,
           bd.name, bd.description, bd.type, bd.icon, bd.stat_effects
    FROM buff_log bl
    JOIN buff_definitions bd ON bl.definition_id = bd.id
    WHERE bl.is_active = 1 AND bl.expires_at > datetime('now')
    ORDER BY bl.activated_at DESC
  `);return e.length?e[0].values.map(i=>({id:i[0],definition_id:i[1],activated_at:i[2],expires_at:i[3],is_active:!!i[4],name:i[5],description:i[6],type:i[7],icon:i[8],stat_effects:i[9]})):[]}function rw(a){const e={stamina:10,willpower:10,health:10,focus:10,charisma:10};for(const i of a){const r=vf(i.stat_effects);for(const[l,c]of Object.entries(r))l in e&&(e[l]+=c)}return e}function ow({grantXP:a,scheduleBuffExpiry:e,cancelBuffExpiry:i,onBuffActivated:r}){const[l,c]=ne.useState([]),[m,v]=ne.useState([]),[E,g]=ne.useState({stamina:10,willpower:10,health:10,focus:10,charisma:10}),w=ne.useCallback(async()=>{await aw(),c(ZS());const Y=sw();v(Y),g(rw(Y))},[]);ne.useEffect(()=>{const Y=setInterval(w,6e4);return()=>clearInterval(Y)},[w]);const x=ne.useCallback(async(Y,W,J,fe,ge,me)=>{await JS(Y,W,J,fe,ge,me),w()},[w]),O=ne.useCallback(async Y=>{await ew(Y),w()},[w]),$=ne.useCallback(async Y=>{const W=await tw(Y),J=l.find(fe=>fe.id===Y);if(J&&J.type==="buff"&&!W.isStacked){await a(DS,`Activated buff: ${J.name}`,"buff",W.logId);const fe=iw(Y);fe>0&&fe%7===0&&await a(IS,`7-day streak: ${J.name}`,"streak",Y)}J&&r&&r(J.type),J&&e&&(W.isStacked&&i&&await i(W.logId),await e(W.logId,J.name,J.type,W.newExpiresAt)),w()},[w,l,a,e,i,r]),ae=ne.useCallback(async Y=>{i&&await i(Y),await nw(Y),w()},[w,i]);return{definitions:l,activeBuffs:m,stats:E,refresh:w,createDefinition:x,deleteDefinition:O,activateBuff:$,deactivateBuff:ae}}function Gd(a,e,i){const r=ze();let l=`SELECT id, title, description, date, start_time, end_time, quest_id, step_id, is_completed, created_at, reminder_minutes
             FROM planner_events WHERE 1=1`;const c=[];a&&(l+=" AND date = ?",c.push(a)),e&&(l+=" AND date >= ?",c.push(e)),i&&(l+=" AND date <= ?",c.push(i)),l+=" ORDER BY date, start_time, id";const m=r.exec(l,c);return m.length?m[0].values.map(v=>({id:v[0],title:v[1],description:v[2],date:v[3],start_time:v[4],end_time:v[5],quest_id:v[6],step_id:v[7],is_completed:!!v[8],created_at:v[9],reminder_minutes:v[10]})):[]}async function lw(a,e,i="",r=null,l=null,c=null,m=null,v=null){const E=ze();E.run(`INSERT INTO planner_events (title, description, date, start_time, end_time, quest_id, step_id, reminder_minutes)
     VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,[a,i,e,r,l,c,m,v]);const g=E.exec("SELECT last_insert_rowid()");return await vt(),g[0].values[0][0]}async function uw(a){ze().run("UPDATE planner_events SET is_completed = 1 WHERE id = ?",[a]),await vt()}async function cw(a){ze().run("UPDATE planner_events SET is_completed = 0 WHERE id = ?",[a]),await vt()}async function fw(a){ze().run("DELETE FROM planner_events WHERE id = ?",[a]),await vt()}function Jc(){return new Date().toISOString().split("T")[0]}function Qd(a){return new Date(a+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function mv(a){const[e,i]=a.split(":").map(Number),r=e>=12?"PM":"AM";return`${e%12||12}:${i.toString().padStart(2,"0")} ${r}`}function Hm(a){const e=new Date(a+"T00:00:00"),i=e.getDay(),r=new Date(e);r.setDate(e.getDate()-(i+6)%7);const l=[];for(let c=0;c<7;c++){const m=new Date(r);m.setDate(r.getDate()+c),l.push(m.toISOString().split("T")[0])}return l}function hw(a,e){const i=new Date(a,e,1),r=new Date(a,e+1,0),l=(i.getDay()+6)%7,c=[];let m=new Array(l).fill(null);for(let v=1;v<=r.getDate();v++){const E=new Date(a,e,v);m.push(E.toISOString().split("T")[0]),m.length===7&&(c.push(m),m=[])}if(m.length>0){for(;m.length<7;)m.push(null);c.push(m)}return c}function pv(a,e){const i=new Date(a+"T00:00:00");return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]}function dw(a){return new Date(2e3,a).toLocaleDateString("en-US",{month:"long"})}function mw({grantXP:a,scheduleEventReminder:e,cancelEventReminder:i,onEventComplete:r}){const[l,c]=ne.useState("day"),[m,v]=ne.useState(Jc()),[E,g]=ne.useState([]),w=ne.useCallback(()=>{if(l==="day")g(Gd(m));else if(l==="week"){const J=Hm(m);g(Gd(void 0,J[0],J[6]))}else{const J=new Date(m+"T00:00:00"),fe=new Date(J.getFullYear(),J.getMonth(),1).toISOString().split("T")[0],ge=new Date(J.getFullYear(),J.getMonth()+1,0).toISOString().split("T")[0];g(Gd(void 0,fe,ge))}},[l,m]);ne.useEffect(()=>{w()},[w]);const x=ne.useCallback(async(J,fe,ge,me,Ce,Ie,M,I)=>{const L=await lw(J,fe,ge,me,Ce,Ie,M,I);I!=null&&me&&e&&await e(L,J,fe,me,I),w()},[w,e]),O=ne.useCallback(async J=>{await uw(J);const fe=E.find(ge=>ge.id===J);fe&&(fe.quest_id||fe.step_id)&&await a(10,`Completed linked event: ${fe.title}`,"event",J),r&&r(),i&&await i(J),w()},[w,E,a,i,r]),$=ne.useCallback(async J=>{await cw(J),w()},[w]),ae=ne.useCallback(async J=>{i&&await i(J),await fw(J),w()},[w,i]),Y=ne.useCallback(J=>{if(l==="day")v(pv(m,J));else if(l==="week")v(pv(m,J*7));else{const fe=new Date(m+"T00:00:00");fe.setMonth(fe.getMonth()+J),v(fe.toISOString().split("T")[0])}},[l,m]),W=ne.useCallback(()=>v(Jc()),[]);return{view:l,setView:c,currentDate:m,setCurrentDate:v,events:E,refresh:w,createEvent:x,completeEvent:O,uncompleteEvent:$,deleteEvent:ae,navigateDay:Y,goToToday:W}}const pw=1440*60*1e3,X0="Goal Game Backup",Cu="github_gist_token",hs="github_gist_id",Ef="github_last_backup";function gw(){return!!localStorage.getItem(Cu)}function Y0(){return!!localStorage.getItem(Cu)}function Tf(){return localStorage.getItem(Cu)}function yw(a){localStorage.setItem(Cu,a)}function _w(){localStorage.removeItem(Cu),localStorage.removeItem(hs),localStorage.removeItem(Ef)}function vw(){const a=localStorage.getItem(Ef);return a?Date.now()-Number(a)>pw:!0}function K0(){const a=localStorage.getItem(Ef);return a?new Date(Number(a)):null}function Ew(a){let e="";for(let i=0;i<a.length;i++)e+=String.fromCharCode(a[i]);return btoa(e)}function Tw(a){const e=atob(a),i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}async function $0(a){try{const e=await fetch("https://api.github.com/gists?per_page=100",{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}});if(!e.ok)return null;const i=await e.json();for(const r of i)if(r.description===X0)return r.id;return null}catch{return null}}async function bw(a){const e=localStorage.getItem(hs);if(e){if((await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}})).ok)return e;localStorage.removeItem(hs)}const i=await $0(a);if(i)return localStorage.setItem(hs,i),i;const r=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({description:X0,public:!1,files:{"README.md":{content:`# Goal Game Backups

This gist contains automatic backups of your Goal Game data.

Backups are stored as base64-encoded database files.`}}})});if(!r.ok)throw new Error("Failed to create backup gist");const l=await r.json();return localStorage.setItem(hs,l.id),l.id}async function W0(a){const e=Tf();if(!e)return{success:!1,error:"Not authenticated"};try{const i=await bw(e),l=`backup-${new Date().toISOString().replace(/[:.]/g,"-")}.db.b64`,c=Ew(a),m=await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:{[l]:{content:c}}})});return m.ok?(localStorage.setItem(Ef,String(Date.now())),{success:!0,fileName:l}):{success:!1,error:(await m.json()).message||"Upload failed"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async function Z0(){const a=Tf();if(!a)return[];let e=localStorage.getItem(hs);if(!e)if(e=await $0(a),e)localStorage.setItem(hs,e);else return[];try{const i=await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}});if(!i.ok)return[];const r=await i.json(),l=[];for(const[c,m]of Object.entries(r.files))c.endsWith(".db.b64")&&l.push({fileName:c,size:m.size});return l.sort((c,m)=>m.fileName.localeCompare(c.fileName))}catch{return[]}}async function Sw(a){const e=Tf();if(!e)return null;const i=localStorage.getItem(hs);if(!i)return null;try{const r=await fetch(`https://api.github.com/gists/${i}`,{headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json"}});if(!r.ok)return null;const c=(await r.json()).files[a];if(!c)return null;let m;return c.truncated?m=await(await fetch(c.raw_url,{headers:{Authorization:`Bearer ${e}`}})).text():m=c.content,Tw(m)}catch{return null}}async function ww(a){try{return(await fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}})).ok}catch{return!1}}async function J0(a=7){const e=Tf();if(!e)return;const i=localStorage.getItem(hs);if(i)try{const r=await Z0();if(r.length<=a)return;const l=r.slice(a),c={};for(const m of l)c[m.fileName]=null;await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:c})})}catch{}}function Aw(){const[a,e]=ne.useState("idle"),[i,r]=ne.useState(null),[l,c]=ne.useState(""),m=ne.useRef(!1);return ne.useEffect(()=>{if(m.current)return;m.current=!0;const E=setTimeout(async()=>{if(gw()&&Y0()){if(!vw()){r(K0());return}e("backing-up"),c("Auto-backing up to GitHub...");try{const g=await qm(),w=await W0(g);w.success?(e("success"),c("Auto-backup complete!"),r(new Date),await J0(7),setTimeout(()=>{e("idle"),c("")},5e3)):(e("error"),c(`Auto-backup failed: ${w.error}`))}catch(g){e("error"),c(`Auto-backup failed: ${g instanceof Error?g.message:"Unknown error"}`)}}},3e3);return()=>clearTimeout(E)},[]),{status:a,lastBackup:i,message:l}}const Rw=()=>{};var gv={};const eE=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Nw=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],m=a[i++],v=a[i++],E=((l&7)<<18|(c&63)<<12|(m&63)<<6|v&63)-65536;e[r++]=String.fromCharCode(55296+(E>>10)),e[r++]=String.fromCharCode(56320+(E&1023))}else{const c=a[i++],m=a[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|m&63)}}return e.join("")},tE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],m=l+1<a.length,v=m?a[l+1]:0,E=l+2<a.length,g=E?a[l+2]:0,w=c>>2,x=(c&3)<<4|v>>4;let O=(v&15)<<2|g>>6,$=g&63;E||($=64,m||(O=64)),r.push(i[w],i[x],i[O],i[$])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(eE(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Nw(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],v=l<a.length?i[a.charAt(l)]:0;++l;const g=l<a.length?i[a.charAt(l)]:64;++l;const x=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||v==null||g==null||x==null)throw new Cw;const O=c<<2|v>>4;if(r.push(O),g!==64){const $=v<<4&240|g>>2;if(r.push($),x!==64){const ae=g<<6&192|x;r.push(ae)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xw=function(a){const e=eE(a);return tE.encodeByteArray(e,!0)},ef=function(a){return xw(a).replace(/\./g,"")},Dw=function(a){try{return tE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Iw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ow=()=>Iw().__FIREBASE_DEFAULTS__,jw=()=>{if(typeof process>"u"||typeof gv>"u")return;const a=gv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Mw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Dw(a[1]);return e&&JSON.parse(e)},Fm=()=>{try{return Rw()||Ow()||jw()||Mw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Lw=a=>Fm()?.emulatorHosts?.[a],kw=a=>{const e=Lw(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},nE=()=>Fm()?.config;class Vw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Gm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uw(a){return(await fetch(a,{credentials:"include"})).ok}function qw(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[ef(JSON.stringify(i)),ef(JSON.stringify(m)),""].join(".")}const mu={};function Bw(){const a={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?a.emulator.push(e):a.prod.push(e);return a}function Pw(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let yv=!1;function zw(a,e){if(typeof window>"u"||typeof document>"u"||!Gm(window.location.host)||mu[a]===e||mu[a]||yv)return;mu[a]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=Bw().prod.length>0;function m(){const O=document.getElementById(r);O&&O.remove()}function v(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function E(O,$){O.setAttribute("width","24"),O.setAttribute("id",$),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function g(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{yv=!0,m()},O}function w(O,$){O.setAttribute("id",$),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function x(){const O=Pw(r),$=i("text"),ae=document.getElementById($)||document.createElement("span"),Y=i("learnmore"),W=document.getElementById(Y)||document.createElement("a"),J=i("preprendIcon"),fe=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ge=O.element;v(ge),w(W,Y);const me=g();E(fe,J),ge.append(fe,ae,W,me),document.body.appendChild(ge)}c?(ae.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ae.innerText="Preview backend running in this workspace."),ae.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Hw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fw(){const a=Fm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gw(){return!Fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iE(){try{return typeof indexedDB=="object"}catch{return!1}}function aE(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}function Qw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Xw="FirebaseError";class Zr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Xw,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}}class bf{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],m=c?Yw(c,r):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new Zr(l,v,r)}}function Yw(a,e){return a.replace(Kw,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const Kw=/\{\$([^}]+)}/g;function tf(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=a[l],m=e[l];if(_v(c)&&_v(m)){if(!tf(c,m))return!1}else if(c!==m)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function _v(a){return a!==null&&typeof a=="object"}function ps(a){return a&&a._delegate?a._delegate:a}class gs{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gr="[DEFAULT]";class $w{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Vw;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zw(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(c);r===v&&m.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ww(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ww(a){return a===Gr?void 0:a}function Zw(a){return a.instantiationMode==="EAGER"}class Jw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new $w(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(mt||(mt={}));const e2={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},t2=mt.INFO,n2={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},i2=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),l=n2[e];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sE{constructor(e){this.name=e,this._logLevel=t2,this._logHandler=i2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const a2=(a,e)=>e.some(i=>a instanceof i);let vv,Ev;function s2(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r2(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,dm=new WeakMap,oE=new WeakMap,Xd=new WeakMap,Qm=new WeakMap;function o2(a){const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",m)},c=()=>{i(ds(a.result)),l()},m=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&rE.set(i,a)}).catch(()=>{}),Qm.set(e,a),e}function l2(a){if(dm.has(a))return;const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",m),a.removeEventListener("abort",m)},c=()=>{i(),l()},m=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",m),a.addEventListener("abort",m)});dm.set(a,e)}let mm={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return dm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||oE.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ds(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function u2(a){mm=a(mm)}function c2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Yd(this),e,...i);return oE.set(r,e.sort?e.sort():[e]),ds(r)}:r2().includes(a)?function(...e){return a.apply(Yd(this),e),ds(rE.get(this))}:function(...e){return ds(a.apply(Yd(this),e))}}function f2(a){return typeof a=="function"?c2(a):(a instanceof IDBTransaction&&l2(a),a2(a,s2())?new Proxy(a,mm):a)}function ds(a){if(a instanceof IDBRequest)return o2(a);if(Xd.has(a))return Xd.get(a);const e=f2(a);return e!==a&&(Xd.set(a,e),Qm.set(e,a)),e}const Yd=a=>Qm.get(a);function Sf(a,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const m=indexedDB.open(a,e),v=ds(m);return r&&m.addEventListener("upgradeneeded",E=>{r(ds(m.result),E.oldVersion,E.newVersion,ds(m.transaction),E)}),i&&m.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),v.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),v}function Kd(a,{blocked:e}={}){const i=indexedDB.deleteDatabase(a);return e&&i.addEventListener("blocked",r=>e(r.oldVersion,r)),ds(i).then(()=>{})}const h2=["get","getKey","getAll","getAllKeys","count"],d2=["put","add","delete","clear"],$d=new Map;function Tv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=d2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||h2.includes(i)))return;const c=async function(m,...v){const E=this.transaction(m,l?"readwrite":"readonly");let g=E.store;return r&&(g=g.index(v.shift())),(await Promise.all([g[i](...v),l&&E.done]))[0]};return $d.set(e,c),c}u2(a=>({...a,get:(e,i,r)=>Tv(e,i)||a.get(e,i,r),has:(e,i)=>!!Tv(e,i)||a.has(e,i)}));class m2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(p2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function p2(a){return a.getComponent()?.type==="VERSION"}const pm="@firebase/app",bv="0.14.7";const ys=new sE("@firebase/app"),g2="@firebase/app-compat",y2="@firebase/analytics-compat",_2="@firebase/analytics",v2="@firebase/app-check-compat",E2="@firebase/app-check",T2="@firebase/auth",b2="@firebase/auth-compat",S2="@firebase/database",w2="@firebase/data-connect",A2="@firebase/database-compat",R2="@firebase/functions",N2="@firebase/functions-compat",C2="@firebase/installations",x2="@firebase/installations-compat",D2="@firebase/messaging",I2="@firebase/messaging-compat",O2="@firebase/performance",j2="@firebase/performance-compat",M2="@firebase/remote-config",L2="@firebase/remote-config-compat",k2="@firebase/storage",V2="@firebase/storage-compat",U2="@firebase/firestore",q2="@firebase/ai",B2="@firebase/firestore-compat",P2="firebase",z2="12.8.0";const gm="[DEFAULT]",H2={[pm]:"fire-core",[g2]:"fire-core-compat",[_2]:"fire-analytics",[y2]:"fire-analytics-compat",[E2]:"fire-app-check",[v2]:"fire-app-check-compat",[T2]:"fire-auth",[b2]:"fire-auth-compat",[S2]:"fire-rtdb",[w2]:"fire-data-connect",[A2]:"fire-rtdb-compat",[R2]:"fire-fn",[N2]:"fire-fn-compat",[C2]:"fire-iid",[x2]:"fire-iid-compat",[D2]:"fire-fcm",[I2]:"fire-fcm-compat",[O2]:"fire-perf",[j2]:"fire-perf-compat",[M2]:"fire-rc",[L2]:"fire-rc-compat",[k2]:"fire-gcs",[V2]:"fire-gcs-compat",[U2]:"fire-fst",[B2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[P2]:"fire-js-all"};const nf=new Map,F2=new Map,ym=new Map;function Sv(a,e){try{a.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function or(a){const e=a.name;if(ym.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,a);for(const i of nf.values())Sv(i,a);for(const i of F2.values())Sv(i,a);return!0}function wf(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function G2(a){return a==null?!1:a.settings!==void 0}const Q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new bf("app","Firebase",Q2);class X2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const Y2=z2;function lE(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:gm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=nE()),!i)throw ir.create("no-options");const c=nf.get(l);if(c){if(tf(i,c.options)&&tf(r,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const m=new Jw(l);for(const E of ym.values())m.addComponent(E);const v=new X2(i,r,m);return nf.set(l,v),v}function uE(a=gm){const e=nf.get(a);if(!e&&a===gm&&nE())return lE();if(!e)throw ir.create("no-app",{appName:a});return e}function Oa(a,e,i){let r=H2[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${r}" with version "${e}":`];l&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(m.join(" "));return}or(new gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const K2="firebase-heartbeat-database",$2=1,vu="firebase-heartbeat-store";let Wd=null;function cE(){return Wd||(Wd=Sf(K2,$2,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(vu)}catch(i){console.warn(i)}}}}).catch(a=>{throw ir.create("idb-open",{originalErrorMessage:a.message})})),Wd}async function W2(a){try{const i=(await cE()).transaction(vu),r=await i.objectStore(vu).get(fE(a));return await i.done,r}catch(e){if(e instanceof Zr)ys.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function wv(a,e){try{const r=(await cE()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,fE(a)),await r.done}catch(i){if(i instanceof Zr)ys.warn(i.message);else{const r=ir.create("idb-set",{originalErrorMessage:i?.message});ys.warn(r.message)}}}function fE(a){return`${a.name}!${a.options.appId}`}const Z2=1024,J2=30;class eA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>J2){const l=iA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Av(),{heartbeatsToSend:i,unsentEntries:r}=tA(this._heartbeatsCache.heartbeats),l=ef(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ys.warn(e),""}}}function Av(){return new Date().toISOString().substring(0,10)}function tA(a,e=Z2){const i=[];let r=a.slice();for(const l of a){const c=i.find(m=>m.agent===l.agent);if(c){if(c.dates.push(l.date),Rv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Rv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class nA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iE()?aE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await W2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Rv(a){return ef(JSON.stringify({version:2,heartbeats:a})).length}function iA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function aA(a){or(new gs("platform-logger",e=>new m2(e),"PRIVATE")),or(new gs("heartbeat",e=>new eA(e),"PRIVATE")),Oa(pm,bv,a),Oa(pm,bv,"esm2020"),Oa("fire-js","")}aA("");var sA="firebase",rA="12.8.0";Oa(sA,rA,"app");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,hE;(function(){var a;function e(M,I){function L(){}L.prototype=I.prototype,M.F=I.prototype,M.prototype=new L,M.prototype.constructor=M,M.D=function(U,j,D){for(var C=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)C[_e-2]=arguments[_e];return I.prototype[j].apply(U,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,I,L){L||(L=0);const U=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)U[j]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(j=0;j<16;++j)U[j]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=M.g[0],L=M.g[1],j=M.g[2];let D=M.g[3],C;C=I+(D^L&(j^D))+U[0]+3614090360&4294967295,I=L+(C<<7&4294967295|C>>>25),C=D+(j^I&(L^j))+U[1]+3905402710&4294967295,D=I+(C<<12&4294967295|C>>>20),C=j+(L^D&(I^L))+U[2]+606105819&4294967295,j=D+(C<<17&4294967295|C>>>15),C=L+(I^j&(D^I))+U[3]+3250441966&4294967295,L=j+(C<<22&4294967295|C>>>10),C=I+(D^L&(j^D))+U[4]+4118548399&4294967295,I=L+(C<<7&4294967295|C>>>25),C=D+(j^I&(L^j))+U[5]+1200080426&4294967295,D=I+(C<<12&4294967295|C>>>20),C=j+(L^D&(I^L))+U[6]+2821735955&4294967295,j=D+(C<<17&4294967295|C>>>15),C=L+(I^j&(D^I))+U[7]+4249261313&4294967295,L=j+(C<<22&4294967295|C>>>10),C=I+(D^L&(j^D))+U[8]+1770035416&4294967295,I=L+(C<<7&4294967295|C>>>25),C=D+(j^I&(L^j))+U[9]+2336552879&4294967295,D=I+(C<<12&4294967295|C>>>20),C=j+(L^D&(I^L))+U[10]+4294925233&4294967295,j=D+(C<<17&4294967295|C>>>15),C=L+(I^j&(D^I))+U[11]+2304563134&4294967295,L=j+(C<<22&4294967295|C>>>10),C=I+(D^L&(j^D))+U[12]+1804603682&4294967295,I=L+(C<<7&4294967295|C>>>25),C=D+(j^I&(L^j))+U[13]+4254626195&4294967295,D=I+(C<<12&4294967295|C>>>20),C=j+(L^D&(I^L))+U[14]+2792965006&4294967295,j=D+(C<<17&4294967295|C>>>15),C=L+(I^j&(D^I))+U[15]+1236535329&4294967295,L=j+(C<<22&4294967295|C>>>10),C=I+(j^D&(L^j))+U[1]+4129170786&4294967295,I=L+(C<<5&4294967295|C>>>27),C=D+(L^j&(I^L))+U[6]+3225465664&4294967295,D=I+(C<<9&4294967295|C>>>23),C=j+(I^L&(D^I))+U[11]+643717713&4294967295,j=D+(C<<14&4294967295|C>>>18),C=L+(D^I&(j^D))+U[0]+3921069994&4294967295,L=j+(C<<20&4294967295|C>>>12),C=I+(j^D&(L^j))+U[5]+3593408605&4294967295,I=L+(C<<5&4294967295|C>>>27),C=D+(L^j&(I^L))+U[10]+38016083&4294967295,D=I+(C<<9&4294967295|C>>>23),C=j+(I^L&(D^I))+U[15]+3634488961&4294967295,j=D+(C<<14&4294967295|C>>>18),C=L+(D^I&(j^D))+U[4]+3889429448&4294967295,L=j+(C<<20&4294967295|C>>>12),C=I+(j^D&(L^j))+U[9]+568446438&4294967295,I=L+(C<<5&4294967295|C>>>27),C=D+(L^j&(I^L))+U[14]+3275163606&4294967295,D=I+(C<<9&4294967295|C>>>23),C=j+(I^L&(D^I))+U[3]+4107603335&4294967295,j=D+(C<<14&4294967295|C>>>18),C=L+(D^I&(j^D))+U[8]+1163531501&4294967295,L=j+(C<<20&4294967295|C>>>12),C=I+(j^D&(L^j))+U[13]+2850285829&4294967295,I=L+(C<<5&4294967295|C>>>27),C=D+(L^j&(I^L))+U[2]+4243563512&4294967295,D=I+(C<<9&4294967295|C>>>23),C=j+(I^L&(D^I))+U[7]+1735328473&4294967295,j=D+(C<<14&4294967295|C>>>18),C=L+(D^I&(j^D))+U[12]+2368359562&4294967295,L=j+(C<<20&4294967295|C>>>12),C=I+(L^j^D)+U[5]+4294588738&4294967295,I=L+(C<<4&4294967295|C>>>28),C=D+(I^L^j)+U[8]+2272392833&4294967295,D=I+(C<<11&4294967295|C>>>21),C=j+(D^I^L)+U[11]+1839030562&4294967295,j=D+(C<<16&4294967295|C>>>16),C=L+(j^D^I)+U[14]+4259657740&4294967295,L=j+(C<<23&4294967295|C>>>9),C=I+(L^j^D)+U[1]+2763975236&4294967295,I=L+(C<<4&4294967295|C>>>28),C=D+(I^L^j)+U[4]+1272893353&4294967295,D=I+(C<<11&4294967295|C>>>21),C=j+(D^I^L)+U[7]+4139469664&4294967295,j=D+(C<<16&4294967295|C>>>16),C=L+(j^D^I)+U[10]+3200236656&4294967295,L=j+(C<<23&4294967295|C>>>9),C=I+(L^j^D)+U[13]+681279174&4294967295,I=L+(C<<4&4294967295|C>>>28),C=D+(I^L^j)+U[0]+3936430074&4294967295,D=I+(C<<11&4294967295|C>>>21),C=j+(D^I^L)+U[3]+3572445317&4294967295,j=D+(C<<16&4294967295|C>>>16),C=L+(j^D^I)+U[6]+76029189&4294967295,L=j+(C<<23&4294967295|C>>>9),C=I+(L^j^D)+U[9]+3654602809&4294967295,I=L+(C<<4&4294967295|C>>>28),C=D+(I^L^j)+U[12]+3873151461&4294967295,D=I+(C<<11&4294967295|C>>>21),C=j+(D^I^L)+U[15]+530742520&4294967295,j=D+(C<<16&4294967295|C>>>16),C=L+(j^D^I)+U[2]+3299628645&4294967295,L=j+(C<<23&4294967295|C>>>9),C=I+(j^(L|~D))+U[0]+4096336452&4294967295,I=L+(C<<6&4294967295|C>>>26),C=D+(L^(I|~j))+U[7]+1126891415&4294967295,D=I+(C<<10&4294967295|C>>>22),C=j+(I^(D|~L))+U[14]+2878612391&4294967295,j=D+(C<<15&4294967295|C>>>17),C=L+(D^(j|~I))+U[5]+4237533241&4294967295,L=j+(C<<21&4294967295|C>>>11),C=I+(j^(L|~D))+U[12]+1700485571&4294967295,I=L+(C<<6&4294967295|C>>>26),C=D+(L^(I|~j))+U[3]+2399980690&4294967295,D=I+(C<<10&4294967295|C>>>22),C=j+(I^(D|~L))+U[10]+4293915773&4294967295,j=D+(C<<15&4294967295|C>>>17),C=L+(D^(j|~I))+U[1]+2240044497&4294967295,L=j+(C<<21&4294967295|C>>>11),C=I+(j^(L|~D))+U[8]+1873313359&4294967295,I=L+(C<<6&4294967295|C>>>26),C=D+(L^(I|~j))+U[15]+4264355552&4294967295,D=I+(C<<10&4294967295|C>>>22),C=j+(I^(D|~L))+U[6]+2734768916&4294967295,j=D+(C<<15&4294967295|C>>>17),C=L+(D^(j|~I))+U[13]+1309151649&4294967295,L=j+(C<<21&4294967295|C>>>11),C=I+(j^(L|~D))+U[4]+4149444226&4294967295,I=L+(C<<6&4294967295|C>>>26),C=D+(L^(I|~j))+U[11]+3174756917&4294967295,D=I+(C<<10&4294967295|C>>>22),C=j+(I^(D|~L))+U[2]+718787259&4294967295,j=D+(C<<15&4294967295|C>>>17),C=L+(D^(j|~I))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+j&4294967295,M.g[3]=M.g[3]+D&4294967295}r.prototype.v=function(M,I){I===void 0&&(I=M.length);const L=I-this.blockSize,U=this.C;let j=this.h,D=0;for(;D<I;){if(j==0)for(;D<=L;)l(this,M,D),D+=this.blockSize;if(typeof M=="string"){for(;D<I;)if(U[j++]=M.charCodeAt(D++),j==this.blockSize){l(this,U),j=0;break}}else for(;D<I;)if(U[j++]=M[D++],j==this.blockSize){l(this,U),j=0;break}}this.h=j,this.o+=I},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;I=this.o*8;for(var L=M.length-8;L<M.length;++L)M[L]=I&255,I/=256;for(this.v(M),M=Array(16),I=0,L=0;L<4;++L)for(let U=0;U<32;U+=8)M[I++]=this.g[L]>>>U&255;return M};function c(M,I){var L=v;return Object.prototype.hasOwnProperty.call(L,M)?L[M]:L[M]=I(M)}function m(M,I){this.h=I;const L=[];let U=!0;for(let j=M.length-1;j>=0;j--){const D=M[j]|0;U&&D==I||(L[j]=D,U=!1)}this.g=L}var v={};function E(M){return-128<=M&&M<128?c(M,function(I){return new m([I|0],I<0?-1:0)}):new m([M|0],M<0?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return x;if(M<0)return W(g(-M));const I=[];let L=1;for(let U=0;M>=L;U++)I[U]=M/L|0,L*=4294967296;return new m(I,0)}function w(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return W(w(M.substring(1),I));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=g(Math.pow(I,8));let U=x;for(let D=0;D<M.length;D+=8){var j=Math.min(8,M.length-D);const C=parseInt(M.substring(D,D+j),I);j<8?(j=g(Math.pow(I,j)),U=U.j(j).add(g(C))):(U=U.j(L),U=U.add(g(C)))}return U}var x=E(0),O=E(1),$=E(16777216);a=m.prototype,a.m=function(){if(Y(this))return-W(this).m();let M=0,I=1;for(let L=0;L<this.g.length;L++){const U=this.i(L);M+=(U>=0?U:4294967296+U)*I,I*=4294967296}return M},a.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(ae(this))return"0";if(Y(this))return"-"+W(this).toString(M);const I=g(Math.pow(M,6));var L=this;let U="";for(;;){const j=me(L,I).g;L=J(L,j.j(I));let D=((L.g.length>0?L.g[0]:L.h)>>>0).toString(M);if(L=j,ae(L))return D+U;for(;D.length<6;)D="0"+D;U=D+U}},a.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function ae(M){if(M.h!=0)return!1;for(let I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function Y(M){return M.h==-1}a.l=function(M){return M=J(this,M),Y(M)?-1:ae(M)?0:1};function W(M){const I=M.g.length,L=[];for(let U=0;U<I;U++)L[U]=~M.g[U];return new m(L,~M.h).add(O)}a.abs=function(){return Y(this)?W(this):this},a.add=function(M){const I=Math.max(this.g.length,M.g.length),L=[];let U=0;for(let j=0;j<=I;j++){let D=U+(this.i(j)&65535)+(M.i(j)&65535),C=(D>>>16)+(this.i(j)>>>16)+(M.i(j)>>>16);U=C>>>16,D&=65535,C&=65535,L[j]=C<<16|D}return new m(L,L[L.length-1]&-2147483648?-1:0)};function J(M,I){return M.add(W(I))}a.j=function(M){if(ae(this)||ae(M))return x;if(Y(this))return Y(M)?W(this).j(W(M)):W(W(this).j(M));if(Y(M))return W(this.j(W(M)));if(this.l($)<0&&M.l($)<0)return g(this.m()*M.m());const I=this.g.length+M.g.length,L=[];for(var U=0;U<2*I;U++)L[U]=0;for(U=0;U<this.g.length;U++)for(let j=0;j<M.g.length;j++){const D=this.i(U)>>>16,C=this.i(U)&65535,_e=M.i(j)>>>16,ut=M.i(j)&65535;L[2*U+2*j]+=C*ut,fe(L,2*U+2*j),L[2*U+2*j+1]+=D*ut,fe(L,2*U+2*j+1),L[2*U+2*j+1]+=C*_e,fe(L,2*U+2*j+1),L[2*U+2*j+2]+=D*_e,fe(L,2*U+2*j+2)}for(M=0;M<I;M++)L[M]=L[2*M+1]<<16|L[2*M];for(M=I;M<2*I;M++)L[M]=0;return new m(L,0)};function fe(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function ge(M,I){this.g=M,this.h=I}function me(M,I){if(ae(I))throw Error("division by zero");if(ae(M))return new ge(x,x);if(Y(M))return I=me(W(M),I),new ge(W(I.g),W(I.h));if(Y(I))return I=me(M,W(I)),new ge(W(I.g),I.h);if(M.g.length>30){if(Y(M)||Y(I))throw Error("slowDivide_ only works with positive integers.");for(var L=O,U=I;U.l(M)<=0;)L=Ce(L),U=Ce(U);var j=Ie(L,1),D=Ie(U,1);for(U=Ie(U,2),L=Ie(L,2);!ae(U);){var C=D.add(U);C.l(M)<=0&&(j=j.add(L),D=C),U=Ie(U,1),L=Ie(L,1)}return I=J(M,j.j(I)),new ge(j,I)}for(j=x;M.l(I)>=0;){for(L=Math.max(1,Math.floor(M.m()/I.m())),U=Math.ceil(Math.log(L)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),D=g(L),C=D.j(I);Y(C)||C.l(M)>0;)L-=U,D=g(L),C=D.j(I);ae(D)&&(D=O),j=j.add(D),M=J(M,C)}return new ge(j,M)}a.B=function(M){return me(this,M).h},a.and=function(M){const I=Math.max(this.g.length,M.g.length),L=[];for(let U=0;U<I;U++)L[U]=this.i(U)&M.i(U);return new m(L,this.h&M.h)},a.or=function(M){const I=Math.max(this.g.length,M.g.length),L=[];for(let U=0;U<I;U++)L[U]=this.i(U)|M.i(U);return new m(L,this.h|M.h)},a.xor=function(M){const I=Math.max(this.g.length,M.g.length),L=[];for(let U=0;U<I;U++)L[U]=this.i(U)^M.i(U);return new m(L,this.h^M.h)};function Ce(M){const I=M.g.length+1,L=[];for(let U=0;U<I;U++)L[U]=M.i(U)<<1|M.i(U-1)>>>31;return new m(L,M.h)}function Ie(M,I){const L=I>>5;I%=32;const U=M.g.length-L,j=[];for(let D=0;D<U;D++)j[D]=I>0?M.i(D+L)>>>I|M.i(D+L+1)<<32-I:M.i(D+L);return new m(j,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hE=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=g,m.fromString=w,ar=m}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dE,fu,mE,Qc,_m,pE,gE,yE;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var _=0;_<u.length;++_){var b=u[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(u,_){if(_)e:{var b=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var G=u[N];if(!(G in b))break e;b=b[G]}u=u[u.length-1],N=b[u],_=_(N),_!=N&&_!=null&&e(b,u,{configurable:!0,writable:!0,value:_})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(_){var b=[],N;for(N in _)Object.prototype.hasOwnProperty.call(_,N)&&b.push([N,_[N]]);return b}});var c=c||{},m=this||self;function v(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function E(u,_,b){return u.call.apply(u.bind,arguments)}function g(u,_,b){return g=E,g.apply(null,arguments)}function w(u,_){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function x(u,_){function b(){}b.prototype=_.prototype,u.Z=_.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(N,G,Z){for(var pe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)pe[Be-2]=arguments[Be];return _.prototype[G].apply(N,pe)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function $(u){const _=u.length;if(_>0){const b=Array(_);for(let N=0;N<_;N++)b[N]=u[N];return b}return[]}function ae(u,_){for(let N=1;N<arguments.length;N++){const G=arguments[N];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=u.length||0;const Z=G.length||0;u.length=b+Z;for(let pe=0;pe<Z;pe++)u[b+pe]=G[pe]}else u.push(G)}}class Y{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function W(u){m.setTimeout(()=>{throw u},0)}function J(){var u=M;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class fe{constructor(){this.h=this.g=null}add(_,b){const N=ge.get();N.set(_,b),this.h?this.h.next=N:this.g=N,this.h=N}}var ge=new Y(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Ie=!1,M=new fe,I=()=>{const u=Promise.resolve(void 0);Ce=()=>{u.then(L)}};function L(){for(var u;u=J();){try{u.h.call(u.g)}catch(b){W(b)}var _=ge;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}Ie=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};m.addEventListener("test",b,_),m.removeEventListener("test",b,_)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function _e(u,_){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}x(_e,j),_e.prototype.init=function(u,_){const b=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(b=="mouseover"?_=u.fromElement:b=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),P=0;function he(u,_,b,N,G){this.listener=u,this.proxy=null,this.src=_,this.type=b,this.capture=!!N,this.ha=G,this.key=++P,this.da=this.fa=!1}function xe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function et(u,_,b){for(const N in u)_.call(b,u[N],N,u)}function We(u,_){for(const b in u)_.call(void 0,u[b],b,u)}function q(u){const _={};for(const b in u)_[b]=u[b];return _}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(u,_){let b,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(b in N)u[b]=N[b];for(let Z=0;Z<se.length;Z++)b=se[Z],Object.prototype.hasOwnProperty.call(N,b)&&(u[b]=N[b])}}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,_,b,N,G){const Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);const pe=Xe(u,_,N,G);return pe>-1?(_=u[pe],b||(_.fa=!1)):(_=new he(_,this.src,Z,!!N,G),_.fa=b,u.push(_)),_};function qe(u,_){const b=_.type;if(b in u.g){var N=u.g[b],G=Array.prototype.indexOf.call(N,_,void 0),Z;(Z=G>=0)&&Array.prototype.splice.call(N,G,1),Z&&(xe(_),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Xe(u,_,b,N){for(let G=0;G<u.length;++G){const Z=u[G];if(!Z.da&&Z.listener==_&&Z.capture==!!b&&Z.ha==N)return G}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Kt={};function jt(u,_,b,N,G){if(Array.isArray(_)){for(let Z=0;Z<_.length;Z++)jt(u,_[Z],b,N,G);return null}return b=Ss(b),u&&u[ut]?u.J(_,b,v(N)?!!N.capture:!1,G):ma(u,_,b,!1,N,G)}function ma(u,_,b,N,G,Z){if(!_)throw Error("Invalid event type");const pe=v(G)?!!G.capture:!!G;let Be=bt(u);if(Be||(u[$e]=Be=new Ee(u)),b=Be.add(_,b,N,pe,Z),b.proxy)return b;if(N=Ts(),b.proxy=N,N.src=u,N.listener=b,u.addEventListener)D||(G=pe),G===void 0&&(G=!1),u.addEventListener(_.toString(),N,G);else if(u.attachEvent)u.attachEvent(qn(_.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ts(){function u(b){return _.call(u.src,u.listener,b)}const _=bs;return u}function Un(u,_,b,N,G){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Un(u,_[Z],b,N,G);else N=v(N)?!!N.capture:!!N,b=Ss(b),u&&u[ut]?(u=u.i,Z=String(_).toString(),Z in u.g&&(_=u.g[Z],b=Xe(_,b,N,G),b>-1&&(xe(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete u.g[Z],u.h--)))):u&&(u=bt(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Xe(_,b,N,G)),(b=u>-1?_[u]:null)&&pa(b))}function pa(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[ut])qe(_.i,u);else{var b=u.type,N=u.proxy;_.removeEventListener?_.removeEventListener(b,N,u.capture):_.detachEvent?_.detachEvent(qn(b),N):_.addListener&&_.removeListener&&_.removeListener(N),(b=bt(_))?(qe(b,u),b.h==0&&(b.src=null,_[$e]=null)):xe(u)}}}function qn(u){return u in Kt?Kt[u]:Kt[u]="on"+u}function bs(u,_){if(u.da)u=!0;else{_=new _e(_,this);const b=u.listener,N=u.ha||u.src;u.fa&&pa(u),u=b.call(N,_)}return u}function bt(u){return u=u[$e],u instanceof Ee?u:null}var qa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ss(u){return typeof u=="function"?u:(u[qa]||(u[qa]=function(_){return u.handleEvent(_)}),u[qa])}function Pt(){U.call(this),this.i=new Ee(this),this.M=this,this.G=null}x(Pt,U),Pt.prototype[ut]=!0,Pt.prototype.removeEventListener=function(u,_,b,N){Un(this,u,_,b,N)};function $t(u,_){var b,N=u.G;if(N)for(b=[];N;N=N.G)b.push(N);if(u=u.M,N=_.type||_,typeof _=="string")_=new j(_,u);else if(_ instanceof j)_.target=_.target||u;else{var G=_;_=new j(N,u),ye(_,G)}G=!0;let Z,pe;if(b)for(pe=b.length-1;pe>=0;pe--)Z=_.g=b[pe],G=Ei(Z,N,!0,_)&&G;if(Z=_.g=u,G=Ei(Z,N,!0,_)&&G,G=Ei(Z,N,!1,_)&&G,b)for(pe=0;pe<b.length;pe++)Z=_.g=b[pe],G=Ei(Z,N,!1,_)&&G}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const b=u.g[_];for(let N=0;N<b.length;N++)xe(b[N]);delete u.g[_],u.h--}}this.G=null},Pt.prototype.J=function(u,_,b,N){return this.i.add(String(u),_,!1,b,N)},Pt.prototype.K=function(u,_,b,N){return this.i.add(String(u),_,!0,b,N)};function Ei(u,_,b,N){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let Z=0;Z<_.length;++Z){const pe=_[Z];if(pe&&!pe.da&&pe.capture==b){const Be=pe.listener,zt=pe.ha||pe.src;pe.fa&&qe(u.i,pe),G=Be.call(zt,N)!==!1&&G}}return G&&!N.defaultPrevented}function bl(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:m.setTimeout(u,_||0)}function mr(u){u.g=bl(()=>{u.g=null,u.i&&(u.i=!1,mr(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class An extends U{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(u){U.call(this),this.h=u,this.g={}}x(ta,U);var na=[];function $n(u){et(u.g,function(_,b){this.g.hasOwnProperty(b)&&pa(_)},u),u.g={}}ta.prototype.N=function(){ta.Z.N.call(this),$n(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ia=m.JSON.stringify,so=m.JSON.parse,pr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function ro(){}function oo(){}var Ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function De(){j.call(this,"d")}x(De,j);function Wn(){j.call(this,"c")}x(Wn,j);var Vt={},gr=null;function bi(){return gr=gr||new Pt}Vt.Ia="serverreachability";function lo(u){j.call(this,Vt.Ia,u)}x(lo,j);function mn(u){const _=bi();$t(_,new lo(_))}Vt.STAT_EVENT="statevent";function ga(u,_){j.call(this,Vt.STAT_EVENT,u),this.stat=_}x(ga,j);function Gt(u){const _=bi();$t(_,new ga(_,u))}Vt.Ja="timingevent";function Si(u,_){j.call(this,Vt.Ja,u),this.size=_}x(Si,j);function de(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},_)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function Sl(u,_,b,N,G,Z){u.info(function(){if(u.g)if(Z){var pe="",Be=Z.split("&");for(let ft=0;ft<Be.length;ft++){var zt=Be[ft].split("=");if(zt.length>1){const Mt=zt[0];zt=zt[1];const H=Mt.split("_");pe=H.length>=2&&H[1]=="type"?pe+(Mt+"="+zt+"&"):pe+(Mt+"=redacted&")}}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+_+`
`+b+`
`+pe})}function Rn(u,_,b,N,G,Z,pe){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+_+`
`+b+`
`+Z+" "+pe})}function li(u,_,b,N){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+yr(u,b)+(N?" "+N:"")})}function aa(u,_){u.info(function(){return"TIMEOUT: "+_})}wi.prototype.info=function(){};function yr(u,_){if(!u.g)return _;if(!_)return null;try{const Z=JSON.parse(_);if(Z){for(u=0;u<Z.length;u++)if(Array.isArray(Z[u])){var b=Z[u];if(!(b.length<2)){var N=b[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let pe=1;pe<N.length;pe++)N[pe]=""}}}}return ia(Z)}catch{return _}}var Zn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ws={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sn;function ya(){}x(ya,ro),ya.prototype.g=function(){return new XMLHttpRequest},sn=new ya;function Bn(u){return encodeURIComponent(String(u))}function _r(u){var _=1;u=u.split(":");const b=[];for(;_>0&&u.length;)b.push(u.shift()),_--;return u.length&&b.push(u.join(":")),b}function ui(u,_,b,N){this.j=u,this.i=_,this.l=b,this.S=N||1,this.V=new ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var tt={},Jt={};function Li(u,_,b){u.M=1,u.A=Vi(At(_)),u.u=b,u.R=!0,_a(u,null)}function _a(u,_){u.F=Date.now(),Jn(u),u.B=At(u.A);var b=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),fi(b.i,"t",N),u.C=0,b=u.j.L,u.h=new Pn,u.g=yo(u.j,b?_:null,!u.u),u.P>0&&(u.O=new An(g(u.Y,u,u.g),u.P)),_=u.V,b=u.g,N=u.ba;var G="readystatechange";Array.isArray(G)||(G&&(na[0]=G.toString()),G=na);for(let Z=0;Z<G.length;Z++){const pe=jt(b,G[Z],N||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=u.J?q(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),mn(),Sl(u.i,u.v,u.B,u.l,u.S,u.u)}ui.prototype.ba=function(u){u=u.target;const _=this.O;_&&we(u)==3?_.j():this.Y(u)},ui.prototype.Y=function(u){try{if(u==this.g)e:{const Be=we(this.g),zt=this.g.ya(),ft=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Oe(this.g)))){this.K||Be!=4||zt==7||(zt==8||ft<=0?mn(3):mn(2)),en(this);var _=this.g.ca();this.X=_;var b=wl(this);if(this.o=_==200,Rn(this.i,this.v,this.B,this.l,this.S,Be,_),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(N)){var Z=N;break t}}Z=null}if(u=Z)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,Gt(12),Cn(this),Nn(this);break e}}if(this.R){u=!0;let Mt;for(;!this.K&&this.C<b.length;)if(Mt=vr(this,b),Mt==Jt){Be==4&&(this.m=4,Gt(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==tt){this.m=4,Gt(15),li(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,Mt,null),Ai(this,Mt);if(As(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||b.length!=0||this.h.h||(this.m=1,Gt(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Nn(this);else if(b.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Rr(pe),pe.P=!0,Gt(11))}}else li(this.i,this.l,b,null),Ai(this,b);Be==4&&Cn(this),this.o&&!this.K&&(Be==4?Nr(this.j,this):(this.o=!1,Jn(this)))}else Ve(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Cn(this),Nn(this)}}}catch{}};function wl(u){if(!As(u))return u.g.la();const _=Oe(u.g);if(_==="")return"";let b="";const N=_.length,G=we(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Nn(u),"";u.h.i=new m.TextDecoder}for(let Z=0;Z<N;Z++)u.h.h=!0,b+=u.h.i.decode(_[Z],{stream:!(G&&Z==N-1)});return _.length=0,u.h.g+=b,u.C=0,u.h.g}function As(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vr(u,_){var b=u.C,N=_.indexOf(`
`,b);return N==-1?Jt:(b=Number(_.substring(b,N)),isNaN(b)?tt:(N+=1,N+b>_.length?Jt:(_=_.slice(N,N+b),u.C=N+b,_)))}ui.prototype.cancel=function(){this.K=!0,Cn(this)};function Jn(u){u.T=Date.now()+u.H,Rs(u,u.H)}function Rs(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=de(g(u.aa,u),_)}function en(u){u.D&&(m.clearTimeout(u.D),u.D=null)}ui.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(aa(this.i,this.B),this.M!=2&&(mn(),Gt(17)),Cn(this),this.m=2,Nn(this)):Rs(this,this.T-u)};function Nn(u){u.j.I==0||u.K||Nr(u.j,u)}function Cn(u){en(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,$n(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function Ai(u,_){try{var b=u.j;if(b.I!=0&&(b.g==u||Ri(b.h,u))){if(!u.L&&Ri(b.h,u)&&b.I==3){try{var N=b.Ba.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Is(b),Sa(b);else break e;Xa(b),Gt(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=de(g(b.Va,b),6e3));ei(b.h)<=1&&b.ta&&(b.ta=void 0)}else Hi(b,11)}else if((u.L||b.g==u)&&Is(b),!C(_))for(G=b.Ba.g.parse(_),_=0;_<G.length;_++){let ft=G[_];const Mt=ft[0];if(!(Mt<=b.K))if(b.K=Mt,ft=ft[1],b.I==2)if(ft[0]=="c"){b.M=ft[1],b.ba=ft[2];const H=ft[3];H!=null&&(b.ka=H,b.j.info("VER="+b.ka));const oe=ft[4];oe!=null&&(b.za=oe,b.j.info("SVER="+b.za));const ve=ft[5];ve!=null&&typeof ve=="number"&&ve>0&&(N=1.5*ve,b.O=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const Re=u.g;if(Re){const Le=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var Z=N.h;Z.g||Le.indexOf("spdy")==-1&&Le.indexOf("quic")==-1&&Le.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ki(Z,Z.h),Z.h=null))}if(N.G){const nt=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;nt&&(N.wa=nt,ct(N.J,N.G,nt))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),N=b;var pe=u;if(N.na=go(N,N.L?N.ba:null,N.W),pe.L){Ba(N.h,pe);var Be=pe,zt=N.O;zt&&(Be.H=zt),Be.D&&(en(Be),Jn(Be)),N.g=pe}else fo(N);b.i.length>0&&zi(b)}else ft[0]!="stop"&&ft[0]!="close"||Hi(b,7);else b.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Hi(b,7):Ds(b):ft[0]!="noop"&&b.l&&b.l.qa(ft),b.A=0)}}mn(4)}catch{}}var Qt=class{constructor(u,_){this.g=u,this.map=_}};function sa(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ns(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ei(u){return u.h?1:u.g?u.g.size:0}function Ri(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function ki(u,_){u.g?u.g.add(_):u.h=_}function Ba(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}sa.prototype.cancel=function(){if(this.i=Cs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const b of u.g.values())_=_.concat(b.G);return _}return $(u.i)}var Er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(u,_){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const N=u[b].indexOf("=");let G,Z=null;N>=0?(G=u[b].substring(0,N),Z=u[b].substring(N+1)):G=u[b],_(G,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ti(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof ti?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,zn(this,u.u),this.h=u.h,va(this,xs(u.i)),this.m=u.m):u&&(_=String(u).match(Er))?(this.l=!1,He(this,_[1]||"",!0),this.o=ci(_[2]||""),this.g=ci(_[3]||"",!0),zn(this,_[4]),this.h=ci(_[5]||"",!0),va(this,_[6]||"",!0),this.m=ci(_[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}ti.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(za(_,Ui,!0),":");var b=this.g;return(b||_=="file")&&(u.push("//"),(_=this.o)&&u.push(za(_,Ui,!0),"@"),u.push(Bn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(za(b,b.charAt(0)=="/"?br:Tr,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",za(b,Sr)),u.join("")},ti.prototype.resolve=function(u){const _=At(this);let b=!!u.j;b?He(_,u.j):b=!!u.o,b?_.o=u.o:b=!!u.g,b?_.g=u.g:b=u.u!=null;var N=u.h;if(b)zn(_,u.u);else if(b=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=_.h.lastIndexOf("/");G!=-1&&(N=_.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const Z=[];for(let pe=0;pe<G.length;){const Be=G[pe++];Be=="."?N&&pe==G.length&&Z.push(""):Be==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),N&&pe==G.length&&Z.push("")):(Z.push(Be),N=!0)}N=Z.join("/")}else N=G}return b?_.h=N:b=u.i.toString()!=="",b?va(_,xs(u.i)):b=!!u.m,b&&(_.m=u.m),_};function At(u){return new ti(u)}function He(u,_,b){u.j=b?ci(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function zn(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function va(u,_,b){_ instanceof Bi?(u.i=_,ni(u.i,u.l)):(b||(_=za(_,qi)),u.i=new Bi(_,u.l))}function ct(u,_,b){u.i.set(_,b)}function Vi(u){return ct(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function za(u,_,b){return typeof u=="string"?(u=encodeURI(u).replace(_,Hn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ui=/[#\/\?@]/g,Tr=/[#\?:]/g,br=/[#\?]/g,qi=/[#\?@]/g,Sr=/#/g;function Bi(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Pa(u.i,function(_,b){u.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}a=Bi.prototype,a.add=function(u,_){_n(this),this.i=null,u=vn(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(_),this.h+=1,this};function uo(u,_){_n(u),_=vn(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function Ea(u,_){return _n(u),_=vn(u,_),u.g.has(_)}a.forEach=function(u,_){_n(this),this.g.forEach(function(b,N){b.forEach(function(G){u.call(_,G,N,this)},this)},this)};function Ta(u,_){_n(u);let b=[];if(typeof _=="string")Ea(u,_)&&(b=b.concat(u.g.get(vn(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)b=b.concat(u[_]);return b}a.set=function(u,_){return _n(this),this.i=null,u=vn(this,u),Ea(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},a.get=function(u,_){return u?(u=Ta(this,u),u.length>0?String(u[0]):_):_};function fi(u,_,b){uo(u,_),b.length>0&&(u.i=null,u.g.set(vn(u,_),$(b)),u.h+=b.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let N=0;N<_.length;N++){var b=_[N];const G=Bn(b);b=Ta(this,b);for(let Z=0;Z<b.length;Z++){let pe=G;b[Z]!==""&&(pe+="="+Bn(b[Z])),u.push(pe)}}return this.i=u.join("&")};function xs(u){const _=new Bi;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function vn(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function ni(u,_){_&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(b,N){const G=N.toLowerCase();N!=G&&(uo(this,N),fi(this,G,b))},u)),u.j=_}function xn(u,_){const b=new wi;if(m.Image){const N=new Image;N.onload=w(Te,b,"TestLoadImage: loaded",!0,_,N),N.onerror=w(Te,b,"TestLoadImage: error",!1,_,N),N.onabort=w(Te,b,"TestLoadImage: abort",!1,_,N),N.ontimeout=w(Te,b,"TestLoadImage: timeout",!1,_,N),m.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else _(!1)}function wr(u,_){const b=new wi,N=new AbortController,G=setTimeout(()=>{N.abort(),Te(b,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:N.signal}).then(Z=>{clearTimeout(G),Z.ok?Te(b,"TestPingServer: ok",!0,_):Te(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Te(b,"TestPingServer: error",!1,_)})}function Te(u,_,b,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(b)}catch{}}function Pi(){this.g=new pr}function ii(u){this.i=u.Sb||null,this.h=u.ab||!1}x(ii,ro),ii.prototype.g=function(){return new ba(this.i,this.h)};function ba(u,_){Pt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ba,Pt),a=ba.prototype,a.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,rn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||m).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,rn(this)),this.g&&(this.readyState=3,rn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?hi(this):rn(this),this.readyState==3&&Ha(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,hi(this))},a.Na=function(u){this.g&&(this.response=u,hi(this))},a.ga=function(){this.g&&hi(this)};function hi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,rn(u)}a.setRequestHeader=function(u,_){this.A.append(u,_)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=_.next();return u.join(`\r
`)};function rn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function En(u){let _="";return et(u,function(b,N){_+=N,_+=":",_+=b,_+=`\r
`}),_}function ra(u,_,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=En(b),typeof u=="string"?b!=null&&Bn(b):ct(u,_,b))}function h(u){Pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(h,Pt);var y=/^https?$/i,S=["POST","PUT"];a=h.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,_,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sn.g(),this.g.onreadystatechange=O(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(Z){R(this,Z);return}if(u=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)b.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())b.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=m.FormData&&u instanceof m.FormData,!(Array.prototype.indexOf.call(S,_,void 0)>=0)||N||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of b)this.g.setRequestHeader(Z,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Z){R(this,Z)}};function R(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,V(u),te(u)}function V(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,$t(this,"complete"),$t(this,"abort"),te(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),te(this,!0)),h.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?F(this):this.Xa())},a.Xa=function(){F(this)};function F(u){if(u.h&&typeof c<"u"){if(u.v&&we(u)==4)setTimeout(u.Ca.bind(u),0);else if($t(u,"readystatechange"),we(u)==4){u.h=!1;try{const Z=u.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var N;if(N=Z===0){let pe=String(u.D).match(Er)[1]||null;!pe&&m.self&&m.self.location&&(pe=m.self.location.protocol.slice(0,-1)),N=!y.test(pe?pe.toLowerCase():"")}b=N}if(b)$t(u,"complete"),$t(u,"success");else{u.o=6;try{var G=we(u)>2?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.ca()+"]",V(u)}}finally{te(u)}}}}function te(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,_||$t(u,"ready");try{b.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function we(u){return u.g?u.g.readyState:0}a.ca=function(){try{return we(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),so(_)}};function Oe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ve(u){const _={};u=(u.g&&we(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(C(u[N]))continue;var b=_r(u[N]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=_[G]||[];_[G]=Z,Z.push(b)}We(_,function(N){return N.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pt(u,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||_}function Xt(u){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pt("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pt("baseRetryDelayMs",5e3,u),this.Za=pt("retryDelaySeedMs",1e4,u),this.Ta=pt("forwardChannelMaxRetries",2,u),this.va=pt("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new sa(u&&u.concurrentRequestLimit),this.Ba=new Pi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Xt.prototype,a.ka=8,a.I=1,a.connect=function(u,_,b,N){Gt(0),this.W=u,this.H=_||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.J=go(this,null,this.W),zi(this)};function Ds(u){if(Fa(u),u.I==3){var _=u.V++,b=At(u.J);if(ct(b,"SID",u.M),ct(b,"RID",_),ct(b,"TYPE","terminate"),Qa(u,b),_=new ui(u,u.j,_),_.M=2,_.A=Vi(At(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&m.Image&&(new Image().src=_.A,b=!0),b||(_.g=yo(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Jn(_)}po(u)}function Sa(u){u.g&&(Rr(u),u.g.cancel(),u.g=null)}function Fa(u){Sa(u),u.v&&(m.clearTimeout(u.v),u.v=null),Is(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&m.clearTimeout(u.m),u.m=null)}function zi(u){if(!Ns(u.h)&&!u.m){u.m=!0;var _=u.Ea;Ce||I(),Ie||(Ce(),Ie=!0),M.add(_,u),u.D=0}}function Ga(u,_){return ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=de(g(u.Ea,u,_),mo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const G=new ui(this,this.j,u);let Z=this.o;if(this.U&&(Z?(Z=q(Z),ye(Z,this.U)):Z=this.U),this.u!==null||this.R||(G.J=Z,Z=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=co(this,G,_),b=At(this.J),ct(b,"RID",u),ct(b,"CVER",22),this.G&&ct(b,"X-HTTP-Session-Id",this.G),Qa(this,b),Z&&(this.R?_="headers="+Bn(En(Z))+"&"+_:this.u&&ra(b,this.u,Z)),ki(this.h,G),this.Ra&&ct(b,"TYPE","init"),this.S?(ct(b,"$req",_),ct(b,"SID","null"),G.U=!0,Li(G,b,null)):Li(G,b,_),this.I=2}}else this.I==3&&(u?Ar(this,u):this.i.length==0||Ns(this.h)||Ar(this))};function Ar(u,_){var b;_?b=_.l:b=u.V++;const N=At(u.J);ct(N,"SID",u.M),ct(N,"RID",b),ct(N,"AID",u.K),Qa(u,N),u.u&&u.o&&ra(N,u.u,u.o),b=new ui(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),_&&(u.i=_.G.concat(u.i)),_=co(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ki(u.h,b),Li(b,N,_)}function Qa(u,_){u.H&&et(u.H,function(b,N){ct(_,N,b)}),u.l&&et({},function(b,N){ct(_,N,b)})}function co(u,_,b){b=Math.min(u.i.length,b);const N=u.l?g(u.l.Ka,u.l,u):null;e:{var G=u.i;let Be=-1;for(;;){const zt=["count="+b];Be==-1?b>0?(Be=G[0].g,zt.push("ofs="+Be)):Be=0:zt.push("ofs="+Be);let ft=!0;for(let Mt=0;Mt<b;Mt++){var Z=G[Mt].g;const H=G[Mt].map;if(Z-=Be,Z<0)Be=Math.max(0,G[Mt].g-100),ft=!1;else try{Z="req"+Z+"_"||"";try{var pe=H instanceof Map?H:Object.entries(H);for(const[oe,ve]of pe){let Re=ve;v(ve)&&(Re=ia(ve)),zt.push(Z+oe+"="+encodeURIComponent(Re))}}catch(oe){throw zt.push(Z+"type="+encodeURIComponent("_badmap")),oe}}catch{N&&N(H)}}if(ft){pe=zt.join("&");break e}}pe=void 0}return u=u.i.splice(0,b),_.G=u,pe}function fo(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;Ce||I(),Ie||(Ce(),Ie=!0),M.add(_,u),u.A=0}}function Xa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=de(g(u.Da,u),mo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,ho(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=de(g(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Sa(this),ho(this))};function Rr(u){u.B!=null&&(m.clearTimeout(u.B),u.B=null)}function ho(u){u.g=new ui(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=At(u.na);ct(_,"RID","rpc"),ct(_,"SID",u.M),ct(_,"AID",u.K),ct(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&ct(_,"TO",u.ia),ct(_,"TYPE","xmlhttp"),Qa(u,_),u.u&&u.o&&ra(_,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Vi(At(_)),b.u=null,b.R=!0,_a(b,u)}a.Va=function(){this.C!=null&&(this.C=null,Sa(this),Xa(this),Gt(19))};function Is(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Nr(u,_){var b=null;if(u.g==_){Is(u),Rr(u),u.g=null;var N=2}else if(Ri(u.h,_))b=_.G,Ba(u.h,_),N=1;else return;if(u.I!=0){if(_.o)if(N==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var G=u.D;N=bi(),$t(N,new Si(N,b)),zi(u)}else fo(u);else if(G=_.m,G==3||G==0&&_.X>0||!(N==1&&Ga(u,_)||N==2&&Xa(u)))switch(b&&b.length>0&&(_=u.h,_.i=_.i.concat(b)),G){case 1:Hi(u,5);break;case 4:Hi(u,10);break;case 3:Hi(u,6);break;default:Hi(u,2)}}}function mo(u,_){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*_}function Hi(u,_){if(u.j.info("Error code "+_),_==2){var b=g(u.bb,u),N=u.Ua;const G=!N;N=new ti(N||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||He(N,"https"),Vi(N),G?xn(N.toString(),b):wr(N.toString(),b)}else Gt(2);u.I=0,u.l&&u.l.pa(_),po(u),Fa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function po(u){if(u.I=0,u.ja=[],u.l){const _=Cs(u.h);(_.length!=0||u.i.length!=0)&&(ae(u.ja,_),ae(u.ja,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.oa()}}function go(u,_,b){var N=b instanceof ti?At(b):new ti(b);if(N.g!="")_&&(N.g=_+"."+N.g),zn(N,N.u);else{var G=m.location;N=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const Z=new ti(null);N&&He(Z,N),_&&(Z.g=_),G&&zn(Z,G),b&&(Z.h=b),N=Z}return b=u.G,_=u.wa,b&&_&&ct(N,b,_),ct(N,"VER",u.ka),Qa(u,N),N}function yo(u,_,b){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new h(new ii({ab:b})):new h(u.ma),_.Fa(u.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function _o(){}a=_o.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function wa(){}wa.prototype.g=function(u,_){return new Tn(u,_)};function Tn(u,_){Pt.call(this),this.g=new Xt(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!C(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new oa(this)}x(Tn,Pt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ds(this.g)},Tn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=ia(u),u=b);_.i.push(new Qt(_.Ya++,u)),_.I==3&&zi(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ds(this.g),delete this.g,Tn.Z.N.call(this)};function vo(u){De.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const b in _){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}x(vo,De);function Eo(){Wn.call(this),this.status=1}x(Eo,Wn);function oa(u){this.g=u}x(oa,_o),oa.prototype.ra=function(){$t(this.g,"a")},oa.prototype.qa=function(u){$t(this.g,new vo(u))},oa.prototype.pa=function(u){$t(this.g,new Eo)},oa.prototype.oa=function(){$t(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,yE=function(){return new wa},gE=function(){return bi()},pE=Vt,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,Qc=Zn,ws.COMPLETE="complete",mE=ws,oo.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,fu=oo,h.prototype.listenOnce=h.prototype.K,h.prototype.getLastError=h.prototype.Ha,h.prototype.getLastErrorCode=h.prototype.ya,h.prototype.getStatus=h.prototype.ca,h.prototype.getResponseJson=h.prototype.La,h.prototype.getResponseText=h.prototype.la,h.prototype.send=h.prototype.ea,h.prototype.setWithCredentials=h.prototype.Fa,dE=h}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");let gl="12.8.0";function oA(a){gl=a}const Yr=new sE("@firebase/firestore");function Zo(){return Yr.logLevel}function be(a,...e){if(Yr.logLevel<=mt.DEBUG){const i=e.map(Xm);Yr.debug(`Firestore (${gl}): ${a}`,...i)}}function _s(a,...e){if(Yr.logLevel<=mt.ERROR){const i=e.map(Xm);Yr.error(`Firestore (${gl}): ${a}`,...i)}}function ol(a,...e){if(Yr.logLevel<=mt.WARN){const i=e.map(Xm);Yr.warn(`Firestore (${gl}): ${a}`,...i)}}function Xm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Ue(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,_E(a,r,i)}function _E(a,e,i){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw _s(r),new Error(r)}function wt(a,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||_E(e,l,r)}function Qe(a,e){return a}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Zr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class vE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qn.UNAUTHENTICATED)))}shutdown(){}}class uA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class cA{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){wt(this.o===void 0,42304);let r=this.i;const l=E=>this.i!==r?(r=this.i,i(E)):Promise.resolve();let c=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sr,e.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const E=c;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},v=E=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((E=>v(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sr)}}),0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new vE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class fA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new fA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,G2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){wt(this.o===void 0,3512);const r=c=>{c.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const m=c.token!==this.m;return this.m=c.token,be("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Cv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=mA(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function rt(a,e){return a<e?-1:a>e?1:0}function vm(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=e.charAt(r);if(l!==c)return Zd(l)===Zd(c)?rt(l,c):Zd(l)?1:-1}return rt(a.length,e.length)}const pA=55296,gA=57343;function Zd(a){const e=a.charCodeAt(0);return e>=pA&&e<=gA}function ll(a,e,i){return a.length===e.length&&a.every(((r,l)=>i(r,e[l])))}const xv="__name__";class Da{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ue(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ue(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Da.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Da.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return rt(e.length,i.length)}static compareSegments(e,i){const r=Da.isNumericId(e),l=Da.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Da.extractNumericId(e).compare(Da.extractNumericId(i)):vm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class kt extends Da{construct(e,i,r){return new kt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new kt(i)}static emptyPath(){return new kt([])}}const yA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Da{construct(e,i,r){return new kn(e,i,r)}static isValidIdentifier(e){return yA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new kn([xv])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let m=!1;for(;l<e.length;){const v=e[l];if(v==="\\"){if(l+1===e.length)throw new Se(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new Se(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(r+=v,l++):(c(),l++)}if(c(),m)throw new Se(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(i)}static emptyPath(){return new kn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(kt.fromString(e))}static fromName(e){return new Me(kt.fromString(e).popFirst(5))}static empty(){return new Me(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return kt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new kt(e.slice()))}}function EE(a,e,i){if(!i)throw new Se(ue.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function _A(a,e,i,r){if(e===!0&&r===!0)throw new Se(ue.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Dv(a){if(!Me.isDocumentKey(a))throw new Se(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Iv(a){if(Me.isDocumentKey(a))throw new Se(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function TE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Af(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ue(12329,{type:typeof a})}function ul(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Se(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Af(a);throw new Se(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function dn(a,e){const i={typeString:a};return e&&(i.value=e),i}function xu(a,e){if(!TE(a))throw new Se(ue.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const m=a[r];if(l&&typeof m!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&m!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new Se(ue.INVALID_ARGUMENT,i);return!0}const Ov=-62135596800,jv=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*jv);return new Bt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ov)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:dn("string",Bt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Bt(0,0))}static max(){return new Pe(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function vA(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=Pe.fromTimestamp(r===1e9?new Bt(i+1,0):new Bt(i,r));return new lr(l,Me.empty(),e)}function EA(a){return new lr(a.readTime,a.key,Eu)}class lr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new lr(Pe.min(),Me.empty(),Eu)}static max(){return new lr(Pe.max(),Me.empty(),Eu)}}function TA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Me.comparator(a.documentKey,e.documentKey),i!==0?i:rt(a.largestBatchId,e.largestBatchId))}const bA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yl(a){if(a.code!==ue.FAILED_PRECONDITION||a.message!==bA)throw a;be("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ce(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ce?i:ce.resolve(i)}catch(i){return ce.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ce.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ce.reject(i)}static resolve(e){return new ce(((i,r)=>{i(e)}))}static reject(e){return new ce(((i,r)=>{r(e)}))}static waitFor(e){return new ce(((i,r)=>{let l=0,c=0,m=!1;e.forEach((v=>{++l,v.next((()=>{++c,m&&c===l&&i()}),(E=>r(E)))})),m=!0,c===l&&i()}))}static or(e){let i=ce.resolve(!1);for(const r of e)i=i.next((l=>l?ce.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new ce(((r,l)=>{const c=e.length,m=new Array(c);let v=0;for(let E=0;E<c;E++){const g=E;i(e[g]).next((w=>{m[g]=w,++v,v===c&&r(m)}),(w=>l(w)))}}))}static doWhile(e,i){return new ce(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function wA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _l(a){return a.name==="IndexedDbTransactionError"}class Rf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rf.ce=-1;const Km=-1;function Nf(a){return a==null}function af(a){return a===0&&1/a==-1/0}function AA(a){return typeof a=="number"&&Number.isInteger(a)&&!af(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const bE="";function RA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Mv(e)),e=NA(a.get(i),e);return Mv(e)}function NA(a,e){let i=e;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case bE:i+="";break;default:i+=c}}return i}function Mv(a){return a+bE+""}function Lv(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Jr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function SE(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Yt{constructor(e,i){this.comparator=e,this.root=i||Mn.EMPTY}insert(e,i){return new Yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Mn.RED,this.left=l??Mn.EMPTY,this.right=c??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Mn(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Mn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Mn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new yn(this.comparator);return i.data=e,i}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fa{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new fa([])}unionWith(e){let i=new yn(kn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new fa(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wE("Invalid base64 string: "+c):c}})(e);return new Vn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let m=0;m<l.length;++m)c+=String.fromCharCode(l[m]);return c})(e);return new Vn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const CA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(a){if(wt(!!a,39018),typeof a=="string"){let e=0;const i=CA.exec(a);if(wt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(a.seconds),nanos:an(a.nanos)}}function an(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function cr(a){return typeof a=="string"?Vn.fromBase64String(a):Vn.fromUint8Array(a)}const AE="server_timestamp",RE="__type__",NE="__previous_value__",CE="__local_write_time__";function $m(a){return(a?.mapValue?.fields||{})[RE]?.stringValue===AE}function Cf(a){const e=a.mapValue.fields[NE];return $m(e)?Cf(e):e}function Tu(a){const e=ur(a.mapValue.fields[CE].timestampValue);return new Bt(e.seconds,e.nanos)}class xA{constructor(e,i,r,l,c,m,v,E,g,w,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=E,this.useFetchStreams=g,this.isUsingEmulator=w,this.apiKey=x}}const sf="(default)";class bu{constructor(e,i){this.projectId=e,this.database=i||sf}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===sf}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}function DA(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Se(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(a.options.projectId,e)}const xE="__type__",IA="__max__",Bc={mapValue:{}},DE="__vector__",rf="value";function fr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?$m(a)?4:jA(a)?9007199254740991:OA(a)?10:11:Ue(28295,{value:a})}function Va(a,e){if(a===e)return!0;const i=fr(a);if(i!==fr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Tu(a).isEqual(Tu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const m=ur(l.timestampValue),v=ur(c.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,c){return an(l.geoPointValue.latitude)===an(c.geoPointValue.latitude)&&an(l.geoPointValue.longitude)===an(c.geoPointValue.longitude)})(a,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return an(l.integerValue)===an(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const m=an(l.doubleValue),v=an(c.doubleValue);return m===v?af(m)===af(v):isNaN(m)&&isNaN(v)}return!1})(a,e);case 9:return ll(a.arrayValue.values||[],e.arrayValue.values||[],Va);case 10:case 11:return(function(l,c){const m=l.mapValue.fields||{},v=c.mapValue.fields||{};if(Lv(m)!==Lv(v))return!1;for(const E in m)if(m.hasOwnProperty(E)&&(v[E]===void 0||!Va(m[E],v[E])))return!1;return!0})(a,e);default:return Ue(52216,{left:a})}}function Su(a,e){return(a.values||[]).find((i=>Va(i,e)))!==void 0}function cl(a,e){if(a===e)return 0;const i=fr(a),r=fr(e);if(i!==r)return rt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return rt(a.booleanValue,e.booleanValue);case 2:return(function(c,m){const v=an(c.integerValue||c.doubleValue),E=an(m.integerValue||m.doubleValue);return v<E?-1:v>E?1:v===E?0:isNaN(v)?isNaN(E)?0:-1:1})(a,e);case 3:return Vv(a.timestampValue,e.timestampValue);case 4:return Vv(Tu(a),Tu(e));case 5:return vm(a.stringValue,e.stringValue);case 6:return(function(c,m){const v=cr(c),E=cr(m);return v.compareTo(E)})(a.bytesValue,e.bytesValue);case 7:return(function(c,m){const v=c.split("/"),E=m.split("/");for(let g=0;g<v.length&&g<E.length;g++){const w=rt(v[g],E[g]);if(w!==0)return w}return rt(v.length,E.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,m){const v=rt(an(c.latitude),an(m.latitude));return v!==0?v:rt(an(c.longitude),an(m.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Uv(a.arrayValue,e.arrayValue);case 10:return(function(c,m){const v=c.fields||{},E=m.fields||{},g=v[rf]?.arrayValue,w=E[rf]?.arrayValue,x=rt(g?.values?.length||0,w?.values?.length||0);return x!==0?x:Uv(g,w)})(a.mapValue,e.mapValue);case 11:return(function(c,m){if(c===Bc.mapValue&&m===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(m===Bc.mapValue)return-1;const v=c.fields||{},E=Object.keys(v),g=m.fields||{},w=Object.keys(g);E.sort(),w.sort();for(let x=0;x<E.length&&x<w.length;++x){const O=vm(E[x],w[x]);if(O!==0)return O;const $=cl(v[E[x]],g[w[x]]);if($!==0)return $}return rt(E.length,w.length)})(a.mapValue,e.mapValue);default:throw Ue(23264,{he:i})}}function Vv(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return rt(a,e);const i=ur(a),r=ur(e),l=rt(i.seconds,r.seconds);return l!==0?l:rt(i.nanos,r.nanos)}function Uv(a,e){const i=a.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=cl(i[l],r[l]);if(c)return c}return rt(i.length,r.length)}function fl(a){return Em(a)}function Em(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=ur(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return cr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return Me.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Em(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const m of r)c?c=!1:l+=",",l+=`${m}:${Em(i.fields[m])}`;return l+"}"})(a.mapValue):Ue(61005,{value:a})}function Xc(a){switch(fr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(a);return e?16+Xc(e):16;case 5:return 2*a.stringValue.length;case 6:return cr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Xc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Jr(r.fields,((c,m)=>{l+=c.length+Xc(m)})),l})(a.mapValue);default:throw Ue(13486,{value:a})}}function qv(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Tm(a){return!!a&&"integerValue"in a}function Wm(a){return!!a&&"arrayValue"in a}function Bv(a){return!!a&&"nullValue"in a}function Pv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Yc(a){return!!a&&"mapValue"in a}function OA(a){return(a?.mapValue?.fields||{})[xE]?.stringValue===DE}function pu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Jr(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=pu(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=pu(a.arrayValue.values[i]);return e}return{...a}}function jA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===IA}class Ji{constructor(e){this.value=e}static empty(){return new Ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(i)}setAll(e){let i=kn.emptyPath(),r={},l=[];e.forEach(((m,v)=>{if(!i.isImmediateParentOf(v)){const E=this.getFieldsMap(i);this.applyChanges(E,r,l),r={},l=[],i=v.popLast()}m?r[v.lastSegment()]=pu(m):l.push(v.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Jr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Ji(pu(this.value))}}function IE(a){const e=[];return Jr(a.fields,((i,r)=>{const l=new kn([i]);if(Yc(r)){const c=IE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const m of c)e.push(l.child(m))}else e.push(l)})),new fa(e)}class Xn{constructor(e,i,r,l,c,m,v){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=m,this.documentState=v}static newInvalidDocument(e){return new Xn(e,0,Pe.min(),Pe.min(),Pe.min(),Ji.empty(),0)}static newFoundDocument(e,i,r,l){return new Xn(e,1,i,Pe.min(),r,l,0)}static newNoDocument(e,i){return new Xn(e,2,i,Pe.min(),Pe.min(),Ji.empty(),0)}static newUnknownDocument(e,i){return new Xn(e,3,i,Pe.min(),Pe.min(),Ji.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(e,i){this.position=e,this.inclusive=i}}function zv(a,e,i){let r=0;for(let l=0;l<a.position.length;l++){const c=e[l],m=a.position[l];if(c.field.isKeyField()?r=Me.comparator(Me.fromName(m.referenceValue),i.key):r=cl(m,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Va(a.position[i],e.position[i]))return!1;return!0}class lf{constructor(e,i="asc"){this.field=e,this.dir=i}}function MA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class OE{}class hn extends OE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new kA(e,i,r):i==="array-contains"?new qA(e,r):i==="in"?new BA(e,r):i==="not-in"?new PA(e,r):i==="array-contains-any"?new zA(e,r):new hn(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new VA(e,r):new UA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(cl(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(cl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class da extends OE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new da(e,i)}matches(e){return jE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jE(a){return a.op==="and"}function ME(a){return LA(a)&&jE(a)}function LA(a){for(const e of a.filters)if(e instanceof da)return!1;return!0}function bm(a){if(a instanceof hn)return a.field.canonicalString()+a.op.toString()+fl(a.value);if(ME(a))return a.filters.map((e=>bm(e))).join(",");{const e=a.filters.map((i=>bm(i))).join(",");return`${a.op}(${e})`}}function LE(a,e){return a instanceof hn?(function(r,l){return l instanceof hn&&r.op===l.op&&r.field.isEqual(l.field)&&Va(r.value,l.value)})(a,e):a instanceof da?(function(r,l){return l instanceof da&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,m,v)=>c&&LE(m,l.filters[v])),!0):!1})(a,e):void Ue(19439)}function kE(a){return a instanceof hn?(function(i){return`${i.field.canonicalString()} ${i.op} ${fl(i.value)}`})(a):a instanceof da?(function(i){return i.op.toString()+" {"+i.getFilters().map(kE).join(" ,")+"}"})(a):"Filter"}class kA extends hn{constructor(e,i,r){super(e,i,r),this.key=Me.fromName(r.referenceValue)}matches(e){const i=Me.comparator(e.key,this.key);return this.matchesComparison(i)}}class VA extends hn{constructor(e,i){super(e,"in",i),this.keys=VE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class UA extends hn{constructor(e,i){super(e,"not-in",i),this.keys=VE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function VE(a,e){return(e.arrayValue?.values||[]).map((i=>Me.fromName(i.referenceValue)))}class qA extends hn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wm(i)&&Su(i.arrayValue,this.value)}}class BA extends hn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Su(this.value.arrayValue,i)}}class PA extends hn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Su(this.value.arrayValue,i)}}class zA extends hn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Su(this.value.arrayValue,r)))}}class HA{constructor(e,i=null,r=[],l=[],c=null,m=null,v=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=m,this.endAt=v,this.Te=null}}function Fv(a,e=null,i=[],r=[],l=null,c=null,m=null){return new HA(a,e,i,r,l,c,m)}function Zm(a){const e=Qe(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>bm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Nf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>fl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>fl(r))).join(",")),e.Te=i}return e.Te}function Jm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!MA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!LE(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Hv(a.startAt,e.startAt)&&Hv(a.endAt,e.endAt)}function Sm(a){return Me.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Du{constructor(e,i=null,r=[],l=[],c=null,m="F",v=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=m,this.startAt=v,this.endAt=E,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function FA(a,e,i,r,l,c,m,v){return new Du(a,e,i,r,l,c,m,v)}function UE(a){return new Du(a)}function Gv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function GA(a){return Me.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function qE(a){return a.collectionGroup!==null}function gu(a){const e=Qe(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new yn(kn.comparator);return m.filters.forEach((E=>{E.getFlattenedFilters().forEach((g=>{g.isInequality()&&(v=v.add(g.field))}))})),v})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lf(c,r))})),i.has(kn.keyField().canonicalString())||e.Ie.push(new lf(kn.keyField(),r))}return e.Ie}function ja(a){const e=Qe(a);return e.Ee||(e.Ee=QA(e,gu(a))),e.Ee}function QA(a,e){if(a.limitType==="F")return Fv(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lf(l.field,c)}));const i=a.endAt?new of(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new of(a.startAt.position,a.startAt.inclusive):null;return Fv(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function wm(a,e){const i=a.filters.concat([e]);return new Du(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Am(a,e,i){return new Du(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function xf(a,e){return Jm(ja(a),ja(e))&&a.limitType===e.limitType}function BE(a){return`${Zm(ja(a))}|lt:${a.limitType}`}function Jo(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>kE(l))).join(", ")}]`),Nf(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>fl(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>fl(l))).join(",")),`Target(${r})`})(ja(a))}; limitType=${a.limitType})`}function Df(a,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Me.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,e)&&(function(r,l){for(const c of gu(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,e)&&(function(r,l){return!(r.startAt&&!(function(m,v,E){const g=zv(m,v,E);return m.inclusive?g<=0:g<0})(r.startAt,gu(r),l)||r.endAt&&!(function(m,v,E){const g=zv(m,v,E);return m.inclusive?g>=0:g>0})(r.endAt,gu(r),l))})(a,e)}function XA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function PE(a){return(e,i)=>{let r=!1;for(const l of gu(a)){const c=YA(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function YA(a,e,i){const r=a.field.isKeyField()?Me.comparator(e.key,i.key):(function(c,m,v){const E=m.data.field(c),g=v.data.field(c);return E!==null&&g!==null?cl(E,g):Ue(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:a.dir})}}class eo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const KA=new Yt(Me.comparator);function vs(){return KA}const zE=new Yt(Me.comparator);function hu(...a){let e=zE;for(const i of a)e=e.insert(i.key,i);return e}function HE(a){let e=zE;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Qr(){return yu()}function FE(){return yu()}function yu(){return new eo((a=>a.toString()),((a,e)=>a.isEqual(e)))}const $A=new Yt(Me.comparator),WA=new yn(Me.comparator);function ot(...a){let e=WA;for(const i of a)e=e.add(i);return e}const ZA=new yn(rt);function JA(){return ZA}function ep(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function GE(a){return{integerValue:""+a}}function eR(a,e){return AA(e)?GE(e):ep(a,e)}class If{constructor(){this._=void 0}}function tR(a,e,i){return a instanceof uf?(function(l,c){const m={fields:{[RE]:{stringValue:AE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=Cf(c)),c&&(m.fields[NE]=c),{mapValue:m}})(i,e):a instanceof wu?XE(a,e):a instanceof Au?YE(a,e):(function(l,c){const m=QE(l,c),v=Qv(m)+Qv(l.Ae);return Tm(m)&&Tm(l.Ae)?GE(v):ep(l.serializer,v)})(a,e)}function nR(a,e,i){return a instanceof wu?XE(a,e):a instanceof Au?YE(a,e):i}function QE(a,e){return a instanceof cf?(function(r){return Tm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class uf extends If{}class wu extends If{constructor(e){super(),this.elements=e}}function XE(a,e){const i=KE(e);for(const r of a.elements)i.some((l=>Va(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Au extends If{constructor(e){super(),this.elements=e}}function YE(a,e){let i=KE(e);for(const r of a.elements)i=i.filter((l=>!Va(l,r)));return{arrayValue:{values:i}}}class cf extends If{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Qv(a){return an(a.integerValue||a.doubleValue)}function KE(a){return Wm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function iR(a,e){return a.field.isEqual(e.field)&&(function(r,l){return r instanceof wu&&l instanceof wu||r instanceof Au&&l instanceof Au?ll(r.elements,l.elements,Va):r instanceof cf&&l instanceof cf?Va(r.Ae,l.Ae):r instanceof uf&&l instanceof uf})(a.transform,e.transform)}class aR{constructor(e,i){this.version=e,this.transformResults=i}}class Ma{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ma}static exists(e){return new Ma(void 0,e)}static updateTime(e){return new Ma(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Of{}function $E(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new tp(a.key,Ma.none()):new Iu(a.key,a.data,Ma.none());{const i=a.data,r=Ji.empty();let l=new yn(kn.comparator);for(let c of e.fields)if(!l.has(c)){let m=i.field(c);m===null&&c.length>1&&(c=c.popLast(),m=i.field(c)),m===null?r.delete(c):r.set(c,m),l=l.add(c)}return new to(a.key,r,new fa(l.toArray()),Ma.none())}}function sR(a,e,i){a instanceof Iu?(function(l,c,m){const v=l.value.clone(),E=Yv(l.fieldTransforms,c,m.transformResults);v.setAll(E),c.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(a,e,i):a instanceof to?(function(l,c,m){if(!Kc(l.precondition,c))return void c.convertToUnknownDocument(m.version);const v=Yv(l.fieldTransforms,c,m.transformResults),E=c.data;E.setAll(WE(l)),E.setAll(v),c.convertToFoundDocument(m.version,E).setHasCommittedMutations()})(a,e,i):(function(l,c,m){c.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,i)}function _u(a,e,i,r){return a instanceof Iu?(function(c,m,v,E){if(!Kc(c.precondition,m))return v;const g=c.value.clone(),w=Kv(c.fieldTransforms,E,m);return g.setAll(w),m.convertToFoundDocument(m.version,g).setHasLocalMutations(),null})(a,e,i,r):a instanceof to?(function(c,m,v,E){if(!Kc(c.precondition,m))return v;const g=Kv(c.fieldTransforms,E,m),w=m.data;return w.setAll(WE(c)),w.setAll(g),m.convertToFoundDocument(m.version,w).setHasLocalMutations(),v===null?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(a,e,i,r):(function(c,m,v){return Kc(c.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v})(a,e,i)}function rR(a,e){let i=null;for(const r of a.fieldTransforms){const l=e.data.field(r.field),c=QE(r.transform,l||null);c!=null&&(i===null&&(i=Ji.empty()),i.set(r.field,c))}return i||null}function Xv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ll(r,l,((c,m)=>iR(c,m)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Iu extends Of{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class to extends Of{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function Yv(a,e,i){const r=new Map;wt(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let l=0;l<i.length;l++){const c=a[l],m=c.transform,v=e.data.field(c.field);r.set(c.field,nR(m,v,i[l]))}return r}function Kv(a,e,i){const r=new Map;for(const l of a){const c=l.transform,m=i.data.field(l.field);r.set(l.field,tR(c,m,e))}return r}class tp extends Of{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oR extends Of{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lR{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&sR(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=_u(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=_u(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=FE();return this.mutations.forEach((l=>{const c=e.get(l.key),m=c.overlayedDocument;let v=this.applyToLocalView(m,c.mutatedFields);v=i.has(l.key)?null:v;const E=$E(m,v);E!==null&&r.set(l.key,E),m.isValidDocument()||m.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ot())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((i,r)=>Xv(i,r)))&&ll(this.baseMutations,e.baseMutations,((i,r)=>Xv(i,r)))}}class np{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return $A})();const c=e.mutations;for(let m=0;m<c.length;m++)l=l.insert(c[m].key,r[m].version);return new np(e,i,r,l)}}class uR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cR{constructor(e,i){this.count=e,this.unchangedNames=i}}var fn,ht;function fR(a){switch(a){case ue.OK:return Ue(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ue(15467,{code:a})}}function ZE(a){if(a===void 0)return _s("GRPC error has no .code"),ue.UNKNOWN;switch(a){case fn.OK:return ue.OK;case fn.CANCELLED:return ue.CANCELLED;case fn.UNKNOWN:return ue.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ue.INTERNAL;case fn.UNAVAILABLE:return ue.UNAVAILABLE;case fn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case fn.NOT_FOUND:return ue.NOT_FOUND;case fn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case fn.ABORTED:return ue.ABORTED;case fn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case fn.DATA_LOSS:return ue.DATA_LOSS;default:return Ue(39323,{code:a})}}(ht=fn||(fn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function hR(){return new TextEncoder}const dR=new ar([4294967295,4294967295],0);function $v(a){const e=hR().encode(a),i=new hE;return i.update(e),new Uint8Array(i.digest())}function Wv(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ar([i,r],0),new ar([l,c],0)]}class ip{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new du(`Invalid padding: ${i}`);if(r<0)throw new du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new du(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ar.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(ar.fromNumber(r)));return l.compare(dR)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$v(e),[r,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const m=this.ye(r,l,c);if(!this.we(m))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),m=new ip(c,l,i);return r.forEach((v=>m.insert(v))),m}insert(e){if(this.ge===0)return;const i=$v(e),[r,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const m=this.ye(r,l,c);this.be(m)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jf{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new jf(Pe.min(),l,new Yt(rt),vs(),ot())}}class Ou{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Ou(r,i,ot(),ot(),ot())}}class $c{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class JE{constructor(e,i){this.targetId=e,this.Ce=i}}class eT{constructor(e,i,r=Vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Zv{constructor(){this.ve=0,this.Fe=Jv(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),i=ot(),r=ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ue(38017,{changeType:c})}})),new Ou(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=Jv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mR{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.He=Pc(),this.Je=Pc(),this.Ze=new Yt(rt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Sm(c))if(r===0){const m=new Me(c.path);this.et(i,m,Xn.newNoDocument(m,Pe.min()))}else wt(r===1,20013,{expectedCount:r});else{const m=this._t(i);if(m!==r){const v=this.ut(e),E=v?this.ct(v,e,m):1;if(E!==0){this.it(i);const g=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let m,v;try{m=cr(r).toUint8Array()}catch(E){if(E instanceof wE)return ol("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{v=new ip(m,l,c)}catch(E){return ol(E instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return v.ge===0?null:v}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const m=this.Ge.ht(),v=`projects/${m.projectId}/databases/${m.database}/documents/${c.path.canonicalString()}`;e.mightContain(v)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,m)=>{const v=this.ot(m);if(v){if(c.current&&Sm(v.target)){const E=new Me(v.target.path);this.It(E).has(m)||this.Et(m,E)||this.et(m,E,Xn.newNoDocument(E,e))}c.Be&&(i.set(m,c.ke()),c.Ke())}}));let r=ot();this.Je.forEach(((c,m)=>{let v=!0;m.forEachWhile((E=>{const g=this.ot(E);return!g||g.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(r=r.add(c))})),this.je.forEach(((c,m)=>m.setReadTime(e)));const l=new jf(e,i,this.Ze,this.je,r);return this.je=vs(),this.He=Pc(),this.Je=Pc(),this.Ze=new Yt(rt),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Zv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new yn(rt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new yn(rt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||be("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new Yt(Me.comparator)}function Jv(){return new Yt(Me.comparator)}const pR={asc:"ASCENDING",desc:"DESCENDING"},gR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yR={and:"AND",or:"OR"};class _R{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Rm(a,e){return a.useProto3Json||Nf(e)?e:{value:e}}function ff(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function vR(a,e){return ff(a,e.toTimestamp())}function La(a){return wt(!!a,49232),Pe.fromTimestamp((function(i){const r=ur(i);return new Bt(r.seconds,r.nanos)})(a))}function ap(a,e){return Nm(a,e).canonicalString()}function Nm(a,e){const i=(function(l){return new kt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?i:i.child(e)}function nT(a){const e=kt.fromString(a);return wt(oT(e),10190,{key:e.toString()}),e}function Cm(a,e){return ap(a.databaseId,e.path)}function Jd(a,e){const i=nT(e);if(i.get(1)!==a.databaseId.projectId)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Me(aT(i))}function iT(a,e){return ap(a.databaseId,e)}function ER(a){const e=nT(a);return e.length===4?kt.emptyPath():aT(e)}function xm(a){return new kt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function aT(a){return wt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function e0(a,e,i){return{name:Cm(a,e),fields:i.value.mapValue.fields}}function TR(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(g,w){return g.useProto3Json?(wt(w===void 0||typeof w=="string",58123),Vn.fromBase64String(w||"")):(wt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Vn.fromUint8Array(w||new Uint8Array))})(a,e.targetChange.resumeToken),m=e.targetChange.cause,v=m&&(function(g){const w=g.code===void 0?ue.UNKNOWN:ZE(g.code);return new Se(w,g.message||"")})(m);i=new eT(r,l,c,v||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Jd(a,r.document.name),c=La(r.document.updateTime),m=r.document.createTime?La(r.document.createTime):Pe.min(),v=new Ji({mapValue:{fields:r.document.fields}}),E=Xn.newFoundDocument(l,c,m,v),g=r.targetIds||[],w=r.removedTargetIds||[];i=new $c(g,w,E.key,E)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Jd(a,r.document),c=r.readTime?La(r.readTime):Pe.min(),m=Xn.newNoDocument(l,c),v=r.removedTargetIds||[];i=new $c([],v,m.key,m)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Jd(a,r.document),c=r.removedTargetIds||[];i=new $c([],c,l,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,m=new cR(l,c),v=r.targetId;i=new JE(v,m)}}return i}function bR(a,e){let i;if(e instanceof Iu)i={update:e0(a,e.key,e.value)};else if(e instanceof tp)i={delete:Cm(a,e.key)};else if(e instanceof to)i={update:e0(a,e.key,e.data),updateMask:IR(e.fieldMask)};else{if(!(e instanceof oR))return Ue(16599,{dt:e.type});i={verify:Cm(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,m){const v=m.transform;if(v instanceof uf)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof wu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Au)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof cf)return{fieldPath:m.field.canonicalString(),increment:v.Ae};throw Ue(20930,{transform:m.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:vR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ue(27497)})(a,e.precondition)),i}function SR(a,e){return a&&a.length>0?(wt(e!==void 0,14353),a.map((i=>(function(l,c){let m=l.updateTime?La(l.updateTime):La(c);return m.isEqual(Pe.min())&&(m=La(c)),new aR(m,l.transformResults||[])})(i,e)))):[]}function wR(a,e){return{documents:[iT(a,e.path)]}}function AR(a,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=iT(a,l);const c=(function(g){if(g.length!==0)return rT(da.create(g,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const m=(function(g){if(g.length!==0)return g.map((w=>(function(O){return{field:el(O.field),direction:CR(O.dir)}})(w)))})(e.orderBy);m&&(i.structuredQuery.orderBy=m);const v=Rm(a,e.limit);return v!==null&&(i.structuredQuery.limit=v),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:l}}function RR(a){let e=ER(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){wt(r===1,65062);const w=i.from[0];w.allDescendants?l=w.collectionId:e=e.child(w.collectionId)}let c=[];i.where&&(c=(function(x){const O=sT(x);return O instanceof da&&ME(O)?O.getFilters():[O]})(i.where));let m=[];i.orderBy&&(m=(function(x){return x.map((O=>(function(ae){return new lf(tl(ae.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ae.direction))})(O)))})(i.orderBy));let v=null;i.limit&&(v=(function(x){let O;return O=typeof x=="object"?x.value:x,Nf(O)?null:O})(i.limit));let E=null;i.startAt&&(E=(function(x){const O=!!x.before,$=x.values||[];return new of($,O)})(i.startAt));let g=null;return i.endAt&&(g=(function(x){const O=!x.before,$=x.values||[];return new of($,O)})(i.endAt)),FA(e,l,m,c,v,"F",E,g)}function NR(a,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function sT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=tl(i.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=tl(i.unaryFilter.field);return hn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=tl(i.unaryFilter.field);return hn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=tl(i.unaryFilter.field);return hn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(a):a.fieldFilter!==void 0?(function(i){return hn.create(tl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return da.create(i.compositeFilter.filters.map((r=>sT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(i.compositeFilter.op))})(a):Ue(30097,{filter:a})}function CR(a){return pR[a]}function xR(a){return gR[a]}function DR(a){return yR[a]}function el(a){return{fieldPath:a.canonicalString()}}function tl(a){return kn.fromServerFormat(a.fieldPath)}function rT(a){return a instanceof hn?(function(i){if(i.op==="=="){if(Pv(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NAN"}};if(Bv(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Pv(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NAN"}};if(Bv(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(i.field),op:xR(i.op),value:i.value}}})(a):a instanceof da?(function(i){const r=i.getFilters().map((l=>rT(l)));return r.length===1?r[0]:{compositeFilter:{op:DR(i.op),filters:r}}})(a):Ue(54877,{filter:a})}function IR(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function oT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function lT(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class tr{constructor(e,i,r,l,c=Pe.min(),m=Pe.min(),v=Vn.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=E}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class OR{constructor(e){this.yt=e}}function jR(a){const e=RR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Am(e,e.limit,"L"):e}class MR{constructor(){this.Sn=new LR}addToCollectionParentIndex(e,i){return this.Sn.add(i),ce.resolve()}getCollectionParents(e,i){return ce.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return ce.resolve()}deleteFieldIndex(e,i){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,i){return ce.resolve()}getDocumentsMatchingTarget(e,i){return ce.resolve(null)}getIndexType(e,i){return ce.resolve(0)}getFieldIndexes(e,i){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,i){return ce.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,i){return ce.resolve(lr.min())}updateCollectionGroup(e,i,r){return ce.resolve()}updateIndexEntries(e,i){return ce.resolve()}}class LR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new yn(kt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new yn(kt.comparator)).toArray()}}const t0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uT=41943040;class vi{static withCacheSize(e){return new vi(e,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(uT,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);class hl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new hl(0)}static ar(){return new hl(-1)}}const n0="LruGarbageCollector",kR=1048576;function i0([a,e],[i,r]){const l=rt(a,i);return l===0?rt(e,r):l}class VR{constructor(e){this.Pr=e,this.buffer=new yn(i0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();i0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class UR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){be(n0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_l(i)?be(n0,"Ignoring IndexedDB error during garbage collection: ",i):await yl(i)}await this.Ar(3e5)}))}}class qR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return ce.resolve(Rf.ce);const r=new VR(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(t0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,c,m,v,E,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,m=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(r=x,v=Date.now(),this.removeTargets(e,r,i)))).next((x=>(c=x,E=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(g=Date.now(),Zo()<=mt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-w}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${c} targets in `+(E-v)+`ms
	Removed ${x} documents in `+(g-E)+`ms
Total Duration: ${g-w}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:x}))))}}function BR(a,e){return new qR(a,e)}class PR{constructor(){this.changes=new eo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ce.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class HR{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&_u(r.mutation,l,fa.empty(),Bt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=ot()){const l=Qr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let m=hu();return c.forEach(((v,E)=>{m=m.insert(v,E.overlayedDocument)})),m}))))}getOverlayedDocuments(e,i){const r=Qr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,ot())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((m,v)=>{i.set(m,v)}))}))}computeViews(e,i,r,l){let c=vs();const m=yu(),v=(function(){return yu()})();return i.forEach(((E,g)=>{const w=r.get(g.key);l.has(g.key)&&(w===void 0||w.mutation instanceof to)?c=c.insert(g.key,g):w!==void 0?(m.set(g.key,w.mutation.getFieldMask()),_u(w.mutation,g,w.mutation.getFieldMask(),Bt.now())):m.set(g.key,fa.empty())})),this.recalculateAndSaveOverlays(e,c).next((E=>(E.forEach(((g,w)=>m.set(g,w))),i.forEach(((g,w)=>v.set(g,new zR(w,m.get(g)??null)))),v)))}recalculateAndSaveOverlays(e,i){const r=yu();let l=new Yt(((m,v)=>m-v)),c=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((m=>{for(const v of m)v.keys().forEach((E=>{const g=i.get(E);if(g===null)return;let w=r.get(E)||fa.empty();w=v.applyToLocalView(g,w),r.set(E,w);const x=(l.get(v.batchId)||ot()).add(E);l=l.insert(v.batchId,x)}))})).next((()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const E=v.getNext(),g=E.key,w=E.value,x=FE();w.forEach((O=>{if(!c.has(O)){const $=$E(i.get(O),r.get(O));$!==null&&x.set(O,$),c=c.add(O)}})),m.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ce.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return GA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):qE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const m=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):ce.resolve(Qr());let v=Eu,E=c;return m.next((g=>ce.forEach(g,((w,x)=>(v<x.largestBatchId&&(v=x.largestBatchId),c.get(w)?ce.resolve():this.remoteDocumentCache.getEntry(e,w).next((O=>{E=E.insert(w,O)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,E,g,ot()))).next((w=>({batchId:v,changes:HE(w)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Me(i)).next((r=>{let l=hu();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let m=hu();return this.indexManager.getCollectionParents(e,c).next((v=>ce.forEach(v,(E=>{const g=(function(x,O){return new Du(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,E.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,l).next((w=>{w.forEach(((x,O)=>{m=m.insert(x,O)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((m=>{c.forEach(((E,g)=>{const w=g.getKey();m.get(w)===null&&(m=m.insert(w,Xn.newInvalidDocument(w)))}));let v=hu();return m.forEach(((E,g)=>{const w=c.get(E);w!==void 0&&_u(w.mutation,g,fa.empty(),Bt.now()),Df(i,g)&&(v=v.insert(E,g))})),v}))}}class FR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return ce.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:La(l.createTime)}})(i)),ce.resolve()}getNamedQuery(e,i){return ce.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:jR(l.bundledQuery),readTime:La(l.readTime)}})(i)),ce.resolve()}}class GR{constructor(){this.overlays=new Yt(Me.comparator),this.Lr=new Map}getOverlay(e,i){return ce.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Qr();return ce.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.bt(e,i,c)})),ce.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),ce.resolve()}getOverlaysForCollection(e,i,r){const l=Qr(),c=i.length+1,m=new Me(i.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const E=v.getNext().value,g=E.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&E.largestBatchId>r&&l.set(E.getKey(),E)}return ce.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new Yt(((g,w)=>g-w));const m=this.overlays.getIterator();for(;m.hasNext();){const g=m.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let w=c.get(g.largestBatchId);w===null&&(w=Qr(),c=c.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const v=Qr(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((g,w)=>v.set(g,w))),!(v.size()>=l)););return ce.resolve(v)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const m=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new uR(i,r));let c=this.Lr.get(i);c===void 0&&(c=ot(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class QR{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ce.resolve()}}class sp{constructor(){this.kr=new yn(wn.Kr),this.qr=new yn(wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new wn(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new wn(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new Me(new kt([])),r=new wn(i,e),l=new wn(i,e+1),c=[];return this.qr.forEachInRange([r,l],(m=>{this.Wr(m),c.push(m.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Me(new kt([])),r=new wn(i,e),l=new wn(i,e+1);let c=ot();return this.qr.forEachInRange([r,l],(m=>{c=c.add(m.key)})),c}containsKey(e){const i=new wn(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Me.comparator(e.key,i.key)||rt(e.Hr,i.Hr)}static Ur(e,i){return rt(e.Hr,i.Hr)||Me.comparator(e.key,i.key)}}class XR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new yn(wn.Kr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new lR(c,i,r,l);this.mutationQueue.push(m);for(const v of l)this.Jr=this.Jr.add(new wn(v.key,c)),this.indexManager.addToCollectionParentIndex(e,v.key.path.popLast());return ce.resolve(m)}lookupMutationBatch(e,i){return ce.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Km:this.Yn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new wn(i,0),l=new wn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(m=>{const v=this.Zr(m.Hr);c.push(v)})),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new yn(rt);return i.forEach((l=>{const c=new wn(l,0),m=new wn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,m],(v=>{r=r.add(v.Hr)}))})),ce.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;Me.isDocumentKey(c)||(c=c.child(""));const m=new wn(new Me(c),0);let v=new yn(rt);return this.Jr.forEachWhile((E=>{const g=E.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(v=v.add(E.Hr)),!0)}),m),ce.resolve(this.Yr(v))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){wt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ce.forEach(i.mutations,(l=>{const c=new wn(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new wn(i,0),l=this.Jr.firstAfterOrEqual(r);return ce.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class YR{constructor(e){this.ti=e,this.docs=(function(){return new Yt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,m=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:m}),this.size+=m-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ce.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(i))}getEntries(e,i){let r=vs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Xn.newInvalidDocument(l))})),ce.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=vs();const m=i.path,v=new Me(m.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(v);for(;E.hasNext();){const{key:g,value:{document:w}}=E.getNext();if(!m.isPrefixOf(g.path))break;g.path.length>m.length+1||TA(EA(w),r)<=0||(l.has(w.key)||Df(i,w))&&(c=c.insert(w.key,w.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ue(9500)}ni(e,i){return ce.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new KR(this)}getSize(e){return ce.resolve(this.size)}}class KR extends PR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),ce.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class $R{constructor(e){this.persistence=e,this.ri=new eo((i=>Zm(i)),Jm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.ii=0,this.si=new sp,this.targetCount=0,this.oi=hl._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),ce.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new hl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,ce.resolve()}updateTargetData(e,i){return this.lr(i),ce.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.ri.forEach(((m,v)=>{v.sequenceNumber<=i&&r.get(v.targetId)===null&&(this.ri.delete(m),c.push(this.removeMatchingKeysForTargetId(e,v.targetId)),l++)})),ce.waitFor(c).next((()=>l))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return ce.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),ce.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((m=>{c.push(l.markPotentiallyOrphaned(e,m))})),ce.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),ce.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return ce.resolve(r)}containsKey(e,i){return ce.resolve(this.si.containsKey(i))}}class cT{constructor(e,i){this._i={},this.overlays={},this.ai=new Rf(0),this.ui=!1,this.ui=!0,this.ci=new QR,this.referenceDelegate=e(this),this.li=new $R(this),this.indexManager=new MR,this.remoteDocumentCache=(function(l){return new YR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new OR(i),this.Pi=new FR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new GR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new XR(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){be("MemoryPersistence","Starting transaction:",e);const l=new WR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return ce.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class WR extends SA{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ri=new sp,this.Ai=null}static Vi(e){return new rp(e)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),ce.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),ce.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(r=>{const l=Me.fromPath(r);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Pe.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return ce.or([()=>ce.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class hf{constructor(e,i){this.persistence=e,this.fi=new eo((r=>RA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=BR(this,i)}static Vi(e,i){return new hf(e,i)}Ti(){}Ii(e){return ce.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return ce.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?ce.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(m=>this.wr(e,m,i).next((v=>{v||(r++,c.removeEntry(m,Pe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),ce.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),ce.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xc(e.data.value)),i}wr(e,i,r){return ce.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return ce.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class op{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=ot(),l=ot();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new op(e,i.fromCache,r,l)}}class ZR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class JR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Gw()?8:wA(Hw())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.gs(e,i).next((m=>{c.result=m})).next((()=>{if(!c.result)return this.ps(e,i,l,r).next((m=>{c.result=m}))})).next((()=>{if(c.result)return;const m=new ZR;return this.ys(e,i,m).next((v=>{if(c.result=v,this.As)return this.ws(e,i,m,v.size)}))})).next((()=>c.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(Zo()<=mt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Jo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Zo()<=mt.DEBUG&&be("QueryEngine","Query:",Jo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Zo()<=mt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Jo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ja(i))):ce.resolve())}gs(e,i){if(Gv(i))return ce.resolve(null);let r=ja(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Am(i,null,"F"),r=ja(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const m=ot(...c);return this.fs.getDocuments(e,m).next((v=>this.indexManager.getMinOffset(e,r).next((E=>{const g=this.bs(i,v);return this.Ss(i,g,m,E.readTime)?this.gs(e,Am(i,null,"F")):this.Ds(e,g,i,E)}))))})))))}ps(e,i,r,l){return Gv(i)||l.isEqual(Pe.min())?ce.resolve(null):this.fs.getDocuments(e,r).next((c=>{const m=this.bs(i,c);return this.Ss(i,m,r,l)?ce.resolve(null):(Zo()<=mt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Jo(i)),this.Ds(e,m,i,vA(l,Eu)).next((v=>v)))}))}bs(e,i){let r=new yn(PE(e));return i.forEach(((l,c)=>{Df(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,r){return Zo()<=mt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Jo(i)),this.fs.getDocumentsMatchingQuery(e,i,lr.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((m=>{c=c.insert(m.key,m)})),c)))}}const lp="LocalStore",eN=3e8;class tN{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new Yt(rt),this.Fs=new eo((c=>Zm(c)),Jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function nN(a,e,i,r){return new tN(a,e,i,r)}async function fT(a,e){const i=Qe(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const m=[],v=[];let E=ot();for(const g of l){m.push(g.batchId);for(const w of g.mutations)E=E.add(w.key)}for(const g of c){v.push(g.batchId);for(const w of g.mutations)E=E.add(w.key)}return i.localDocuments.getDocuments(r,E).next((g=>({Ns:g,removedBatchIds:m,addedBatchIds:v})))}))}))}function iN(a,e){const i=Qe(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(v,E,g,w){const x=g.batch,O=x.keys();let $=ce.resolve();return O.forEach((ae=>{$=$.next((()=>w.getEntry(E,ae))).next((Y=>{const W=g.docVersions.get(ae);wt(W!==null,48541),Y.version.compareTo(W)<0&&(x.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),w.addEntry(Y)))}))})),$.next((()=>v.mutationQueue.removeMutationBatch(E,x)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(v){let E=ot();for(let g=0;g<v.mutationResults.length;++g)v.mutationResults[g].transformResults.length>0&&(E=E.add(v.batch.mutations[g].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function hT(a){const e=Qe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function aN(a,e){const i=Qe(a),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const m=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const v=[];e.targetChanges.forEach(((w,x)=>{const O=l.get(x);if(!O)return;v.push(i.li.removeMatchingKeys(c,w.removedDocuments,x).next((()=>i.li.addMatchingKeys(c,w.addedDocuments,x))));let $=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?$=$.withResumeToken(Vn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):w.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(w.resumeToken,r)),l=l.insert(x,$),(function(Y,W,J){return Y.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=eN?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(O,$,w)&&v.push(i.li.updateTargetData(c,$))}));let E=vs(),g=ot();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&v.push(i.persistence.referenceDelegate.updateLimboDocument(c,w))})),v.push(sN(c,m,e.documentUpdates).next((w=>{E=w.Bs,g=w.Ls}))),!r.isEqual(Pe.min())){const w=i.li.getLastRemoteSnapshotVersion(c).next((x=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));v.push(w)}return ce.waitFor(v).next((()=>m.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,E,g))).next((()=>E))})).then((c=>(i.vs=l,c)))}function sN(a,e,i){let r=ot(),l=ot();return i.forEach((c=>r=r.add(c))),e.getEntries(a,r).next((c=>{let m=vs();return i.forEach(((v,E)=>{const g=c.get(v);E.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(v)),E.isNoDocument()&&E.version.isEqual(Pe.min())?(e.removeEntry(v,E.readTime),m=m.insert(v,E)):!g.isValidDocument()||E.version.compareTo(g.version)>0||E.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(E),m=m.insert(v,E)):be(lp,"Ignoring outdated watch update for ",v,". Current version:",g.version," Watch version:",E.version)})),{Bs:m,Ls:l}}))}function rN(a,e){const i=Qe(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oN(a,e){const i=Qe(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((c=>c?(l=c,ce.resolve(l)):i.li.allocateTargetId(r).next((m=>(l=new tr(e,m,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Dm(a,e,i){const r=Qe(a),l=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(m=>r.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!_l(m))throw m;be(lp,`Failed to update sequence numbers for target ${e}: ${m}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function a0(a,e,i){const r=Qe(a);let l=Pe.min(),c=ot();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(E,g,w){const x=Qe(E),O=x.Fs.get(w);return O!==void 0?ce.resolve(x.vs.get(O)):x.li.getTargetData(g,w)})(r,m,ja(e)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(m,v.targetId).next((E=>{c=E}))})).next((()=>r.Cs.getDocumentsMatchingQuery(m,e,i?l:Pe.min(),i?c:ot()))).next((v=>(lN(r,XA(e),v),{documents:v,ks:c})))))}function lN(a,e,i){let r=a.Ms.get(e)||Pe.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Ms.set(e,r)}class s0{constructor(){this.activeTargetIds=JA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uN{constructor(){this.vo=new s0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new s0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cN{Mo(e){}shutdown(){}}const r0="ConnectivityMonitor";class o0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){be(r0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){be(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function Im(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const em="RestConnection",fN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class hN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===sf?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,c){const m=Im(),v=this.Qo(e,i.toUriEncodedString());be(em,`Sending RPC '${e}' ${m}:`,v,r);const E={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(E,l,c);const{host:g}=new URL(v),w=Gm(g);return this.zo(e,v,E,r,w).then((x=>(be(em,`Received RPC '${e}' ${m}: `,x),x)),(x=>{throw ol(em,`RPC '${e}' ${m} failed with error: `,x,"url: ",v,"request:",r),x}))}jo(e,i,r,l,c,m){return this.Wo(e,i,r,l,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const r=fN[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class dN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Gn="WebChannelConnection",lu=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class nl extends hN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!nl.c_){const e=gE();lu(e,pE.STAT_EVENT,(i=>{i.stat===_m.PROXY?be(Gn,"STAT_EVENT: detected buffering proxy"):i.stat===_m.NOPROXY&&be(Gn,"STAT_EVENT: detected no buffering proxy")})),nl.c_=!0}}zo(e,i,r,l,c){const m=Im();return new Promise(((v,E)=>{const g=new dE;g.setWithCredentials(!0),g.listenOnce(mE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Qc.NO_ERROR:const x=g.getResponseJson();be(Gn,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(x)),v(x);break;case Qc.TIMEOUT:be(Gn,`RPC '${e}' ${m} timed out`),E(new Se(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const O=g.getStatus();if(be(Gn,`RPC '${e}' ${m} failed with status:`,O,"response text:",g.getResponseText()),O>0){let $=g.getResponseJson();Array.isArray($)&&($=$[0]);const ae=$?.error;if(ae&&ae.status&&ae.message){const Y=(function(J){const fe=J.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(fe)>=0?fe:ue.UNKNOWN})(ae.status);E(new Se(Y,ae.message))}else E(new Se(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else E(new Se(ue.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:m,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{be(Gn,`RPC '${e}' ${m} completed.`)}}));const w=JSON.stringify(l);be(Gn,`RPC '${e}' ${m} sending request:`,l),g.send(i,"POST",w,r,15)}))}T_(e,i,r){const l=Im(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=this.createWebChannelTransport(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Go(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const g=c.join("");be(Gn,`Creating RPC '${e}' stream ${l}: ${g}`,v);const w=m.createWebChannel(g,v);this.I_(w);let x=!1,O=!1;const $=new dN({Ho:ae=>{O?be(Gn,`Not sending because RPC '${e}' stream ${l} is closed:`,ae):(x||(be(Gn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),x=!0),be(Gn,`RPC '${e}' stream ${l} sending:`,ae),w.send(ae))},Jo:()=>w.close()});return lu(w,fu.EventType.OPEN,(()=>{O||(be(Gn,`RPC '${e}' stream ${l} transport opened.`),$.i_())})),lu(w,fu.EventType.CLOSE,(()=>{O||(O=!0,be(Gn,`RPC '${e}' stream ${l} transport closed`),$.o_(),this.E_(w))})),lu(w,fu.EventType.ERROR,(ae=>{O||(O=!0,ol(Gn,`RPC '${e}' stream ${l} transport errored. Name:`,ae.name,"Message:",ae.message),$.o_(new Se(ue.UNAVAILABLE,"The operation could not be completed")))})),lu(w,fu.EventType.MESSAGE,(ae=>{if(!O){const Y=ae.data[0];wt(!!Y,16349);const W=Y,J=W?.error||W[0]?.error;if(J){be(Gn,`RPC '${e}' stream ${l} received error:`,J);const fe=J.status;let ge=(function(Ie){const M=fn[Ie];if(M!==void 0)return ZE(M)})(fe),me=J.message;ge===void 0&&(ge=ue.INTERNAL,me="Unknown error status: "+fe+" with message "+J.message),O=!0,$.o_(new Se(ge,me)),w.close()}else be(Gn,`RPC '${e}' stream ${l} received:`,Y),$.__(Y)}})),nl.u_(),setTimeout((()=>{$.s_()}),0),$}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return yE()}}function mN(a){return new nl(a)}function tm(){return typeof document<"u"?document:null}function Mf(a){return new _R(a,!0)}nl.c_=!1;class dT{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&be("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const l0="PersistentStream";class mT{constructor(e,i,r,l,c,m,v,E){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ue.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new Se(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(l0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(be(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pN extends mT{constructor(e,i,r,l,c,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,m),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=TR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Pe.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?Pe.min():m.readTime?La(m.readTime):Pe.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,m){let v;const E=m.target;if(v=Sm(E)?{documents:wR(c,E)}:{query:AR(c,E).ft},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=tT(c,m.resumeToken);const g=Rm(c,m.expectedCount);g!==null&&(v.expectedCount=g)}else if(m.snapshotVersion.compareTo(Pe.min())>0){v.readTime=ff(c,m.snapshotVersion.toTimestamp());const g=Rm(c,m.expectedCount);g!==null&&(v.expectedCount=g)}return v})(this.serializer,e);const r=NR(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.K_(i)}}class gN extends mT{constructor(e,i,r,l,c,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,m),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=SR(e.writeResults,e.commitTime),r=La(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=xm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>bR(this.serializer,r)))};this.K_(i)}}class yN{}class _N extends yN{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Wo(e,Nm(i,r),l,c,m))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ue.UNKNOWN,c.toString())}))}jo(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,v])=>this.connection.jo(e,Nm(i,r),l,m,v,c))).catch((m=>{throw m.name==="FirebaseError"?(m.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Se(ue.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vN(a,e,i,r){return new _N(a,e,i,r)}class EN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):be("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class TN{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((m=>{r.enqueueAndForget((async()=>{no(this)&&(be(Kr,"Restarting streams for network reachability change."),await(async function(E){const g=Qe(E);g.Ea.add(4),await ju(g),g.Va.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Va=new EN(r,l)}}async function Lf(a){if(no(a))for(const e of a.Ra)await e(!0)}async function ju(a){for(const e of a.Ra)await e(!1)}function pT(a,e){const i=Qe(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hp(i)?fp(i):vl(i).O_()&&cp(i,e))}function up(a,e){const i=Qe(a),r=vl(i);i.Ia.delete(e),r.O_()&&gT(i,e),i.Ia.size===0&&(r.O_()?r.L_():no(i)&&i.Va.set("Unknown"))}function cp(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}vl(a).Z_(e)}function gT(a,e){a.da.$e(e),vl(a).X_(e)}function fp(a){a.da=new mR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),vl(a).start(),a.Va.ua()}function hp(a){return no(a)&&!vl(a).x_()&&a.Ia.size>0}function no(a){return Qe(a).Ea.size===0}function yT(a){a.da=void 0}async function bN(a){a.Va.set("Online")}async function SN(a){a.Ia.forEach(((e,i)=>{cp(a,e)}))}async function wN(a,e){yT(a),hp(a)?(a.Va.ha(e),fp(a)):a.Va.set("Unknown")}async function AN(a,e,i){if(a.Va.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(l,c){const m=c.cause;for(const v of c.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ia.delete(v),l.da.removeTarget(v))})(a,e)}catch(r){be(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await df(a,r)}else if(e instanceof $c?a.da.Xe(e):e instanceof JE?a.da.st(e):a.da.tt(e),!i.isEqual(Pe.min()))try{const r=await hT(a.localStore);i.compareTo(r)>=0&&await(function(c,m){const v=c.da.Tt(m);return v.targetChanges.forEach(((E,g)=>{if(E.resumeToken.approximateByteSize()>0){const w=c.Ia.get(g);w&&c.Ia.set(g,w.withResumeToken(E.resumeToken,m))}})),v.targetMismatches.forEach(((E,g)=>{const w=c.Ia.get(E);if(!w)return;c.Ia.set(E,w.withResumeToken(Vn.EMPTY_BYTE_STRING,w.snapshotVersion)),gT(c,E);const x=new tr(w.target,E,g,w.sequenceNumber);cp(c,x)})),c.remoteSyncer.applyRemoteEvent(v)})(a,i)}catch(r){be(Kr,"Failed to raise snapshot:",r),await df(a,r)}}async function df(a,e,i){if(!_l(e))throw e;a.Ea.add(1),await ju(a),a.Va.set("Offline"),i||(i=()=>hT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{be(Kr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Lf(a)}))}function _T(a,e){return e().catch((i=>df(a,i,e)))}async function kf(a){const e=Qe(a),i=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;RN(e);)try{const l=await rN(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,NN(e,l)}catch(l){await df(e,l)}vT(e)&&ET(e)}function RN(a){return no(a)&&a.Ta.length<10}function NN(a,e){a.Ta.push(e);const i=hr(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function vT(a){return no(a)&&!hr(a).x_()&&a.Ta.length>0}function ET(a){hr(a).start()}async function CN(a){hr(a).ra()}async function xN(a){const e=hr(a);for(const i of a.Ta)e.ea(i.mutations)}async function DN(a,e,i){const r=a.Ta.shift(),l=np.from(r,e,i);await _T(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await kf(a)}async function IN(a,e){e&&hr(a).Y_&&await(async function(r,l){if((function(m){return fR(m)&&m!==ue.ABORTED})(l.code)){const c=r.Ta.shift();hr(r).B_(),await _T(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kf(r)}})(a,e),vT(a)&&ET(a)}async function u0(a,e){const i=Qe(a);i.asyncQueue.verifyOperationInProgress(),be(Kr,"RemoteStore received new credentials");const r=no(i);i.Ea.add(3),await ju(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lf(i)}async function ON(a,e){const i=Qe(a);e?(i.Ea.delete(2),await Lf(i)):e||(i.Ea.add(2),await ju(i),i.Va.set("Unknown"))}function vl(a){return a.ma||(a.ma=(function(i,r,l){const c=Qe(i);return c.sa(),new pN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:bN.bind(null,a),Yo:SN.bind(null,a),t_:wN.bind(null,a),J_:AN.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),hp(a)?fp(a):a.Va.set("Unknown")):(await a.ma.stop(),yT(a))}))),a.ma}function hr(a){return a.fa||(a.fa=(function(i,r,l){const c=Qe(i);return c.sa(),new gN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:CN.bind(null,a),t_:IN.bind(null,a),ta:xN.bind(null,a),na:DN.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await kf(a)):(await a.fa.stop(),a.Ta.length>0&&(be(Kr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class dp{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const m=Date.now()+r,v=new dp(e,i,m,l,c);return v.start(r),v}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(a,e){if(_s("AsyncQueue",`${e}: ${a}`),_l(a))return new Se(ue.UNAVAILABLE,`${e}: ${a}`);throw a}class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Me.comparator(i.key,r.key):(i,r)=>Me.comparator(i.key,r.key),this.keyedMap=hu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class c0{constructor(){this.ga=new Yt(Me.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ue(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class dl{constructor(e,i,r,l,c,m,v,E,g){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=E,this.hasCachedResults=g}static fromInitialDocuments(e,i,r,l,c){const m=[];return i.forEach((v=>{m.push({type:0,doc:v})})),new dl(e,i,il.emptySet(i),m,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class jN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class MN{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Qe(i),c=l.queries;l.queries=f0(),c.forEach(((m,v)=>{for(const E of v.ba)E.onError(r)}))})(this,new Se(ue.ABORTED,"Firestore shutting down"))}}function f0(){return new eo((a=>BE(a)),xf)}async function LN(a,e){const i=Qe(a);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new jN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(m){const v=mp(m,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(v)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&pp(i)}async function kN(a,e){const i=Qe(a),r=e.query;let l=3;const c=i.queries.get(r);if(c){const m=c.ba.indexOf(e);m>=0&&(c.ba.splice(m,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function VN(a,e){const i=Qe(a);let r=!1;for(const l of e){const c=l.query,m=i.queries.get(c);if(m){for(const v of m.ba)v.Fa(l)&&(r=!0);m.wa=l}}r&&pp(i)}function UN(a,e,i){const r=Qe(a),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(e)}function pp(a){a.Ca.forEach((e=>{e.next()}))}var Om,h0;(h0=Om||(Om={})).Ma="default",h0.Cache="cache";class qN{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Om.Cache}}class TT{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class BN{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.eu=PE(e),this.tu=new il(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new c0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,m=l,v=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((w,x)=>{const O=l.get(w),$=Df(this.query,x)?x:null,ae=!!O&&this.mutatedKeys.has(O.key),Y=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let W=!1;O&&$?O.data.isEqual($.data)?ae!==Y&&(r.track({type:3,doc:$}),W=!0):this.su(O,$)||(r.track({type:2,doc:$}),W=!0,(E&&this.eu($,E)>0||g&&this.eu($,g)<0)&&(v=!0)):!O&&$?(r.track({type:0,doc:$}),W=!0):O&&!$&&(r.track({type:1,doc:O}),W=!0,(E||g)&&(v=!0)),W&&($?(m=m.add($),c=Y?c.add(w):c.delete(w)):(m=m.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const w=this.query.limitType==="F"?m.last():m.first();m=m.delete(w.key),c=c.delete(w.key),r.track({type:1,doc:w})}return{tu:m,iu:r,Ss:v,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((w,x)=>(function($,ae){const Y=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:W})}};return Y($)-Y(ae)})(w.type,x.type)||this.eu(w.doc,x.doc))),this.ou(r),l=l??!1;const v=i&&!l?this._u():[],E=this.Ya.size===0&&this.current&&!l?1:0,g=E!==this.Xa;return this.Xa=E,m.length!==0||g?{snapshot:new dl(this.query,e.tu,c,m,e.mutatedKeys,E===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new bT(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new TT(r))})),i}cu(e){this.Za=e.ks,this.Ya=ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gp="SyncEngine";class PN{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class zN{constructor(e){this.key=e,this.hu=!1}}class HN{constructor(e,i,r,l,c,m){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new eo((v=>BE(v)),xf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Yt(Me.comparator),this.Au=new Map,this.Vu=new sp,this.du={},this.mu=new Map,this.fu=hl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FN(a,e,i=!0){const r=CT(a);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ST(r,e,i,!0),l}async function GN(a,e){const i=CT(a);await ST(i,e,!0,!1)}async function ST(a,e,i,r){const l=await oN(a.localStore,ja(e)),c=l.targetId,m=a.sharedClientState.addLocalQueryTarget(c,i);let v;return r&&(v=await QN(a,e,c,m==="current",l.resumeToken)),a.isPrimaryClient&&i&&pT(a.remoteStore,l),v}async function QN(a,e,i,r,l){a.pu=(x,O,$)=>(async function(Y,W,J,fe){let ge=W.view.ru(J);ge.Ss&&(ge=await a0(Y.localStore,W.query,!1).then((({documents:M})=>W.view.ru(M,ge))));const me=fe&&fe.targetChanges.get(W.targetId),Ce=fe&&fe.targetMismatches.get(W.targetId)!=null,Ie=W.view.applyChanges(ge,Y.isPrimaryClient,me,Ce);return m0(Y,W.targetId,Ie.au),Ie.snapshot})(a,x,O,$);const c=await a0(a.localStore,e,!0),m=new BN(e,c.ks),v=m.ru(c.documents),E=Ou.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),g=m.applyChanges(v,a.isPrimaryClient,E);m0(a,i,g.au);const w=new PN(e,i,m);return a.Tu.set(e,w),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),g.snapshot}async function XN(a,e,i){const r=Qe(a),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((m=>!xf(m,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&up(r.remoteStore,l.targetId),jm(r,l.targetId)})).catch(yl)):(jm(r,l.targetId),await Dm(r.localStore,l.targetId,!0))}async function YN(a,e){const i=Qe(a),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),up(i.remoteStore,r.targetId))}async function KN(a,e,i){const r=nC(a);try{const l=await(function(m,v){const E=Qe(m),g=Bt.now(),w=v.reduce((($,ae)=>$.add(ae.key)),ot());let x,O;return E.persistence.runTransaction("Locally write mutations","readwrite",($=>{let ae=vs(),Y=ot();return E.xs.getEntries($,w).next((W=>{ae=W,ae.forEach(((J,fe)=>{fe.isValidDocument()||(Y=Y.add(J))}))})).next((()=>E.localDocuments.getOverlayedDocuments($,ae))).next((W=>{x=W;const J=[];for(const fe of v){const ge=rR(fe,x.get(fe.key).overlayedDocument);ge!=null&&J.push(new to(fe.key,ge,IE(ge.value.mapValue),Ma.exists(!0)))}return E.mutationQueue.addMutationBatch($,g,J,v)})).next((W=>{O=W;const J=W.applyToLocalDocumentSet(x,Y);return E.documentOverlayCache.saveOverlays($,W.batchId,J)}))})).then((()=>({batchId:O.batchId,changes:HE(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(m,v,E){let g=m.du[m.currentUser.toKey()];g||(g=new Yt(rt)),g=g.insert(v,E),m.du[m.currentUser.toKey()]=g})(r,l.batchId,i),await Mu(r,l.changes),await kf(r.remoteStore)}catch(l){const c=mp(l,"Failed to persist write");i.reject(c)}}async function wT(a,e){const i=Qe(a);try{const r=await aN(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const m=i.Au.get(c);m&&(wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?wt(m.hu,14607):l.removedDocuments.size>0&&(wt(m.hu,42227),m.hu=!1))})),await Mu(i,r,e)}catch(r){await yl(r)}}function d0(a,e,i){const r=Qe(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,m)=>{const v=m.view.va(e);v.snapshot&&l.push(v.snapshot)})),(function(m,v){const E=Qe(m);E.onlineState=v;let g=!1;E.queries.forEach(((w,x)=>{for(const O of x.ba)O.va(v)&&(g=!0)})),g&&pp(E)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $N(a,e,i){const r=Qe(a);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let m=new Yt(Me.comparator);m=m.insert(c,Xn.newNoDocument(c,Pe.min()));const v=ot().add(c),E=new jf(Pe.min(),new Map,new Yt(rt),m,v);await wT(r,E),r.Ru=r.Ru.remove(c),r.Au.delete(e),yp(r)}else await Dm(r.localStore,e,!1).then((()=>jm(r,e,i))).catch(yl)}async function WN(a,e){const i=Qe(a),r=e.batch.batchId;try{const l=await iN(i.localStore,e);RT(i,r,null),AT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(i,l)}catch(l){await yl(l)}}async function ZN(a,e,i){const r=Qe(a);try{const l=await(function(m,v){const E=Qe(m);return E.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let w;return E.mutationQueue.lookupMutationBatch(g,v).next((x=>(wt(x!==null,37113),w=x.keys(),E.mutationQueue.removeMutationBatch(g,x)))).next((()=>E.mutationQueue.performConsistencyCheck(g))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(g,w,v))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w))).next((()=>E.localDocuments.getDocuments(g,w)))}))})(r.localStore,e);RT(r,e,i),AT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Mu(r,l)}catch(l){await yl(l)}}function AT(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function RT(a,e,i){const r=Qe(a);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function jm(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||NT(a,r)}))}function NT(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(up(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),yp(a))}function m0(a,e,i){for(const r of i)r instanceof TT?(a.Vu.addReference(r.key,e),JN(a,r)):r instanceof bT?(be(gp,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||NT(a,r.key)):Ue(19791,{wu:r})}function JN(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(be(gp,"New document in limbo: "+i),a.Eu.add(r),yp(a))}function yp(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Me(kt.fromString(e)),r=a.fu.next();a.Au.set(r,new zN(i)),a.Ru=a.Ru.insert(i,r),pT(a.remoteStore,new tr(ja(UE(i.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function Mu(a,e,i){const r=Qe(a),l=[],c=[],m=[];r.Tu.isEmpty()||(r.Tu.forEach(((v,E)=>{m.push(r.pu(E,e,i).then((g=>{if((g||i)&&r.isPrimaryClient){const w=g?!g.fromCache:i?.targetChanges.get(E.targetId)?.current;r.sharedClientState.updateQueryState(E.targetId,w?"current":"not-current")}if(g){l.push(g);const w=op.Es(E.targetId,g);c.push(w)}})))})),await Promise.all(m),r.Pu.J_(l),await(async function(E,g){const w=Qe(E);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ce.forEach(g,(O=>ce.forEach(O.Ts,($=>w.persistence.referenceDelegate.addReference(x,O.targetId,$))).next((()=>ce.forEach(O.Is,($=>w.persistence.referenceDelegate.removeReference(x,O.targetId,$)))))))))}catch(x){if(!_l(x))throw x;be(lp,"Failed to update sequence numbers: "+x)}for(const x of g){const O=x.targetId;if(!x.fromCache){const $=w.vs.get(O),ae=$.snapshotVersion,Y=$.withLastLimboFreeSnapshotVersion(ae);w.vs=w.vs.insert(O,Y)}}})(r.localStore,c))}async function eC(a,e){const i=Qe(a);if(!i.currentUser.isEqual(e)){be(gp,"User change. New user:",e.toKey());const r=await fT(i.localStore,e);i.currentUser=e,(function(c,m){c.mu.forEach((v=>{v.forEach((E=>{E.reject(new Se(ue.CANCELLED,m))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(i,r.Ns)}}function tC(a,e){const i=Qe(a),r=i.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let l=ot();const c=i.Iu.get(e);if(!c)return l;for(const m of c){const v=i.Tu.get(m);l=l.unionWith(v.view.nu)}return l}}function CT(a){const e=Qe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$N.bind(null,e),e.Pu.J_=VN.bind(null,e.eventManager),e.Pu.yu=UN.bind(null,e.eventManager),e}function nC(a){const e=Qe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZN.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nN(this.persistence,new JR,e.initialUser,this.serializer)}Cu(e){return new cT(rp.Vi,this.serializer)}Du(e){return new uN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class iC extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){wt(this.persistence.referenceDelegate instanceof hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new cT((r=>hf.Vi(r,i)),this.serializer)}}class Mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eC.bind(null,this.syncEngine),await ON(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MN})()}createDatastore(e){const i=Mf(e.databaseInfo.databaseId),r=mN(e.databaseInfo);return vN(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,m,v){return new TN(r,l,c,m,v)})(this.localStore,this.datastore,e.asyncQueue,(i=>d0(this.syncEngine,i,0)),(function(){return o0.v()?new o0:new cN})())}createSyncEngine(e,i){return(function(l,c,m,v,E,g,w){const x=new HN(l,c,m,v,E,g);return w&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Qe(i);be(Kr,"RemoteStore shutting down."),r.Ea.add(5),await ju(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class aC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const dr="FirestoreClient";class sC{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=Qn.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async m=>{be(dr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(be(dr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=mp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nm(a,e){a.asyncQueue.verifyOperationInProgress(),be(dr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await fT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function p0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await rC(a);be(dr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>u0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>u0(e.remoteStore,l))),a._onlineComponents=e}async function rC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){be(dr,"Using user provided OfflineComponentProvider");try{await nm(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ue.FAILED_PRECONDITION||l.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ol("Error using user provided cache. Falling back to memory cache: "+i),await nm(a,new mf)}}else be(dr,"Using default OfflineComponentProvider"),await nm(a,new iC(void 0));return a._offlineComponents}async function xT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(be(dr,"Using user provided OnlineComponentProvider"),await p0(a,a._uninitializedComponentsProvider._online)):(be(dr,"Using default OnlineComponentProvider"),await p0(a,new Mm))),a._onlineComponents}function oC(a){return xT(a).then((e=>e.syncEngine))}async function lC(a){const e=await xT(a),i=e.eventManager;return i.onListen=FN.bind(null,e.syncEngine),i.onUnlisten=XN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YN.bind(null,e.syncEngine),i}function uC(a,e,i={}){const r=new sr;return a.asyncQueue.enqueueAndForget((async()=>(function(c,m,v,E,g){const w=new aC({next:O=>{w.Nu(),m.enqueueAndForget((()=>kN(c,x))),O.fromCache&&E.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(O)},error:O=>g.reject(O)}),x=new qN(v,w,{includeMetadataChanges:!0,Ka:!0});return LN(c,x)})(await lC(a),a.asyncQueue,e,i,r))),r.promise}function cC(a,e){const i=new sr;return a.asyncQueue.enqueueAndForget((async()=>KN(await oC(a),e,i))),i.promise}function DT(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const fC="ComponentProvider",g0=new Map;function hC(a,e,i,r,l){return new xA(a,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,DT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const IT="firestore.googleapis.com",y0=!0;class _0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IT,this.ssl=y0}else this.host=e.host,this.ssl=e.ssl??y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kR)throw new Se(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lA;switch(r.type){case"firstParty":return new hA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=g0.get(i);r&&(be(fC,"Removing Datastore"),g0.delete(i),r.terminate())})(this),Promise.resolve()}}function dC(a,e,i,r={}){a=ul(a,Vf);const l=Gm(e),c=a._getSettings(),m={...c,emulatorOptions:a._getEmulatorOptions()},v=`${e}:${i}`;l&&(Uw(`https://${v}`),zw("Firestore",!0)),c.host!==IT&&c.host!==v&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:v,ssl:l,emulatorOptions:r};if(!tf(E,m)&&(a._setSettings(E),r.mockUserToken)){let g,w;if(typeof r.mockUserToken=="string")g=r.mockUserToken,w=Qn.MOCK_USER;else{g=qw(r.mockUserToken,a._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Se(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Qn(x)}a._authCredentials=new uA(new vE(g,w))}}class El{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class gn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}toJSON(){return{type:gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(xu(i,gn._jsonSchema))return new gn(e,r||null,new Me(kt.fromString(i.referencePath)))}}gn._jsonSchemaVersion="firestore/documentReference/1.0",gn._jsonSchema={type:dn("string",gn._jsonSchemaVersion),referencePath:dn("string")};class rr extends El{constructor(e,i,r){super(e,i,UE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Me(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function mC(a,e,...i){if(a=ps(a),EE("collection","path",e),a instanceof Vf){const r=kt.fromString(e,...i);return Iv(r),new rr(a,null,r)}{if(!(a instanceof gn||a instanceof rr))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(kt.fromString(e,...i));return Iv(r),new rr(a.firestore,null,r)}}function io(a,e,...i){if(a=ps(a),arguments.length===1&&(e=Ym.newId()),EE("doc","path",e),a instanceof Vf){const r=kt.fromString(e,...i);return Dv(r),new gn(a,null,new Me(r))}{if(!(a instanceof gn||a instanceof rr))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(kt.fromString(e,...i));return Dv(r),new gn(a.firestore,a instanceof rr?a.converter:null,new Me(r))}}const v0="AsyncQueue";class E0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dT(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&be(v0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;be(v0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",T0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=dp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ue(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function T0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Uf extends Vf{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new E0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E0(e),this._firestoreClient=void 0,await e}}}function pC(a,e){const i=typeof a=="object"?a:uE(),r=typeof a=="string"?a:sf,l=wf(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=kw("firestore");c&&dC(l,...c)}return l}function OT(a){if(a._terminated)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||gC(a),a._firestoreClient}function gC(a){const e=a._freezeSettings(),i=hC(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new sC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(Vn.fromBase64String(e))}catch(i){throw new Se(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ea(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ea._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,ea._jsonSchema))return ea.fromBase64String(e.bytes)}}ea._jsonSchemaVersion="firestore/bytes/1.0",ea._jsonSchema={type:dn("string",ea._jsonSchemaVersion),bytes:dn("string")};class jT{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Se(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class MT{constructor(e){this._methodName=e}}class ka{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Se(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Se(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ka._jsonSchemaVersion}}static fromJSON(e){if(xu(e,ka._jsonSchema))return new ka(e.latitude,e.longitude)}}ka._jsonSchemaVersion="firestore/geoPoint/1.0",ka._jsonSchema={type:dn("string",ka._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class ha{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ha._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,ha._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ha(e.vectorValues);throw new Se(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ha._jsonSchemaVersion="firestore/vectorValue/1.0",ha._jsonSchema={type:dn("string",ha._jsonSchemaVersion),vectorValues:dn("object")};const yC=/^__.*__$/;class _C{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,i,this.fieldTransforms):new Iu(e,this.data,i,this.fieldTransforms)}}function LT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:a})}}class _p{constructor(e,i,r,l,c,m){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=m||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new _p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(LT(this.dataSource)&&yC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class vC{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Mf(e)}createContext(e,i,r,l=!1){return new _p({dataSource:e,methodName:i,targetDoc:r,path:kn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(a){const e=a._freezeSettings(),i=Mf(a._databaseId);return new vC(a._databaseId,!!e.ignoreUndefinedProperties,i)}function EC(a,e,i,r,l,c={}){const m=a.createContext(c.merge||c.mergeFields?2:0,e,i,l);qT("Data must be an object, but it was:",m,r);const v=VT(r,m);let E,g;if(c.merge)E=new fa(m.fieldMask),g=m.fieldTransforms;else if(c.mergeFields){const w=[];for(const x of c.mergeFields){const O=qf(e,x,i);if(!m.contains(O))throw new Se(ue.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);wC(w,O)||w.push(O)}E=new fa(w),g=m.fieldTransforms.filter((x=>E.covers(x.field)))}else E=null,g=m.fieldTransforms;return new _C(new Ji(v),E,g)}function TC(a,e,i,r=!1){return vp(i,a.createContext(r?4:3,e))}function vp(a,e){if(UT(a=ps(a)))return qT("Unsupported field value:",e,a),VT(a,e);if(a instanceof MT)return(function(r,l){if(!LT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let m=0;for(const v of r){let E=vp(v,l.childContextForArray(m));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),m++}return{arrayValue:{values:c}}})(a,e)}return(function(r,l){if((r=ps(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Bt.fromDate(r);return{timestampValue:ff(l.serializer,c)}}if(r instanceof Bt){const c=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(l.serializer,c)}}if(r instanceof ka)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ea)return{bytesValue:tT(l.serializer,r._byteString)};if(r instanceof gn){const c=l.databaseId,m=r.firestore._databaseId;if(!m.isEqual(c))throw l.createError(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ap(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ha)return(function(m,v){const E=m instanceof ha?m.toArray():m;return{mapValue:{fields:{[xE]:{stringValue:DE},[rf]:{arrayValue:{values:E.map((w=>{if(typeof w!="number")throw v.createError("VectorValues must only contain numeric values.");return ep(v.serializer,w)}))}}}}}})(r,l);if(lT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Af(r)}`)})(a,e)}function VT(a,e){const i={};return SE(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(a,((r,l)=>{const c=vp(l,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function UT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Bt||a instanceof ka||a instanceof ea||a instanceof gn||a instanceof MT||a instanceof ha||lT(a))}function qT(a,e,i){if(!UT(i)||!TE(i)){const r=Af(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function qf(a,e,i){if((e=ps(e))instanceof jT)return e._internalPath;if(typeof e=="string")return SC(a,e);throw pf("Field path arguments must be of type string or ",a,!1,void 0,i)}const bC=new RegExp("[~\\*/\\[\\]]");function SC(a,e,i){if(e.search(bC)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new jT(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function pf(a,e,i,r,l){const c=r&&!r.isEmpty(),m=l!==void 0;let v=`Function ${e}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let E="";return(c||m)&&(E+=" (found",c&&(E+=` in field ${r}`),m&&(E+=` in document ${l}`),E+=")"),new Se(ue.INVALID_ARGUMENT,v+a+E)}function wC(a,e){return a.some((i=>i.isEqual(e)))}class AC{convertValue(e,i="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Jr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[rf].arrayValue?.values?.map((r=>an(r.doubleValue)));return new ha(i)}convertGeoPoint(e){return new ka(an(e.latitude),an(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Cf(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const i=ur(e);return new Bt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=kt.fromString(e);wt(oT(r),9688,{name:e});const l=new bu(r.get(1),r.get(3)),c=new Me(r.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class RC extends AC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,i)}}const b0="@firebase/firestore",S0="4.10.0";class BT{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(qf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NC extends BT{data(){return super.data()}}function CC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Se(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class xC extends Ep{}function DC(a,e,...i){let r=[];e instanceof Ep&&r.push(e),r=r.concat(i),(function(c){const m=c.filter((E=>E instanceof Tp)).length,v=c.filter((E=>E instanceof Bf)).length;if(m>1||m>0&&v>0)throw new Se(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)a=l._apply(a);return a}class Bf extends xC{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Bf(e,i,r)}_apply(e){const i=this._parse(e);return PT(e._query,i),new El(e.firestore,e.converter,wm(e._query,i))}_parse(e){const i=kT(e.firestore);return(function(c,m,v,E,g,w,x){let O;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){R0(x,w);const ae=[];for(const Y of x)ae.push(A0(E,c,Y));O={arrayValue:{values:ae}}}else O=A0(E,c,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||R0(x,w),O=TC(v,m,x,w==="in"||w==="not-in");return hn.create(g,w,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function w0(a,e,i){const r=e,l=qf("where",a);return Bf._create(l,r,i)}class Tp extends Ep{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Tp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:da.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let m=l;const v=c.getFlattenedFilters();for(const E of v)PT(m,E),m=wm(m,E)})(e._query,i),new El(e.firestore,e.converter,wm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A0(a,e,i){if(typeof(i=ps(i))=="string"){if(i==="")throw new Se(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qE(e)&&i.indexOf("/")!==-1)throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(kt.fromString(i));if(!Me.isDocumentKey(r))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qv(a,new Me(r))}if(i instanceof gn)return qv(a,i._key);throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(i)}.`)}function R0(a,e){if(!Array.isArray(a)||a.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PT(a,e){const i=(function(l,c){for(const m of l)for(const v of m.getFlattenedFilters())if(c.indexOf(v.op)>=0)return v.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function IC(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class Hc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class al extends BT{constructor(e,i,r,l,c,m){super(e,i,r,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(qf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=al._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}al._jsonSchemaVersion="firestore/documentSnapshot/1.0",al._jsonSchema={type:dn("string",al._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Wc extends al{data(e={}){return super.data(e)}}class sl{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Hc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Wc(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Se(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((v=>{const E=new Wc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Hc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:E,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>c||v.type!==3)).map((v=>{const E=new Wc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Hc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,w=-1;return v.type!==0&&(g=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),w=m.indexOf(v.doc.key)),{type:OC(v.type),doc:E,oldIndex:g,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:a})}}sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:dn("string",sl._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};function jC(a){a=ul(a,El);const e=ul(a.firestore,Uf),i=OT(e),r=new RC(e);return CC(a._query),uC(i,a._query).then((l=>new sl(e,r,a,l)))}function bp(a,e,i){a=ul(a,gn);const r=ul(a.firestore,Uf),l=IC(a.converter,e),c=kT(r);return zT(r,[EC(c,"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Ma.none())])}function Pf(a){return zT(ul(a.firestore,Uf),[new tp(a._key,Ma.none())])}function zT(a,e){const i=OT(a);return cC(i,e)}(function(e,i=!0){oA(Y2),or(new gs("firestore",((r,{instanceIdentifier:l,options:c})=>{const m=r.getProvider("app").getImmediate(),v=new Uf(new cA(r.getProvider("auth-internal")),new dA(m,r.getProvider("app-check-internal")),DA(m,l),m);return c={useFetchStreams:i,...c},v._setSettings(c),v}),"PUBLIC").setMultipleInstances(!0)),Oa(b0,S0,e),Oa(b0,S0,"esm2020")})();const HT="@firebase/installations",Sp="0.6.19";const FT=1e4,GT=`w:${Sp}`,QT="FIS_v2",MC="https://firebaseinstallations.googleapis.com/v1",LC=3600*1e3,kC="installations",VC="Installations";const UC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$r=new bf(kC,VC,UC);function XT(a){return a instanceof Zr&&a.code.includes("request-failed")}function YT({projectId:a}){return`${MC}/projects/${a}/installations`}function KT(a){return{token:a.token,requestStatus:2,expiresIn:BC(a.expiresIn),creationTime:Date.now()}}async function $T(a,e){const r=(await e.json()).error;return $r.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function WT({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function qC(a,{refreshToken:e}){const i=WT(a);return i.append("Authorization",PC(e)),i}async function ZT(a){const e=await a();return e.status>=500&&e.status<600?a():e}function BC(a){return Number(a.replace("s","000"))}function PC(a){return`${QT} ${a}`}async function zC({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const r=YT(a),l=WT(a),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={fid:i,authVersion:QT,appId:a.appId,sdkVersion:GT},v={method:"POST",headers:l,body:JSON.stringify(m)},E=await ZT(()=>fetch(r,v));if(E.ok){const g=await E.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:KT(g.authToken)}}else throw await $T("Create Installation",E)}function JT(a){return new Promise(e=>{setTimeout(e,a)})}function HC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const FC=/^[cdef][\w-]{21}$/,Lm="";function GC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=QC(a);return FC.test(i)?i:Lm}catch{return Lm}}function QC(a){return HC(a).substr(0,22)}function zf(a){return`${a.appName}!${a.appId}`}const eb=new Map;function tb(a,e){const i=zf(a);nb(i,e),XC(i,e)}function nb(a,e){const i=eb.get(a);if(i)for(const r of i)r(e)}function XC(a,e){const i=YC();i&&i.postMessage({key:a,fid:e}),KC()}let Xr=null;function YC(){return!Xr&&"BroadcastChannel"in self&&(Xr=new BroadcastChannel("[Firebase] FID Change"),Xr.onmessage=a=>{nb(a.data.key,a.data.fid)}),Xr}function KC(){eb.size===0&&Xr&&(Xr.close(),Xr=null)}const $C="firebase-installations-database",WC=1,Wr="firebase-installations-store";let im=null;function wp(){return im||(im=Sf($C,WC,{upgrade:(a,e)=>{e===0&&a.createObjectStore(Wr)}})),im}async function gf(a,e){const i=zf(a),l=(await wp()).transaction(Wr,"readwrite"),c=l.objectStore(Wr),m=await c.get(i);return await c.put(e,i),await l.done,(!m||m.fid!==e.fid)&&tb(a,e.fid),e}async function ib(a){const e=zf(a),r=(await wp()).transaction(Wr,"readwrite");await r.objectStore(Wr).delete(e),await r.done}async function Hf(a,e){const i=zf(a),l=(await wp()).transaction(Wr,"readwrite"),c=l.objectStore(Wr),m=await c.get(i),v=e(m);return v===void 0?await c.delete(i):await c.put(v,i),await l.done,v&&(!m||m.fid!==v.fid)&&tb(a,v.fid),v}async function Ap(a){let e;const i=await Hf(a.appConfig,r=>{const l=ZC(r),c=JC(a,l);return e=c.registrationPromise,c.installationEntry});return i.fid===Lm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function ZC(a){const e=a||{fid:GC(),registrationStatus:0};return ab(e)}function JC(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject($r.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ex(a,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tx(a)}:{installationEntry:e}}async function ex(a,e){try{const i=await zC(a,e);return gf(a.appConfig,i)}catch(i){throw XT(i)&&i.customData.serverCode===409?await ib(a.appConfig):await gf(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function tx(a){let e=await N0(a.appConfig);for(;e.registrationStatus===1;)await JT(100),e=await N0(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Ap(a);return r||i}return e}function N0(a){return Hf(a,e=>{if(!e)throw $r.create("installation-not-found");return ab(e)})}function ab(a){return nx(a)?{fid:a.fid,registrationStatus:0}:a}function nx(a){return a.registrationStatus===1&&a.registrationTime+FT<Date.now()}async function ix({appConfig:a,heartbeatServiceProvider:e},i){const r=ax(a,i),l=qC(a,i),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={installation:{sdkVersion:GT,appId:a.appId}},v={method:"POST",headers:l,body:JSON.stringify(m)},E=await ZT(()=>fetch(r,v));if(E.ok){const g=await E.json();return KT(g)}else throw await $T("Generate Auth Token",E)}function ax(a,{fid:e}){return`${YT(a)}/${e}/authTokens:generate`}async function Rp(a,e=!1){let i;const r=await Hf(a.appConfig,c=>{if(!sb(c))throw $r.create("not-registered");const m=c.authToken;if(!e&&ox(m))return c;if(m.requestStatus===1)return i=sx(a,e),c;{if(!navigator.onLine)throw $r.create("app-offline");const v=ux(c);return i=rx(a,v),v}});return i?await i:r.authToken}async function sx(a,e){let i=await C0(a.appConfig);for(;i.authToken.requestStatus===1;)await JT(100),i=await C0(a.appConfig);const r=i.authToken;return r.requestStatus===0?Rp(a,e):r}function C0(a){return Hf(a,e=>{if(!sb(e))throw $r.create("not-registered");const i=e.authToken;return cx(i)?{...e,authToken:{requestStatus:0}}:e})}async function rx(a,e){try{const i=await ix(a,e),r={...e,authToken:i};return await gf(a.appConfig,r),i}catch(i){if(XT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await ib(a.appConfig);else{const r={...e,authToken:{requestStatus:0}};await gf(a.appConfig,r)}throw i}}function sb(a){return a!==void 0&&a.registrationStatus===2}function ox(a){return a.requestStatus===2&&!lx(a)}function lx(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+LC}function ux(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function cx(a){return a.requestStatus===1&&a.requestTime+FT<Date.now()}async function fx(a){const e=a,{installationEntry:i,registrationPromise:r}=await Ap(e);return r?r.catch(console.error):Rp(e).catch(console.error),i.fid}async function hx(a,e=!1){const i=a;return await dx(i),(await Rp(i,e)).token}async function dx(a){const{registrationPromise:e}=await Ap(a);e&&await e}function mx(a){if(!a||!a.options)throw am("App Configuration");if(!a.name)throw am("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw am(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function am(a){return $r.create("missing-app-config-values",{valueName:a})}const rb="installations",px="installations-internal",gx=a=>{const e=a.getProvider("app").getImmediate(),i=mx(e),r=wf(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yx=a=>{const e=a.getProvider("app").getImmediate(),i=wf(e,rb).getImmediate();return{getId:()=>fx(i),getToken:l=>hx(i,l)}};function _x(){or(new gs(rb,gx,"PUBLIC")),or(new gs(px,yx,"PRIVATE"))}_x();Oa(HT,Sp);Oa(HT,Sp,"esm2020");const vx="/firebase-messaging-sw.js",Ex="/firebase-cloud-messaging-push-scope",ob="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Tx="https://fcmregistrations.googleapis.com/v1",lb="google.c.a.c_id",bx="google.c.a.c_l",Sx="google.c.a.ts",wx="google.c.a.e",x0=1e4;var D0;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(D0||(D0={}));var Ru;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(Ru||(Ru={}));function cs(a){const e=new Uint8Array(a);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ax(a){const e="=".repeat((4-a.length%4)%4),i=(a+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(i),l=new Uint8Array(r.length);for(let c=0;c<r.length;++c)l[c]=r.charCodeAt(c);return l}const sm="fcm_token_details_db",Rx=5,I0="fcm_token_object_Store";async function Nx(a){if("databases"in indexedDB&&!(await indexedDB.databases()).map(c=>c.name).includes(sm))return null;let e=null;return(await Sf(sm,Rx,{upgrade:async(r,l,c,m)=>{if(l<2||!r.objectStoreNames.contains(I0))return;const v=m.objectStore(I0),E=await v.index("fcmSenderId").get(a);if(await v.clear(),!!E){if(l===2){const g=E;if(!g.auth||!g.p256dh||!g.endpoint)return;e={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:cs(g.vapidKey)}}}else if(l===3){const g=E;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:cs(g.auth),p256dh:cs(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:cs(g.vapidKey)}}}else if(l===4){const g=E;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:cs(g.auth),p256dh:cs(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:cs(g.vapidKey)}}}}}})).close(),await Kd(sm),await Kd("fcm_vapid_details_db"),await Kd("undefined"),Cx(e)?e:null}function Cx(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:e}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const xx="firebase-messaging-database",Dx=1,Nu="firebase-messaging-store";let rm=null;function ub(){return rm||(rm=Sf(xx,Dx,{upgrade:(a,e)=>{e===0&&a.createObjectStore(Nu)}})),rm}async function Ix(a){const e=cb(a),r=await(await ub()).transaction(Nu).objectStore(Nu).get(e);if(r)return r;{const l=await Nx(a.appConfig.senderId);if(l)return await Np(a,l),l}}async function Np(a,e){const i=cb(a),l=(await ub()).transaction(Nu,"readwrite");return await l.objectStore(Nu).put(e,i),await l.done,e}function cb({appConfig:a}){return a.appId}const Ox={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kn=new bf("messaging","Messaging",Ox);async function jx(a,e){const i=await xp(a),r=fb(e),l={method:"POST",headers:i,body:JSON.stringify(r)};let c;try{c=await(await fetch(Cp(a.appConfig),l)).json()}catch(m){throw Kn.create("token-subscribe-failed",{errorInfo:m?.toString()})}if(c.error){const m=c.error.message;throw Kn.create("token-subscribe-failed",{errorInfo:m})}if(!c.token)throw Kn.create("token-subscribe-no-token");return c.token}async function Mx(a,e){const i=await xp(a),r=fb(e.subscriptionOptions),l={method:"PATCH",headers:i,body:JSON.stringify(r)};let c;try{c=await(await fetch(`${Cp(a.appConfig)}/${e.token}`,l)).json()}catch(m){throw Kn.create("token-update-failed",{errorInfo:m?.toString()})}if(c.error){const m=c.error.message;throw Kn.create("token-update-failed",{errorInfo:m})}if(!c.token)throw Kn.create("token-update-no-token");return c.token}async function Lx(a,e){const r={method:"DELETE",headers:await xp(a)};try{const c=await(await fetch(`${Cp(a.appConfig)}/${e}`,r)).json();if(c.error){const m=c.error.message;throw Kn.create("token-unsubscribe-failed",{errorInfo:m})}}catch(l){throw Kn.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function Cp({projectId:a}){return`${Tx}/projects/${a}/registrations`}async function xp({appConfig:a,installations:e}){const i=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function fb({p256dh:a,auth:e,endpoint:i,vapidKey:r}){const l={web:{endpoint:i,auth:e,p256dh:a}};return r!==ob&&(l.web.applicationPubKey=r),l}const kx=10080*60*1e3;async function Vx(a){const e=await qx(a.swRegistration,a.vapidKey),i={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:e.endpoint,auth:cs(e.getKey("auth")),p256dh:cs(e.getKey("p256dh"))},r=await Ix(a.firebaseDependencies);if(r){if(Bx(r.subscriptionOptions,i))return Date.now()>=r.createTime+kx?Ux(a,{token:r.token,createTime:Date.now(),subscriptionOptions:i}):r.token;try{await Lx(a.firebaseDependencies,r.token)}catch(l){console.warn(l)}return O0(a.firebaseDependencies,i)}else return O0(a.firebaseDependencies,i)}async function Ux(a,e){try{const i=await Mx(a.firebaseDependencies,e),r={...e,token:i,createTime:Date.now()};return await Np(a.firebaseDependencies,r),i}catch(i){throw i}}async function O0(a,e){const r={token:await jx(a,e),createTime:Date.now(),subscriptionOptions:e};return await Np(a,r),r.token}async function qx(a,e){const i=await a.pushManager.getSubscription();return i||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ax(e)})}function Bx(a,e){const i=e.vapidKey===a.vapidKey,r=e.endpoint===a.endpoint,l=e.auth===a.auth,c=e.p256dh===a.p256dh;return i&&r&&l&&c}function j0(a){const e={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return Px(e,a),zx(e,a),Hx(e,a),e}function Px(a,e){if(!e.notification)return;a.notification={};const i=e.notification.title;i&&(a.notification.title=i);const r=e.notification.body;r&&(a.notification.body=r);const l=e.notification.image;l&&(a.notification.image=l);const c=e.notification.icon;c&&(a.notification.icon=c)}function zx(a,e){e.data&&(a.data=e.data)}function Hx(a,e){if(!e.fcmOptions&&!e.notification?.click_action)return;a.fcmOptions={};const i=e.fcmOptions?.link??e.notification?.click_action;i&&(a.fcmOptions.link=i);const r=e.fcmOptions?.analytics_label;r&&(a.fcmOptions.analyticsLabel=r)}function Fx(a){return typeof a=="object"&&!!a&&lb in a}function Gx(a){if(!a||!a.options)throw om("App Configuration Object");if(!a.name)throw om("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=a;for(const r of e)if(!i[r])throw om(r);return{appName:a.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function om(a){return Kn.create("missing-app-config-values",{valueName:a})}class Qx{constructor(e,i,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=Gx(e);this.firebaseDependencies={app:e,appConfig:l,installations:i,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function Xx(a){try{a.swRegistration=await navigator.serviceWorker.register(vx,{scope:Ex}),a.swRegistration.update().catch(()=>{}),await Yx(a.swRegistration)}catch(e){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function Yx(a){return new Promise((e,i)=>{const r=setTimeout(()=>i(new Error(`Service worker not registered after ${x0} ms`)),x0),l=a.installing||a.waiting;a.active?(clearTimeout(r),e()):l?l.onstatechange=c=>{c.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),i(new Error("No incoming service worker found.")))})}async function Kx(a,e){if(!e&&!a.swRegistration&&await Xx(a),!(!e&&a.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");a.swRegistration=e}}async function $x(a,e){e?a.vapidKey=e:a.vapidKey||(a.vapidKey=ob)}async function hb(a,e){if(!navigator)throw Kn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Kn.create("permission-blocked");return await $x(a,e?.vapidKey),await Kx(a,e?.serviceWorkerRegistration),Vx(a)}async function Wx(a,e,i){const r=Zx(e);(await a.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:i[lb],message_name:i[bx],message_time:i[Sx],message_device_time:Math.floor(Date.now()/1e3)})}function Zx(a){switch(a){case Ru.NOTIFICATION_CLICKED:return"notification_open";case Ru.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function Jx(a,e){const i=e.data;if(!i.isFirebaseMessaging)return;a.onMessageHandler&&i.messageType===Ru.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(j0(i)):a.onMessageHandler.next(j0(i)));const r=i.data;Fx(r)&&r[wx]==="1"&&await Wx(a,i.messageType,r)}const M0="@firebase/messaging",L0="0.12.23";const eD=a=>{const e=new Qx(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>Jx(e,i)),e},tD=a=>{const e=a.getProvider("messaging").getImmediate();return{getToken:r=>hb(e,r)}};function nD(){or(new gs("messaging",eD,"PUBLIC")),or(new gs("messaging-internal",tD,"PRIVATE")),Oa(M0,L0),Oa(M0,L0,"esm2020")}async function db(){try{await aE()}catch{return!1}return typeof window<"u"&&iE()&&Qw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function iD(a,e){if(!navigator)throw Kn.create("only-available-in-window");return a.onMessageHandler=e,()=>{a.onMessageHandler=null}}function aD(a=uE()){return db().then(e=>{if(!e)throw Kn.create("unsupported-browser")},e=>{throw Kn.create("indexed-db-unsupported")}),wf(ps(a),"messaging").getImmediate()}async function sD(a,e){return a=ps(a),hb(a,e)}function rD(a,e){return a=ps(a),iD(a,e)}nD();const Zc={apiKey:"AIzaSyA3dJLU8Xw6vcqXtOhVbuI5aO_ImdT8upg",authDomain:"goal-game-7ad53.firebaseapp.com",projectId:"goal-game-7ad53",storageBucket:"goal-game-7ad53.firebasestorage.app",messagingSenderId:"86507800050",appId:"1:86507800050:web:f7674a55bc2291686f976b"},mb="BLD2XB0Bh-Y2EwwHU1YimB6-tzKQNrGh-bzoZHXbSWlvQt1mg6K5c7EJWfBIDrGY0cQJXO4LNrKD9MjlZhMsb3c";let lm=null,um=null,Fc=null;function Ua(){return!!(Zc.apiKey&&Zc.projectId&&Zc.messagingSenderId&&mb)}function pb(){if(!lm){if(!Ua())throw new Error("Firebase is not configured. Please add your Firebase config to .env file.");lm=lE(Zc)}return lm}function ao(){return um||(um=pC(pb())),um}async function gb(){return Fc||(await db()?(Fc=aD(pb()),Fc):(console.warn("Firebase Messaging is not supported in this browser"),null))}function Es(){let a=localStorage.getItem("goal-game-device-id");return a||(a=crypto.randomUUID(),localStorage.setItem("goal-game-device-id",a)),a}const ml="scheduled_notifications",yb="fcm_tokens";async function oD(a,e,i,r,l,c){if(!Ua())return console.warn("Firebase not configured, skipping notification scheduling"),null;const m=ao(),v=Es(),E=new Date(`${i}T${r}`),g=new Date(E.getTime()-l*60*1e3);if(g<=new Date)return console.warn("Notification trigger time is in the past, skipping"),null;const w=`${v}_event_${a}`,x={id:w,eventId:a,eventTitle:e,eventDate:i,eventTime:r,triggerAt:g.toISOString(),fcmToken:c,deviceId:v,status:"pending",createdAt:new Date().toISOString(),notificationType:"event"};try{return await bp(io(m,ml,w),x),w}catch(O){return console.error("Failed to schedule notification:",O),null}}async function lD(a,e,i,r,l){if(!Ua())return console.warn("Firebase not configured, skipping notification scheduling"),null;const c=ao(),m=Es(),v=new Date(r);if(v<=new Date)return console.warn("Buff expiry time is in the past, skipping notification"),null;const E=`${m}_buff_${a}`,g={id:E,buffLogId:a,buffName:e,buffType:i,triggerAt:v.toISOString(),fcmToken:l,deviceId:m,status:"pending",createdAt:new Date().toISOString(),notificationType:"buff_expiry"};try{return await bp(io(c,ml,E),g),E}catch(w){return console.error("Failed to schedule buff expiry notification:",w),null}}async function uD(a){if(!Ua())return;const e=ao(),r=`${Es()}_buff_${a}`;try{await Pf(io(e,ml,r))}catch(l){console.error("Failed to cancel buff expiry notification:",l)}}async function cD(a){if(!Ua())return;const e=ao(),r=`${Es()}_event_${a}`;try{await Pf(io(e,ml,r))}catch(l){console.error("Failed to cancel notification:",l)}}async function fD(){if(!Ua())return;const a=ao(),e=Es();try{const i=DC(mC(a,ml),w0("deviceId","==",e),w0("status","==","pending")),l=(await jC(i)).docs.map(c=>Pf(io(a,ml,c.id)));await Promise.all(l)}catch(i){console.error("Failed to cancel all notifications:",i)}}async function hD(a){if(!Ua())return;const e=ao(),i=Es();try{await bp(io(e,yb,i),{token:a,deviceId:i,updatedAt:new Date().toISOString(),platform:navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")?"ios":navigator.userAgent.includes("Android")?"android":"web"})}catch(r){console.error("Failed to save FCM token:",r)}}async function dD(){if(!Ua())return;const a=ao(),e=Es();try{await Pf(io(a,yb,e))}catch(i){console.error("Failed to delete FCM token:",i)}}function mD(){return"Notification"in window?Notification.permission:"unsupported"}function Dp(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}function Ip(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function Op(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function pD(){return Ip()&&!Op()?!1:Dp()}async function gD(){if(!Ua())return{success:!1,token:null,error:"Firebase is not configured"};if(!Dp())return{success:!1,token:null,error:"Notifications are not supported in this browser"};if(Ip()&&!Op())return{success:!1,token:null,error:"On iOS, you must add this app to your home screen first, then enable notifications"};try{if(await Notification.requestPermission()!=="granted")return{success:!1,token:null,error:"Notification permission was denied"};const e=await gb();if(!e)return{success:!1,token:null,error:"Failed to initialize Firebase Messaging"};const i=await navigator.serviceWorker.register("/goal-game/firebase-messaging-sw.js");await navigator.serviceWorker.ready;const r=await sD(e,{vapidKey:mb,serviceWorkerRegistration:i});return r?(await hD(r),{success:!0,token:r}):{success:!1,token:null,error:"Failed to get FCM token"}}catch(a){return console.error("Error requesting notification permission:",a),{success:!1,token:null,error:a instanceof Error?a.message:"Unknown error occurred"}}}async function yD(){try{await dD(),await fD()}catch(a){console.error("Error disabling notifications:",a)}}function _D(a){let e=null;return gb().then(i=>{i&&(e=rD(i,r=>{if(console.log("Foreground message received:",r),a(r),r.notification){const{title:l,body:c}=r.notification;l&&new Notification(l,{body:c||"",icon:"/goal-game/icons/icon-192.png",badge:"/goal-game/icons/icon-192.png",tag:r.data?.eventId||"goal-game-notification"})}}))}),()=>{e&&e()}}function _b(){const a=ze(),e=Es(),i=a.exec("SELECT enabled, default_reminder_minutes, fcm_token, device_id FROM notification_settings WHERE id = 1");if(i.length===0||i[0].values.length===0)return a.run("INSERT OR REPLACE INTO notification_settings (id, enabled, default_reminder_minutes, fcm_token, device_id) VALUES (1, 0, 15, NULL, ?)",[e]),{enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:e};const r=i[0].values[0];return{enabled:!!r[0],defaultReminderMinutes:r[1],fcmToken:r[2],deviceId:r[3]}}async function cm(a){const e=ze(),i=Es(),l={..._b(),...a};e.run(`UPDATE notification_settings SET
      enabled = ?,
      default_reminder_minutes = ?,
      fcm_token = ?,
      device_id = ?,
      updated_at = datetime('now')
    WHERE id = 1`,[l.enabled?1:0,l.defaultReminderMinutes,l.fcmToken,i]),await vt()}function vb(){const[a,e]=ne.useState({enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:""}),[i,r]=ne.useState("default"),[l,c]=ne.useState(!1),[m,v]=ne.useState(null),E=Dp(),g=Ua(),w=pD(),x=Ip(),O=Op();ne.useEffect(()=>{try{const me=_b();e(me),r(mD())}catch(me){console.error("Failed to load notification settings:",me)}},[]),ne.useEffect(()=>!a.enabled||!a.fcmToken?void 0:_D(Ce=>{console.log("Notification received in foreground:",Ce)}),[a.enabled,a.fcmToken]);const $=ne.useCallback(async()=>{c(!0),v(null);try{const me=await gD();return me.success?(await cm({enabled:!0,fcmToken:me.token}),e(Ce=>({...Ce,enabled:!0,fcmToken:me.token})),r("granted"),!0):(v(me.error||"Failed to enable notifications"),!1)}catch(me){const Ce=me instanceof Error?me.message:"Unknown error";return v(Ce),!1}finally{c(!1)}},[]),ae=ne.useCallback(async()=>{c(!0),v(null);try{await yD(),await cm({enabled:!1,fcmToken:null}),e(me=>({...me,enabled:!1,fcmToken:null}))}catch(me){const Ce=me instanceof Error?me.message:"Unknown error";v(Ce)}finally{c(!1)}},[]),Y=ne.useCallback(async me=>{await cm({defaultReminderMinutes:me}),e(Ce=>({...Ce,defaultReminderMinutes:me}))},[]),W=ne.useCallback(async(me,Ce,Ie,M,I)=>{!a.enabled||!a.fcmToken||await oD(me,Ce,Ie,M,I,a.fcmToken)},[a.enabled,a.fcmToken]),J=ne.useCallback(async me=>{await cD(me)},[]),fe=ne.useCallback(async(me,Ce,Ie,M)=>{!a.enabled||!a.fcmToken||await lD(me,Ce,Ie,M,a.fcmToken)},[a.enabled,a.fcmToken]),ge=ne.useCallback(async me=>{await uD(me)},[]);return{settings:a,permissionState:i,isSupported:E,isConfigured:g,canEnable:w,isIOS:x,isStandalone:O,loading:l,error:m,enableNotifications:$,disableNotificationsHandler:ae,setDefaultReminderMinutes:Y,scheduleEventReminder:W,cancelEventReminder:J,scheduleBuffExpiry:fe,cancelBuffExpiry:ge}}const vD=[{type:"activate_buffs",title:"Habit Builder",description:"Activate {target} buff(s) today",targetRange:[2,4],xpReward:25},{type:"complete_steps",title:"Step by Step",description:"Complete {target} quest step(s) today",targetRange:[3,7],xpReward:30},{type:"no_debuffs",title:"Clean Slate",description:"Avoid activating any debuffs today",targetRange:[1,1],xpReward:40},{type:"gym_session",title:"Iron Warrior",description:"Complete a gym workout today",targetRange:[1,1],xpReward:35},{type:"early_start",title:"Early Bird",description:"Complete a habit before 8 AM",targetRange:[1,1],xpReward:30},{type:"planner_event",title:"Planned Execution",description:"Complete {target} planner event(s)",targetRange:[1,3],xpReward:25},{type:"activate_specific",title:"Wellness Warrior",description:"Activate a health-related buff",targetRange:[1,1],xpReward:20}],k0=50;function Tl(){return new Date().toISOString().split("T")[0]}function V0(a){const e=ze(),i=a||Tl(),r=e.exec(`SELECT id, date, quest_type, title, description, target_value, current_value, xp_reward, is_completed, completed_at
     FROM daily_quests WHERE date = ? ORDER BY id`,[i]);return r.length?r[0].values.map(l=>({id:l[0],date:l[1],quest_type:l[2],title:l[3],description:l[4],target_value:l[5],current_value:l[6],xp_reward:l[7],is_completed:!!l[8],completed_at:l[9]})):[]}function ED(a){const e=ze(),i=Tl(),r=e.exec("SELECT id FROM daily_quest_bonus WHERE date = ?",[i]);return r.length>0&&r[0].values.length>0}async function TD(a){const e=ze(),i=Tl();e.run("INSERT OR IGNORE INTO daily_quest_bonus (date, claimed_at) VALUES (?, datetime('now'))",[i]),await vt()}async function bD(){const a=ze(),e=Tl(),i=V0(e);if(i.length>0)return i;const l=[...vD].sort(()=>Math.random()-.5).slice(0,3);for(const c of l){const m=c.targetRange[0]===c.targetRange[1]?c.targetRange[0]:Math.floor(Math.random()*(c.targetRange[1]-c.targetRange[0]+1))+c.targetRange[0],v=c.description.replace("{target}",m.toString());a.run(`INSERT INTO daily_quests (date, quest_type, title, description, target_value, xp_reward)
       VALUES (?, ?, ?, ?, ?, ?)`,[e,c.type,c.title,v,m,c.xpReward])}return await vt(),V0(e)}async function Eb(a,e=1,i){const r=ze(),l=i||Tl(),c=r.exec(`SELECT id, current_value, target_value, is_completed FROM daily_quests
     WHERE date = ? AND quest_type = ? AND is_completed = 0`,[l,a]);if(!c.length||!c[0].values.length)return null;const m=c[0].values[0][0],v=c[0].values[0][1],E=c[0].values[0][2],g=v+e,w=g>=E;r.run(`UPDATE daily_quests SET current_value = ?, is_completed = ?, completed_at = ?
     WHERE id = ?`,[g,w?1:0,w?new Date().toISOString():null,m]),await vt();const x=r.exec(`SELECT id, date, quest_type, title, description, target_value, current_value, xp_reward, is_completed, completed_at
     FROM daily_quests WHERE id = ?`,[m]);if(!x.length)return null;const O=x[0].values[0];return{id:O[0],date:O[1],quest_type:O[2],title:O[3],description:O[4],target_value:O[5],current_value:O[6],xp_reward:O[7],is_completed:!!O[8],completed_at:O[9]}}async function SD(a){const e=ze(),i=Tl();(e.exec(`SELECT COUNT(*) FROM buff_log bl
     JOIN buff_definitions bd ON bl.definition_id = bd.id
     WHERE bd.type = 'debuff' AND date(bl.activated_at) = ?`,[i])[0]?.values[0]?.[0]||0)===0&&await Eb("no_debuffs",1,i)}function wD({grantXP:a}){const[e,i]=ne.useState([]),[r,l]=ne.useState(!1),[c,m]=ne.useState(!0),v=ne.useCallback(async()=>{const ae=await bD();i(ae),l(ED()),m(!1)},[]);ne.useEffect(()=>{v()},[v]),ne.useEffect(()=>{const Y=setInterval(()=>{const W=new Date().toISOString().split("T")[0];e.length>0&&e[0].date!==W&&v()},6e4);return()=>clearInterval(Y)},[e,v]);const E=ne.useCallback(async(ae,Y=1)=>{const W=await Eb(ae,Y);return W?.is_completed&&await a(W.xp_reward,`Daily Quest: ${W.title}`,"daily_quest",W.id),await v(),W},[a,v]),g=ne.useCallback(async()=>!e.every(Y=>Y.is_completed)||r?!1:(await TD(),await a(k0,"Daily Quest Bonus: All quests completed!","daily_quest_bonus"),l(!0),!0),[e,r,a]),w=ne.useCallback(async()=>{await SD(),await v()},[v]),x=e.every(ae=>ae.is_completed),O=e.filter(ae=>ae.is_completed).length,$=e.filter(ae=>ae.is_completed).reduce((ae,Y)=>ae+Y.xp_reward,0);return{quests:e,loading:c,allCompleted:x,completedCount:O,bonusClaimed:r,bonusXp:k0,totalXpEarned:$,refresh:v,updateProgress:E,claimBonus:g,checkNoDebuffs:w}}const AD="_appShell_1hrux_1",RD="_sidebar_1hrux_13",ND="_sidebarLogo_1hrux_41",CD="_logoTitle_1hrux_51",xD="_logoSubtitle_1hrux_67",DD="_sidebarNav_1hrux_81",ID="_navItem_1hrux_97",OD="_navItemActive_1hrux_147",jD="_navIcon_1hrux_179",MD="_header_1hrux_193",LD="_headerLeft_1hrux_227",kD="_characterName_1hrux_239",VD="_levelBadge_1hrux_253",UD="_headerXP_1hrux_283",qD="_headerRight_1hrux_291",BD="_main_1hrux_305",PD="_xpFloat_1hrux_323",Ln={appShell:AD,sidebar:RD,sidebarLogo:ND,logoTitle:CD,logoSubtitle:xD,sidebarNav:DD,navItem:ID,navItemActive:OD,navIcon:jD,header:MD,headerLeft:LD,characterName:kD,levelBadge:VD,headerXP:UD,headerRight:qD,main:BD,xpFloat:PD},zD=[{id:"character",label:"Character",icon:""},{id:"quests",label:"Quest Log",icon:""},{id:"buffs",label:"Buffs",icon:""},{id:"planner",label:"Planner",icon:""}];function HD({activeTab:a,onTabChange:e}){return p.jsxs("aside",{className:Ln.sidebar,children:[p.jsxs("div",{className:Ln.sidebarLogo,children:[p.jsx("div",{className:Ln.logoTitle,children:"GOAL GAME"}),p.jsx("div",{className:Ln.logoSubtitle,children:"Life Management RPG"})]}),p.jsx("nav",{className:Ln.sidebarNav,children:zD.map(i=>p.jsxs("button",{className:`${Ln.navItem} ${a===i.id?Ln.navItemActive:""}`,onClick:()=>e(i.id),children:[p.jsx("span",{className:Ln.navIcon,children:i.icon}),i.label]},i.id))})]})}const FD="_progressContainer_1jr5p_1",GD="_progressLabel_1jr5p_9",QD="_track_1jr5p_33",XD="_fill_1jr5p_53",YD="_fillGold_1jr5p_67",KD="_fillGreen_1jr5p_77",$D="_fillBlue_1jr5p_85",WD="_shimmer_1jr5p_93",ZD="_trackLarge_1jr5p_117",us={progressContainer:FD,progressLabel:GD,track:QD,fill:XD,fillGold:YD,fillGreen:KD,fillBlue:$D,shimmer:WD,trackLarge:ZD};function km({value:a,max:e,label:i,showValue:r=!0,color:l="gold",size:c="normal",shimmer:m=!1,className:v}){const E=e>0?Math.min(a/e*100,100):0,g=l==="gold"?us.fillGold:l==="green"?us.fillGreen:us.fillBlue,w=[us.track,c==="large"&&us.trackLarge].filter(Boolean).join(" ");return p.jsxs("div",{className:`${us.progressContainer} ${v||""}`,children:[(i||r)&&p.jsxs("div",{className:us.progressLabel,children:[i&&p.jsx("span",{children:i}),r&&p.jsxs("span",{children:[a," / ",e]})]}),p.jsx("div",{className:w,children:p.jsx("div",{className:[g,us.fill,m&&us.shimmer].filter(Boolean).join(" "),style:{width:`${E}%`}})})]})}function JD({character:a}){const e=G0(a.total_xp);return p.jsxs("header",{className:Ln.header,children:[p.jsxs("div",{className:Ln.headerLeft,children:[p.jsx("span",{className:Ln.characterName,children:a.name}),p.jsxs("span",{className:Ln.levelBadge,children:["Lv. ",a.level,"  ",a.title]})]}),p.jsx("div",{className:Ln.headerRight,children:p.jsx("div",{className:Ln.headerXP,children:p.jsx(km,{value:e.current,max:e.needed,label:"XP",shimmer:!0})})})]})}const eI="_levelUpOverlay_dig0a_1",tI="_levelUpContent_dig0a_23",nI="_levelUpIcon_dig0a_33",iI="_levelUpTitle_dig0a_47",aI="_levelUpLevel_dig0a_65",sI="_levelUpTitleName_dig0a_79",rI="_dismissText_dig0a_95",Fr={levelUpOverlay:eI,levelUpContent:tI,levelUpIcon:nI,levelUpTitle:iI,levelUpLevel:aI,levelUpTitleName:sI,dismissText:rI};function oI({level:a,title:e,onDismiss:i}){return ne.useEffect(()=>{const r=setTimeout(i,5e3),l=c=>{(c.key==="Escape"||c.key==="Enter"||c.key===" ")&&i()};return window.addEventListener("keydown",l),()=>{clearTimeout(r),window.removeEventListener("keydown",l)}},[i]),p.jsx("div",{className:Fr.levelUpOverlay,onClick:i,children:p.jsxs("div",{className:Fr.levelUpContent,children:[p.jsx("span",{className:Fr.levelUpIcon,children:""}),p.jsx("div",{className:Fr.levelUpTitle,children:"LEVEL UP"}),p.jsxs("div",{className:Fr.levelUpLevel,children:["Level ",a]}),p.jsx("div",{className:Fr.levelUpTitleName,children:e}),p.jsx("div",{className:Fr.dismissText,children:"Click or press any key to continue"})]})})}const lI="_panel_zw35t_1",uI="_panelHeader_zw35t_69",cI="_panelGlow_zw35t_93",fm={panel:lI,panelHeader:uI,panelGlow:cI};function Yn({children:a,header:e,glow:i,className:r,style:l}){const c=[fm.panel,i&&fm.panelGlow,r].filter(Boolean).join(" ");return p.jsxs("div",{className:c,style:l,children:[e&&p.jsx("div",{className:fm.panelHeader,children:e}),a]})}const fI="_button_vi3e3_1",hI="_primary_vi3e3_61",dI="_danger_vi3e3_83",mI="_small_vi3e3_103",pI="_ghost_vi3e3_113",gI="_fullWidth_vi3e3_133",Gc={button:fI,primary:hI,danger:dI,small:mI,ghost:pI,fullWidth:gI};function _t({variant:a="default",size:e="normal",fullWidth:i,children:r,className:l,...c}){const m=[Gc.button,a!=="default"&&Gc[a],e==="small"&&Gc.small,i&&Gc.fullWidth,l].filter(Boolean).join(" ");return p.jsx("button",{className:m,...c,children:r})}const yI="_inputGroup_1helv_1",_I="_label_1helv_13",vI="_input_1helv_1",EI="_select_1helv_31",TI="_textarea_1helv_31",ms={inputGroup:yI,label:_I,input:vI,select:EI,textarea:TI};function Ia({label:a,className:e,...i}){return p.jsxs("div",{className:ms.inputGroup,children:[a&&p.jsx("label",{className:ms.label,children:a}),p.jsx("input",{className:`${ms.input} ${e||""}`,...i})]})}function nr({label:a,children:e,className:i,...r}){return p.jsxs("div",{className:ms.inputGroup,children:[a&&p.jsx("label",{className:ms.label,children:a}),p.jsx("select",{className:`${ms.select} ${i||""}`,...r,children:e})]})}function yf({label:a,className:e,...i}){return p.jsxs("div",{className:ms.inputGroup,children:[a&&p.jsx("label",{className:ms.label,children:a}),p.jsx("textarea",{className:`${ms.textarea} ${e||""}`,...i})]})}const bI=[{minLevel:50,tier:7},{minLevel:40,tier:6},{minLevel:30,tier:5},{minLevel:22,tier:4},{minLevel:15,tier:3},{minLevel:10,tier:2},{minLevel:5,tier:1},{minLevel:1,tier:0}];function SI(a){for(const{minLevel:e,tier:i}of bI)if(a>=e)return i;return 0}function uu(a){if(a<5)return 0;const r=(a-5)/25;return Math.min(Math.pow(r,.7),1)}const cu={stamina:"#2ecc71",willpower:"#9b59b6",health:"#e74c3c",focus:"#3498db",charisma:"#e67e22"},Tb={0:{primary:"#8b7355",secondary:"#6b5344",accent:"#a08060",skin:"#e8c4a0",hair:"#4a3728"},1:{primary:"#8b4513",secondary:"#654321",accent:"#cd853f",skin:"#e8c4a0",hair:"#4a3728"},2:{primary:"#708090",secondary:"#4a5568",accent:"#a0aec0",skin:"#e8c4a0",hair:"#4a3728"},3:{primary:"#5a6672",secondary:"#3d4852",accent:"#8892a0",skin:"#e8c4a0",hair:"#4a3728"},4:{primary:"#b8860b",secondary:"#8b6914",accent:"#daa520",skin:"#e8c4a0",hair:"#4a3728"},5:{primary:"#ffd700",secondary:"#b8860b",accent:"#ffed4a",skin:"#e8c4a0",hair:"#4a3728",glow:"#ffd700"},6:{primary:"#e6e6fa",secondary:"#9370db",accent:"#dda0dd",skin:"#e8c4a0",hair:"#4a3728",glow:"#9370db"},7:{primary:"#8b0000",secondary:"#4a0000",accent:"#ff4500",skin:"#e8c4a0",hair:"#ffd700",glow:"#ff4500",crown:"#ffd700"}},pl=64;function fs(a,e,i,r,l=1){a.fillStyle=r,a.fillRect(e,i,l,l)}function xt(a,e,i,r,l,c){a.fillStyle=c,a.fillRect(e,i,r,l)}function wI({ctx:a,palette:e}){xt(a,27,7,10,4,e.hair),xt(a,28,8,8,8,e.skin),xt(a,28,7,8,2,e.hair),fs(a,30,11,"#2c3e50"),fs(a,33,11,"#2c3e50")}function AI({ctx:a,palette:e,tier:i}){xt(a,26,16,12,16,e.primary),xt(a,31,18,2,12,e.secondary),i>=2&&(xt(a,24,16,3,4,e.accent),xt(a,37,16,3,4,e.accent)),i>=1&&(xt(a,26,28,12,2,e.secondary),fs(a,31,28,e.accent,2)),i>=3&&(xt(a,28,18,8,6,e.accent),xt(a,30,19,4,4,e.secondary))}function RI({ctx:a,palette:e,tier:i}){xt(a,22,18,4,12,e.primary),xt(a,22,30,4,3,e.skin),xt(a,38,18,4,12,e.primary),xt(a,38,30,4,3,e.skin),i>=2&&(xt(a,22,18,4,3,e.accent),xt(a,38,18,4,3,e.accent)),i>=4&&(xt(a,21,28,5,5,e.accent),xt(a,38,28,5,5,e.accent))}function NI({ctx:a,palette:e,tier:i}){xt(a,27,32,5,14,i>=3?e.secondary:e.primary),xt(a,26,46,6,4,e.secondary),xt(a,32,32,5,14,i>=3?e.secondary:e.primary),xt(a,32,46,6,4,e.secondary),i>=2&&(xt(a,26,46,6,2,e.accent),xt(a,32,46,6,2,e.accent))}function CI({ctx:a,palette:e,tier:i}){if(i<3)return;const l={3:"#8b0000",4:"#4a0082",5:"#1a1a2e",6:"#4a0082",7:"#8b0000"}[i]||e.secondary;a.fillStyle=l,a.beginPath(),a.moveTo(24,16),a.lineTo(40,16),a.lineTo(42,48),a.lineTo(22,48),a.closePath(),a.fill(),a.fillStyle=e.accent,a.fillRect(22,16,2,32),a.fillRect(40,16,2,32)}function xI({ctx:a,palette:e,tier:i}){if(i<2)return;const r=28,l=8;i===2?xt(a,r-1,l-2,10,3,e.secondary):i>=3&&i<7&&(xt(a,r-2,l-3,12,5,e.accent),xt(a,r,l+2,8,2,"#1a1a2e"),i>=4&&xt(a,r+3,l-6,2,4,"#e74c3c"))}function DI({ctx:a,palette:e}){const i="crown"in e?e.crown:"#ffd700",r=28,l=8;xt(a,r-2,l-4,12,3,i),fs(a,r-1,l-6,i,2),fs(a,r+3,l-7,i,2),fs(a,r+7,l-6,i,2),fs(a,r,l-5,"#e74c3c"),fs(a,r+4,l-6,"#3498db"),fs(a,r+8,l-5,"#2ecc71")}function II({ctx:a}){const e="#8b0000",i="#ff4500";a.fillStyle=e,a.beginPath(),a.moveTo(22,20),a.lineTo(8,10),a.lineTo(6,16),a.lineTo(10,24),a.lineTo(14,32),a.lineTo(20,36),a.lineTo(22,28),a.closePath(),a.fill(),a.fillStyle=i,a.beginPath(),a.moveTo(20,22),a.lineTo(12,14),a.lineTo(12,20),a.lineTo(16,28),a.closePath(),a.fill(),a.fillStyle=e,a.beginPath(),a.moveTo(42,20),a.lineTo(56,10),a.lineTo(58,16),a.lineTo(54,24),a.lineTo(50,32),a.lineTo(44,36),a.lineTo(42,28),a.closePath(),a.fill(),a.fillStyle=i,a.beginPath(),a.moveTo(44,22),a.lineTo(52,14),a.lineTo(52,20),a.lineTo(48,28),a.closePath(),a.fill()}function OI(a,e){if(e<5)return;const i=Tb[e],r="glow"in i?i.glow:"#ffd700",l=a.createRadialGradient(32,32,10,32,32,40);l.addColorStop(0,`${r}40`),l.addColorStop(.5,`${r}20`),l.addColorStop(1,`${r}00`),a.fillStyle=l,a.fillRect(0,0,pl,pl)}function jI(a,e){const i=Math.max(0,Math.min(7,e)),r=Tb[i];a.clearRect(0,0,pl,pl),a.imageSmoothingEnabled=!1;const l={ctx:a,palette:r,tier:i};OI(a,i),i>=7&&II(l),i>=3&&CI(l),NI(l),AI(l),RI(l),wI(l),i>=7?DI(l):i>=2&&xI(l)}const MI="_spriteContainer_1vkdq_3",LI="_spriteCanvas_1vkdq_25",kI="_auraStamina_1vkdq_79",VI="_auraWillpower_1vkdq_81",UI="_auraHealth_1vkdq_83",qI="_auraFocus_1vkdq_85",BI="_auraCharisma_1vkdq_87",PI="_auraLayer_1vkdq_99",Zi={spriteContainer:MI,spriteCanvas:LI,auraStamina:kI,auraWillpower:VI,auraHealth:UI,auraFocus:qI,auraCharisma:BI,auraLayer:PI};function zI({level:a,stats:e}){const i=ne.useRef(null),r=SI(a);ne.useEffect(()=>{const m=i.current;if(!m)return;const v=m.getContext("2d");v&&jI(v,r)},[r]);const l={stamina:uu(e.stamina),willpower:uu(e.willpower),health:uu(e.health),focus:uu(e.focus),charisma:uu(e.charisma)},c={"--aura-stamina-intensity":l.stamina,"--aura-stamina-color":cu.stamina,"--aura-willpower-intensity":l.willpower,"--aura-willpower-color":cu.willpower,"--aura-health-intensity":l.health,"--aura-health-color":cu.health,"--aura-focus-intensity":l.focus,"--aura-focus-color":cu.focus,"--aura-charisma-intensity":l.charisma,"--aura-charisma-color":cu.charisma};return p.jsxs("div",{className:Zi.spriteContainer,style:c,children:[l.stamina>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraStamina}`}),l.willpower>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraWillpower}`}),l.health>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraHealth}`}),l.focus>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraFocus}`}),l.charisma>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraCharisma}`}),p.jsx("canvas",{ref:i,width:pl,height:pl,className:Zi.spriteCanvas})]})}const HI="_characterGrid_1vnpd_1",FI="_characterMain_1vnpd_13",GI="_characterSide_1vnpd_25",QI="_profileSection_1vnpd_37",XI="_characterNameDisplay_1vnpd_61",YI="_characterTitleDisplay_1vnpd_75",KI="_xpSection_1vnpd_89",$I="_totalXP_1vnpd_97",WI="_statsGrid_1vnpd_113",ZI="_statRow_1vnpd_125",JI="_statName_1vnpd_137",e4="_statBar_1vnpd_157",t4="_statValue_1vnpd_165",n4="_buffsList_1vnpd_185",i4="_activeBuff_1vnpd_197",a4="_buffType_1vnpd_219",s4="_debuffType_1vnpd_229",r4="_buffIcon_1vnpd_239",o4="_buffInfo_1vnpd_247",l4="_buffName_1vnpd_255",u4="_buffTimer_1vnpd_265",c4="_emptyState_1vnpd_275",f4="_nameEditRow_1vnpd_291",h4="_xpLogList_1vnpd_307",d4="_xpLogEntry_1vnpd_323",m4="_xpLogReason_1vnpd_343",p4="_xpLogAmount_1vnpd_351",g4="_negative_1vnpd_363",Ct={characterGrid:HI,characterMain:FI,characterSide:GI,profileSection:QI,characterNameDisplay:XI,characterTitleDisplay:YI,xpSection:KI,totalXP:$I,statsGrid:WI,statRow:ZI,statName:JI,statBar:e4,statValue:t4,buffsList:n4,activeBuff:i4,buffType:a4,debuffType:s4,buffIcon:r4,buffInfo:o4,buffName:l4,buffTimer:u4,emptyState:c4,nameEditRow:f4,xpLogList:h4,xpLogEntry:d4,xpLogReason:m4,xpLogAmount:p4,negative:g4},y4={stamina:"green",willpower:"blue",health:"gold",focus:"blue",charisma:"gold"};function _4({character:a,stats:e,activeBuffs:i,xpLog:r,onNameChange:l}){const c=G0(a.total_xp),[m,v]=ne.useState(!1),[E,g]=ne.useState(a.name),w=()=>{E.trim()&&(l(E.trim()),v(!1))};function x(O){const $=new Date,Y=new Date(O+"Z").getTime()-$.getTime();if(Y<=0)return"Expired";const W=Math.floor(Y/36e5),J=Math.floor(Y%36e5/6e4);return W>0?`${W}h ${J}m remaining`:`${J}m remaining`}return p.jsxs("div",{className:Ct.characterGrid,children:[p.jsxs("div",{className:Ct.characterMain,children:[p.jsx(Yn,{children:p.jsxs("div",{className:Ct.profileSection,children:[p.jsx(zI,{level:a.level,stats:e}),m?p.jsxs("div",{className:Ct.nameEditRow,children:[p.jsx(Ia,{value:E,onChange:O=>g(O.target.value),onKeyDown:O=>O.key==="Enter"&&w(),autoFocus:!0}),p.jsx(_t,{size:"small",variant:"primary",onClick:w,children:"Save"}),p.jsx(_t,{size:"small",onClick:()=>v(!1),children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Ct.characterNameDisplay,children:a.name}),p.jsx(_t,{size:"small",variant:"ghost",onClick:()=>v(!0),children:"Rename"})]}),p.jsxs("div",{className:Ct.characterTitleDisplay,children:["Level ",a.level,"  ",a.title]}),p.jsxs("div",{className:Ct.xpSection,children:[p.jsx(km,{value:c.current,max:c.needed,label:"Experience",size:"large",shimmer:!0}),p.jsxs("div",{className:Ct.totalXP,children:[a.total_xp," Total XP"]})]})]})}),p.jsx(Yn,{header:"Stats",children:p.jsx("div",{className:Ct.statsGrid,children:H0.map(O=>p.jsxs("div",{className:Ct.statRow,children:[p.jsx("span",{className:Ct.statName,children:O}),p.jsx("div",{className:Ct.statBar,children:p.jsx(km,{value:e[O],max:30,showValue:!1,color:y4[O]||"gold"})}),p.jsx("span",{className:Ct.statValue,children:e[O]})]},O))})})]}),p.jsxs("div",{className:Ct.characterSide,children:[p.jsx(Yn,{header:"Active Effects",children:i.length===0?p.jsx("div",{className:Ct.emptyState,children:"No active buffs or debuffs"}):p.jsx("div",{className:Ct.buffsList,children:i.map(O=>{const $=vf(O.stat_effects),ae=Object.entries($).map(([Y,W])=>`${W>0?"+":""}${W} ${Y}`).join(", ");return p.jsxs("div",{className:`${Ct.activeBuff} ${O.type==="buff"?Ct.buffType:Ct.debuffType}`,children:[p.jsx("span",{className:Ct.buffIcon,children:O.icon}),p.jsxs("div",{className:Ct.buffInfo,children:[p.jsx("div",{className:Ct.buffName,children:O.name}),p.jsxs("div",{className:Ct.buffTimer,children:[x(O.expires_at),ae&&`  ${ae}`]})]})]},O.id)})})}),p.jsx(Yn,{header:"XP History",children:r.length===0?p.jsx("div",{className:Ct.emptyState,children:"No XP earned yet. Complete steps to earn XP!"}):p.jsx("div",{className:Ct.xpLogList,children:r.slice(0,20).map(O=>p.jsxs("div",{className:Ct.xpLogEntry,children:[p.jsx("span",{className:Ct.xpLogReason,children:O.reason}),p.jsxs("span",{className:`${Ct.xpLogAmount} ${O.amount<0?Ct.negative:""}`,children:[O.amount>0?"+":"",O.amount," XP"]})]},O.id))})})]})]})}const v4="_overlay_15bjw_1",E4="_modal_15bjw_25",T4="_modalHeader_15bjw_97",b4="_modalTitle_15bjw_111",S4="_closeButton_15bjw_123",w4="_modalActions_15bjw_153",$o={overlay:v4,modal:E4,modalHeader:T4,modalTitle:b4,closeButton:S4,modalActions:w4};function _f({open:a,onClose:e,title:i,children:r,actions:l}){return ne.useEffect(()=>{if(!a)return;const c=m=>{m.key==="Escape"&&e()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[a,e]),a?p.jsx("div",{className:$o.overlay,onClick:e,children:p.jsxs("div",{className:$o.modal,onClick:c=>c.stopPropagation(),children:[i&&p.jsxs("div",{className:$o.modalHeader,children:[p.jsx("h3",{className:$o.modalTitle,children:i}),p.jsx("button",{className:$o.closeButton,onClick:e,children:""})]}),r,l&&p.jsx("div",{className:$o.modalActions,children:l})]})}):null}const A4="_checkbox_543u2_1",R4="_box_543u2_17",N4="_checked_543u2_53",C4="_checkmark_543u2_63",x4="_checkboxLabel_543u2_75",D4="_hidden_543u2_99",Wo={checkbox:A4,box:R4,checked:N4,checkmark:C4,checkboxLabel:x4,hidden:D4};function bb({checked:a,onChange:e,label:i,className:r}){const l=[Wo.checkbox,a&&Wo.checked,r].filter(Boolean).join(" ");return p.jsxs("label",{className:l,onClick:c=>c.stopPropagation(),children:[p.jsx("input",{type:"checkbox",className:Wo.hidden,checked:a,onChange:c=>e(c.target.checked)}),p.jsx("span",{className:Wo.box,children:a&&p.jsx("span",{className:Wo.checkmark,children:""})}),i&&p.jsx("span",{className:Wo.checkboxLabel,children:i})]})}const I4="_questLog_1dd70_1",O4="_questToolbar_1dd70_13",j4="_questFilters_1dd70_27",M4="_goalSection_1dd70_39",L4="_goalHeader_1dd70_47",k4="_goalDomainIcon_1dd70_61",V4="_goalTitle_1dd70_69",U4="_goalDomain_1dd70_61",q4="_questsList_1dd70_99",B4="_questCard_1dd70_115",P4="_questCardHeader_1dd70_139",z4="_questPriority_1dd70_157",H4="_normal_1dd70_171",F4="_important_1dd70_173",G4="_legendary_1dd70_175",Q4="_questTitle_1dd70_179",X4="_questCompleted_1dd70_191",Y4="_questMeta_1dd70_201",K4="_questStepCount_1dd70_217",$4="_expandIcon_1dd70_233",W4="_expanded_1dd70_245",Z4="_stepsSection_1dd70_255",J4="_stepsList_1dd70_265",e3="_stepItem_1dd70_279",t3="_stepPriorityDot_1dd70_305",n3="_stepTitle_1dd70_319",i3="_stepActions_1dd70_329",a3="_addStepRow_1dd70_347",s3="_addStepInput_1dd70_359",r3="_formGrid_1dd70_369",o3="_formRow_1dd70_381",l3="_emptyState_1dd70_399",St={questLog:I4,questToolbar:O4,questFilters:j4,goalSection:M4,goalHeader:L4,goalDomainIcon:k4,goalTitle:V4,goalDomain:U4,questsList:q4,questCard:B4,questCardHeader:P4,questPriority:z4,normal:H4,important:F4,legendary:G4,questTitle:Q4,questCompleted:X4,questMeta:Y4,questStepCount:K4,expandIcon:$4,expanded:W4,stepsSection:Z4,stepsList:J4,stepItem:e3,stepPriorityDot:t3,stepTitle:n3,stepActions:i3,addStepRow:a3,addStepInput:s3,formGrid:r3,formRow:o3,emptyState:l3};function u3({quest:a,onCreateStep:e,onCompleteStep:i,onUncompleteStep:r,onDeleteStep:l,onDeleteQuest:c}){const[m,v]=ne.useState(!1),[E,g]=ne.useState(""),[w,x]=ne.useState("normal"),O=a.steps.filter(J=>J.status==="completed").length,$=a.steps.length,ae=a.status==="completed",Y=()=>{E.trim()&&(e(a.id,E.trim(),w),g(""),x("normal"))},W=J=>J==="legendary"?"var(--priority-legendary)":J==="important"?"var(--priority-important)":"var(--priority-normal)";return p.jsxs("div",{className:`${St.questCard} ${ae?St.questCompleted:""}`,children:[p.jsxs("div",{className:St.questCardHeader,onClick:()=>v(!m),children:[p.jsx("div",{className:`${St.questPriority} ${St[a.priority]}`}),p.jsx("span",{className:St.questTitle,children:a.title}),p.jsxs("span",{className:St.questMeta,children:[p.jsxs("span",{className:St.questStepCount,children:[O,"/",$]}),p.jsx(_t,{size:"small",variant:"danger",onClick:J=>{J.stopPropagation(),c(a.id)},children:""})]}),p.jsx("span",{className:`${St.expandIcon} ${m?St.expanded:""}`,children:""})]}),m&&p.jsxs("div",{className:St.stepsSection,children:[p.jsx("div",{className:St.stepsList,children:a.steps.map(J=>p.jsxs("div",{className:St.stepItem,children:[p.jsx("div",{className:St.stepPriorityDot,style:{background:W(J.priority)}}),p.jsx(bb,{checked:J.status==="completed",onChange:fe=>{fe?i(J.id,a.id,J.priority):r(J.id)},label:J.title}),p.jsx("div",{className:St.stepActions,children:p.jsx(_t,{size:"small",variant:"danger",onClick:()=>l(J.id),children:""})})]},J.id))}),!ae&&p.jsxs("div",{className:St.addStepRow,children:[p.jsx("div",{className:St.addStepInput,children:p.jsx(Ia,{value:E,onChange:J=>g(J.target.value),placeholder:"Add a step...",onKeyDown:J=>J.key==="Enter"&&Y()})}),p.jsxs(nr,{value:w,onChange:J=>x(J.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important"}),p.jsx("option",{value:"legendary",children:"Legendary"})]}),p.jsx(_t,{variant:"primary",onClick:Y,children:"Add"})]})]})]})}function c3({goals:a,domains:e,filterDomain:i,filterStatus:r,onFilterDomain:l,onFilterStatus:c,onCreateGoal:m,onCreateQuest:v,onCreateStep:E,onCompleteStep:g,onUncompleteStep:w,onDeleteStep:x,onDeleteQuest:O,onDeleteGoal:$}){const[ae,Y]=ne.useState(!1),[W,J]=ne.useState(null),[fe,ge]=ne.useState(""),[me,Ce]=ne.useState(""),[Ie,M]=ne.useState(1),[I,L]=ne.useState(""),[U,j]=ne.useState(""),[D,C]=ne.useState("normal"),_e=()=>{fe.trim()&&(m(Ie,fe.trim(),me.trim()),ge(""),Ce(""),Y(!1))},ut=()=>{!I.trim()||W===null||(v(W,I.trim(),U.trim(),D),L(""),j(""),C("normal"),J(null))};return p.jsxs("div",{className:St.questLog,children:[p.jsxs("div",{className:St.questToolbar,children:[p.jsxs("div",{className:St.questFilters,children:[p.jsxs(nr,{value:i??"",onChange:P=>l(P.target.value?Number(P.target.value):void 0),children:[p.jsx("option",{value:"",children:"All Domains"}),e.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))]}),p.jsxs(nr,{value:r??"",onChange:P=>c(P.target.value||void 0),children:[p.jsx("option",{value:"",children:"All Status"}),p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"completed",children:"Completed"})]})]}),p.jsx(_t,{variant:"primary",onClick:()=>Y(!0),children:"+ New Goal"})]}),a.length===0?p.jsx(Yn,{children:p.jsx("div",{className:St.emptyState,children:"No goals yet. Create your first goal to begin your adventure!"})}):a.map(P=>p.jsx(Yn,{children:p.jsxs("div",{className:St.goalSection,children:[p.jsxs("div",{className:St.goalHeader,children:[p.jsx("span",{className:St.goalDomainIcon,children:P.domain_icon}),p.jsx("span",{className:St.goalTitle,children:P.title}),p.jsx("span",{className:St.goalDomain,children:P.domain_name}),p.jsx(_t,{size:"small",variant:"primary",onClick:()=>J(P.id),children:"+ Quest"}),p.jsx(_t,{size:"small",variant:"danger",onClick:()=>$(P.id),children:""})]}),P.quests.length===0?p.jsx("div",{className:St.emptyState,children:"No quests yet. Add a quest to this goal."}):p.jsx("div",{className:St.questsList,children:P.quests.map(he=>p.jsx(u3,{quest:he,onCreateStep:E,onCompleteStep:g,onUncompleteStep:w,onDeleteStep:x,onDeleteQuest:O},he.id))})]})},P.id)),p.jsx(_f,{open:ae,onClose:()=>Y(!1),title:"New Goal",actions:p.jsxs(p.Fragment,{children:[p.jsx(_t,{onClick:()=>Y(!1),children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:_e,children:"Create Goal"})]}),children:p.jsxs("div",{className:St.formGrid,children:[p.jsx(nr,{label:"Domain",value:Ie,onChange:P=>M(Number(P.target.value)),children:e.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))}),p.jsx(Ia,{label:"Goal Title",value:fe,onChange:P=>ge(P.target.value),placeholder:"e.g., Get in shape",onKeyDown:P=>P.key==="Enter"&&_e()}),p.jsx(yf,{label:"Description (optional)",value:me,onChange:P=>Ce(P.target.value),placeholder:"Describe your goal..."})]})}),p.jsx(_f,{open:W!==null,onClose:()=>J(null),title:"New Quest",actions:p.jsxs(p.Fragment,{children:[p.jsx(_t,{onClick:()=>J(null),children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:ut,children:"Create Quest"})]}),children:p.jsxs("div",{className:St.formGrid,children:[p.jsx(Ia,{label:"Quest Title",value:I,onChange:P=>L(P.target.value),placeholder:"e.g., Run 5K",onKeyDown:P=>P.key==="Enter"&&ut()}),p.jsx(yf,{label:"Description (optional)",value:U,onChange:P=>j(P.target.value),placeholder:"Describe this quest..."}),p.jsxs(nr,{label:"Priority",value:D,onChange:P=>C(P.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important (1.5x XP)"}),p.jsx("option",{value:"legendary",children:"Legendary (2x XP)"})]})]})})]})}const f3="_buffTracker_jem6t_1",h3="_buffToolbar_jem6t_13",d3="_buffGrid_jem6t_33",m3="_buffSection_jem6t_45",p3="_buffCard_jem6t_59",g3="_buffCardIcon_jem6t_89",y3="_buffCardInfo_jem6t_99",_3="_buffCardName_jem6t_107",v3="_buffCardDesc_jem6t_119",E3="_buffCardMeta_jem6t_131",T3="_buffCardActions_jem6t_141",b3="_buffTypeBadge_jem6t_155",S3="_buffTypeBuff_jem6t_175",w3="_buffTypeDebuff_jem6t_187",A3="_activeSection_jem6t_201",R3="_activeBuffItem_jem6t_213",N3="_isBuff_jem6t_229",C3="_isDebuff_jem6t_241",x3="_activeBuffIcon_jem6t_253",D3="_activeBuffInfo_jem6t_261",I3="_activeBuffName_jem6t_269",O3="_activeBuffTimer_jem6t_277",j3="_activeBuffEffects_jem6t_287",M3="_formGrid_jem6t_299",L3="_formRow_jem6t_311",k3="_statEffectRow_jem6t_329",V3="_statEffectLabel_jem6t_341",U3="_statEffectInput_jem6t_355",q3="_divider_jem6t_363",B3="_emptyState_jem6t_375",dt={buffTracker:f3,buffToolbar:h3,buffGrid:d3,buffSection:m3,buffCard:p3,buffCardIcon:g3,buffCardInfo:y3,buffCardName:_3,buffCardDesc:v3,buffCardMeta:E3,buffCardActions:T3,buffTypeBadge:b3,buffTypeBuff:S3,buffTypeDebuff:w3,activeSection:A3,activeBuffItem:R3,isBuff:N3,isDebuff:C3,activeBuffIcon:x3,activeBuffInfo:D3,activeBuffName:I3,activeBuffTimer:O3,activeBuffEffects:j3,formGrid:M3,formRow:L3,statEffectRow:k3,statEffectLabel:V3,statEffectInput:U3,divider:q3,emptyState:B3},hm=[{name:"Morning Exercise",description:"Worked out in the morning",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2,willpower:1}},{name:"Cardio / Running",description:"Ran, cycled, swam, or did sustained cardio",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2}},{name:"Strength Training",description:"Lifted weights or did resistance training",type:"buff",icon:"",duration:24,stats:{stamina:2,health:1,willpower:2}},{name:"Yoga / Stretching",description:"Did yoga, stretching, or mobility work",type:"buff",icon:"",duration:24,stats:{health:2,focus:1,willpower:1}},{name:"8 Hours Sleep",description:"Got a full night of quality sleep",type:"buff",icon:"",duration:24,stats:{health:2,focus:2,stamina:1,willpower:1}},{name:"Meditation",description:"Practiced mindfulness or meditation",type:"buff",icon:"",duration:24,stats:{willpower:3,focus:2}},{name:"Healthy Meal",description:"Ate a balanced, nutritious meal",type:"buff",icon:"",duration:24,stats:{health:3,stamina:1}},{name:"Drank Enough Water",description:"Hit daily water intake goal",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Read 30+ Minutes",description:"Read a book, article, or educational material",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:1}},{name:"Studied / Learned",description:"Studied a course, skill, or new subject",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2}},{name:"Deep Work Session",description:"Focused work with no distractions for 90+ min",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2,stamina:1}},{name:"Journaling",description:"Wrote in journal or reflected on the day",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Cold Shower",description:"Took a cold shower or ice bath",type:"buff",icon:"",duration:24,stats:{willpower:3,stamina:1}},{name:"No Phone First Hour",description:"Avoided phone for first hour after waking",type:"buff",icon:"",duration:24,stats:{focus:2,willpower:2}},{name:"Socialised",description:"Had meaningful social interaction",type:"buff",icon:"",duration:24,stats:{charisma:3,willpower:1}},{name:"Helped Someone",description:"Did something kind or helpful for another person",type:"buff",icon:"",duration:24,stats:{charisma:2,willpower:1}},{name:"Creative Time",description:"Spent time on a creative pursuit",type:"buff",icon:"",duration:24,stats:{focus:2,charisma:1,willpower:1}},{name:"Sunlight / Nature",description:"Spent 20+ minutes outdoors in natural light",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Gratitude Practice",description:"Practiced gratitude  wrote or reflected on 3+",type:"buff",icon:"",duration:24,stats:{willpower:2,charisma:1}},{name:"Meal Prep",description:"Prepared healthy meals in advance",type:"buff",icon:"",duration:48,stats:{health:2,willpower:1,stamina:1}},{name:"Cleaned / Organised",description:"Cleaned home, desk, or organised belongings",type:"buff",icon:"",duration:24,stats:{focus:1,willpower:2}},{name:"Financial Check-In",description:"Reviewed budget, tracked expenses, or saved",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Junk Food",description:"Ate fast food, excessive sugar, or processed food",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-1}},{name:"Skipped Exercise",description:"Had planned to exercise but didn't",type:"debuff",icon:"",duration:24,stats:{stamina:-2,willpower:-2}},{name:"Poor Sleep",description:"Got less than 6 hours or very poor quality",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,stamina:-1,willpower:-1}},{name:"Doomscrolling",description:"Mindlessly scrolled social media for 30+ min",type:"debuff",icon:"",duration:24,stats:{focus:-3,willpower:-2}},{name:"Excessive Gaming",description:"Played video games for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-2,stamina:-1}},{name:"Binge Watching",description:"Watched TV/streaming for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-1,stamina:-1}},{name:"Alcohol",description:"Drank alcohol",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,willpower:-1}},{name:"Smoking / Vaping",description:"Smoked cigarettes or vaped",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-2}},{name:"Excessive Caffeine",description:"Had too much coffee or energy drinks",type:"debuff",icon:"",duration:24,stats:{health:-1,focus:-1,stamina:-1}},{name:"Procrastinated",description:"Avoided important tasks most of the day",type:"debuff",icon:"",duration:24,stats:{willpower:-3,focus:-2}},{name:"Skipped Meals",description:"Skipped a meal or barely ate",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-2,focus:-1}},{name:"Stayed Up Too Late",description:"Went to bed much later than planned",type:"debuff",icon:"",duration:24,stats:{health:-1,willpower:-2,stamina:-1}},{name:"Impulse Spending",description:"Made unnecessary or impulse purchases",type:"debuff",icon:"",duration:24,stats:{willpower:-2}},{name:"Negative Self-Talk",description:"Caught in self-criticism or negative thought loops",type:"debuff",icon:"",duration:24,stats:{willpower:-2,charisma:-2}},{name:"Social Isolation",description:"Avoided people or cancelled social plans",type:"debuff",icon:"",duration:24,stats:{charisma:-3,willpower:-1}},{name:"Sugary Drinks",description:"Had soda, energy drinks, or sugary beverages",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-1}},{name:"Lost Temper",description:"Got angry or had an emotional outburst",type:"debuff",icon:"",duration:24,stats:{charisma:-2,willpower:-2}}],P3=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function z3(a){const e=Math.round(a*60);if(e<60)return`${e}m`;const i=Math.floor(e/60),r=e%60;return r===0?`${i}h`:`${i}h ${r}m`}function H3({definitions:a,activeBuffs:e,onCreateDefinition:i,onDeleteDefinition:r,onActivateBuff:l,onDeactivateBuff:c}){const[m,v]=ne.useState(!1),[E,g]=ne.useState(""),[w,x]=ne.useState(""),[O,$]=ne.useState("buff"),[ae,Y]=ne.useState(""),[W,J]=ne.useState(1440),[fe,ge]=ne.useState({}),me=D=>{if(D==="")return;const C=hm[Number(D)];C&&(g(C.name),x(C.description),$(C.type),Y(C.icon),J(C.duration*60),ge({...C.stats}))},Ce=()=>{g(""),x(""),$("buff"),Y(""),J(1440),ge({})},Ie=()=>{if(!E.trim())return;const D=Object.fromEntries(Object.entries(fe).filter(([,_e])=>_e!==0)),C=W/60;i(E.trim(),w.trim(),O,ae,C,JSON.stringify(D)),Ce(),v(!1)};function M(D){const C=new Date,ut=new Date(D+"Z").getTime()-C.getTime();if(ut<=0)return"Expired";const P=Math.floor(ut/36e5),he=Math.floor(ut%36e5/6e4);return P>0?`${P}h ${he}m`:`${he}m`}const I=a.filter(D=>D.type==="buff"),L=a.filter(D=>D.type==="debuff"),U=hm.map((D,C)=>({...D,index:C})).filter(D=>D.type==="buff"),j=hm.map((D,C)=>({...D,index:C})).filter(D=>D.type==="debuff");return p.jsxs("div",{className:dt.buffTracker,children:[p.jsxs("div",{className:dt.buffToolbar,children:[p.jsx("div",{}),p.jsx(_t,{variant:"primary",onClick:()=>{Ce(),v(!0)},children:"+ New Buff/Debuff"})]}),e.length>0&&p.jsx(Yn,{header:"Active Effects",glow:!0,children:p.jsx("div",{className:dt.activeSection,children:e.map(D=>{const C=vf(D.stat_effects),_e=Object.entries(C).map(([ut,P])=>`${P>0?"+":""}${P} ${ut}`).join(", ");return p.jsxs("div",{className:`${dt.activeBuffItem} ${D.type==="buff"?dt.isBuff:dt.isDebuff}`,children:[p.jsx("span",{className:dt.activeBuffIcon,children:D.icon}),p.jsxs("div",{className:dt.activeBuffInfo,children:[p.jsx("div",{className:dt.activeBuffName,children:D.name}),p.jsxs("div",{className:dt.activeBuffTimer,children:[M(D.expires_at)," remaining"]}),_e&&p.jsx("div",{className:dt.activeBuffEffects,children:_e})]}),p.jsx(_t,{size:"small",variant:"danger",onClick:()=>c(D.id),children:"Remove"})]},D.id)})})}),p.jsxs("div",{className:dt.buffGrid,children:[p.jsx(Yn,{header:"Buffs (Positive Habits)",children:I.length===0?p.jsx("div",{className:dt.emptyState,children:"No buffs defined yet"}):p.jsx("div",{className:dt.buffSection,children:I.map(D=>p.jsx(U0,{definition:D,onActivate:l,onDelete:r},D.id))})}),p.jsx(Yn,{header:"Debuffs (Negative Habits)",children:L.length===0?p.jsx("div",{className:dt.emptyState,children:"No debuffs defined yet"}):p.jsx("div",{className:dt.buffSection,children:L.map(D=>p.jsx(U0,{definition:D,onActivate:l,onDelete:r},D.id))})})]}),p.jsx(_f,{open:m,onClose:()=>v(!1),title:"New Buff / Debuff",actions:p.jsxs(p.Fragment,{children:[p.jsx(_t,{onClick:()=>v(!1),children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:Ie,children:"Create"})]}),children:p.jsxs("div",{className:dt.formGrid,children:[p.jsxs(nr,{label:"Quick Select  Common Habits",value:"",onChange:D=>me(D.target.value),children:[p.jsx("option",{value:"",children:" Choose a preset to auto-fill "}),p.jsx("optgroup",{label:"Buffs (Positive Habits)",children:U.map(D=>p.jsxs("option",{value:D.index,children:[D.icon," ",D.name]},D.index))}),p.jsx("optgroup",{label:"Debuffs (Negative Habits)",children:j.map(D=>p.jsxs("option",{value:D.index,children:[D.icon," ",D.name]},D.index))})]}),p.jsx("div",{className:dt.divider}),p.jsxs("div",{className:dt.formRow,children:[p.jsx(Ia,{label:"Name",value:E,onChange:D=>g(D.target.value),placeholder:"e.g., Morning Exercise"}),p.jsxs(nr,{label:"Type",value:O,onChange:D=>$(D.target.value),children:[p.jsx("option",{value:"buff",children:"Buff (Positive)"}),p.jsx("option",{value:"debuff",children:"Debuff (Negative)"})]})]}),p.jsx(yf,{label:"Description",value:w,onChange:D=>x(D.target.value),placeholder:"Describe this habit..."}),p.jsxs("div",{className:dt.formRow,children:[p.jsx(nr,{label:"Icon",value:ae,onChange:D=>Y(D.target.value),children:P3.map(D=>p.jsx("option",{value:D,children:D},D))}),p.jsx(Ia,{label:"Duration (minutes)",type:"number",value:W,onChange:D=>J(Number(D.target.value)),min:1,max:10080})]}),p.jsxs("div",{children:[p.jsx("label",{className:dt.statEffectLabel,style:{display:"block",marginBottom:8,fontFamily:"var(--font-heading)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"var(--text-secondary)"},children:"Stat Effects"}),H0.map(D=>p.jsxs("div",{className:dt.statEffectRow,children:[p.jsx("span",{className:dt.statEffectLabel,children:D}),p.jsx("input",{type:"number",className:dt.statEffectInput,value:fe[D]||0,onChange:C=>ge({...fe,[D]:Number(C.target.value)}),style:{padding:"4px 8px",background:"var(--bg-dark)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",fontFamily:"var(--font-body)"}})]},D))]})]})})]})}function U0({definition:a,onActivate:e,onDelete:i}){const r=vf(a.stat_effects),l=Object.entries(r).map(([c,m])=>`${m>0?"+":""}${m} ${c}`).join(", ");return p.jsxs("div",{className:dt.buffCard,children:[p.jsx("span",{className:dt.buffCardIcon,children:a.icon}),p.jsxs("div",{className:dt.buffCardInfo,children:[p.jsx("div",{className:dt.buffCardName,children:a.name}),a.description&&p.jsx("div",{className:dt.buffCardDesc,children:a.description}),p.jsxs("div",{className:dt.buffCardMeta,children:[p.jsx("span",{className:`${dt.buffTypeBadge} ${a.type==="buff"?dt.buffTypeBuff:dt.buffTypeDebuff}`,children:a.type})," ",z3(a.duration_hours),l&&`  ${l}`]})]}),p.jsxs("div",{className:dt.buffCardActions,children:[p.jsx(_t,{size:"small",variant:"primary",onClick:()=>e(a.id),children:"Activate"}),p.jsx(_t,{size:"small",variant:"danger",onClick:()=>i(a.id),children:"Delete"})]})]})}const Sb=[{value:null,label:"No reminder"},{value:0,label:"At event time"},{value:5,label:"5 minutes before"},{value:10,label:"10 minutes before"},{value:15,label:"15 minutes before"},{value:30,label:"30 minutes before"},{value:60,label:"1 hour before"}],F3="_settingsPanel_9ahue_1",G3="_settingsTitle_9ahue_9",Q3="_settingsDescription_9ahue_23",X3="_settingRow_9ahue_35",Y3="_settingLabel_9ahue_59",K3="_iosInstructions_9ahue_71",$3="_iosTitle_9ahue_87",W3="_iosText_9ahue_99",Z3="_iosList_9ahue_111",J3="_deniedMessage_9ahue_135",e6="_errorMessage_9ahue_137",t6="_statusIndicator_9ahue_169",n6="_statusDot_9ahue_187",i6="_reminderPicker_9ahue_223",a6="_reminderLabel_9ahue_235",s6="_reminderSelect_9ahue_251",Ft={settingsPanel:F3,settingsTitle:G3,settingsDescription:Q3,settingRow:X3,settingLabel:Y3,iosInstructions:K3,iosTitle:$3,iosText:W3,iosList:Z3,deniedMessage:J3,errorMessage:e6,statusIndicator:t6,statusDot:n6,reminderPicker:i6,reminderLabel:a6,reminderSelect:s6};function r6({value:a,onChange:e,disabled:i}){return p.jsxs("div",{className:Ft.reminderPicker,children:[p.jsx("label",{className:Ft.reminderLabel,children:"Reminder"}),p.jsx("select",{className:Ft.reminderSelect,value:a===null?"null":a.toString(),onChange:r=>{const l=r.target.value;e(l==="null"?null:Number(l))},disabled:i,children:Sb.map(r=>p.jsx("option",{value:r.value===null?"null":r.value,children:r.label},r.value===null?"null":r.value))})]})}const o6="_planner_17b5r_1",l6="_plannerToolbar_17b5r_13",u6="_viewTabs_17b5r_25",c6="_viewTab_17b5r_25",f6="_viewTabActive_17b5r_81",h6="_dateNav_17b5r_91",d6="_dateLabel_17b5r_107",m6="_navArrow_17b5r_123",p6="_dayView_17b5r_157",g6="_timeSlot_17b5r_169",y6="_timeLabel_17b5r_185",_6="_timeEvents_17b5r_205",v6="_weekGrid_17b5r_221",E6="_weekDay_17b5r_233",T6="_weekDayHeader_17b5r_245",b6="_weekDayHeaderToday_17b5r_267",S6="_weekDayDate_17b5r_277",w6="_weekDayEvents_17b5r_291",A6="_monthGrid_17b5r_307",R6="_monthDayHeader_17b5r_319",N6="_monthDay_17b5r_319",C6="_monthDayEmpty_17b5r_367",x6="_monthDayToday_17b5r_387",D6="_monthDayNumber_17b5r_395",I6="_monthDayEvents_17b5r_419",O6="_eventItem_17b5r_433",j6="_eventItemCompleted_17b5r_465",M6="_eventTitle_17b5r_475",L6="_eventTime_17b5r_489",k6="_eventLinked_17b5r_501",V6="_eventItemSmall_17b5r_511",U6="_eventActions_17b5r_523",q6="_formGrid_17b5r_547",B6="_formRow_17b5r_559",P6="_emptyState_17b5r_577",z6="_unscheduledSection_17b5r_691",H6="_unscheduledLabel_17b5r_703",Ge={planner:o6,plannerToolbar:l6,viewTabs:u6,viewTab:c6,viewTabActive:f6,dateNav:h6,dateLabel:d6,navArrow:m6,dayView:p6,timeSlot:g6,timeLabel:y6,timeEvents:_6,weekGrid:v6,weekDay:E6,weekDayHeader:T6,weekDayHeaderToday:b6,weekDayDate:S6,weekDayEvents:w6,monthGrid:A6,monthDayHeader:R6,monthDay:N6,monthDayEmpty:C6,monthDayToday:x6,monthDayNumber:D6,monthDayEvents:I6,eventItem:O6,eventItemCompleted:j6,eventTitle:M6,eventTime:L6,eventLinked:k6,eventItemSmall:V6,eventActions:U6,formGrid:q6,formRow:B6,emptyState:P6,unscheduledSection:z6,unscheduledLabel:H6},wb=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],F6=Array.from({length:16},(a,e)=>e+6);function G6({view:a,setView:e,currentDate:i,events:r,onNavigate:l,onGoToToday:c,onCreate:m,onComplete:v,onUncomplete:E,onDelete:g,notificationsEnabled:w=!1,defaultReminderMinutes:x=15}){const[O,$]=ne.useState(!1),[ae,Y]=ne.useState(i),[W,J]=ne.useState(""),[fe,ge]=ne.useState(""),[me,Ce]=ne.useState(""),[Ie,M]=ne.useState(""),[I,L]=ne.useState(w?x:null),U=()=>{W.trim()&&(m(W.trim(),ae,fe.trim(),me||null,Ie||null,null,null,me?I:null),J(""),ge(""),Ce(""),M(""),L(w?x:null),$(!1))},j=_e=>{Y(_e),$(!0)},D=new Date(i+"T00:00:00");let C="";if(a==="day")C=Qd(i);else if(a==="week"){const _e=Hm(i);C=`${Qd(_e[0])}  ${Qd(_e[6])}`}else C=`${dw(D.getMonth())} ${D.getFullYear()}`;return p.jsxs("div",{className:Ge.planner,children:[p.jsxs("div",{className:Ge.plannerToolbar,children:[p.jsx("div",{className:Ge.viewTabs,children:["day","week","month"].map(_e=>p.jsx("button",{className:`${Ge.viewTab} ${a===_e?Ge.viewTabActive:""}`,onClick:()=>e(_e),children:_e},_e))}),p.jsxs("div",{className:Ge.dateNav,children:[p.jsx("button",{className:Ge.navArrow,onClick:()=>l(-1),children:""}),p.jsx("span",{className:Ge.dateLabel,children:C}),p.jsx("button",{className:Ge.navArrow,onClick:()=>l(1),children:""})]}),p.jsx(_t,{size:"small",variant:"ghost",onClick:c,children:"Today"}),p.jsx(_t,{variant:"primary",onClick:()=>j(i),children:"+ Event"})]}),p.jsxs(Yn,{children:[a==="day"&&p.jsx(Q6,{date:i,events:r,onComplete:v,onUncomplete:E,onDelete:g}),a==="week"&&p.jsx(X6,{currentDate:i,events:r,onComplete:v,onUncomplete:E,onDelete:g,onAddEvent:j}),a==="month"&&p.jsx(Y6,{currentDate:i,events:r,onAddEvent:j})]}),p.jsx(_f,{open:O,onClose:()=>$(!1),title:"New Event",actions:p.jsxs(p.Fragment,{children:[p.jsx(_t,{onClick:()=>$(!1),children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:U,children:"Create"})]}),children:p.jsxs("div",{className:Ge.formGrid,children:[p.jsx(Ia,{label:"Title",value:W,onChange:_e=>J(_e.target.value),placeholder:"Event title...",onKeyDown:_e=>_e.key==="Enter"&&U()}),p.jsx(Ia,{label:"Date",type:"date",value:ae,onChange:_e=>Y(_e.target.value)}),p.jsxs("div",{className:Ge.formRow,children:[p.jsx(Ia,{label:"Start Time",type:"time",value:me,onChange:_e=>Ce(_e.target.value)}),p.jsx(Ia,{label:"End Time",type:"time",value:Ie,onChange:_e=>M(_e.target.value)})]}),p.jsx(yf,{label:"Description (optional)",value:fe,onChange:_e=>ge(_e.target.value),placeholder:"Event details..."}),me&&w&&p.jsx(r6,{value:I,onChange:L})]})})]})}function Q6({date:a,events:e,onComplete:i,onUncomplete:r,onDelete:l}){const c=e.filter(E=>E.start_time),m=e.filter(E=>!E.start_time),v=E=>c.filter(g=>g.start_time?parseInt(g.start_time.split(":")[0],10)===E:!1);return p.jsxs("div",{className:Ge.dayView,children:[F6.map(E=>{const g=v(E);return p.jsxs("div",{className:Ge.timeSlot,children:[p.jsxs("span",{className:Ge.timeLabel,children:[E%12||12," ",E<12?"AM":"PM"]}),p.jsx("div",{className:Ge.timeEvents,children:g.map(w=>p.jsx(Vm,{event:w,onComplete:i,onUncomplete:r,onDelete:l},w.id))})]},E)}),m.length>0&&p.jsxs("div",{className:Ge.unscheduledSection,children:[p.jsx("div",{className:Ge.unscheduledLabel,children:"Unscheduled"}),m.map(E=>p.jsx(Vm,{event:E,onComplete:i,onUncomplete:r,onDelete:l},E.id))]}),e.length===0&&p.jsx("div",{className:Ge.emptyState,children:"No events for this day"})]})}function X6({currentDate:a,events:e,onComplete:i,onUncomplete:r,onDelete:l,onAddEvent:c}){const m=Hm(a),v=Jc();return p.jsx("div",{className:Ge.weekGrid,children:m.map((E,g)=>{const w=e.filter($=>$.date===E),x=E===v,O=new Date(E+"T00:00:00").getDate();return p.jsxs("div",{className:Ge.weekDay,children:[p.jsxs("div",{className:`${Ge.weekDayHeader} ${x?Ge.weekDayHeaderToday:""}`,children:[wb[g],p.jsx("span",{className:Ge.weekDayDate,children:O})]}),p.jsxs("div",{className:Ge.weekDayEvents,children:[w.map($=>p.jsx(Vm,{event:$,small:!0,onComplete:i,onUncomplete:r,onDelete:l},$.id)),p.jsx(_t,{size:"small",variant:"ghost",onClick:()=>c(E),style:{fontSize:"0.7rem",padding:"2px 6px"},children:"+"})]})]},E)})})}function Y6({currentDate:a,events:e,onAddEvent:i}){const r=new Date(a+"T00:00:00"),l=hw(r.getFullYear(),r.getMonth()),c=Jc();return p.jsx("div",{children:p.jsxs("div",{className:Ge.monthGrid,children:[wb.map(m=>p.jsx("div",{className:Ge.monthDayHeader,children:m},m)),l.flat().map((m,v)=>{if(!m)return p.jsx("div",{className:`${Ge.monthDay} ${Ge.monthDayEmpty}`},`empty-${v}`);const E=e.filter(x=>x.date===m),g=m===c,w=new Date(m+"T00:00:00").getDate();return p.jsxs("div",{className:`${Ge.monthDay} ${g?Ge.monthDayToday:""}`,onClick:()=>i(m),children:[p.jsx("div",{className:Ge.monthDayNumber,children:w}),p.jsxs("div",{className:Ge.monthDayEvents,children:[E.slice(0,3).map(x=>p.jsx("div",{className:`${Ge.eventItem} ${Ge.eventItemSmall} ${x.is_completed?Ge.eventItemCompleted:""}`,children:p.jsx("span",{className:Ge.eventTitle,children:x.title})},x.id)),E.length>3&&p.jsxs("div",{className:Ge.emptyState,style:{padding:"2px",fontSize:"0.7rem"},children:["+",E.length-3," more"]})]})]},m)})]})})}function Vm({event:a,small:e,onComplete:i,onUncomplete:r,onDelete:l}){return p.jsxs("div",{className:`${Ge.eventItem} ${e?Ge.eventItemSmall:""} ${a.is_completed?Ge.eventItemCompleted:""}`,children:[p.jsx(bb,{checked:a.is_completed,onChange:c=>c?i(a.id):r(a.id)}),p.jsx("span",{className:Ge.eventTitle,children:a.title}),a.start_time&&!e&&p.jsxs("span",{className:Ge.eventTime,children:[mv(a.start_time),a.end_time&&` - ${mv(a.end_time)}`]}),(a.quest_id||a.step_id)&&p.jsx("span",{className:Ge.eventLinked,children:""}),!e&&p.jsx("div",{className:Ge.eventActions,children:p.jsx(_t,{size:"small",variant:"danger",onClick:()=>l(a.id),children:""})})]})}const K6="_container_e9q7r_1",$6="_title_e9q7r_17",W6="_status_e9q7r_33",Z6="_indicator_e9q7r_49",J6="_connected_e9q7r_61",eO="_disconnected_e9q7r_71",tO="_lastBackup_e9q7r_79",nO="_statusMessage_e9q7r_91",iO="_actions_e9q7r_121",aO="_button_e9q7r_135",sO="_buttonSecondary_e9q7r_167 _button_e9q7r_135",rO="_buttonDanger_e9q7r_187 _button_e9q7r_135",oO="_backupList_e9q7r_209",lO="_backupItem_e9q7r_233",uO="_backupName_e9q7r_255",cO="_backupDate_e9q7r_269",fO="_restoreButton_e9q7r_279",hO="_noBackups_e9q7r_307",dO="_tokenInputContainer_e9q7r_321",mO="_tokenHelp_e9q7r_329",pO="_tokenInput_e9q7r_321",gO="_tokenActions_e9q7r_393",Tt={container:K6,title:$6,status:W6,indicator:Z6,connected:J6,disconnected:eO,lastBackup:tO,statusMessage:nO,actions:iO,button:aO,buttonSecondary:sO,buttonDanger:rO,backupList:oO,backupItem:lO,backupName:uO,backupDate:cO,restoreButton:fO,noBackups:hO,tokenInputContainer:dO,tokenHelp:mO,tokenInput:pO,tokenActions:gO};function yO(){const[a,e]=ne.useState(!1),[i,r]=ne.useState(!0),[l,c]=ne.useState(null),[m,v]=ne.useState(""),[E,g]=ne.useState([]),[w,x]=ne.useState(!1),[O,$]=ne.useState(""),[ae,Y]=ne.useState(!1),[W,J]=ne.useState(!1),[fe,ge]=ne.useState(""),me=ne.useCallback(()=>{e(Y0()),c(K0())},[]);ne.useEffect(()=>{me(),r(!1)},[me]);const Ce=async()=>{if(!O.trim()){v("Please enter a GitHub token");return}v("Verifying token..."),await ww(O.trim())?(yw(O.trim()),e(!0),Y(!1),$(""),v("Connected to GitHub!")):v("Invalid token. Please check and try again.")},Ie=()=>{_w(),e(!1),c(null),v("Disconnected"),g([])},M=async()=>{v("Backing up...");try{const D=await qm(),C=await W0(D);C.success?(v(`Backup saved: ${C.fileName}`),c(new Date),await J0(7)):v(`Backup failed: ${C.error}`)}catch(D){v(`Backup failed: ${D instanceof Error?D.message:"Unknown error"}`)}},I=async()=>{if(x(!w),!w){v("Loading backups...");const D=await Z0();g(D),v("")}},L=()=>{const D=fe.trim();if(!D){v("Please enter a gist ID");return}const C=D.match(/([a-f0-9]{32})/i);C?(localStorage.setItem("github_gist_id",C[1]),v('Gist ID set! Click "Restore from Backup" to see backups.'),J(!1),ge("")):v("Invalid gist ID. Paste the gist URL or ID.")},U=async D=>{if(confirm(`Restore from "${D}"? This will replace all current data.`)){v("Restoring...");try{const C=await Sw(D);C?(await z0(C),v("Restored successfully! Refreshing..."),setTimeout(()=>window.location.reload(),1500)):v("Failed to download backup")}catch(C){v(`Restore failed: ${C instanceof Error?C.message:"Unknown error"}`)}}},j=D=>{const C=D.match(/backup-(\d{4})-(\d{2})-(\d{2})T(\d{2})-(\d{2})/);if(C){const[,_e,ut,P,he,xe]=C;return`${_e}-${ut}-${P} ${he}:${xe}`}return D};return i?p.jsx("div",{className:Tt.container,children:"Loading..."}):p.jsxs("div",{className:Tt.container,children:[p.jsx("h3",{className:Tt.title,children:"Cloud Backup (GitHub)"}),p.jsxs("div",{className:Tt.status,children:[p.jsx("span",{className:`${Tt.indicator} ${a?Tt.connected:Tt.disconnected}`}),p.jsx("span",{children:a?"Connected to GitHub":"Not connected"})]}),l&&p.jsxs("p",{className:Tt.lastBackup,children:["Last backup: ",l.toLocaleString()]}),m&&p.jsx("p",{className:Tt.statusMessage,children:m}),p.jsx("div",{className:Tt.actions,children:a?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:M,className:Tt.button,children:"Backup Now"}),p.jsx("button",{onClick:I,className:Tt.buttonSecondary,children:w?"Hide Backups":"Restore from Backup"}),p.jsx("button",{onClick:()=>J(!W),className:Tt.buttonSecondary,children:W?"Cancel":"Link Existing Gist"}),p.jsx("button",{onClick:Ie,className:Tt.buttonDanger,children:"Disconnect"}),W&&p.jsxs("div",{className:Tt.tokenInputContainer,children:[p.jsx("p",{className:Tt.tokenHelp,children:"Paste your gist URL or ID to restore from an existing backup:"}),p.jsx("input",{type:"text",value:fe,onChange:D=>ge(D.target.value),placeholder:"https://gist.github.com/user/abc123... or just abc123...",className:Tt.tokenInput}),p.jsx("button",{onClick:L,className:Tt.button,children:"Link Gist"})]})]}):p.jsx(p.Fragment,{children:ae?p.jsxs("div",{className:Tt.tokenInputContainer,children:[p.jsxs("p",{className:Tt.tokenHelp,children:["Create a token at ",p.jsx("a",{href:"https://github.com/settings/tokens/new?description=Goal%20Game%20Backup&scopes=gist",target:"_blank",rel:"noopener noreferrer",children:"GitHub Settings"})," with ",p.jsx("strong",{children:"gist"})," scope."]}),p.jsx("input",{type:"password",value:O,onChange:D=>$(D.target.value),placeholder:"Paste your GitHub token",className:Tt.tokenInput}),p.jsxs("div",{className:Tt.tokenActions,children:[p.jsx("button",{onClick:Ce,className:Tt.button,children:"Save Token"}),p.jsx("button",{onClick:()=>{Y(!1),$("")},className:Tt.buttonSecondary,children:"Cancel"})]})]}):p.jsx("button",{onClick:()=>Y(!0),className:Tt.button,children:"Connect GitHub"})})}),w&&E.length>0&&p.jsxs("div",{className:Tt.backupList,children:[p.jsx("h4",{children:"Available Backups (Last 7 kept)"}),E.map(D=>p.jsxs("div",{className:Tt.backupItem,children:[p.jsx("span",{className:Tt.backupName,children:j(D.fileName)}),p.jsxs("span",{className:Tt.backupDate,children:[Math.round(D.size/1024)," KB"]}),p.jsx("button",{onClick:()=>U(D.fileName),className:Tt.restoreButton,children:"Restore"})]},D.fileName))]}),w&&E.length===0&&p.jsx("p",{className:Tt.noBackups,children:"No backups found"})]})}function _O(){const{settings:a,permissionState:e,isSupported:i,isConfigured:r,canEnable:l,isIOS:c,isStandalone:m,loading:v,error:E,enableNotifications:g,disableNotificationsHandler:w,setDefaultReminderMinutes:x}=vb();return r?i?p.jsxs(Yn,{className:Ft.settingsPanel,children:[p.jsx("h3",{className:Ft.settingsTitle,children:"Push Notifications"}),c&&!m&&p.jsxs("div",{className:Ft.iosInstructions,children:[p.jsx("p",{className:Ft.iosTitle,children:"iOS Setup Required"}),p.jsx("p",{className:Ft.iosText,children:"To receive push notifications on iOS, you need to add this app to your home screen first:"}),p.jsxs("ol",{className:Ft.iosList,children:[p.jsx("li",{children:"Tap the Share button in Safari"}),p.jsx("li",{children:'Select "Add to Home Screen"'}),p.jsx("li",{children:"Open the app from your home screen"}),p.jsx("li",{children:"Then enable notifications here"})]})]}),e==="denied"&&p.jsx("div",{className:Ft.deniedMessage,children:p.jsx("p",{children:"Notifications are blocked. Please enable them in your browser settings."})}),E&&p.jsx("div",{className:Ft.errorMessage,children:p.jsx("p",{children:E})}),p.jsxs("div",{className:Ft.settingRow,children:[p.jsx("span",{className:Ft.settingLabel,children:"Event Reminders"}),a.enabled?p.jsx(_t,{variant:"danger",size:"small",onClick:w,disabled:v,children:v?"Disabling...":"Disable"}):p.jsx(_t,{variant:"primary",size:"small",onClick:g,disabled:v||!l||e==="denied",children:v?"Enabling...":"Enable"})]}),a.enabled&&p.jsxs("div",{className:Ft.settingRow,children:[p.jsx("span",{className:Ft.settingLabel,children:"Default Reminder"}),p.jsx("select",{className:Ft.reminderSelect,value:a.defaultReminderMinutes,onChange:O=>x(Number(O.target.value)),children:Sb.filter(O=>O.value!==null).map(O=>p.jsx("option",{value:O.value,children:O.label},O.value))})]}),a.enabled&&p.jsxs("div",{className:Ft.statusIndicator,children:[p.jsx("span",{className:Ft.statusDot}),"Notifications enabled"]})]}):p.jsxs(Yn,{className:Ft.settingsPanel,children:[p.jsx("h3",{className:Ft.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:Ft.settingsDescription,children:"Push notifications are not supported in this browser."})]}):p.jsxs(Yn,{className:Ft.settingsPanel,children:[p.jsx("h3",{className:Ft.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:Ft.settingsDescription,children:"Push notifications are not configured. To enable them, add your Firebase configuration to the .env file."})]})}const vO="_dailyQuestsPanel_rygmp_1",EO="_questsHeader_rygmp_9",TO="_questsTitle_rygmp_23",bO="_questsIcon_rygmp_35",SO="_questsProgress_rygmp_43",wO="_questsList_rygmp_55",AO="_questItem_rygmp_67",RO="_completed_rygmp_89",NO="_questItemHeader_rygmp_99",CO="_questCheckbox_rygmp_111",xO="_questInfo_rygmp_149",DO="_questTitleRow_rygmp_159",IO="_questName_rygmp_173",OO="_questXp_rygmp_193",jO="_questDescription_rygmp_223",MO="_progressContainer_rygmp_235",LO="_progressBar_rygmp_247",kO="_progressFill_rygmp_263",VO="_progressText_rygmp_285",UO="_bonusSection_rygmp_303",qO="_available_rygmp_321",BO="_claimed_rygmp_329",PO="_bonusTitle_rygmp_349",zO="_bonusDescription_rygmp_371",HO="_bonusXp_rygmp_383",FO="_claimButton_rygmp_403",GO="_loading_rygmp_413",QO="_emptyState_rygmp_429",st={dailyQuestsPanel:vO,questsHeader:EO,questsTitle:TO,questsIcon:bO,questsProgress:SO,questsList:wO,questItem:AO,completed:RO,questItemHeader:NO,questCheckbox:CO,questInfo:xO,questTitleRow:DO,questName:IO,questXp:OO,questDescription:jO,progressContainer:MO,progressBar:LO,progressFill:kO,progressText:VO,bonusSection:UO,available:qO,claimed:BO,bonusTitle:PO,bonusDescription:zO,bonusXp:HO,claimButton:FO,loading:GO,emptyState:QO};function XO({quests:a,loading:e,allCompleted:i,completedCount:r,bonusClaimed:l,bonusXp:c,onClaimBonus:m}){return e?p.jsx(Yn,{className:st.dailyQuestsPanel,header:p.jsx("div",{className:st.questsHeader,children:p.jsxs("div",{className:st.questsTitle,children:[p.jsx("span",{className:st.questsIcon,children:""}),p.jsx("span",{children:"Daily Quests"})]})}),children:p.jsx("div",{className:st.loading,children:"Loading daily quests..."})}):a.length===0?p.jsx(Yn,{className:st.dailyQuestsPanel,header:p.jsx("div",{className:st.questsHeader,children:p.jsxs("div",{className:st.questsTitle,children:[p.jsx("span",{className:st.questsIcon,children:""}),p.jsx("span",{children:"Daily Quests"})]})}),children:p.jsx("div",{className:st.emptyState,children:"No daily quests available"})}):p.jsxs(Yn,{className:st.dailyQuestsPanel,glow:i&&!l,header:p.jsxs("div",{className:st.questsHeader,children:[p.jsxs("div",{className:st.questsTitle,children:[p.jsx("span",{className:st.questsIcon,children:""}),p.jsx("span",{children:"Daily Quests"})]}),p.jsxs("span",{className:st.questsProgress,children:[r,"/",a.length," Complete"]})]}),children:[p.jsx("div",{className:st.questsList,children:a.map(v=>p.jsx(YO,{quest:v},v.id))}),p.jsxs("div",{className:`${st.bonusSection} ${i&&!l?st.available:l?st.claimed:""}`,children:[p.jsx("div",{className:st.bonusTitle,children:l?"Bonus Claimed!":"Complete All Quests"}),p.jsx("div",{className:st.bonusDescription,children:l?"Great work! See you tomorrow.":"Finish all 3 quests to earn a bonus"}),p.jsxs("div",{className:st.bonusXp,children:["+",c," XP"]}),i&&!l&&p.jsx(_t,{className:st.claimButton,size:"small",onClick:m,children:"Claim Bonus"})]})]})}function YO({quest:a}){const e=Math.min(a.current_value/a.target_value*100,100);return p.jsxs("div",{className:`${st.questItem} ${a.is_completed?st.completed:""}`,children:[p.jsxs("div",{className:st.questItemHeader,children:[p.jsx("div",{className:st.questCheckbox,children:a.is_completed&&p.jsx("span",{children:""})}),p.jsxs("div",{className:st.questInfo,children:[p.jsxs("div",{className:st.questTitleRow,children:[p.jsx("span",{className:st.questName,children:a.title}),p.jsxs("span",{className:st.questXp,children:["+",a.xp_reward," XP"]})]}),p.jsx("div",{className:st.questDescription,children:a.description})]})]}),p.jsxs("div",{className:st.progressContainer,children:[p.jsx("div",{className:st.progressBar,children:p.jsx("div",{className:st.progressFill,style:{width:`${e}%`}})}),p.jsxs("span",{className:st.progressText,children:[a.current_value,"/",a.target_value]})]})]})}const KO="_guideButton_1u1py_1",$O="_guideOverlay_1u1py_71",WO="_guideContainer_1u1py_95",ZO="_guideHeader_1u1py_159",JO="_guideTitle_1u1py_177",ej="_closeButton_1u1py_191",tj="_guideContent_1u1py_229",nj="_table_1u1py_335",ij="_tocList_1u1py_393",aj="_tocItem_1u1py_411",ri={guideButton:KO,guideOverlay:$O,guideContainer:WO,guideHeader:ZO,guideTitle:JO,closeButton:ej,guideContent:tj,table:nj,tocList:ij,tocItem:aj};function sj(){const[a,e]=ne.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:ri.guideButton,onClick:()=>e(!0),title:"Open Guide",children:"?"}),a&&p.jsx(rj,{onClose:()=>e(!1)})]})}function rj({onClose:a}){const e=ne.useRef(null);ne.useEffect(()=>{const r=l=>{l.key==="Escape"&&a()};return window.addEventListener("keydown",r),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",r),document.body.style.overflow=""}},[a]);const i=r=>{e.current?.querySelector(`#${r}`)?.scrollIntoView({behavior:"smooth"})};return p.jsx("div",{className:ri.guideOverlay,onClick:a,children:p.jsxs("div",{className:ri.guideContainer,onClick:r=>r.stopPropagation(),ref:e,children:[p.jsxs("div",{className:ri.guideHeader,children:[p.jsx("span",{className:ri.guideTitle,children:"Adventurer's Guide"}),p.jsx("button",{className:ri.closeButton,onClick:a,children:"Close"})]}),p.jsx("ul",{className:ri.tocList,children:["overview","character","quests","buffs","planner","xp","levels","stats","tips","data"].map(r=>p.jsx("li",{className:ri.tocItem,onClick:()=>i(`guide-${r}`),children:r==="xp"?"XP System":r==="data"?"Save Data":r.charAt(0).toUpperCase()+r.slice(1)},r))}),p.jsxs("div",{className:ri.guideContent,children:[p.jsx("h2",{id:"guide-overview",children:"Overview"}),p.jsxs("p",{children:["Goal Game turns your real-life goals into an RPG adventure. You create ",p.jsx("strong",{children:"Goals"})," (big-picture ambitions), break them into ",p.jsx("strong",{children:"Quests"})," (projects), and then into ",p.jsx("strong",{children:"Steps"})," (individual tasks). Completing steps earns ",p.jsx("strong",{children:"XP"}),", which levels up your character."]}),p.jsxs("p",{children:["Track daily habits as ",p.jsx("strong",{children:"Buffs"})," (positive) and ",p.jsx("strong",{children:"Debuffs"})," (negative) that affect your character's stats. Plan your schedule with the ",p.jsx("strong",{children:"Planner"}),"."]}),p.jsx("h2",{id:"guide-character",children:"Character Screen"}),p.jsx("p",{children:"Your character screen shows your current progress at a glance."}),p.jsx("h3",{children:"What you'll see"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Name"}),`  Tap "Rename" to change your character's name.`]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Level & Title"}),'  Your current level and rank title (e.g., "Novice", "Adept"). Titles change automatically as you level up.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP Bar"}),"  Shows progress toward your next level. The numbers show current XP in this level / XP needed for next level."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Total XP"}),"  Your lifetime XP earned across all activities."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Stats"}),"  Five attributes (Stamina, Willpower, Health, Focus, Charisma) that start at 10 and change based on your active buffs/debuffs."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Active Effects"}),"  Currently active buffs (green pulse) and debuffs (red throb) with time remaining."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP History"}),"  A log of your most recent XP gains showing what you earned and why."]})]}),p.jsx("h2",{id:"guide-quests",children:"Quest Log"}),p.jsx("p",{children:"This is where you organize everything you want to accomplish."}),p.jsx("h3",{children:"Hierarchy"}),p.jsx("p",{children:"Life is organized in three layers:"}),p.jsxs("ol",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Goals"}),'  Big-picture ambitions tied to a life domain. Example: "Get fit" in the Health domain.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Quests"}),'  Specific projects within a goal. Example: "Run a 5K" under "Get fit".']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Steps"}),'  Individual actionable tasks within a quest. Example: "Run 1 mile without stopping" inside "Run a 5K".']})]}),p.jsx("h3",{children:"Domains"}),p.jsx("p",{children:"Every goal belongs to one of eight life domains:"}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Icon"}),p.jsx("th",{children:"Domain"}),p.jsx("th",{children:"Examples"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Fitness, diet, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Career"}),p.jsx("td",{children:"Work projects, promotions, skills"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Learning"}),p.jsx("td",{children:"Courses, reading, certifications"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Social"}),p.jsx("td",{children:"Relationships, networking, community"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Finance"}),p.jsx("td",{children:"Saving, investing, budgeting"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Creative"}),p.jsx("td",{children:"Art, music, writing, hobbies"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Spiritual"}),p.jsx("td",{children:"Meditation, mindfulness, gratitude"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Home"}),p.jsx("td",{children:"Cleaning, organizing, repairs"})]})]})]}),p.jsx("h3",{children:"Priority Levels"}),p.jsx("p",{children:"Quests and steps can have a priority that affects XP rewards:"}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Priority"}),p.jsx("th",{children:"Color"}),p.jsx("th",{children:"Step XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Normal"}),p.jsx("td",{children:"Gray"}),p.jsx("td",{children:"10 XP"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Important"}),p.jsx("td",{children:"Gold"}),p.jsx("td",{children:"15 XP (1.5x)"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Legendary"}),p.jsx("td",{children:"Orange"}),p.jsx("td",{children:"20 XP (2x)"})]})]})]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Goal"}),"  pick a domain, give it a title."]}),p.jsxs("li",{children:["Inside a goal, tap ",p.jsx("strong",{children:"+ Quest"}),"  name the project, choose priority."]}),p.jsx("li",{children:'Tap a quest to expand it, then type steps in the "Add a step" field at the bottom.'}),p.jsx("li",{children:"Check off steps to earn XP. When all steps are done, the quest auto-completes for bonus XP. When all quests in a goal are done, the goal auto-completes for even more bonus XP."})]}),p.jsx("h3",{children:"Filters"}),p.jsx("p",{children:"Use the dropdowns at the top to filter by domain or status (Active / Completed / All)."}),p.jsx("h2",{id:"guide-buffs",children:"Buffs & Debuffs"}),p.jsx("p",{children:"Buffs and debuffs represent daily habits that affect your character."}),p.jsx("h3",{children:"Buffs (Positive Habits)"}),p.jsxs("p",{children:["Things you ",p.jsx("em",{children:"want"})," to do every day. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Morning Exercise  +2 Stamina, +1 Health"}),p.jsx("li",{children:" Meditation  +2 Willpower, +1 Focus"}),p.jsx("li",{children:" 8 Hours Sleep  +1 Health, +1 Focus, +1 Stamina"}),p.jsx("li",{children:" Read 30 Minutes  +2 Focus"})]}),p.jsxs("p",{children:["Activating a buff earns ",p.jsx("strong",{children:"5 XP"})," and applies its stat effects for the duration you set (e.g., 24 hours). After that, the buff expires and you need to activate it again the next day."]}),p.jsx("h3",{children:"Debuffs (Negative Habits)"}),p.jsxs("p",{children:["Things you want to be ",p.jsx("em",{children:"honest about tracking"}),". There is no XP penalty  this is for self-awareness. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Junk Food  -1 Health, -1 Stamina"}),p.jsx("li",{children:" Doomscrolling  -2 Focus, -1 Willpower"}),p.jsx("li",{children:" Alcohol  -1 Health, -1 Focus"})]}),p.jsx("p",{children:"Debuffs still affect your stats while active, shown as red on your character screen."}),p.jsx("h3",{children:"Streaks"}),p.jsxs("p",{children:["Activate the same buff on consecutive days to build a streak. Every ",p.jsx("strong",{children:"7-day streak"})," earns a bonus ",p.jsx("strong",{children:"25 XP"}),"."]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Buff/Debuff"})," to define a habit template."]}),p.jsx("li",{children:"Choose a name, type (buff or debuff), icon, duration in hours, and stat effects (positive numbers for buffs, negative for debuffs)."}),p.jsxs("li",{children:["Once created, it appears in the Buffs or Debuffs column. Tap ",p.jsx("strong",{children:"Activate"})," each day you do the habit."]}),p.jsx("li",{children:"Active effects appear at the top with a countdown timer and are reflected on your Character screen stats."})]}),p.jsx("h3",{children:"Expiry"}),p.jsxs("p",{children:["Buffs and debuffs expire automatically after their duration. The app checks every 60 seconds. You can also manually remove an active effect by tapping ",p.jsx("strong",{children:"Remove"}),"."]}),p.jsx("h2",{id:"guide-planner",children:"Planner"}),p.jsx("p",{children:"A calendar to schedule your time and link events to your quests."}),p.jsx("h3",{children:"Views"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Day"}),"  Shows time slots from 6 AM to 9 PM. Scheduled events appear in their time slot. Unscheduled events appear at the bottom."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Week"}),"  7-column grid (MonSun). Each day shows its events. Tap ",p.jsx("strong",{children:"+"})," on any day to add an event."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Month"}),'  Calendar grid. Tap any day to add an event. Shows up to 3 events per day with a "+X more" indicator.']})]}),p.jsx("h3",{children:"Navigation"}),p.jsxs("p",{children:["Use the ",p.jsx("strong",{children:" "})," arrows to move between days/weeks/months. Tap ",p.jsx("strong",{children:"Today"})," to jump back to the current date."]}),p.jsx("h3",{children:"Events"}),p.jsxs("p",{children:["Tap ",p.jsx("strong",{children:"+ Event"})," to create one. Each event has:"]}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Title"}),"  What you're doing."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Date"}),"  When."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Start/End Time"}),"  Optional. If set, it appears in the correct time slot in Day view."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Description"}),"  Optional notes."]})]}),p.jsxs("p",{children:["Check off events when completed. Linked events (connected to a quest or step) earn ",p.jsx("strong",{children:"10 XP"})," when completed."]}),p.jsx("h2",{id:"guide-xp",children:"XP System"}),p.jsx("p",{children:"Everything you do earns experience points:"}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Action"}),p.jsx("th",{children:"XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a normal step"}),p.jsx("td",{children:"+10"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete an important step"}),p.jsx("td",{children:"+15"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a legendary step"}),p.jsx("td",{children:"+20"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a quest (all steps done)"}),p.jsx("td",{children:"+50 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a goal (all quests done)"}),p.jsx("td",{children:"+200 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Activate a buff (daily habit)"}),p.jsx("td",{children:"+5"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"7-day streak on any buff"}),p.jsx("td",{children:"+25 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a linked planner event"}),p.jsx("td",{children:"+10"})]})]})]}),p.jsx("h2",{id:"guide-levels",children:"Levels & Titles"}),p.jsxs("p",{children:["XP needed per level increases as you grow. The formula is ",p.jsx("code",{children:"50  level^1.8"}),"."]}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Level"}),p.jsx("th",{children:"Title"}),p.jsx("th",{children:"Approx. Timeline"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"14"}),p.jsx("td",{children:"Novice"}),p.jsx("td",{children:"Starting out"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"59"}),p.jsx("td",{children:"Apprentice"}),p.jsx("td",{children:"~12 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1014"}),p.jsx("td",{children:"Journeyman"}),p.jsx("td",{children:"~34 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1521"}),p.jsx("td",{children:"Adept"}),p.jsx("td",{children:"~12 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2229"}),p.jsx("td",{children:"Expert"}),p.jsx("td",{children:"~24 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3039"}),p.jsx("td",{children:"Master"}),p.jsx("td",{children:"~48 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4049"}),p.jsx("td",{children:"Legend"}),p.jsx("td",{children:"~812 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"50+"}),p.jsx("td",{children:"Dragonborn"}),p.jsx("td",{children:"~1 year+"})]})]})]}),p.jsx("p",{children:"When you level up, a golden overlay appears announcing your new level and title."}),p.jsx("h2",{id:"guide-stats",children:"Stats"}),p.jsxs("p",{children:["Your character has five stats, all starting at ",p.jsx("strong",{children:"10"}),":"]}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Stat"}),p.jsx("th",{children:"Represents"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Stamina"}),p.jsx("td",{children:"Physical energy, endurance, exercise habits"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Willpower"}),p.jsx("td",{children:"Discipline, self-control, mental toughness"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Physical wellbeing, nutrition, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Focus"}),p.jsx("td",{children:"Concentration, productivity, mental clarity"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Charisma"}),p.jsx("td",{children:"Social skills, confidence, communication"})]})]})]}),p.jsx("p",{children:"Stats are modified by active buffs and debuffs. They serve as a mirror of your current lifestyle  high Focus means you've been studying and avoiding distractions; low Health means you've been eating junk food or skipping sleep."}),p.jsx("h2",{id:"guide-tips",children:"Tips"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Start small."})," Create one goal with one quest and a few steps. Don't overload yourself on day one."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Be honest with debuffs."})," There's no punishment  tracking negative habits helps you see patterns."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use priorities wisely."}),' Reserve "Legendary" for truly difficult or impactful tasks.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Build streaks."})," The 7-day streak bonus compounds  maintaining 3 daily buffs earns 75 bonus XP per week on top of the daily 5 XP each."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use the planner."})," Scheduling time for quests makes you far more likely to complete them."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Check your character screen daily."})," Your stats tell you how balanced your life is."]})]}),p.jsx("h2",{id:"guide-data",children:"Saving & Data"}),p.jsx("p",{children:"All your data is stored locally on this device in the browser's database. It persists across sessions  closing and reopening the app keeps everything."}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Export Save"}),"  Downloads your entire database as a .db file. Use this for backups."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Import Save"}),"  Loads a previously exported .db file, replacing all current data. Use this to restore a backup or transfer data between devices."]})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Important:"})," Clearing your browser/app data will erase your progress. Export a backup regularly."]}),p.jsx("h3",{children:"Keyboard Shortcuts (Desktop)"}),p.jsxs("table",{className:ri.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Key"}),p.jsx("th",{children:"Action"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"1"}),p.jsx("td",{children:"Character screen"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2"}),p.jsx("td",{children:"Quest Log"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3"}),p.jsx("td",{children:"Buffs"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4"}),p.jsx("td",{children:"Planner"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Esc"}),p.jsx("td",{children:"Close any open modal/popup"})]})]})]})]})]})})}function oj(){const{ready:a,error:e}=AS(),[i,r]=ne.useState("character");return a?p.jsx(lj,{activeTab:i,setActiveTab:r}):p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0f",color:"#c8a84e",fontFamily:"Cinzel, serif",fontSize:"1.2rem"},children:e?`Error: ${e}`:"Loading database..."})}function lj({activeTab:a,setActiveTab:e}){const i=VS(),r=wD({grantXP:i.grantXP}),l=WS({grantXP:i.grantXP,onStepComplete:()=>r.updateProgress("complete_steps",1)}),c=vb(),m=ow({grantXP:i.grantXP,scheduleBuffExpiry:c.scheduleBuffExpiry,cancelBuffExpiry:c.cancelBuffExpiry,onBuffActivated:Y=>{r.updateProgress("activate_buffs",1),new Date().getHours()<8&&r.updateProgress("early_start",1),Y==="buff"&&r.updateProgress("activate_specific",1)}}),v=mw({grantXP:i.grantXP,scheduleEventReminder:c.scheduleEventReminder,cancelEventReminder:c.cancelEventReminder,onEventComplete:()=>r.updateProgress("planner_event",1)}),E=Aw(),[g,w]=ne.useState(!1),[x,O]=ne.useState(!1);ne.useEffect(()=>{i.refresh(),a==="quests"&&l.refresh(),a==="buffs"&&m.refresh(),a==="planner"&&v.refresh()},[a]),ne.useEffect(()=>{l.refresh(),m.refresh(),v.refresh(),r.checkNoDebuffs()},[]),ne.useEffect(()=>{const Y=W=>{W.target instanceof HTMLInputElement||W.target instanceof HTMLTextAreaElement||W.target instanceof HTMLSelectElement||(W.key==="1"&&e("character"),W.key==="2"&&e("quests"),W.key==="3"&&e("buffs"),W.key==="4"&&e("planner"))};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[e]);const $=ne.useCallback(async()=>{const Y=await qm(),W=new Blob([new Uint8Array(Y)],{type:"application/octet-stream"}),J=URL.createObjectURL(W),fe=document.createElement("a");fe.href=J,fe.download=`goal-game-backup-${new Date().toISOString().split("T")[0]}.db`,fe.click(),URL.revokeObjectURL(J)},[]),ae=ne.useCallback(async()=>{const Y=document.createElement("input");Y.type="file",Y.accept=".db",Y.onchange=async()=>{const W=Y.files?.[0];if(!W)return;const J=await W.arrayBuffer();await z0(new Uint8Array(J)),window.location.reload()},Y.click()},[]);return p.jsxs("div",{className:Ln.appShell,children:[p.jsx(HD,{activeTab:a,onTabChange:e}),p.jsx(JD,{character:i.character}),p.jsxs("main",{className:Ln.main,children:[a==="character"&&p.jsxs(p.Fragment,{children:[p.jsx(XO,{quests:r.quests,loading:r.loading,allCompleted:r.allCompleted,completedCount:r.completedCount,bonusClaimed:r.bonusClaimed,bonusXp:r.bonusXp,totalXpEarned:r.totalXpEarned,onClaimBonus:r.claimBonus}),p.jsx(_4,{character:i.character,stats:m.stats,activeBuffs:m.activeBuffs,xpLog:i.xpLog,onNameChange:i.setName})]}),a==="quests"&&p.jsx(c3,{goals:l.goals,domains:l.domains,filterDomain:l.filterDomain,filterStatus:l.filterStatus,onFilterDomain:Y=>{l.setFilterDomain(Y)},onFilterStatus:Y=>{l.setFilterStatus(Y)},onCreateGoal:l.createGoal,onCreateQuest:l.createQuest,onCreateStep:l.createStep,onCompleteStep:l.completeStep,onUncompleteStep:l.uncompleteStep,onDeleteStep:l.deleteStep,onDeleteQuest:l.deleteQuest,onDeleteGoal:l.deleteGoal}),a==="buffs"&&p.jsx(H3,{definitions:m.definitions,activeBuffs:m.activeBuffs,onCreateDefinition:m.createDefinition,onDeleteDefinition:m.deleteDefinition,onActivateBuff:m.activateBuff,onDeactivateBuff:m.deactivateBuff}),a==="planner"&&p.jsx(G6,{view:v.view,setView:v.setView,currentDate:v.currentDate,events:v.events,onNavigate:v.navigateDay,onGoToToday:v.goToToday,onCreate:v.createEvent,onComplete:v.completeEvent,onUncomplete:v.uncompleteEvent,onDelete:v.deleteEvent,notificationsEnabled:c.settings.enabled,defaultReminderMinutes:c.settings.defaultReminderMinutes}),p.jsxs("div",{style:{marginTop:40,paddingTop:20,borderTop:"1px solid var(--border-color)"},children:[x&&p.jsx(_O,{}),g&&p.jsx(yO,{}),p.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center",flexWrap:"wrap"},children:[p.jsx(_t,{size:"small",variant:"ghost",onClick:()=>O(!x),children:x?"Hide Notifications":"Notifications"}),p.jsx(_t,{size:"small",variant:"ghost",onClick:()=>w(!g),children:g?"Hide Cloud Backup":"Cloud Backup"}),p.jsx(_t,{size:"small",variant:"ghost",onClick:$,children:"Export Save"}),p.jsx(_t,{size:"small",variant:"ghost",onClick:ae,children:"Import Save"})]})]})]}),i.xpFloats.map(Y=>p.jsxs("div",{className:Ln.xpFloat,children:["+",Y.amount," XP"]},Y.id)),i.levelUpInfo&&p.jsx(oI,{level:i.levelUpInfo.level,title:i.levelUpInfo.title,onDismiss:i.dismissLevelUp}),p.jsx(sj,{}),E.message&&p.jsx("div",{style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",padding:"10px 20px",background:E.status==="error"?"rgba(231, 76, 60, 0.9)":"rgba(46, 204, 113, 0.9)",color:"#fff",borderRadius:8,fontSize:"0.9rem",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:E.message})]})}uS.createRoot(document.getElementById("root")).render(p.jsx(ne.StrictMode,{children:p.jsx(oj,{})}));
