(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function G1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Y1(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var i=function s(){var l=!1;try{l=this instanceof s}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(s){var l=Object.getOwnPropertyDescriptor(a,s);Object.defineProperty(i,s,l.get?l:{enumerable:!0,get:function(){return a[s]}})}),i}var Vd={exports:{}},au={};var K_;function Q1(){if(K_)return au;K_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var m=null;if(c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),"key"in l){c={};for(var v in l)v!=="key"&&(c[v]=l[v])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:m,ref:l!==void 0?l:null,props:c}}return au.Fragment=t,au.jsx=i,au.jsxs=i,au}var $_;function X1(){return $_||($_=1,Vd.exports=Q1()),Vd.exports}var p=X1(),Ld={exports:{}},He={};var W_;function K1(){if(W_)return He;W_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.iterator;function $(B){return B===null||typeof B!="object"?null:(B=M&&B[M]||B["@@iterator"],typeof B=="function"?B:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,K={};function ee(B,ae,pe){this.props=B,this.context=ae,this.refs=K,this.updater=pe||J}ee.prototype.isReactComponent={},ee.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},ee.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function me(){}me.prototype=ee.prototype;function ge(B,ae,pe){this.props=B,this.context=ae,this.refs=K,this.updater=pe||J}var ye=ge.prototype=new me;ye.constructor=ge,ie(ye,ee.prototype),ye.isPureReactComponent=!0;var Ce=Array.isArray;function Me(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function V(B,ae,pe){var Ee=pe.ref;return{$$typeof:a,type:B,key:ae,ref:Ee!==void 0?Ee:null,props:pe}}function U(B,ae){return V(B.type,ae,B.props)}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===a}function O(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return ae[pe]})}var C=/\/+/g;function _e(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):ae.toString(36)}function mt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Me,Me):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function P(B,ae,pe,Ee,Be){var Ye=typeof B;(Ye==="undefined"||Ye==="boolean")&&(B=null);var Ke=!1;if(B===null)Ke=!0;else switch(Ye){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch(B.$$typeof){case a:case t:Ke=!0;break;case R:return Ke=B._init,P(Ke(B._payload),ae,pe,Ee,Be)}}if(Ke)return Be=Be(B),Ke=Ee===""?"."+_e(B,0):Ee,Ce(Be)?(pe="",Ke!=null&&(pe=Ke.replace(C,"$&/")+"/"),P(Be,ae,pe,"",function(da){return da})):Be!=null&&(j(Be)&&(Be=U(Be,pe+(Be.key==null||B&&B.key===Be.key?"":(""+Be.key).replace(C,"$&/")+"/")+Ke)),ae.push(Be)),1;Ke=0;var Xt=Ee===""?".":Ee+":";if(Ce(B))for(var Dt=0;Dt<B.length;Dt++)Ee=B[Dt],Ye=Xt+_e(Ee,Dt),Ke+=P(Ee,ae,pe,Ye,Be);else if(Dt=$(B),typeof Dt=="function")for(B=Dt.call(B),Dt=0;!(Ee=B.next()).done;)Ee=Ee.value,Ye=Xt+_e(Ee,Dt++),Ke+=P(Ee,ae,pe,Ye,Be);else if(Ye==="object"){if(typeof B.then=="function")return P(mt(B),ae,pe,Ee,Be);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function he(B,ae,pe){if(B==null)return B;var Ee=[],Be=0;return P(B,Ee,"","",function(Ye){return ae.call(pe,Ye,Be++)}),Ee}function De(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var et=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},$e={map:he,forEach:function(B,ae,pe){he(B,function(){ae.apply(this,arguments)},pe)},count:function(B){var ae=0;return he(B,function(){ae++}),ae},toArray:function(B){return he(B,function(ae){return ae})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return He.Activity=I,He.Children=$e,He.Component=ee,He.Fragment=i,He.Profiler=l,He.PureComponent=ge,He.StrictMode=s,He.Suspense=E,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,He.__COMPILER_RUNTIME={__proto__:null,c:function(B){return D.H.useMemoCache(B)}},He.cache=function(B){return function(){return B.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(B,ae,pe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Ee=ie({},B.props),Be=B.key;if(ae!=null)for(Ye in ae.key!==void 0&&(Be=""+ae.key),ae)!x.call(ae,Ye)||Ye==="key"||Ye==="__self"||Ye==="__source"||Ye==="ref"&&ae.ref===void 0||(Ee[Ye]=ae[Ye]);var Ye=arguments.length-2;if(Ye===1)Ee.children=pe;else if(1<Ye){for(var Ke=Array(Ye),Xt=0;Xt<Ye;Xt++)Ke[Xt]=arguments[Xt+2];Ee.children=Ke}return V(B.type,Be,Ee)},He.createContext=function(B){return B={$$typeof:m,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:c,_context:B},B},He.createElement=function(B,ae,pe){var Ee,Be={},Ye=null;if(ae!=null)for(Ee in ae.key!==void 0&&(Ye=""+ae.key),ae)x.call(ae,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Be[Ee]=ae[Ee]);var Ke=arguments.length-2;if(Ke===1)Be.children=pe;else if(1<Ke){for(var Xt=Array(Ke),Dt=0;Dt<Ke;Dt++)Xt[Dt]=arguments[Dt+2];Be.children=Xt}if(B&&B.defaultProps)for(Ee in Ke=B.defaultProps,Ke)Be[Ee]===void 0&&(Be[Ee]=Ke[Ee]);return V(B,Ye,Be)},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:v,render:B}},He.isValidElement=j,He.lazy=function(B){return{$$typeof:R,_payload:{_status:-1,_result:B},_init:De}},He.memo=function(B,ae){return{$$typeof:g,type:B,compare:ae===void 0?null:ae}},He.startTransition=function(B){var ae=D.T,pe={};D.T=pe;try{var Ee=B(),Be=D.S;Be!==null&&Be(pe,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(Me,et)}catch(Ye){et(Ye)}finally{ae!==null&&pe.types!==null&&(ae.types=pe.types),D.T=ae}},He.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},He.use=function(B){return D.H.use(B)},He.useActionState=function(B,ae,pe){return D.H.useActionState(B,ae,pe)},He.useCallback=function(B,ae){return D.H.useCallback(B,ae)},He.useContext=function(B){return D.H.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B,ae){return D.H.useDeferredValue(B,ae)},He.useEffect=function(B,ae){return D.H.useEffect(B,ae)},He.useEffectEvent=function(B){return D.H.useEffectEvent(B)},He.useId=function(){return D.H.useId()},He.useImperativeHandle=function(B,ae,pe){return D.H.useImperativeHandle(B,ae,pe)},He.useInsertionEffect=function(B,ae){return D.H.useInsertionEffect(B,ae)},He.useLayoutEffect=function(B,ae){return D.H.useLayoutEffect(B,ae)},He.useMemo=function(B,ae){return D.H.useMemo(B,ae)},He.useOptimistic=function(B,ae){return D.H.useOptimistic(B,ae)},He.useReducer=function(B,ae,pe){return D.H.useReducer(B,ae,pe)},He.useRef=function(B){return D.H.useRef(B)},He.useState=function(B){return D.H.useState(B)},He.useSyncExternalStore=function(B,ae,pe){return D.H.useSyncExternalStore(B,ae,pe)},He.useTransition=function(){return D.H.useTransition()},He.version="19.2.4",He}var Z_;function Lm(){return Z_||(Z_=1,Ld.exports=K1()),Ld.exports}var oe=Lm(),kd={exports:{}},ru={},Ud={exports:{}},Bd={};var J_;function $1(){return J_||(J_=1,(function(a){function t(P,he){var De=P.length;P.push(he);e:for(;0<De;){var et=De-1>>>1,$e=P[et];if(0<l($e,he))P[et]=he,P[De]=$e,De=et;else break e}}function i(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var he=P[0],De=P.pop();if(De!==he){P[0]=De;e:for(var et=0,$e=P.length,B=$e>>>1;et<B;){var ae=2*(et+1)-1,pe=P[ae],Ee=ae+1,Be=P[Ee];if(0>l(pe,De))Ee<$e&&0>l(Be,pe)?(P[et]=Be,P[Ee]=De,et=Ee):(P[et]=pe,P[ae]=De,et=ae);else if(Ee<$e&&0>l(Be,De))P[et]=Be,P[Ee]=De,et=Ee;else break e}}return he}function l(P,he){var De=P.sortIndex-he.sortIndex;return De!==0?De:P.id-he.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var m=Date,v=m.now();a.unstable_now=function(){return m.now()-v}}var E=[],g=[],R=1,I=null,M=3,$=!1,J=!1,ie=!1,K=!1,ee=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function ye(P){for(var he=i(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=P)s(g),he.sortIndex=he.expirationTime,t(E,he);else break;he=i(g)}}function Ce(P){if(ie=!1,ye(P),!J)if(i(E)!==null)J=!0,Me||(Me=!0,O());else{var he=i(g);he!==null&&mt(Ce,he.startTime-P)}}var Me=!1,D=-1,x=5,V=-1;function U(){return K?!0:!(a.unstable_now()-V<x)}function j(){if(K=!1,Me){var P=a.unstable_now();V=P;var he=!0;try{e:{J=!1,ie&&(ie=!1,me(D),D=-1),$=!0;var De=M;try{t:{for(ye(P),I=i(E);I!==null&&!(I.expirationTime>P&&U());){var et=I.callback;if(typeof et=="function"){I.callback=null,M=I.priorityLevel;var $e=et(I.expirationTime<=P);if(P=a.unstable_now(),typeof $e=="function"){I.callback=$e,ye(P),he=!0;break t}I===i(E)&&s(E),ye(P)}else s(E);I=i(E)}if(I!==null)he=!0;else{var B=i(g);B!==null&&mt(Ce,B.startTime-P),he=!1}}break e}finally{I=null,M=De,$=!1}he=void 0}}finally{he?O():Me=!1}}}var O;if(typeof ge=="function")O=function(){ge(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,_e=C.port2;C.port1.onmessage=j,O=function(){_e.postMessage(null)}}else O=function(){ee(j,0)};function mt(P,he){D=ee(function(){P(a.unstable_now())},he)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(P){switch(M){case 1:case 2:case 3:var he=3;break;default:he=M}var De=M;M=he;try{return P()}finally{M=De}},a.unstable_requestPaint=function(){K=!0},a.unstable_runWithPriority=function(P,he){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var De=M;M=P;try{return he()}finally{M=De}},a.unstable_scheduleCallback=function(P,he,De){var et=a.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?et+De:et):De=et,P){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=De+$e,P={id:R++,callback:he,priorityLevel:P,startTime:De,expirationTime:$e,sortIndex:-1},De>et?(P.sortIndex=De,t(g,P),i(E)===null&&P===i(g)&&(ie?(me(D),D=-1):ie=!0,mt(Ce,De-et))):(P.sortIndex=$e,t(E,P),J||$||(J=!0,Me||(Me=!0,O()))),P},a.unstable_shouldYield=U,a.unstable_wrapCallback=function(P){var he=M;return function(){var De=M;M=he;try{return P.apply(this,arguments)}finally{M=De}}}})(Bd)),Bd}var ev;function W1(){return ev||(ev=1,Ud.exports=$1()),Ud.exports}var qd={exports:{}},Hn={};var tv;function Z1(){if(tv)return Hn;tv=1;var a=Lm();function t(E){var g="https://react.dev/errors/"+E;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)g+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+E+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,g,R){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:E,containerInfo:g,implementation:R}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(E,g){if(E==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Hn.createPortal=function(E,g){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(E,g,null,R)},Hn.flushSync=function(E){var g=m.T,R=s.p;try{if(m.T=null,s.p=2,E)return E()}finally{m.T=g,s.p=R,s.d.f()}},Hn.preconnect=function(E,g){typeof E=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(E,g))},Hn.prefetchDNS=function(E){typeof E=="string"&&s.d.D(E)},Hn.preinit=function(E,g){if(typeof E=="string"&&g&&typeof g.as=="string"){var R=g.as,I=v(R,g.crossOrigin),M=typeof g.integrity=="string"?g.integrity:void 0,$=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;R==="style"?s.d.S(E,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:I,integrity:M,fetchPriority:$}):R==="script"&&s.d.X(E,{crossOrigin:I,integrity:M,fetchPriority:$,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Hn.preinitModule=function(E,g){if(typeof E=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var R=v(g.as,g.crossOrigin);s.d.M(E,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(E)},Hn.preload=function(E,g){if(typeof E=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var R=g.as,I=v(R,g.crossOrigin);s.d.L(E,R,{crossOrigin:I,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Hn.preloadModule=function(E,g){if(typeof E=="string")if(g){var R=v(g.as,g.crossOrigin);s.d.m(E,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(E)},Hn.requestFormReset=function(E){s.d.r(E)},Hn.unstable_batchedUpdates=function(E,g){return E(g)},Hn.useFormState=function(E,g,R){return m.H.useFormState(E,g,R)},Hn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Hn.version="19.2.4",Hn}var nv;function J1(){if(nv)return qd.exports;nv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),qd.exports=Z1(),qd.exports}var iv;function eS(){if(iv)return ru;iv=1;var a=W1(),t=Lm(),i=J1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function E(e){if(c(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var f=r.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===r)return E(f),e;if(d===o)return E(f),n;d=d.sibling}throw Error(s(188))}if(r.return!==o.return)r=f,o=d;else{for(var b=!1,w=f.child;w;){if(w===r){b=!0,r=f,o=d;break}if(w===o){b=!0,o=f,r=d;break}w=w.sibling}if(!b){for(w=d.child;w;){if(w===r){b=!0,r=d,o=f;break}if(w===o){b=!0,o=d,r=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function R(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=R(e),n!==null)return n;e=e.sibling}return null}var I=Object.assign,M=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case ee:return"Profiler";case K:return"StrictMode";case Ce:return"Suspense";case Me:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ge:return e.displayName||"Context";case me:return(e._context.displayName||"Context")+".Consumer";case ye:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:_e(e.type)||"Memo";case x:n=e._payload,e=e._init;try{return _e(e(n))}catch{}}return null}var mt=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},et=[],$e=-1;function B(e){return{current:e}}function ae(e){0>$e||(e.current=et[$e],et[$e]=null,$e--)}function pe(e,n){$e++,et[$e]=e.current,e.current=n}var Ee=B(null),Be=B(null),Ye=B(null),Ke=B(null);function Xt(e,n){switch(pe(Ye,n),pe(Be,e),pe(Ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?__(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=__(n),e=v_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(Ee),pe(Ee,e)}function Dt(){ae(Ee),ae(Be),ae(Ye)}function da(e){e.memoizedState!==null&&pe(Ke,e);var n=Ee.current,r=v_(n,e.type);n!==r&&(pe(Be,e),pe(Ee,r))}function Er(e){Be.current===e&&(ae(Ee),ae(Be)),Ke.current===e&&(ae(Ke),eu._currentValue=De)}var kn,ma;function Un(e){if(kn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kn=n&&n[1]||"",ma=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kn+e+ma}var br=!1;function vt(e,n){if(!e||br)return"";br=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Z){var X=Z}Reflect.construct(e,[],le)}else{try{le.call()}catch(Z){X=Z}e.call(le.prototype)}}else{try{throw Error()}catch(Z){X=Z}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),b=d[0],w=d[1];if(b&&w){var L=b.split(`
`),Q=w.split(`
`);for(f=o=0;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(o===L.length||f===Q.length)for(o=L.length-1,f=Q.length-1;1<=o&&0<=f&&L[o]!==Q[f];)f--;for(;1<=o&&0<=f;o--,f--)if(L[o]!==Q[f]){if(o!==1||f!==1)do if(o--,f--,0>f||L[o]!==Q[f]){var ne=`
`+L[o].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=o&&0<=f);break}}}finally{br=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Un(r):""}function Ua(e,n){switch(e.tag){case 26:case 27:case 5:return Un(e.type);case 16:return Un("Lazy");case 13:return e.child!==n&&n!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return vt(e.type,!1);case 11:return vt(e.type.render,!1);case 1:return vt(e.type,!0);case 31:return Un("Activity");default:return""}}function Tr(e){try{var n="",r=null;do n+=Ua(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var qt=Object.prototype.hasOwnProperty,Kt=a.unstable_scheduleCallback,_i=a.unstable_cancelCallback,El=a.unstable_shouldYield,ds=a.unstable_requestPaint,wn=a.unstable_now,ea=a.unstable_getCurrentPriorityLevel,ta=a.unstable_ImmediatePriority,Xn=a.unstable_UserBlockingPriority,na=a.unstable_NormalPriority,ao=a.unstable_LowPriority,ms=a.unstable_IdlePriority,ro=a.log,so=a.unstable_setDisableYieldValue,vi=null,xe=null;function Kn(e){if(typeof ro=="function"&&so(e),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(vi,e)}catch{}}var Lt=Math.clz32?Math.clz32:oo,ps=Math.log,Ei=Math.LN2;function oo(e){return e>>>=0,e===0?32:31-(ps(e)/Ei|0)|0}var dn=256,pa=262144,Ft=4194304;function bi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fe(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~d,o!==0?f=bi(o):(b&=w,b!==0?f=bi(b):r||(r=w&~e,r!==0&&(f=bi(r))))):(w=o&~d,w!==0?f=bi(w):b!==0?f=bi(b):r||(r=o&~e,r!==0&&(f=bi(r)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:f}function Ti(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var e=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),e}function si(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ia(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gs(e,n,r,o,f,d){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var w=e.entanglements,L=e.expirationTimes,Q=e.hiddenUpdates;for(r=b&~r;0<r;){var ne=31-Lt(r),le=1<<ne;w[ne]=0,L[ne]=-1;var X=Q[ne];if(X!==null)for(Q[ne]=null,ne=0;ne<X.length;ne++){var Z=X[ne];Z!==null&&(Z.lane&=-536870913)}r&=~le}o!==0&&$n(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~n))}function $n(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Lt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Sr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Lt(r),f=1<<o;f&n|e[o]&n&&(e[o]|=n),r&=~f}}function an(e,n){var r=n&-n;return r=(r&42)!==0?1:ga(r),(r&(e.suspendedLanes|n))!==0?0:r}function ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ys(){var e=he.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function oi(e,n){var r=he.p;try{return he.p=e,n()}finally{he.p=r}}var qn=Math.random().toString(36).slice(2),tt="__reactFiber$"+qn,Zt="__reactProps$"+qn,Mi="__reactContainer$"+qn,ya="__reactEvents$"+qn,Tl="__reactListeners$"+qn,wr="__reactHandles$"+qn,_s="__reactResources$"+qn,Wn="__reactMarker$"+qn;function Ar(e){delete e[tt],delete e[Zt],delete e[ya],delete e[Tl],delete e[wr]}function Jt(e){var n=e[tt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Mi]||r[tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=R_(e);e!==null;){if(r=e[tt])return r;e=R_(e)}return n}e=r,r=e.parentNode}return null}function Rn(e){if(e=e[tt]||e[Mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Nn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Si(e){var n=e[_s];return n||(n=e[_s]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Gt(e){e[Wn]=!0}var aa=new Set,Rr={};function Zn(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(Rr[e]=n,e=0;e<n.length;e++)aa.add(n[e])}var Vi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ba={},Nr={};function vs(e){return qt.call(Nr,e)?!0:qt.call(Ba,e)?!1:Vi.test(e)?Nr[e]=!0:(Ba[e]=!0,!1)}function qa(e,n,r){if(vs(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Jn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Tt(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pn(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _a(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){r=""+b,d.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function lt(e){if(!e._valueTracker){var n=Pn(e)?"checked":"value";e._valueTracker=_a(e,n,""+e[n])}}function Li(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Pn(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pa=/[\n"\\]/g;function zn(e){return e.replace(Pa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ki(e,n,r,o,f,d,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?bs(e,b,ze(n)):r!=null?bs(e,b,ze(r)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+ze(w):e.removeAttribute("name")}function Es(e,n,r,o,f,d,b,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){lt(e);return}r=r!=null?""+ze(r):"",n=n!=null?""+ze(n):r,w||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),lt(e)}function bs(e,n,r){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ui(e,n,r,o){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ze(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Ts(e,n,r){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ze(r):""}function Bi(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(mt(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ze(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),lt(e)}function yn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function va(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||lo.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ea(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&r[f]!==o&&va(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&va(e,d,n[d])}function ui(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_n=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return _n.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Ss=null;function be(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,ti=null;function ba(e){var n=Rn(e);if(n&&(e=n.stateNode)){var r=e[Zt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ki(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+zn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var f=o[Zt]||null;if(!f)throw Error(s(90));ki(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Li(o)}break e;case"textarea":Ts(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ui(e,!!r.multiple,n,!1)}}}var za=!1;function ci(e,n,r){if(za)return e(n,r);za=!0;try{var o=e(n);return o}finally{if(za=!1,(qi!==null||ti!==null)&&(mc(),qi&&(n=qi,e=ti,ti=qi=null,ba(n),e)))for(n=0;n<e.length;n++)ba(e[n])}}function rn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Zt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(vn)try{var h={};Object.defineProperty(h,"passive",{get:function(){ra=!0}}),window.addEventListener("test",h,h),window.removeEventListener("test",h,h)}catch{ra=!1}var y=null,S=null,A=null;function k(){if(A)return A;var e,n=S,r=n.length,o,f="value"in y?y.value:y.textContent,d=f.length;for(e=0;e<r&&n[e]===f[e];e++);var b=r-e;for(o=1;o<=b&&n[r-o]===f[d-o];o++);return A=f.slice(e,1<o?1-o:void 0)}function F(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function te(){return!0}function we(){return!1}function Ie(e){function n(r,o,f,d,b){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?te:we,this.isPropagationStopped=we,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=te)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=te)},persist:function(){},isPersistent:te}),n}var ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dt=Ie(ke),Yt=I({},ke,{view:0,detail:0}),xr=Ie(Yt),Ta,Ha,Pi,Fa=I({},Yt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(Ta=e.screenX-Pi.screenX,Ha=e.screenY-Pi.screenY):Ha=Ta=0,Pi=e),Ta)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),ws=Ie(Fa),Ga=I({},Fa,{dataTransfer:0}),uo=Ie(Ga),co=I({},Yt,{relatedTarget:0}),Ya=Ie(co),As=I({},ke,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=Ie(As),Dr=I({},ke,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rs=Ie(Dr),ho=I({},ke,{data:0}),zi=Ie(ho),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=go[e])?!!n[e]:!1}function Sa(){return yo}var En=I({},Yt,{key:function(e){if(e.key){var n=mo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=F(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?po[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(e){return e.type==="keypress"?F(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?F(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_o=Ie(En),vo=I({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sa=Ie(vo),u=I({},Yt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),_=Ie(u),T=I({},ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Ie(T),G=I({},Fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Ie(G),de=I({},ke,{newState:0,oldState:0}),qe=Ie(de),Pt=[9,13,27,32],ut=vn&&"CompositionEvent"in window,It=null;vn&&"documentMode"in document&&(It=document.documentMode);var H=vn&&"TextEvent"in window&&!It,se=vn&&(!ut||It&&8<It&&11>=It),ve=" ",Re=!1;function Ve(e,n){switch(e){case"keyup":return Pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function fi(e,n){switch(e){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(Re=!0,ve);case"textInput":return e=n.data,e===ve&&Re?null:e;default:return null}}function ni(e,n){if(bn)return e==="compositionend"||!ut&&Ve(e,n)?(e=k(),A=S=y=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return se&&n.locale!=="ko"?null:n.data;default:return null}}var Ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ai[e.type]:n==="textarea"}function wa(e,n,r,o){qi?ti?ti.push(o):ti=[o]:qi=o,n=bc(n,"onChange"),0<n.length&&(r=new dt("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ns=null,Sl=null;function _T(e){h_(e,0)}function ju(e){var n=Nn(e);if(Li(n))return e}function Ip(e,n){if(e==="change")return n}var Op=!1;if(vn){var zf;if(vn){var Hf="oninput"in document;if(!Hf){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Hf=typeof jp.oninput=="function"}zf=Hf}else zf=!1;Op=zf&&(!document.documentMode||9<document.documentMode)}function Mp(){Ns&&(Ns.detachEvent("onpropertychange",Vp),Sl=Ns=null)}function Vp(e){if(e.propertyName==="value"&&ju(Sl)){var n=[];wa(n,Sl,e,be(e)),ci(_T,n)}}function vT(e,n,r){e==="focusin"?(Mp(),Ns=n,Sl=r,Ns.attachEvent("onpropertychange",Vp)):e==="focusout"&&Mp()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ju(Sl)}function bT(e,n){if(e==="click")return ju(n)}function TT(e,n){if(e==="input"||e==="change")return ju(n)}function ST(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ri=typeof Object.is=="function"?Object.is:ST;function wl(e,n){if(Ri(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!qt.call(n,f)||!Ri(e[f],n[f]))return!1}return!0}function Lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kp(e,n){var r=Lp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function Up(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Up(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=li(e.document)}return n}function Ff(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var wT=vn&&"documentMode"in document&&11>=document.documentMode,bo=null,Gf=null,Al=null,Yf=!1;function qp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yf||bo==null||bo!==li(o)||(o=bo,"selectionStart"in o&&Ff(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Al&&wl(Al,o)||(Al=o,o=bc(Gf,"onSelect"),0<o.length&&(n=new dt("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=bo)))}function Cs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var To={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Qf={},Pp={};vn&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function xs(e){if(Qf[e])return Qf[e];if(!To[e])return e;var n=To[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pp)return Qf[e]=n[r];return e}var zp=xs("animationend"),Hp=xs("animationiteration"),Fp=xs("animationstart"),AT=xs("transitionrun"),RT=xs("transitionstart"),NT=xs("transitioncancel"),Gp=xs("transitionend"),Yp=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function oa(e,n){Yp.set(e,n),Zn(n,[e])}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hi=[],So=0,Kf=0;function Vu(){for(var e=So,n=Kf=So=0;n<e;){var r=Hi[n];Hi[n++]=null;var o=Hi[n];Hi[n++]=null;var f=Hi[n];Hi[n++]=null;var d=Hi[n];if(Hi[n++]=null,o!==null&&f!==null){var b=o.pending;b===null?f.next=f:(f.next=b.next,b.next=f),o.pending=f}d!==0&&Qp(r,f,d)}}function Lu(e,n,r,o){Hi[So++]=e,Hi[So++]=n,Hi[So++]=r,Hi[So++]=o,Kf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $f(e,n,r,o){return Lu(e,n,r,o),ku(e)}function Ds(e,n){return Lu(e,null,null,n),ku(e)}function Qp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var f=!1,d=e.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-Lt(r),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=r|536870912),d):null}function ku(e){if(50<Ql)throw Ql=0,rd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wo={};function CT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,n,r,o){return new CT(e,n,r,o)}function Wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qa(e,n){var r=e.alternate;return r===null?(r=Ni(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Xp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uu(e,n,r,o,f,d){var b=0;if(o=e,typeof e=="function")Wf(e)&&(b=1);else if(typeof e=="string")b=j1(e,r,Ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=Ni(31,r,n,f),e.elementType=V,e.lanes=d,e;case ie:return Is(r.children,f,d,n);case K:b=8,f|=24;break;case ee:return e=Ni(12,r,n,f|2),e.elementType=ee,e.lanes=d,e;case Ce:return e=Ni(13,r,n,f),e.elementType=Ce,e.lanes=d,e;case Me:return e=Ni(19,r,n,f),e.elementType=Me,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:b=10;break e;case me:b=9;break e;case ye:b=11;break e;case D:b=14;break e;case x:b=16,o=null;break e}b=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Ni(b,r,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function Is(e,n,r,o){return e=Ni(7,e,o,n),e.lanes=r,e}function Zf(e,n,r){return e=Ni(6,e,null,n),e.lanes=r,e}function Kp(e){var n=Ni(18,null,null,0);return n.stateNode=e,n}function Jf(e,n,r){return n=Ni(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $p=new WeakMap;function Fi(e,n){if(typeof e=="object"&&e!==null){var r=$p.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Tr(n)},$p.set(e,n),n)}return{value:e,source:n,stack:Tr(n)}}var Ao=[],Ro=0,Bu=null,Rl=0,Gi=[],Yi=0,Ir=null,Aa=1,Ra="";function Xa(e,n){Ao[Ro++]=Rl,Ao[Ro++]=Bu,Bu=e,Rl=n}function Wp(e,n,r){Gi[Yi++]=Aa,Gi[Yi++]=Ra,Gi[Yi++]=Ir,Ir=e;var o=Aa;e=Ra;var f=32-Lt(o)-1;o&=~(1<<f),r+=1;var d=32-Lt(n)+f;if(30<d){var b=f-f%5;d=(o&(1<<b)-1).toString(32),o>>=b,f-=b,Aa=1<<32-Lt(n)+f|r<<f|o,Ra=d+e}else Aa=1<<d|r<<f|o,Ra=e}function eh(e){e.return!==null&&(Xa(e,1),Wp(e,1,0))}function th(e){for(;e===Bu;)Bu=Ao[--Ro],Ao[Ro]=null,Rl=Ao[--Ro],Ao[Ro]=null;for(;e===Ir;)Ir=Gi[--Yi],Gi[Yi]=null,Ra=Gi[--Yi],Gi[Yi]=null,Aa=Gi[--Yi],Gi[Yi]=null}function Zp(e,n){Gi[Yi++]=Aa,Gi[Yi++]=Ra,Gi[Yi++]=Ir,Aa=n.id,Ra=n.overflow,Ir=e}var xn=null,kt=null,ot=!1,Or=null,Qi=!1,nh=Error(s(519));function jr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(Fi(n,e)),nh}function Jp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[tt]=e,n[Zt]=o,r){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(r=0;r<Kl.length;r++)Ze(Kl[r],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Ze("invalid",n),Es(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ze("invalid",n);break;case"textarea":Ze("invalid",n),Bi(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||g_(n.textContent,r)?(o.popover!=null&&(Ze("beforetoggle",n),Ze("toggle",n)),o.onScroll!=null&&Ze("scroll",n),o.onScrollEnd!=null&&Ze("scrollend",n),o.onClick!=null&&(n.onclick=Cn),n=!0):n=!1,n||jr(e,!0)}function eg(e){for(xn=e.return;xn;)switch(xn.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:xn=xn.return}}function No(e){if(e!==xn)return!1;if(!ot)return eg(e),ot=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ed(e.type,e.memoizedProps)),r=!r),r&&kt&&jr(e),eg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));kt=A_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));kt=A_(e)}else n===27?(n=kt,Qr(e.type)?(e=Ad,Ad=null,kt=e):kt=n):kt=xn?Ki(e.stateNode.nextSibling):null;return!0}function Os(){kt=xn=null,ot=!1}function ih(){var e=Or;return e!==null&&(pi===null?pi=e:pi.push.apply(pi,e),Or=null),e}function Nl(e){Or===null?Or=[e]:Or.push(e)}var ah=B(null),js=null,Ka=null;function Mr(e,n,r){pe(ah,n._currentValue),n._currentValue=r}function $a(e){e._currentValue=ah.current,ae(ah)}function rh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function sh(e,n,r,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var L=0;L<n.length;L++)if(w.context===n[L]){d.lanes|=r,w=d.alternate,w!==null&&(w.lanes|=r),rh(d.return,r,e),o||(b=null);break e}d=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=r,d=b.alternate,d!==null&&(d.lanes|=r),rh(b,r,e),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===e){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Co(e,n,r,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;Ri(f.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(f===Ke.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(eu):e=[eu])}f=f.return}e!==null&&sh(n,e,r,o),n.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!Ri(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){js=e,Ka=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dn(e){return tg(js,e)}function Pu(e,n){return js===null&&Ms(e),tg(e,n)}function tg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ka===null){if(e===null)throw Error(s(308));Ka=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ka=Ka.next=n;return r}var xT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},DT=a.unstable_scheduleCallback,IT=a.unstable_NormalPriority,sn={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new xT,data:new Map,refCount:0}}function Cl(e){e.refCount--,e.refCount===0&&DT(IT,function(){e.controller.abort()})}var xl=null,lh=0,xo=0,Do=null;function OT(e,n){if(xl===null){var r=xl=[];lh=0,xo=fd(),Do={status:"pending",value:void 0,then:function(o){r.push(o)}}}return lh++,n.then(ng,ng),n}function ng(){if(--lh===0&&xl!==null){Do!==null&&(Do.status="fulfilled");var e=xl;xl=null,xo=0,Do=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function jT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var ig=P.S;P.S=function(e,n){qy=wn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OT(e,n),ig!==null&&ig(e,n)};var Vs=B(null);function uh(){var e=Vs.current;return e!==null?e:Ot.pooledCache}function zu(e,n){n===null?pe(Vs,Vs.current):pe(Vs,n.pool)}function ag(){var e=uh();return e===null?null:{parent:sn._currentValue,pool:e}}var Io=Error(s(460)),ch=Error(s(474)),Hu=Error(s(542)),Fu={then:function(){}};function rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Cn,Cn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lg(e),e;default:if(typeof n.status=="string")n.then(Cn,Cn);else{if(e=Ot,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lg(e),e}throw ks=n,Io}}function Ls(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ks=r,Io):r}}var ks=null;function og(){if(ks===null)throw Error(s(459));var e=ks;return ks=null,e}function lg(e){if(e===Io||e===Hu)throw Error(s(483))}var Oo=null,Dl=0;function Gu(e){var n=Dl;return Dl+=1,Oo===null&&(Oo=[]),sg(Oo,e,n)}function Il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Yu(e,n){throw n.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ug(e){function n(z,q){if(e){var Y=z.deletions;Y===null?(z.deletions=[q],z.flags|=16):Y.push(q)}}function r(z,q){if(!e)return null;for(;q!==null;)n(z,q),q=q.sibling;return null}function o(z){for(var q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function f(z,q){return z=Qa(z,q),z.index=0,z.sibling=null,z}function d(z,q,Y){return z.index=Y,e?(Y=z.alternate,Y!==null?(Y=Y.index,Y<q?(z.flags|=67108866,q):Y):(z.flags|=67108866,q)):(z.flags|=1048576,q)}function b(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function w(z,q,Y,re){return q===null||q.tag!==6?(q=Zf(Y,z.mode,re),q.return=z,q):(q=f(q,Y),q.return=z,q)}function L(z,q,Y,re){var Oe=Y.type;return Oe===ie?ne(z,q,Y.props.children,re,Y.key):q!==null&&(q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===x&&Ls(Oe)===q.type)?(q=f(q,Y.props),Il(q,Y),q.return=z,q):(q=Uu(Y.type,Y.key,Y.props,null,z.mode,re),Il(q,Y),q.return=z,q)}function Q(z,q,Y,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=Jf(Y,z.mode,re),q.return=z,q):(q=f(q,Y.children||[]),q.return=z,q)}function ne(z,q,Y,re,Oe){return q===null||q.tag!==7?(q=Is(Y,z.mode,re,Oe),q.return=z,q):(q=f(q,Y),q.return=z,q)}function le(z,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Zf(""+q,z.mode,Y),q.return=z,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return Y=Uu(q.type,q.key,q.props,null,z.mode,Y),Il(Y,q),Y.return=z,Y;case J:return q=Jf(q,z.mode,Y),q.return=z,q;case x:return q=Ls(q),le(z,q,Y)}if(mt(q)||O(q))return q=Is(q,z.mode,Y,null),q.return=z,q;if(typeof q.then=="function")return le(z,Gu(q),Y);if(q.$$typeof===ge)return le(z,Pu(z,q),Y);Yu(z,q)}return null}function X(z,q,Y,re){var Oe=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Oe!==null?null:w(z,q,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return Y.key===Oe?L(z,q,Y,re):null;case J:return Y.key===Oe?Q(z,q,Y,re):null;case x:return Y=Ls(Y),X(z,q,Y,re)}if(mt(Y)||O(Y))return Oe!==null?null:ne(z,q,Y,re,null);if(typeof Y.then=="function")return X(z,q,Gu(Y),re);if(Y.$$typeof===ge)return X(z,q,Pu(z,Y),re);Yu(z,Y)}return null}function Z(z,q,Y,re,Oe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(Y)||null,w(q,z,""+re,Oe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case $:return z=z.get(re.key===null?Y:re.key)||null,L(q,z,re,Oe);case J:return z=z.get(re.key===null?Y:re.key)||null,Q(q,z,re,Oe);case x:return re=Ls(re),Z(z,q,Y,re,Oe)}if(mt(re)||O(re))return z=z.get(Y)||null,ne(q,z,re,Oe,null);if(typeof re.then=="function")return Z(z,q,Y,Gu(re),Oe);if(re.$$typeof===ge)return Z(z,q,Y,Pu(q,re),Oe);Yu(q,re)}return null}function Ae(z,q,Y,re){for(var Oe=null,pt=null,Ne=q,Xe=q=0,at=null;Ne!==null&&Xe<Y.length;Xe++){Ne.index>Xe?(at=Ne,Ne=null):at=Ne.sibling;var gt=X(z,Ne,Y[Xe],re);if(gt===null){Ne===null&&(Ne=at);break}e&&Ne&&gt.alternate===null&&n(z,Ne),q=d(gt,q,Xe),pt===null?Oe=gt:pt.sibling=gt,pt=gt,Ne=at}if(Xe===Y.length)return r(z,Ne),ot&&Xa(z,Xe),Oe;if(Ne===null){for(;Xe<Y.length;Xe++)Ne=le(z,Y[Xe],re),Ne!==null&&(q=d(Ne,q,Xe),pt===null?Oe=Ne:pt.sibling=Ne,pt=Ne);return ot&&Xa(z,Xe),Oe}for(Ne=o(Ne);Xe<Y.length;Xe++)at=Z(Ne,z,Xe,Y[Xe],re),at!==null&&(e&&at.alternate!==null&&Ne.delete(at.key===null?Xe:at.key),q=d(at,q,Xe),pt===null?Oe=at:pt.sibling=at,pt=at);return e&&Ne.forEach(function(Zr){return n(z,Zr)}),ot&&Xa(z,Xe),Oe}function Le(z,q,Y,re){if(Y==null)throw Error(s(151));for(var Oe=null,pt=null,Ne=q,Xe=q=0,at=null,gt=Y.next();Ne!==null&&!gt.done;Xe++,gt=Y.next()){Ne.index>Xe?(at=Ne,Ne=null):at=Ne.sibling;var Zr=X(z,Ne,gt.value,re);if(Zr===null){Ne===null&&(Ne=at);break}e&&Ne&&Zr.alternate===null&&n(z,Ne),q=d(Zr,q,Xe),pt===null?Oe=Zr:pt.sibling=Zr,pt=Zr,Ne=at}if(gt.done)return r(z,Ne),ot&&Xa(z,Xe),Oe;if(Ne===null){for(;!gt.done;Xe++,gt=Y.next())gt=le(z,gt.value,re),gt!==null&&(q=d(gt,q,Xe),pt===null?Oe=gt:pt.sibling=gt,pt=gt);return ot&&Xa(z,Xe),Oe}for(Ne=o(Ne);!gt.done;Xe++,gt=Y.next())gt=Z(Ne,z,Xe,gt.value,re),gt!==null&&(e&&gt.alternate!==null&&Ne.delete(gt.key===null?Xe:gt.key),q=d(gt,q,Xe),pt===null?Oe=gt:pt.sibling=gt,pt=gt);return e&&Ne.forEach(function(F1){return n(z,F1)}),ot&&Xa(z,Xe),Oe}function xt(z,q,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===ie&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:e:{for(var Oe=Y.key;q!==null;){if(q.key===Oe){if(Oe=Y.type,Oe===ie){if(q.tag===7){r(z,q.sibling),re=f(q,Y.props.children),re.return=z,z=re;break e}}else if(q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===x&&Ls(Oe)===q.type){r(z,q.sibling),re=f(q,Y.props),Il(re,Y),re.return=z,z=re;break e}r(z,q);break}else n(z,q);q=q.sibling}Y.type===ie?(re=Is(Y.props.children,z.mode,re,Y.key),re.return=z,z=re):(re=Uu(Y.type,Y.key,Y.props,null,z.mode,re),Il(re,Y),re.return=z,z=re)}return b(z);case J:e:{for(Oe=Y.key;q!==null;){if(q.key===Oe)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){r(z,q.sibling),re=f(q,Y.children||[]),re.return=z,z=re;break e}else{r(z,q);break}else n(z,q);q=q.sibling}re=Jf(Y,z.mode,re),re.return=z,z=re}return b(z);case x:return Y=Ls(Y),xt(z,q,Y,re)}if(mt(Y))return Ae(z,q,Y,re);if(O(Y)){if(Oe=O(Y),typeof Oe!="function")throw Error(s(150));return Y=Oe.call(Y),Le(z,q,Y,re)}if(typeof Y.then=="function")return xt(z,q,Gu(Y),re);if(Y.$$typeof===ge)return xt(z,q,Pu(z,Y),re);Yu(z,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(r(z,q.sibling),re=f(q,Y),re.return=z,z=re):(r(z,q),re=Zf(Y,z.mode,re),re.return=z,z=re),b(z)):r(z,q)}return function(z,q,Y,re){try{Dl=0;var Oe=xt(z,q,Y,re);return Oo=null,Oe}catch(Ne){if(Ne===Io||Ne===Hu)throw Ne;var pt=Ni(29,Ne,null,z.mode);return pt.lanes=re,pt.return=z,pt}}}var Us=ug(!0),cg=ug(!1),Vr=!1;function fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(yt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=ku(e),Qp(e,null,r),n}return Lu(e,o,n,r),ku(e)}function Ol(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Sr(e,r)}}function dh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,r=r.next}while(r!==null);d===null?f=d=n:d=d.next=n}else f=d=n;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var mh=!1;function jl(){if(mh){var e=Do;if(e!==null)throw e}}function Ml(e,n,r,o){mh=!1;var f=e.updateQueue;Vr=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var L=w,Q=L.next;L.next=null,b===null?d=Q:b.next=Q,b=L;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==b&&(w===null?ne.firstBaseUpdate=Q:w.next=Q,ne.lastBaseUpdate=L))}if(d!==null){var le=f.baseState;b=0,ne=Q=L=null,w=d;do{var X=w.lane&-536870913,Z=X!==w.lane;if(Z?(it&X)===X:(o&X)===X){X!==0&&X===xo&&(mh=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=e,Le=w;X=n;var xt=r;switch(Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){le=Ae.call(xt,le,X);break e}le=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,X=typeof Ae=="function"?Ae.call(xt,le,X):Ae,X==null)break e;le=I({},le,X);break e;case 2:Vr=!0}}X=w.callback,X!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(Q=ne=Z,L=le):ne=ne.next=Z,b|=X;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ne===null&&(L=le),f.baseState=L,f.firstBaseUpdate=Q,f.lastBaseUpdate=ne,d===null&&(f.shared.lanes=0),zr|=b,e.lanes=b,e.memoizedState=le}}function fg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function hg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)fg(r[e],n)}var jo=B(null),Qu=B(0);function dg(e,n){e=rr,pe(Qu,e),pe(jo,n),rr=e|n.baseLanes}function ph(){pe(Qu,rr),pe(jo,jo.current)}function gh(){rr=Qu.current,ae(jo),ae(Qu)}var Ci=B(null),Xi=null;function Ur(e){var n=e.alternate;pe(en,en.current&1),pe(Ci,e),Xi===null&&(n===null||jo.current!==null||n.memoizedState!==null)&&(Xi=e)}function yh(e){pe(en,en.current),pe(Ci,e),Xi===null&&(Xi=e)}function mg(e){e.tag===22?(pe(en,en.current),pe(Ci,e),Xi===null&&(Xi=e)):Br()}function Br(){pe(en,en.current),pe(Ci,Ci.current)}function xi(e){ae(Ci),Xi===e&&(Xi=null),ae(en)}var en=B(0);function Xu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sd(r)||wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wa=0,Qe=null,Nt=null,on=null,Ku=!1,Mo=!1,Bs=!1,$u=0,Vl=0,Vo=null,MT=0;function $t(){throw Error(s(321))}function _h(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Ri(e[r],n[r]))return!1;return!0}function vh(e,n,r,o,f,d){return Wa=d,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Wg:Mh,Bs=!1,d=r(o,f),Bs=!1,Mo&&(d=gg(n,r,o,f)),pg(e),d}function pg(e){P.H=Ul;var n=Nt!==null&&Nt.next!==null;if(Wa=0,on=Nt=Qe=null,Ku=!1,Vl=0,Vo=null,n)throw Error(s(300));e===null||ln||(e=e.dependencies,e!==null&&qu(e)&&(ln=!0))}function gg(e,n,r,o){Qe=e;var f=0;do{if(Mo&&(Vo=null),Vl=0,Mo=!1,25<=f)throw Error(s(301));if(f+=1,on=Nt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=Zg,d=n(r,o)}while(Mo);return d}function VT(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Ll(n):n,e=e.useState()[0],(Nt!==null?Nt.memoizedState:null)!==e&&(Qe.flags|=1024),n}function Eh(){var e=$u!==0;return $u=0,e}function bh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Th(e){if(Ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ku=!1}Wa=0,on=Nt=Qe=null,Mo=!1,Vl=$u=0,Vo=null}function ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Qe.memoizedState=on=e:on=on.next=e,on}function tn(){if(Nt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var n=on===null?Qe.memoizedState:on.next;if(n!==null)on=n,Nt=e;else{if(e===null)throw Qe.alternate===null?Error(s(467)):Error(s(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},on===null?Qe.memoizedState=on=e:on=on.next=e}return on}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var n=Vl;return Vl+=1,Vo===null&&(Vo=[]),e=sg(Vo,e,n),n=Qe,(on===null?n.memoizedState:on.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Wg:Mh),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===ge)return Dn(e)}throw Error(s(438,String(e)))}function Sh(e){var n=null,r=Qe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Qe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Wu(),Qe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=U;return n.index++,r}function Za(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=tn();return wh(n,Nt,e)}function wh(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var w=b=null,L=null,Q=n,ne=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(it&le)===le:(Wa&le)===le){var X=Q.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===xo&&(ne=!0);else if((Wa&X)===X){Q=Q.next,X===xo&&(ne=!0);continue}else le={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(w=L=le,b=d):L=L.next=le,Qe.lanes|=X,zr|=X;le=Q.action,Bs&&r(d,le),d=Q.hasEagerState?Q.eagerState:r(d,le)}else X={lane:le,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(w=L=X,b=d):L=L.next=X,Qe.lanes|=le,zr|=le;Q=Q.next}while(Q!==null&&Q!==n);if(L===null?b=d:L.next=w,!Ri(d,e.memoizedState)&&(ln=!0,ne&&(r=Do,r!==null)))throw r;e.memoizedState=d,e.baseState=b,e.baseQueue=L,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ah(e){var n=tn(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,f=r.pending,d=n.memoizedState;if(f!==null){r.pending=null;var b=f=f.next;do d=e(d,b.action),b=b.next;while(b!==f);Ri(d,n.memoizedState)||(ln=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,o]}function yg(e,n,r){var o=Qe,f=tn(),d=ot;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var b=!Ri((Nt||f).memoizedState,r);if(b&&(f.memoizedState=r,ln=!0),f=f.queue,Ch(Eg.bind(null,o,f,e),[e]),f.getSnapshot!==n||b||on!==null&&on.memoizedState.tag&1){if(o.flags|=2048,Lo(9,{destroy:void 0},vg.bind(null,o,f,r,n),null),Ot===null)throw Error(s(349));d||(Wa&127)!==0||_g(o,n,r)}return r}function _g(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Qe.updateQueue,n===null?(n=Wu(),Qe.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function vg(e,n,r,o){n.value=r,n.getSnapshot=o,bg(n)&&Tg(e)}function Eg(e,n,r){return r(function(){bg(n)&&Tg(e)})}function bg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Ri(e,r)}catch{return!0}}function Tg(e){var n=Ds(e,2);n!==null&&gi(n,e,2)}function Rh(e){var n=ii();if(typeof e=="function"){var r=e;if(e=r(),Bs){Kn(!0);try{r()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:e},n}function Sg(e,n,r,o){return e.baseState=r,wh(e,Nt,typeof o=="function"?o:Za)}function LT(e,n,r,o,f){if(nc(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};P.T!==null?r(!0):d.isTransition=!1,o(d),r=n.pending,r===null?(d.next=n.pending=d,wg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function wg(e,n){var r=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=P.T,b={};P.T=b;try{var w=r(f,o),L=P.S;L!==null&&L(b,w),Ag(e,n,w)}catch(Q){Nh(e,n,Q)}finally{d!==null&&b.types!==null&&(d.types=b.types),P.T=d}}else try{d=r(f,o),Ag(e,n,d)}catch(Q){Nh(e,n,Q)}}function Ag(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Rg(e,n,o)},function(o){return Nh(e,n,o)}):Rg(e,n,r)}function Rg(e,n,r){n.status="fulfilled",n.value=r,Ng(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,wg(e,r)))}function Nh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ng(n),n=n.next;while(n!==o)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cg(e,n){return n}function xg(e,n){if(ot){var r=Ot.formState;if(r!==null){e:{var o=Qe;if(ot){if(kt){t:{for(var f=kt,d=Qi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ki(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){kt=Ki(f.nextSibling),o=f.data==="F!";break e}}jr(o)}o=!1}o&&(n=r[0])}}return r=ii(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},r.queue=o,r=Xg.bind(null,Qe,o),o.dispatch=r,o=Rh(!1),d=jh.bind(null,Qe,!1,o.queue),o=ii(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,r=LT.bind(null,Qe,f,d,r),f.dispatch=r,o.memoizedState=e,[n,r,!1]}function Dg(e){var n=tn();return Ig(n,Nt,e)}function Ig(e,n,r){if(n=wh(e,n,Cg)[0],e=Ju(Za)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ll(n)}catch(b){throw b===Io?Hu:b}else o=n;n=tn();var f=n.queue,d=f.dispatch;return r!==n.memoizedState&&(Qe.flags|=2048,Lo(9,{destroy:void 0},kT.bind(null,f,r),null)),[o,d,e]}function kT(e,n){e.action=n}function Og(e){var n=tn(),r=Nt;if(r!==null)return Ig(n,r,e);tn(),n=n.memoizedState,r=tn();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Lo(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Qe.updateQueue,n===null&&(n=Wu(),Qe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function jg(){return tn().memoizedState}function ec(e,n,r,o){var f=ii();Qe.flags|=e,f.memoizedState=Lo(1|n,{destroy:void 0},r,o===void 0?null:o)}function tc(e,n,r,o){var f=tn();o=o===void 0?null:o;var d=f.memoizedState.inst;Nt!==null&&o!==null&&_h(o,Nt.memoizedState.deps)?f.memoizedState=Lo(n,d,r,o):(Qe.flags|=e,f.memoizedState=Lo(1|n,d,r,o))}function Mg(e,n){ec(8390656,8,e,n)}function Ch(e,n){tc(2048,8,e,n)}function UT(e){Qe.flags|=4;var n=Qe.updateQueue;if(n===null)n=Wu(),Qe.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Vg(e){var n=tn().memoizedState;return UT({ref:n,nextImpl:e}),function(){if((yt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Lg(e,n){return tc(4,2,e,n)}function kg(e,n){return tc(4,4,e,n)}function Ug(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bg(e,n,r){r=r!=null?r.concat([e]):null,tc(4,4,Ug.bind(null,n,e),r)}function xh(){}function qg(e,n){var r=tn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&_h(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Pg(e,n){var r=tn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&_h(n,o[1]))return o[0];if(o=e(),Bs){Kn(!0);try{e()}finally{Kn(!1)}}return r.memoizedState=[o,n],o}function Dh(e,n,r){return r===void 0||(Wa&1073741824)!==0&&(it&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=zy(),Qe.lanes|=e,zr|=e,r)}function zg(e,n,r,o){return Ri(r,n)?r:jo.current!==null?(e=Dh(e,r,o),Ri(e,n)||(ln=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(it&261930)===0?(ln=!0,e.memoizedState=r):(e=zy(),Qe.lanes|=e,zr|=e,n)}function Hg(e,n,r,o,f){var d=he.p;he.p=d!==0&&8>d?d:8;var b=P.T,w={};P.T=w,jh(e,!1,n,r);try{var L=f(),Q=P.S;if(Q!==null&&Q(w,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=jT(L,o);kl(e,n,ne,Oi(e))}else kl(e,n,o,Oi(e))}catch(le){kl(e,n,{then:function(){},status:"rejected",reason:le},Oi())}finally{he.p=d,b!==null&&w.types!==null&&(b.types=w.types),P.T=b}}function BT(){}function Ih(e,n,r,o){if(e.tag!==5)throw Error(s(476));var f=Fg(e).queue;Hg(e,f,n,De,r===null?BT:function(){return Gg(e),r(o)})}function Fg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:De},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Gg(e){var n=Fg(e);n.next===null&&(n=e.alternate.memoizedState),kl(e,n.next.queue,{},Oi())}function Oh(){return Dn(eu)}function Yg(){return tn().memoizedState}function Qg(){return tn().memoizedState}function qT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Oi();e=Lr(r);var o=kr(n,e,r);o!==null&&(gi(o,n,r),Ol(o,n,r)),n={cache:oh()},e.payload=n;return}n=n.return}}function PT(e,n,r){var o=Oi();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},nc(e)?Kg(n,r):(r=$f(e,n,r,o),r!==null&&(gi(r,e,o),$g(r,n,o)))}function Xg(e,n,r){var o=Oi();kl(e,n,r,o)}function kl(e,n,r,o){var f={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(nc(e))Kg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,w=d(b,r);if(f.hasEagerState=!0,f.eagerState=w,Ri(w,b))return Lu(e,n,f,0),Ot===null&&Vu(),!1}catch{}if(r=$f(e,n,f,o),r!==null)return gi(r,e,o),$g(r,n,o),!0}return!1}function jh(e,n,r,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(n)throw Error(s(479))}else n=$f(e,r,o,2),n!==null&&gi(n,e,2)}function nc(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function Kg(e,n){Mo=Ku=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function $g(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Sr(e,r)}}var Ul={readContext:Dn,use:Zu,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};Ul.useEffectEvent=$t;var Wg={readContext:Dn,use:Zu,useCallback:function(e,n){return ii().memoizedState=[e,n===void 0?null:n],e},useContext:Dn,useEffect:Mg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,ec(4194308,4,Ug.bind(null,n,e),r)},useLayoutEffect:function(e,n){return ec(4194308,4,e,n)},useInsertionEffect:function(e,n){ec(4,2,e,n)},useMemo:function(e,n){var r=ii();n=n===void 0?null:n;var o=e();if(Bs){Kn(!0);try{e()}finally{Kn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=ii();if(r!==void 0){var f=r(n);if(Bs){Kn(!0);try{r(n)}finally{Kn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=PT.bind(null,Qe,e),[o.memoizedState,e]},useRef:function(e){var n=ii();return e={current:e},n.memoizedState=e},useState:function(e){e=Rh(e);var n=e.queue,r=Xg.bind(null,Qe,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:xh,useDeferredValue:function(e,n){var r=ii();return Dh(r,e,n)},useTransition:function(){var e=Rh(!1);return e=Hg.bind(null,Qe,e.queue,!0,!1),ii().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Qe,f=ii();if(ot){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Ot===null)throw Error(s(349));(it&127)!==0||_g(o,n,r)}f.memoizedState=r;var d={value:r,getSnapshot:n};return f.queue=d,Mg(Eg.bind(null,o,d,e),[e]),o.flags|=2048,Lo(9,{destroy:void 0},vg.bind(null,o,d,r,n),null),r},useId:function(){var e=ii(),n=Ot.identifierPrefix;if(ot){var r=Ra,o=Aa;r=(o&~(1<<32-Lt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=$u++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=MT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Oh,useFormState:xg,useActionState:xg,useOptimistic:function(e){var n=ii();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jh.bind(null,Qe,!0,r),r.dispatch=n,[e,n]},useMemoCache:Sh,useCacheRefresh:function(){return ii().memoizedState=qT.bind(null,Qe)},useEffectEvent:function(e){var n=ii(),r={impl:e};return n.memoizedState=r,function(){if((yt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Mh={readContext:Dn,use:Zu,useCallback:qg,useContext:Dn,useEffect:Ch,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:kg,useMemo:Pg,useReducer:Ju,useRef:jg,useState:function(){return Ju(Za)},useDebugValue:xh,useDeferredValue:function(e,n){var r=tn();return zg(r,Nt.memoizedState,e,n)},useTransition:function(){var e=Ju(Za)[0],n=tn().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:Oh,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var r=tn();return Sg(r,Nt,e,n)},useMemoCache:Sh,useCacheRefresh:Qg};Mh.useEffectEvent=Vg;var Zg={readContext:Dn,use:Zu,useCallback:qg,useContext:Dn,useEffect:Ch,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:kg,useMemo:Pg,useReducer:Ah,useRef:jg,useState:function(){return Ah(Za)},useDebugValue:xh,useDeferredValue:function(e,n){var r=tn();return Nt===null?Dh(r,e,n):zg(r,Nt.memoizedState,e,n)},useTransition:function(){var e=Ah(Za)[0],n=tn().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:Oh,useFormState:Og,useActionState:Og,useOptimistic:function(e,n){var r=tn();return Nt!==null?Sg(r,Nt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:Qg};Zg.useEffectEvent=Vg;function Vh(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:I({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lh={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Oi(),f=Lr(o);f.payload=n,r!=null&&(f.callback=r),n=kr(e,f,o),n!==null&&(gi(n,e,o),Ol(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Oi(),f=Lr(o);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=kr(e,f,o),n!==null&&(gi(n,e,o),Ol(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Oi(),o=Lr(r);o.tag=2,n!=null&&(o.callback=n),n=kr(e,o,r),n!==null&&(gi(n,e,r),Ol(n,e,r))}};function Jg(e,n,r,o,f,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,b):n.prototype&&n.prototype.isPureReactComponent?!wl(r,o)||!wl(f,d):!0}function ey(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Lh.enqueueReplaceState(n,n.state,null)}function qs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=I({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function ty(e){Mu(e)}function ny(e){console.error(e)}function iy(e){Mu(e)}function ic(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kh(e,n,r){return r=Lr(r),r.tag=3,r.payload={element:null},r.callback=function(){ic(e,n)},r}function ry(e){return e=Lr(e),e.tag=3,e}function sy(e,n,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){ay(n,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){ay(n,r,o),typeof f!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function zT(e,n,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Co(n,r,f,!0),r=Ci.current,r!==null){switch(r.tag){case 31:case 13:return Xi===null?pc():r.alternate===null&&Wt===0&&(Wt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Fu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ld(e,o,f)),!1;case 22:return r.flags|=65536,o===Fu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ld(e,o,f)),!1}throw Error(s(435,r.tag))}return ld(e,o,f),pc(),!1}if(ot)return n=Ci.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==nh&&(e=Error(s(422),{cause:o}),Nl(Fi(e,r)))):(o!==nh&&(n=Error(s(423),{cause:o}),Nl(Fi(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Fi(o,r),f=kh(e.stateNode,o,f),dh(e,f),Wt!==4&&(Wt=2)),!1;var d=Error(s(520),{cause:o});if(d=Fi(d,r),Yl===null?Yl=[d]:Yl.push(d),Wt!==4&&(Wt=2),n===null)return!0;o=Fi(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=kh(r.stateNode,o,e),dh(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return r.flags|=65536,f&=-f,r.lanes|=f,f=ry(f),sy(f,e,r,o),dh(r,f),!1}r=r.return}while(r!==null);return!1}var Uh=Error(s(461)),ln=!1;function In(e,n,r,o){n.child=e===null?cg(n,null,r,o):Us(n,e.child,r,o)}function oy(e,n,r,o,f){r=r.render;var d=n.ref;if("ref"in o){var b={};for(var w in o)w!=="ref"&&(b[w]=o[w])}else b=o;return Ms(n),o=vh(e,n,r,b,d,f),w=Eh(),e!==null&&!ln?(bh(e,n,f),Ja(e,n,f)):(ot&&w&&eh(n),n.flags|=1,In(e,n,o,f),n.child)}function ly(e,n,r,o,f){if(e===null){var d=r.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,uy(e,n,d,o,f)):(e=Uu(r.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Yh(e,f)){var b=d.memoizedProps;if(r=r.compare,r=r!==null?r:wl,r(b,o)&&e.ref===n.ref)return Ja(e,n,f)}return n.flags|=1,e=Qa(d,o),e.ref=n.ref,e.return=n,n.child=e}function uy(e,n,r,o,f){if(e!==null){var d=e.memoizedProps;if(wl(d,o)&&e.ref===n.ref)if(ln=!1,n.pendingProps=o=d,Yh(e,f))(e.flags&131072)!==0&&(ln=!0);else return n.lanes=e.lanes,Ja(e,n,f)}return Bh(e,n,r,o,f)}function cy(e,n,r,o){var f=o.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,n.child=null;return fy(e,n,d,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,d!==null?d.cachePool:null),d!==null?dg(n,d):ph(),mg(n);else return o=n.lanes=536870912,fy(e,n,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(zu(n,d.cachePool),dg(n,d),Br(),n.memoizedState=null):(e!==null&&zu(n,null),ph(),Br());return In(e,n,f,r),n.child}function Bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(e,n,r,o,f){var d=uh();return d=d===null?null:{parent:sn._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&zu(n,null),ph(),mg(n),e!==null&&Co(e,n,o,!0),n.childLanes=f,null}function ac(e,n){return n=sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,r){return Us(n,e.child,null,r),e=ac(n,n.pendingProps),e.flags|=2,xi(n),n.memoizedState=null,e}function HT(e,n,r){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ot){if(o.mode==="hidden")return e=ac(n,o),n.lanes=536870912,Bl(null,e);if(yh(n),(e=kt)?(e=w_(e,Qi),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ir!==null?{id:Aa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},r=Kp(e),r.return=n,n.child=r,xn=n,kt=null)):e=null,e===null)throw jr(n);return n.lanes=536870912,null}return ac(n,o)}var d=e.memoizedState;if(d!==null){var b=d.dehydrated;if(yh(n),f)if(n.flags&256)n.flags&=-257,n=hy(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(ln||Co(e,n,r,!1),f=(r&e.childLanes)!==0,ln||f){if(o=Ot,o!==null&&(b=an(o,r),b!==0&&b!==d.retryLane))throw d.retryLane=b,Ds(e,b),gi(o,e,b),Uh;pc(),n=hy(e,n,r)}else e=d.treeContext,kt=Ki(b.nextSibling),xn=n,ot=!0,Or=null,Qi=!1,e!==null&&Zp(n,e),n=ac(n,o),n.flags|=4096;return n}return e=Qa(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function rc(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Bh(e,n,r,o,f){return Ms(n),r=vh(e,n,r,o,void 0,f),o=Eh(),e!==null&&!ln?(bh(e,n,f),Ja(e,n,f)):(ot&&o&&eh(n),n.flags|=1,In(e,n,r,f),n.child)}function dy(e,n,r,o,f,d){return Ms(n),n.updateQueue=null,r=gg(n,o,r,f),pg(e),o=Eh(),e!==null&&!ln?(bh(e,n,d),Ja(e,n,d)):(ot&&o&&eh(n),n.flags|=1,In(e,n,r,d),n.child)}function my(e,n,r,o,f){if(Ms(n),n.stateNode===null){var d=wo,b=r.contextType;typeof b=="object"&&b!==null&&(d=Dn(b)),d=new r(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},fh(n),b=r.contextType,d.context=typeof b=="object"&&b!==null?Dn(b):wo,d.state=n.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(Vh(n,r,b,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Lh.enqueueReplaceState(d,d.state,null),Ml(n,o,d,f),jl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var w=n.memoizedProps,L=qs(r,w);d.props=L;var Q=d.context,ne=r.contextType;b=wo,typeof ne=="object"&&ne!==null&&(b=Dn(ne));var le=r.getDerivedStateFromProps;ne=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Q!==b)&&ey(n,d,o,b),Vr=!1;var X=n.memoizedState;d.state=X,Ml(n,o,d,f),jl(),Q=n.memoizedState,w||X!==Q||Vr?(typeof le=="function"&&(Vh(n,r,le,o),Q=n.memoizedState),(L=Vr||Jg(n,r,L,o,X,Q,b))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Q),d.props=o,d.state=Q,d.context=b,o=L):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,hh(e,n),b=n.memoizedProps,ne=qs(r,b),d.props=ne,le=n.pendingProps,X=d.context,Q=r.contextType,L=wo,typeof Q=="object"&&Q!==null&&(L=Dn(Q)),w=r.getDerivedStateFromProps,(Q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==le||X!==L)&&ey(n,d,o,L),Vr=!1,X=n.memoizedState,d.state=X,Ml(n,o,d,f),jl();var Z=n.memoizedState;b!==le||X!==Z||Vr||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof w=="function"&&(Vh(n,r,w,o),Z=n.memoizedState),(ne=Vr||Jg(n,r,ne,o,X,Z,L)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Z,L),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Z,L)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Z),d.props=o,d.state=Z,d.context=L,o=ne):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,rc(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Us(n,e.child,null,f),n.child=Us(n,null,r,f)):In(e,n,r,f),n.memoizedState=d.state,e=n.child):e=Ja(e,n,f),e}function py(e,n,r,o){return Os(),n.flags|=256,In(e,n,r,o),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(e){return{baseLanes:e,cachePool:ag()}}function zh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Ii),e}function gy(e,n,r){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(en.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(ot){if(f?Ur(n):Br(),(e=kt)?(e=w_(e,Qi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ir!==null?{id:Aa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},r=Kp(e),r.return=n,n.child=r,xn=n,kt=null)):e=null,e===null)throw jr(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var w=o.children;return o=o.fallback,f?(Br(),f=n.mode,w=sc({mode:"hidden",children:w},f),o=Is(o,f,r,null),w.return=n,o.return=n,w.sibling=o,n.child=w,o=n.child,o.memoizedState=Ph(r),o.childLanes=zh(e,b,r),n.memoizedState=qh,Bl(null,o)):(Ur(n),Hh(n,w))}var L=e.memoizedState;if(L!==null&&(w=L.dehydrated,w!==null)){if(d)n.flags&256?(Ur(n),n.flags&=-257,n=Fh(e,n,r)):n.memoizedState!==null?(Br(),n.child=e.child,n.flags|=128,n=null):(Br(),w=o.fallback,f=n.mode,o=sc({mode:"visible",children:o.children},f),w=Is(w,f,r,null),w.flags|=2,o.return=n,w.return=n,o.sibling=w,n.child=o,Us(n,e.child,null,r),o=n.child,o.memoizedState=Ph(r),o.childLanes=zh(e,b,r),n.memoizedState=qh,n=Bl(null,o));else if(Ur(n),wd(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Q=b.dgst;b=Q,o=Error(s(419)),o.stack="",o.digest=b,Nl({value:o,source:null,stack:null}),n=Fh(e,n,r)}else if(ln||Co(e,n,r,!1),b=(r&e.childLanes)!==0,ln||b){if(b=Ot,b!==null&&(o=an(b,r),o!==0&&o!==L.retryLane))throw L.retryLane=o,Ds(e,o),gi(b,e,o),Uh;Sd(w)||pc(),n=Fh(e,n,r)}else Sd(w)?(n.flags|=192,n.child=e.child,n=null):(e=L.treeContext,kt=Ki(w.nextSibling),xn=n,ot=!0,Or=null,Qi=!1,e!==null&&Zp(n,e),n=Hh(n,o.children),n.flags|=4096);return n}return f?(Br(),w=o.fallback,f=n.mode,L=e.child,Q=L.sibling,o=Qa(L,{mode:"hidden",children:o.children}),o.subtreeFlags=L.subtreeFlags&65011712,Q!==null?w=Qa(Q,w):(w=Is(w,f,r,null),w.flags|=2),w.return=n,o.return=n,o.sibling=w,n.child=o,Bl(null,o),o=n.child,w=e.child.memoizedState,w===null?w=Ph(r):(f=w.cachePool,f!==null?(L=sn._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=ag(),w={baseLanes:w.baseLanes|r,cachePool:f}),o.memoizedState=w,o.childLanes=zh(e,b,r),n.memoizedState=qh,Bl(e.child,o)):(Ur(n),r=e.child,e=r.sibling,r=Qa(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=r,n.memoizedState=null,r)}function Hh(e,n){return n=sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sc(e,n){return e=Ni(22,e,null,n),e.lanes=0,e}function Fh(e,n,r){return Us(n,e.child,null,r),e=Hh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yy(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),rh(e.return,n,r)}function Gh(e,n,r,o,f,d){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f,treeForkCount:d}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=r,b.tailMode=f,b.treeForkCount=d)}function _y(e,n,r){var o=n.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var b=en.current,w=(b&2)!==0;if(w?(b=b&1|2,n.flags|=128):b&=1,pe(en,b),In(e,n,o,r),o=ot?Rl:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yy(e,r,n);else if(e.tag===19)yy(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&Xu(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),Gh(n,!1,f,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Xu(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}Gh(n,!0,r,null,d,o);break;case"together":Gh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ja(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),zr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Co(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Qa(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Qa(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Yh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function FT(e,n,r){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Mr(n,sn,e.memoizedState.cache),Os();break;case 27:case 5:da(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Mr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ur(n),n.flags|=128,null):(r&n.child.childLanes)!==0?gy(e,n,r):(Ur(n),e=Ja(e,n,r),e!==null?e.sibling:null);Ur(n);break;case 19:var f=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Co(e,n,r,!1),o=(r&n.childLanes)!==0),f){if(o)return _y(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),pe(en,en.current),o)break;return null;case 22:return n.lanes=0,cy(e,n,r,n.pendingProps);case 24:Mr(n,sn,e.memoizedState.cache)}return Ja(e,n,r)}function vy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ln=!0;else{if(!Yh(e,r)&&(n.flags&128)===0)return ln=!1,FT(e,n,r);ln=(e.flags&131072)!==0}else ln=!1,ot&&(n.flags&1048576)!==0&&Wp(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Ls(n.elementType),n.type=e,typeof e=="function")Wf(e)?(o=qs(e,o),n.tag=1,n=my(null,n,e,o,r)):(n.tag=0,n=Bh(null,n,e,o,r));else{if(e!=null){var f=e.$$typeof;if(f===ye){n.tag=11,n=oy(null,n,e,o,r);break e}else if(f===D){n.tag=14,n=ly(null,n,e,o,r);break e}}throw n=_e(e)||e,Error(s(306,n,""))}}return n;case 0:return Bh(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,f=qs(o,n.pendingProps),my(e,n,o,f,r);case 3:e:{if(Xt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,hh(e,n),Ml(n,o,null,r);var b=n.memoizedState;if(o=b.cache,Mr(n,sn,o),o!==d.cache&&sh(n,[sn],r,!0),jl(),o=b.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=py(e,n,o,r);break e}else if(o!==f){f=Fi(Error(s(424)),n),Nl(f),n=py(e,n,o,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,kt=Ki(e.firstChild),xn=n,ot=!0,Or=null,Qi=!0,r=cg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Os(),o===f){n=Ja(e,n,r);break e}In(e,n,o,r)}n=n.child}return n;case 26:return rc(e,n),e===null?(r=D_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ot||(r=n.type,e=n.pendingProps,o=Tc(Ye.current).createElement(r),o[tt]=n,o[Zt]=e,On(o,r,e),Gt(o),n.stateNode=o):n.memoizedState=D_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return da(n),e===null&&ot&&(o=n.stateNode=N_(n.type,n.pendingProps,Ye.current),xn=n,Qi=!0,f=kt,Qr(n.type)?(Ad=f,kt=Ki(o.firstChild)):kt=f),In(e,n,n.pendingProps.children,r),rc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ot&&((f=o=kt)&&(o=E1(o,n.type,n.pendingProps,Qi),o!==null?(n.stateNode=o,xn=n,kt=Ki(o.firstChild),Qi=!1,f=!0):f=!1),f||jr(n)),da(n),f=n.type,d=n.pendingProps,b=e!==null?e.memoizedProps:null,o=d.children,Ed(f,d)?o=null:b!==null&&Ed(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=vh(e,n,VT,null,null,r),eu._currentValue=f),rc(e,n),In(e,n,o,r),n.child;case 6:return e===null&&ot&&((e=r=kt)&&(r=b1(r,n.pendingProps,Qi),r!==null?(n.stateNode=r,xn=n,kt=null,e=!0):e=!1),e||jr(n)),null;case 13:return gy(e,n,r);case 4:return Xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Us(n,null,o,r):In(e,n,o,r),n.child;case 11:return oy(e,n,n.type,n.pendingProps,r);case 7:return In(e,n,n.pendingProps,r),n.child;case 8:return In(e,n,n.pendingProps.children,r),n.child;case 12:return In(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Mr(n,n.type,o.value),In(e,n,o.children,r),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Ms(n),f=Dn(f),o=o(f),n.flags|=1,In(e,n,o,r),n.child;case 14:return ly(e,n,n.type,n.pendingProps,r);case 15:return uy(e,n,n.type,n.pendingProps,r);case 19:return _y(e,n,r);case 31:return HT(e,n,r);case 22:return cy(e,n,r,n.pendingProps);case 24:return Ms(n),o=Dn(sn),e===null?(f=uh(),f===null&&(f=Ot,d=oh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=r),f=d),n.memoizedState={parent:o,cache:f},fh(n),Mr(n,sn,f)):((e.lanes&r)!==0&&(hh(e,n),Ml(n,null,null,r),jl()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Mr(n,sn,o)):(o=d.cache,Mr(n,sn,o),o!==f.cache&&sh(n,[sn],r,!0))),In(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function er(e){e.flags|=4}function Qh(e,n,r,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw ks=Fu,ch}else e.flags&=-16777217}function Ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(n))if(Yy())e.flags|=8192;else throw ks=Fu,ch}function oc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?An():536870912,e.lanes|=n,qo|=n)}function ql(e,n){if(!ot)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function GT(e,n,r){var o=n.pendingProps;switch(th(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(n),null;case 1:return Ut(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$a(sn),Dt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(No(n)?er(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ih())),Ut(n),null;case 26:var f=n.type,d=n.memoizedState;return e===null?(er(n),d!==null?(Ut(n),Ey(n,d)):(Ut(n),Qh(n,f,null,o,r))):d?d!==e.memoizedState?(er(n),Ut(n),Ey(n,d)):(Ut(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&er(n),Ut(n),Qh(n,f,e,o,r)),null;case 27:if(Er(n),r=Ye.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&er(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ut(n),null}e=Ee.current,No(n)?Jp(n):(e=N_(f,o,r),n.stateNode=e,er(n))}return Ut(n),null;case 5:if(Er(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&er(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ut(n),null}if(d=Ee.current,No(n))Jp(n);else{var b=Tc(Ye.current);switch(d){case 1:d=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=b.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?b.createElement(f,{is:o.is}):b.createElement(f)}}d[tt]=n,d[Zt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=d;e:switch(On(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&er(n)}}return Ut(n),Qh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&er(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Ye.current,No(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,f=xn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[tt]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||g_(e.nodeValue,r)),e||jr(n,!0)}else e=Tc(e).createTextNode(o),e[tt]=n,n.stateNode=e}return Ut(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=No(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[tt]=n}else Os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ut(n),e=!1}else r=ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(xi(n),n):(xi(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ut(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=No(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[tt]=n}else Os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ut(n),f=!1}else f=ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(xi(n),n):(xi(n),null)}return xi(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),oc(n,n.updateQueue),Ut(n),null);case 4:return Dt(),e===null&&pd(n.stateNode.containerInfo),Ut(n),null;case 10:return $a(n.type),Ut(n),null;case 19:if(ae(en),o=n.memoizedState,o===null)return Ut(n),null;if(f=(n.flags&128)!==0,d=o.rendering,d===null)if(f)ql(o,!1);else{if(Wt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Xu(e),d!==null){for(n.flags|=128,ql(o,!1),e=d.updateQueue,n.updateQueue=e,oc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Xp(r,e),r=r.sibling;return pe(en,en.current&1|2),ot&&Xa(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&wn()>hc&&(n.flags|=128,f=!0,ql(o,!1),n.lanes=4194304)}else{if(!f)if(e=Xu(d),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,oc(n,e),ql(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ot)return Ut(n),null}else 2*wn()-o.renderingStartTime>hc&&r!==536870912&&(n.flags|=128,f=!0,ql(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(e=o.last,e!==null?e.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=wn(),e.sibling=null,r=en.current,pe(en,f?r&1|2:r&1),ot&&Xa(n,o.treeForkCount),e):(Ut(n),null);case 22:case 23:return xi(n),gh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Ut(n),n.subtreeFlags&6&&(n.flags|=8192)):Ut(n),r=n.updateQueue,r!==null&&oc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&ae(Vs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$a(sn),Ut(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function YT(e,n){switch(th(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $a(sn),Dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Er(n),null;case 31:if(n.memoizedState!==null){if(xi(n),n.alternate===null)throw Error(s(340));Os()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Os()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ae(en),null;case 4:return Dt(),null;case 10:return $a(n.type),null;case 22:case 23:return xi(n),gh(),e!==null&&ae(Vs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $a(sn),null;case 25:return null;default:return null}}function by(e,n){switch(th(n),n.tag){case 3:$a(sn),Dt();break;case 26:case 27:case 5:Er(n);break;case 4:Dt();break;case 31:n.memoizedState!==null&&xi(n);break;case 13:xi(n);break;case 19:ae(en);break;case 10:$a(n.type);break;case 22:case 23:xi(n),gh(),e!==null&&ae(Vs);break;case 24:$a(sn)}}function Pl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&e)===e){o=void 0;var d=r.create,b=r.inst;o=d(),b.destroy=o}r=r.next}while(r!==f)}}catch(w){wt(n,n.return,w)}}function qr(e,n,r){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var b=o.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=n;var L=r,Q=w;try{Q()}catch(ne){wt(f,L,ne)}}}o=o.next}while(o!==d)}}catch(ne){wt(n,n.return,ne)}}function Ty(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{hg(n,r)}catch(o){wt(e,e.return,o)}}}function Sy(e,n,r){r.props=qs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){wt(e,n,o)}}function zl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(f){wt(e,n,f)}}function Na(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){wt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){wt(e,n,f)}else r.current=null}function wy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){wt(e,e.return,f)}}function Xh(e,n,r){try{var o=e.stateNode;m1(o,e.type,r,n),o[Zt]=n}catch(f){wt(e,e.return,f)}}function Ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qr(e.type)||e.tag===4}function Kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $h(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Cn));else if(o!==4&&(o===27&&Qr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for($h(e,n,r),e=e.sibling;e!==null;)$h(e,n,r),e=e.sibling}function lc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Qr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(lc(e,n,r),e=e.sibling;e!==null;)lc(e,n,r),e=e.sibling}function Ry(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);On(n,o,r),n[tt]=e,n[Zt]=r}catch(d){wt(e,e.return,d)}}var tr=!1,un=!1,Wh=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function QT(e,n){if(e=e.containerInfo,_d=xc,e=Bp(e),Ff(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var b=0,w=-1,L=-1,Q=0,ne=0,le=e,X=null;t:for(;;){for(var Z;le!==r||f!==0&&le.nodeType!==3||(w=b+f),le!==d||o!==0&&le.nodeType!==3||(L=b+o),le.nodeType===3&&(b+=le.nodeValue.length),(Z=le.firstChild)!==null;)X=le,le=Z;for(;;){if(le===e)break t;if(X===r&&++Q===f&&(w=b),X===d&&++ne===o&&(L=b),(Z=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=Z}r=w===-1||L===-1?null:{start:w,end:L}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:e,selectionRange:r},xc=!1,Tn=n;Tn!==null;)if(n=Tn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Tn=e;else for(;Tn!==null;){switch(n=Tn,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,f=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var Ae=qs(r.type,f);e=o.getSnapshotBeforeUpdate(Ae,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Le){wt(r,r.return,Le)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Td(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Tn=e;break}Tn=n.return}}function Cy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ir(e,r),o&4&&Pl(5,r);break;case 1:if(ir(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(b){wt(r,r.return,b)}else{var f=qs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){wt(r,r.return,b)}}o&64&&Ty(r),o&512&&zl(r,r.return);break;case 3:if(ir(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hg(e,n)}catch(b){wt(r,r.return,b)}}break;case 27:n===null&&o&4&&Ry(r);case 26:case 5:ir(e,r),n===null&&o&4&&wy(r),o&512&&zl(r,r.return);break;case 12:ir(e,r);break;case 31:ir(e,r),o&4&&Iy(e,r);break;case 13:ir(e,r),o&4&&Oy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=n1.bind(null,r),T1(e,r))));break;case 22:if(o=r.memoizedState!==null||tr,!o){n=n!==null&&n.memoizedState!==null||un,f=tr;var d=un;tr=o,(un=n)&&!d?ar(e,r,(r.subtreeFlags&8772)!==0):ir(e,r),tr=f,un=d}break;case 30:break;default:ir(e,r)}}function xy(e){var n=e.alternate;n!==null&&(e.alternate=null,xy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ar(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zt=null,hi=!1;function nr(e,n,r){for(r=r.child;r!==null;)Dy(e,n,r),r=r.sibling}function Dy(e,n,r){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(vi,r)}catch{}switch(r.tag){case 26:un||Na(r,n),nr(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:un||Na(r,n);var o=zt,f=hi;Qr(r.type)&&(zt=r.stateNode,hi=!1),nr(e,n,r),Wl(r.stateNode),zt=o,hi=f;break;case 5:un||Na(r,n);case 6:if(o=zt,f=hi,zt=null,nr(e,n,r),zt=o,hi=f,zt!==null)if(hi)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(r.stateNode)}catch(d){wt(r,n,d)}else try{zt.removeChild(r.stateNode)}catch(d){wt(r,n,d)}break;case 18:zt!==null&&(hi?(e=zt,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Xo(e)):T_(zt,r.stateNode));break;case 4:o=zt,f=hi,zt=r.stateNode.containerInfo,hi=!0,nr(e,n,r),zt=o,hi=f;break;case 0:case 11:case 14:case 15:qr(2,r,n),un||qr(4,r,n),nr(e,n,r);break;case 1:un||(Na(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Sy(r,n,o)),nr(e,n,r);break;case 21:nr(e,n,r);break;case 22:un=(o=un)||r.memoizedState!==null,nr(e,n,r),un=o;break;default:nr(e,n,r)}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xo(e)}catch(r){wt(n,n.return,r)}}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xo(e)}catch(r){wt(n,n.return,r)}}function XT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ny),n;default:throw Error(s(435,e.tag))}}function uc(e,n){var r=XT(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var f=i1.bind(null,e,o);o.then(f,f)}})}function di(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],d=e,b=n,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Qr(w.type)){zt=w.stateNode,hi=!1;break e}break;case 5:zt=w.stateNode,hi=!1;break e;case 3:case 4:zt=w.stateNode.containerInfo,hi=!0;break e}w=w.return}if(zt===null)throw Error(s(160));Dy(d,b,f),zt=null,hi=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,e),n=n.sibling}var la=null;function jy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:di(n,e),mi(e),o&4&&(qr(3,e,e.return),Pl(3,e),qr(5,e,e.return));break;case 1:di(n,e),mi(e),o&512&&(un||r===null||Na(r,r.return)),o&64&&tr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=la;if(di(n,e),mi(e),o&512&&(un||r===null||Na(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Wn]||d[tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),On(d,o,r),d[tt]=e,Gt(d),o=d;break e;case"link":var b=j_("link","href",f).get(o+(r.href||""));if(b){for(var w=0;w<b.length;w++)if(d=b[w],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(w,1);break t}}d=f.createElement(o),On(d,o,r),f.head.appendChild(d);break;case"meta":if(b=j_("meta","content",f).get(o+(r.content||""))){for(w=0;w<b.length;w++)if(d=b[w],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(w,1);break t}}d=f.createElement(o),On(d,o,r),f.head.appendChild(d);break;default:throw Error(s(468,o))}d[tt]=e,Gt(d),o=d}e.stateNode=o}else M_(f,e.type,e.stateNode);else e.stateNode=O_(f,o,e.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?M_(f,e.type,e.stateNode):O_(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xh(e,e.memoizedProps,r.memoizedProps)}break;case 27:di(n,e),mi(e),o&512&&(un||r===null||Na(r,r.return)),r!==null&&o&4&&Xh(e,e.memoizedProps,r.memoizedProps);break;case 5:if(di(n,e),mi(e),o&512&&(un||r===null||Na(r,r.return)),e.flags&32){f=e.stateNode;try{yn(f,"")}catch(Ae){wt(e,e.return,Ae)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Xh(e,f,r!==null?r.memoizedProps:f)),o&1024&&(Wh=!0);break;case 6:if(di(n,e),mi(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(Ae){wt(e,e.return,Ae)}}break;case 3:if(Ac=null,f=la,la=Sc(n.containerInfo),di(n,e),la=f,mi(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Xo(n.containerInfo)}catch(Ae){wt(e,e.return,Ae)}Wh&&(Wh=!1,My(e));break;case 4:o=la,la=Sc(e.stateNode.containerInfo),di(n,e),mi(e),la=o;break;case 12:di(n,e),mi(e);break;case 31:di(n,e),mi(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 13:di(n,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fc=wn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 22:f=e.memoizedState!==null;var L=r!==null&&r.memoizedState!==null,Q=tr,ne=un;if(tr=Q||f,un=ne||L,di(n,e),un=ne,tr=Q,mi(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||L||tr||un||Ps(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){L=r=n;try{if(d=L.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=L.stateNode;var le=L.memoizedProps.style,X=le!=null&&le.hasOwnProperty("display")?le.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Ae){wt(L,L.return,Ae)}}}else if(n.tag===6){if(r===null){L=n;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(Ae){wt(L,L.return,Ae)}}}else if(n.tag===18){if(r===null){L=n;try{var Z=L.stateNode;f?S_(Z,!0):S_(L.stateNode,!1)}catch(Ae){wt(L,L.return,Ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,uc(e,r))));break;case 19:di(n,e),mi(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 30:break;case 21:break;default:di(n,e),mi(e)}}function mi(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Ay(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,d=Kh(e);lc(e,d,f);break;case 5:var b=r.stateNode;r.flags&32&&(yn(b,""),r.flags&=-33);var w=Kh(e);lc(e,w,b);break;case 3:case 4:var L=r.stateNode.containerInfo,Q=Kh(e);$h(e,Q,L);break;default:throw Error(s(161))}}catch(ne){wt(e,e.return,ne)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ir(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(e,n.alternate,n),n=n.sibling}function Ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qr(4,n,n.return),Ps(n);break;case 1:Na(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Sy(n,n.return,r),Ps(n);break;case 27:Wl(n.stateNode);case 26:case 5:Na(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}e=e.sibling}}function ar(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:ar(f,d,r),Pl(4,d);break;case 1:if(ar(f,d,r),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){wt(o,o.return,Q)}if(o=d,f=o.updateQueue,f!==null){var w=o.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)fg(L[f],w)}catch(Q){wt(o,o.return,Q)}}r&&b&64&&Ty(d),zl(d,d.return);break;case 27:Ry(d);case 26:case 5:ar(f,d,r),r&&o===null&&b&4&&wy(d),zl(d,d.return);break;case 12:ar(f,d,r);break;case 31:ar(f,d,r),r&&b&4&&Iy(f,d);break;case 13:ar(f,d,r),r&&b&4&&Oy(f,d);break;case 22:d.memoizedState===null&&ar(f,d,r),zl(d,d.return);break;case 30:break;default:ar(f,d,r)}n=n.sibling}}function Zh(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Cl(r))}function Jh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e))}function ua(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,r,o),n=n.sibling}function Vy(e,n,r,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ua(e,n,r,o),f&2048&&Pl(9,n);break;case 1:ua(e,n,r,o);break;case 3:ua(e,n,r,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e)));break;case 12:if(f&2048){ua(e,n,r,o),e=n.stateNode;try{var d=n.memoizedProps,b=d.id,w=d.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){wt(n,n.return,L)}}else ua(e,n,r,o);break;case 31:ua(e,n,r,o);break;case 13:ua(e,n,r,o);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?ua(e,n,r,o):Hl(e,n):d._visibility&2?ua(e,n,r,o):(d._visibility|=2,ko(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Zh(b,n);break;case 24:ua(e,n,r,o),f&2048&&Jh(n.alternate,n);break;default:ua(e,n,r,o)}}function ko(e,n,r,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,b=n,w=r,L=o,Q=b.flags;switch(b.tag){case 0:case 11:case 15:ko(d,b,w,L,f),Pl(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?ko(d,b,w,L,f):Hl(d,b):(ne._visibility|=2,ko(d,b,w,L,f)),f&&Q&2048&&Zh(b.alternate,b);break;case 24:ko(d,b,w,L,f),f&&Q&2048&&Jh(b.alternate,b);break;default:ko(d,b,w,L,f)}n=n.sibling}}function Hl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,f=o.flags;switch(o.tag){case 22:Hl(r,o),f&2048&&Zh(o.alternate,o);break;case 24:Hl(r,o),f&2048&&Jh(o.alternate,o);break;default:Hl(r,o)}n=n.sibling}}var Fl=8192;function Uo(e,n,r){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)Ly(e,n,r),e=e.sibling}function Ly(e,n,r){switch(e.tag){case 26:Uo(e,n,r),e.flags&Fl&&e.memoizedState!==null&&M1(r,la,e.memoizedState,e.memoizedProps);break;case 5:Uo(e,n,r);break;case 3:case 4:var o=la;la=Sc(e.stateNode.containerInfo),Uo(e,n,r),la=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Fl,Fl=16777216,Uo(e,n,r),Fl=o):Uo(e,n,r));break;default:Uo(e,n,r)}}function ky(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Tn=o,By(o,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&qr(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cc(e)):Gl(e);break;default:Gl(e)}}function cc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Tn=o,By(o,e)}ky(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qr(8,n,n.return),cc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,cc(n));break;default:cc(n)}e=e.sibling}}function By(e,n){for(;Tn!==null;){var r=Tn;switch(r.tag){case 0:case 11:case 15:qr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Cl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Tn=o;else e:for(r=e;Tn!==null;){o=Tn;var f=o.sibling,d=o.return;if(xy(o),o===r){Tn=null;break e}if(f!==null){f.return=d,Tn=f;break e}Tn=d}}}var KT={getCacheForType:function(e){var n=Dn(sn),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Dn(sn).controller.signal}},$T=typeof WeakMap=="function"?WeakMap:Map,yt=0,Ot=null,We=null,it=0,St=0,Di=null,Pr=!1,Bo=!1,ed=!1,rr=0,Wt=0,zr=0,zs=0,td=0,Ii=0,qo=0,Yl=null,pi=null,nd=!1,fc=0,qy=0,hc=1/0,dc=null,Hr=null,mn=0,Fr=null,Po=null,sr=0,id=0,ad=null,Py=null,Ql=0,rd=null;function Oi(){return(yt&2)!==0&&it!==0?it&-it:P.T!==null?fd():ys()}function zy(){if(Ii===0)if((it&536870912)===0||ot){var e=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),Ii=e}else Ii=536870912;return e=Ci.current,e!==null&&(e.flags|=32),Ii}function gi(e,n,r){(e===Ot&&(St===2||St===9)||e.cancelPendingCommit!==null)&&(zo(e,0),Gr(e,it,Ii,!1)),ia(e,r),((yt&2)===0||e!==Ot)&&(e===Ot&&((yt&2)===0&&(zs|=r),Wt===4&&Gr(e,it,Ii,!1)),Ca(e))}function Hy(e,n,r){if((yt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ti(e,n),f=o?JT(e,n):od(e,n,!0),d=o;do{if(f===0){Bo&&!o&&Gr(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!WT(r)){f=od(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var w=e;f=Yl;var L=w.current.memoizedState.isDehydrated;if(L&&(zo(w,b).flags|=256),b=od(w,b,!1),b!==2){if(ed&&!L){w.errorRecoveryDisabledLanes|=d,zs|=d,f=4;break e}d=pi,pi=f,d!==null&&(pi===null?pi=d:pi.push.apply(pi,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){zo(e,0),Gr(e,n,0,!0);break}e:{switch(o=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Gr(o,n,Ii,!Pr);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=fc+300-wn(),10<f)){if(Gr(o,n,Ii,!Pr),fe(o,0,!0)!==0)break e;sr=n,o.timeoutHandle=E_(Fy.bind(null,o,r,pi,dc,nd,n,Ii,zs,qo,Pr,d,"Throttled",-0,0),f);break e}Fy(o,r,pi,dc,nd,n,Ii,zs,qo,Pr,d,null,-0,0)}}break}while(!0);Ca(e)}function Fy(e,n,r,o,f,d,b,w,L,Q,ne,le,X,Z){if(e.timeoutHandle=-1,le=n.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Ly(n,d,le);var Ae=(d&62914560)===d?fc-wn():(d&4194048)===d?qy-wn():0;if(Ae=V1(le,Ae),Ae!==null){sr=d,e.cancelPendingCommit=Ae(Zy.bind(null,e,n,d,r,o,f,b,w,L,ne,le,null,X,Z)),Gr(e,d,b,!Q);return}}Zy(e,n,d,r,o,f,b,w,L)}function WT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],d=f.getSnapshot;f=f.value;try{if(!Ri(d(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gr(e,n,r,o){n&=~td,n&=~zs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-Lt(f),b=1<<d;o[d]=-1,f&=~b}r!==0&&$n(e,r,n)}function mc(){return(yt&6)===0?(Xl(0),!1):!0}function sd(){if(We!==null){if(St===0)var e=We.return;else e=We,Ka=js=null,Th(e),Oo=null,Dl=0,e=We;for(;e!==null;)by(e.alternate,e),e=e.return;We=null}}function zo(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,y1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),sr=0,sd(),Ot=e,We=r=Qa(e.current,null),it=n,St=0,Di=null,Pr=!1,Bo=Ti(e,n),ed=!1,qo=Ii=td=zs=zr=Wt=0,pi=Yl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-Lt(o),d=1<<f;n|=e[f],o&=~d}return rr=n,Vu(),r}function Gy(e,n){Qe=null,P.H=Ul,n===Io||n===Hu?(n=og(),St=3):n===ch?(n=og(),St=4):St=n===Uh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Di=n,We===null&&(Wt=1,ic(e,Fi(n,e.current)))}function Yy(){var e=Ci.current;return e===null?!0:(it&4194048)===it?Xi===null:(it&62914560)===it||(it&536870912)!==0?e===Xi:!1}function Qy(){var e=P.H;return P.H=Ul,e===null?Ul:e}function Xy(){var e=P.A;return P.A=KT,e}function pc(){Wt=4,Pr||(it&4194048)!==it&&Ci.current!==null||(Bo=!0),(zr&134217727)===0&&(zs&134217727)===0||Ot===null||Gr(Ot,it,Ii,!1)}function od(e,n,r){var o=yt;yt|=2;var f=Qy(),d=Xy();(Ot!==e||it!==n)&&(dc=null,zo(e,n)),n=!1;var b=Wt;e:do try{if(St!==0&&We!==null){var w=We,L=Di;switch(St){case 8:sd(),b=6;break e;case 3:case 2:case 9:case 6:Ci.current===null&&(n=!0);var Q=St;if(St=0,Di=null,Ho(e,w,L,Q),r&&Bo){b=0;break e}break;default:Q=St,St=0,Di=null,Ho(e,w,L,Q)}}ZT(),b=Wt;break}catch(ne){Gy(e,ne)}while(!0);return n&&e.shellSuspendCounter++,Ka=js=null,yt=o,P.H=f,P.A=d,We===null&&(Ot=null,it=0,Vu()),b}function ZT(){for(;We!==null;)Ky(We)}function JT(e,n){var r=yt;yt|=2;var o=Qy(),f=Xy();Ot!==e||it!==n?(dc=null,hc=wn()+500,zo(e,n)):Bo=Ti(e,n);e:do try{if(St!==0&&We!==null){n=We;var d=Di;t:switch(St){case 1:St=0,Di=null,Ho(e,n,d,1);break;case 2:case 9:if(rg(d)){St=0,Di=null,$y(n);break}n=function(){St!==2&&St!==9||Ot!==e||(St=7),Ca(e)},d.then(n,n);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:rg(d)?(St=0,Di=null,$y(n)):(St=0,Di=null,Ho(e,n,d,7));break;case 5:var b=null;switch(We.tag){case 26:b=We.memoizedState;case 5:case 27:var w=We;if(b?V_(b):w.stateNode.complete){St=0,Di=null;var L=w.sibling;if(L!==null)We=L;else{var Q=w.return;Q!==null?(We=Q,gc(Q)):We=null}break t}}St=0,Di=null,Ho(e,n,d,5);break;case 6:St=0,Di=null,Ho(e,n,d,6);break;case 8:sd(),Wt=6;break e;default:throw Error(s(462))}}e1();break}catch(ne){Gy(e,ne)}while(!0);return Ka=js=null,P.H=o,P.A=f,yt=r,We!==null?0:(Ot=null,it=0,Vu(),Wt)}function e1(){for(;We!==null&&!El();)Ky(We)}function Ky(e){var n=vy(e.alternate,e,rr);e.memoizedProps=e.pendingProps,n===null?gc(e):We=n}function $y(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=dy(r,n,n.pendingProps,n.type,void 0,it);break;case 11:n=dy(r,n,n.pendingProps,n.type.render,n.ref,it);break;case 5:Th(n);default:by(r,n),n=We=Xp(n,rr),n=vy(r,n,rr)}e.memoizedProps=e.pendingProps,n===null?gc(e):We=n}function Ho(e,n,r,o){Ka=js=null,Th(n),Oo=null,Dl=0;var f=n.return;try{if(zT(e,f,n,r,it)){Wt=1,ic(e,Fi(r,e.current)),We=null;return}}catch(d){if(f!==null)throw We=f,d;Wt=1,ic(e,Fi(r,e.current)),We=null;return}n.flags&32768?(ot||o===1?e=!0:Bo||(it&536870912)!==0?e=!1:(Pr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Ci.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,e)):gc(n)}function gc(e){var n=e;do{if((n.flags&32768)!==0){Wy(n,Pr);return}e=n.return;var r=GT(n.alternate,n,rr);if(r!==null){We=r;return}if(n=n.sibling,n!==null){We=n;return}We=n=e}while(n!==null);Wt===0&&(Wt=5)}function Wy(e,n){do{var r=YT(e.alternate,e);if(r!==null){r.flags&=32767,We=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){We=e;return}We=e=r}while(e!==null);Wt=6,We=null}function Zy(e,n,r,o,f,d,b,w,L){e.cancelPendingCommit=null;do yc();while(mn!==0);if((yt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Kf,gs(e,r,d,b,w,L),e===Ot&&(We=Ot=null,it=0),Po=n,Fr=e,sr=r,id=d,ad=f,Py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,a1(na,function(){return i_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,f=he.p,he.p=2,b=yt,yt|=4;try{QT(e,n,r)}finally{yt=b,he.p=f,P.T=o}}mn=1,Jy(),e_(),t_()}}function Jy(){if(mn===1){mn=0;var e=Fr,n=Po,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var o=he.p;he.p=2;var f=yt;yt|=4;try{jy(n,e);var d=vd,b=Bp(e.containerInfo),w=d.focusedElem,L=d.selectionRange;if(b!==w&&w&&w.ownerDocument&&Up(w.ownerDocument.documentElement,w)){if(L!==null&&Ff(w)){var Q=L.start,ne=L.end;if(ne===void 0&&(ne=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(ne,w.value.length);else{var le=w.ownerDocument||document,X=le&&le.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Ae=w.textContent.length,Le=Math.min(L.start,Ae),xt=L.end===void 0?Le:Math.min(L.end,Ae);!Z.extend&&Le>xt&&(b=xt,xt=Le,Le=b);var z=kp(w,Le),q=kp(w,xt);if(z&&q&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var Y=le.createRange();Y.setStart(z.node,z.offset),Z.removeAllRanges(),Le>xt?(Z.addRange(Y),Z.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),Z.addRange(Y))}}}}for(le=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&le.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<le.length;w++){var re=le[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}xc=!!_d,vd=_d=null}finally{yt=f,he.p=o,P.T=r}}e.current=n,mn=2}}function e_(){if(mn===2){mn=0;var e=Fr,n=Po,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var o=he.p;he.p=2;var f=yt;yt|=4;try{Cy(e,n.alternate,n)}finally{yt=f,he.p=o,P.T=r}}mn=3}}function t_(){if(mn===4||mn===3){mn=0,ds();var e=Fr,n=Po,r=sr,o=Py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mn=5:(mn=0,Po=Fr=null,n_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Hr=null),Bn(r),n=n.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(vi,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=P.T,f=he.p,he.p=2,P.T=null;try{for(var d=e.onRecoverableError,b=0;b<o.length;b++){var w=o[b];d(w.value,{componentStack:w.stack})}}finally{P.T=n,he.p=f}}(sr&3)!==0&&yc(),Ca(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===rd?Ql++:(Ql=0,rd=e):Ql=0,Xl(0)}}function n_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Cl(n)))}function yc(){return Jy(),e_(),t_(),i_()}function i_(){if(mn!==5)return!1;var e=Fr,n=id;id=0;var r=Bn(sr),o=P.T,f=he.p;try{he.p=32>r?32:r,P.T=null,r=ad,ad=null;var d=Fr,b=sr;if(mn=0,Po=Fr=null,sr=0,(yt&6)!==0)throw Error(s(331));var w=yt;if(yt|=4,Uy(d.current),Vy(d,d.current,b,r),yt=w,Xl(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(vi,d)}catch{}return!0}finally{he.p=f,P.T=o,n_(e,n)}}function a_(e,n,r){n=Fi(r,n),n=kh(e.stateNode,n,2),e=kr(e,n,2),e!==null&&(ia(e,2),Ca(e))}function wt(e,n,r){if(e.tag===3)a_(e,e,r);else for(;n!==null;){if(n.tag===3){a_(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hr===null||!Hr.has(o))){e=Fi(r,e),r=ry(2),o=kr(n,r,2),o!==null&&(sy(r,o,n,e),ia(o,2),Ca(o));break}}n=n.return}}function ld(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new $T;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(r)||(ed=!0,f.add(r),e=t1.bind(null,e,n,r),n.then(e,e))}function t1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ot===e&&(it&r)===r&&(Wt===4||Wt===3&&(it&62914560)===it&&300>wn()-fc?(yt&2)===0&&zo(e,0):td|=r,qo===it&&(qo=0)),Ca(e)}function r_(e,n){n===0&&(n=An()),e=Ds(e,n),e!==null&&(ia(e,n),Ca(e))}function n1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),r_(e,r)}function i1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),r_(e,r)}function a1(e,n){return Kt(e,n)}var _c=null,Fo=null,ud=!1,vc=!1,cd=!1,Yr=0;function Ca(e){e!==Fo&&e.next===null&&(Fo===null?_c=Fo=e:Fo=Fo.next=e),vc=!0,ud||(ud=!0,s1())}function Xl(e,n){if(!cd&&vc){cd=!0;do for(var r=!1,o=_c;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var b=o.suspendedLanes,w=o.pingedLanes;d=(1<<31-Lt(42|e)+1)-1,d&=f&~(b&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,u_(o,d))}else d=it,d=fe(o,o===Ot?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Ti(o,d)||(r=!0,u_(o,d));o=o.next}while(r);cd=!1}}function r1(){s_()}function s_(){vc=ud=!1;var e=0;Yr!==0&&g1()&&(e=Yr);for(var n=wn(),r=null,o=_c;o!==null;){var f=o.next,d=o_(o,n);d===0?(o.next=null,r===null?_c=f:r.next=f,f===null&&(Fo=r)):(r=o,(e!==0||(d&3)!==0)&&(vc=!0)),o=f}mn!==0&&mn!==5||Xl(e),Yr!==0&&(Yr=0)}function o_(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-Lt(d),w=1<<b,L=f[b];L===-1?((w&r)===0||(w&o)!==0)&&(f[b]=bl(w,n)):L<=n&&(e.expiredLanes|=w),d&=~w}if(n=Ot,r=it,r=fe(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(St===2||St===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&_i(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ti(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&_i(o),Bn(r)){case 2:case 8:r=Xn;break;case 32:r=na;break;case 268435456:r=ms;break;default:r=na}return o=l_.bind(null,e),r=Kt(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&_i(o),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,n){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(yc()&&e.callbackNode!==r)return null;var o=it;return o=fe(e,e===Ot?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hy(e,o,n),o_(e,wn()),e.callbackNode!=null&&e.callbackNode===r?l_.bind(null,e):null)}function u_(e,n){if(yc())return null;Hy(e,n,!0)}function s1(){_1(function(){(yt&6)!==0?Kt(ta,r1):s_()})}function fd(){if(Yr===0){var e=xo;e===0&&(e=dn,dn<<=1,(dn&261888)===0&&(dn=256)),Yr=e}return Yr}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function f_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function o1(e,n,r,o,f){if(n==="submit"&&r&&r.stateNode===f){var d=c_((f[Zt]||null).action),b=o.submitter;b&&(n=(n=b[Zt]||null)?c_(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var w=new dt("action","action",null,o,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Yr!==0){var L=b?f_(f,b):new FormData(f);Ih(r,{pending:!0,data:L,method:f.method,action:d},null,L)}}else typeof d=="function"&&(w.preventDefault(),L=b?f_(f,b):new FormData(f),Ih(r,{pending:!0,data:L,method:f.method,action:d},d,L))},currentTarget:f}]})}}for(var hd=0;hd<Xf.length;hd++){var dd=Xf[hd],l1=dd.toLowerCase(),u1=dd[0].toUpperCase()+dd.slice(1);oa(l1,"on"+u1)}oa(zp,"onAnimationEnd"),oa(Hp,"onAnimationIteration"),oa(Fp,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(AT,"onTransitionRun"),oa(RT,"onTransitionStart"),oa(NT,"onTransitionCancel"),oa(Gp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function h_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],f=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var b=o.length-1;0<=b;b--){var w=o[b],L=w.instance,Q=w.currentTarget;if(w=w.listener,L!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=Q;try{d(f)}catch(ne){Mu(ne)}f.currentTarget=null,d=L}else for(b=0;b<o.length;b++){if(w=o[b],L=w.instance,Q=w.currentTarget,w=w.listener,L!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=Q;try{d(f)}catch(ne){Mu(ne)}f.currentTarget=null,d=L}}}}function Ze(e,n){var r=n[ya];r===void 0&&(r=n[ya]=new Set);var o=e+"__bubble";r.has(o)||(d_(n,e,2,!1),r.add(o))}function md(e,n,r){var o=0;n&&(o|=4),d_(r,e,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[Ec]){e[Ec]=!0,aa.forEach(function(r){r!=="selectionchange"&&(c1.has(r)||md(r,!1,e),md(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,md("selectionchange",!1,n))}}function d_(e,n,r,o){switch(z_(n)){case 2:var f=U1;break;case 8:f=B1;break;default:f=Dd}r=f.bind(null,n,r,e),f=void 0,!ra||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function gd(e,n,r,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var w=o.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=o.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Jt(w),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){o=d=b;continue e}w=w.parentNode}}o=o.return}ci(function(){var Q=d,ne=be(r),le=[];e:{var X=Yp.get(e);if(X!==void 0){var Z=dt,Ae=e;switch(e){case"keypress":if(F(r)===0)break e;case"keydown":case"keyup":Z=_o;break;case"focusin":Ae="focus",Z=Ya;break;case"focusout":Ae="blur",Z=Ya;break;case"beforeblur":case"afterblur":Z=Ya;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case zp:case Hp:case Fp:Z=fo;break;case Gp:Z=N;break;case"scroll":case"scrollend":Z=xr;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=sa;break;case"toggle":case"beforetoggle":Z=qe}var Le=(n&4)!==0,xt=!Le&&(e==="scroll"||e==="scrollend"),z=Le?X!==null?X+"Capture":null:X;Le=[];for(var q=Q,Y;q!==null;){var re=q;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||z===null||(re=rn(q,z),re!=null&&Le.push($l(q,re,Y))),xt)break;q=q.return}0<Le.length&&(X=new Z(X,Ae,null,r,ne),le.push({event:X,listeners:Le}))}}if((n&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",X&&r!==Ss&&(Ae=r.relatedTarget||r.fromElement)&&(Jt(Ae)||Ae[Mi]))break e;if((Z||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Ae=r.relatedTarget||r.toElement,Z=Q,Ae=Ae?Jt(Ae):null,Ae!==null&&(xt=c(Ae),Le=Ae.tag,Ae!==xt||Le!==5&&Le!==27&&Le!==6)&&(Ae=null)):(Z=null,Ae=Q),Z!==Ae)){if(Le=ws,re="onMouseLeave",z="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Le=sa,re="onPointerLeave",z="onPointerEnter",q="pointer"),xt=Z==null?X:Nn(Z),Y=Ae==null?X:Nn(Ae),X=new Le(re,q+"leave",Z,r,ne),X.target=xt,X.relatedTarget=Y,re=null,Jt(ne)===Q&&(Le=new Le(z,q+"enter",Ae,r,ne),Le.target=Y,Le.relatedTarget=xt,re=Le),xt=re,Z&&Ae)t:{for(Le=f1,z=Z,q=Ae,Y=0,re=z;re;re=Le(re))Y++;re=0;for(var Oe=q;Oe;Oe=Le(Oe))re++;for(;0<Y-re;)z=Le(z),Y--;for(;0<re-Y;)q=Le(q),re--;for(;Y--;){if(z===q||q!==null&&z===q.alternate){Le=z;break t}z=Le(z),q=Le(q)}Le=null}else Le=null;Z!==null&&m_(le,X,Z,Le,!1),Ae!==null&&xt!==null&&m_(le,xt,Ae,Le,!0)}}e:{if(X=Q?Nn(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var pt=Ip;else if(Eo(X))if(Op)pt=TT;else{pt=ET;var Ne=vT}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&ui(Q.elementType)&&(pt=Ip):pt=bT;if(pt&&(pt=pt(e,Q))){wa(le,pt,r,ne);break e}Ne&&Ne(e,X,Q),e==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&bs(X,"number",X.value)}switch(Ne=Q?Nn(Q):window,e){case"focusin":(Eo(Ne)||Ne.contentEditable==="true")&&(bo=Ne,Gf=Q,Al=null);break;case"focusout":Al=Gf=bo=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,qp(le,r,ne);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":qp(le,r,ne)}var Xe;if(ut)e:{switch(e){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else bn?Ve(e,r)&&(at="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(at="onCompositionStart");at&&(se&&r.locale!=="ko"&&(bn||at!=="onCompositionStart"?at==="onCompositionEnd"&&bn&&(Xe=k()):(y=ne,S="value"in y?y.value:y.textContent,bn=!0)),Ne=bc(Q,at),0<Ne.length&&(at=new zi(at,e,null,r,ne),le.push({event:at,listeners:Ne}),Xe?at.data=Xe:(Xe=nt(r),Xe!==null&&(at.data=Xe)))),(Xe=H?fi(e,r):ni(e,r))&&(at=bc(Q,"onBeforeInput"),0<at.length&&(Ne=new zi("onBeforeInput","beforeinput",null,r,ne),le.push({event:Ne,listeners:at}),Ne.data=Xe)),o1(le,e,Q,r,ne)}h_(le,n)})}function $l(e,n,r){return{instance:e,listener:n,currentTarget:r}}function bc(e,n){for(var r=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=rn(e,r),f!=null&&o.unshift($l(e,f,d)),f=rn(e,n),f!=null&&o.push($l(e,f,d))),e.tag===3)return o;e=e.return}return[]}function f1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m_(e,n,r,o,f){for(var d=n._reactName,b=[];r!==null&&r!==o;){var w=r,L=w.alternate,Q=w.stateNode;if(w=w.tag,L!==null&&L===o)break;w!==5&&w!==26&&w!==27||Q===null||(L=Q,f?(Q=rn(r,d),Q!=null&&b.unshift($l(r,Q,L))):f||(Q=rn(r,d),Q!=null&&b.push($l(r,Q,L)))),r=r.return}b.length!==0&&e.push({event:n,listeners:b})}var h1=/\r\n?/g,d1=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(h1,`
`).replace(d1,"")}function g_(e,n){return n=p_(n),p_(e)===n}function Ct(e,n,r,o,f,d){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(e,""+o);break;case"className":Jn(e,"class",o);break;case"tabIndex":Jn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(e,r,o);break;case"style":Ea(e,o,d);break;case"data":if(n!=="object"){Jn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ei(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Ct(e,n,"name",f.name,f,null),Ct(e,n,"formEncType",f.formEncType,f,null),Ct(e,n,"formMethod",f.formMethod,f,null),Ct(e,n,"formTarget",f.formTarget,f,null)):(Ct(e,n,"encType",f.encType,f,null),Ct(e,n,"method",f.method,f,null),Ct(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ei(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Cn);break;case"onScroll":o!=null&&Ze("scroll",e);break;case"onScrollEnd":o!=null&&Ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ei(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ze("beforetoggle",e),Ze("toggle",e),qa(e,"popover",o);break;case"xlinkActuate":Tt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":qa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Cr.get(r)||r,qa(e,r,o))}}function yd(e,n,r,o,f,d){switch(r){case"style":Ea(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Ze("scroll",e);break;case"onScrollEnd":o!=null&&Ze("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),d=e[Zt]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,f);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):qa(e,r,o)}}}function On(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",e),Ze("load",e);var o=!1,f=!1,d;for(d in r)if(r.hasOwnProperty(d)){var b=r[d];if(b!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ct(e,n,d,b,r,null)}}f&&Ct(e,n,"srcSet",r.srcSet,r,null),o&&Ct(e,n,"src",r.src,r,null);return;case"input":Ze("invalid",e);var w=d=b=f=null,L=null,Q=null;for(o in r)if(r.hasOwnProperty(o)){var ne=r[o];if(ne!=null)switch(o){case"name":f=ne;break;case"type":b=ne;break;case"checked":L=ne;break;case"defaultChecked":Q=ne;break;case"value":d=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,n));break;default:Ct(e,n,o,ne,r,null)}}Es(e,d,w,L,Q,b,f,!1);return;case"select":Ze("invalid",e),o=b=d=null;for(f in r)if(r.hasOwnProperty(f)&&(w=r[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":b=w;break;case"multiple":o=w;default:Ct(e,n,f,w,r,null)}n=d,r=b,e.multiple=!!o,n!=null?Ui(e,!!o,n,!1):r!=null&&Ui(e,!!o,r,!0);return;case"textarea":Ze("invalid",e),d=f=o=null;for(b in r)if(r.hasOwnProperty(b)&&(w=r[b],w!=null))switch(b){case"value":o=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ct(e,n,b,w,r,null)}Bi(e,o,f,d);return;case"option":for(L in r)r.hasOwnProperty(L)&&(o=r[L],o!=null)&&(L==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Ct(e,n,L,o,r,null));return;case"dialog":Ze("beforetoggle",e),Ze("toggle",e),Ze("cancel",e),Ze("close",e);break;case"iframe":case"object":Ze("load",e);break;case"video":case"audio":for(o=0;o<Kl.length;o++)Ze(Kl[o],e);break;case"image":Ze("error",e),Ze("load",e);break;case"details":Ze("toggle",e);break;case"embed":case"source":case"link":Ze("error",e),Ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in r)if(r.hasOwnProperty(Q)&&(o=r[Q],o!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ct(e,n,Q,o,r,null)}return;default:if(ui(n)){for(ne in r)r.hasOwnProperty(ne)&&(o=r[ne],o!==void 0&&yd(e,n,ne,o,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(o=r[w],o!=null&&Ct(e,n,w,o,r,null))}function m1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,w=null,L=null,Q=null,ne=null;for(Z in r){var le=r[Z];if(r.hasOwnProperty(Z)&&le!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":L=le;default:o.hasOwnProperty(Z)||Ct(e,n,Z,null,o,le)}}for(var X in o){var Z=o[X];if(le=r[X],o.hasOwnProperty(X)&&(Z!=null||le!=null))switch(X){case"type":d=Z;break;case"name":f=Z;break;case"checked":Q=Z;break;case"defaultChecked":ne=Z;break;case"value":b=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Z!==le&&Ct(e,n,X,Z,o,le)}}ki(e,b,w,L,Q,ne,d,f);return;case"select":Z=b=w=X=null;for(d in r)if(L=r[d],r.hasOwnProperty(d)&&L!=null)switch(d){case"value":break;case"multiple":Z=L;default:o.hasOwnProperty(d)||Ct(e,n,d,null,o,L)}for(f in o)if(d=o[f],L=r[f],o.hasOwnProperty(f)&&(d!=null||L!=null))switch(f){case"value":X=d;break;case"defaultValue":w=d;break;case"multiple":b=d;default:d!==L&&Ct(e,n,f,d,o,L)}n=w,r=b,o=Z,X!=null?Ui(e,!!r,X,!1):!!o!=!!r&&(n!=null?Ui(e,!!r,n,!0):Ui(e,!!r,r?[]:"",!1));return;case"textarea":Z=X=null;for(w in r)if(f=r[w],r.hasOwnProperty(w)&&f!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ct(e,n,w,null,o,f)}for(b in o)if(f=o[b],d=r[b],o.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":X=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ct(e,n,b,f,o,d)}Ts(e,X,Z);return;case"option":for(var Ae in r)X=r[Ae],r.hasOwnProperty(Ae)&&X!=null&&!o.hasOwnProperty(Ae)&&(Ae==="selected"?e.selected=!1:Ct(e,n,Ae,null,o,X));for(L in o)X=o[L],Z=r[L],o.hasOwnProperty(L)&&X!==Z&&(X!=null||Z!=null)&&(L==="selected"?e.selected=X&&typeof X!="function"&&typeof X!="symbol":Ct(e,n,L,X,o,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in r)X=r[Le],r.hasOwnProperty(Le)&&X!=null&&!o.hasOwnProperty(Le)&&Ct(e,n,Le,null,o,X);for(Q in o)if(X=o[Q],Z=r[Q],o.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:Ct(e,n,Q,X,o,Z)}return;default:if(ui(n)){for(var xt in r)X=r[xt],r.hasOwnProperty(xt)&&X!==void 0&&!o.hasOwnProperty(xt)&&yd(e,n,xt,void 0,o,X);for(ne in o)X=o[ne],Z=r[ne],!o.hasOwnProperty(ne)||X===Z||X===void 0&&Z===void 0||yd(e,n,ne,X,o,Z);return}}for(var z in r)X=r[z],r.hasOwnProperty(z)&&X!=null&&!o.hasOwnProperty(z)&&Ct(e,n,z,null,o,X);for(le in o)X=o[le],Z=r[le],!o.hasOwnProperty(le)||X===Z||X==null&&Z==null||Ct(e,n,le,X,o,Z)}function y_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var f=r[o],d=f.transferSize,b=f.initiatorType,w=f.duration;if(d&&w&&y_(b)){for(b=0,w=f.responseEnd,o+=1;o<r.length;o++){var L=r[o],Q=L.startTime;if(Q>w)break;var ne=L.transferSize,le=L.initiatorType;ne&&y_(le)&&(L=L.responseEnd,b+=ne*(L<w?1:(w-Q)/(L-Q)))}if(--o,n+=8*(d+b)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function __(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function g1(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(v1)}:E_;function v1(e){setTimeout(function(){throw e})}function Qr(e){return e==="head"}function T_(e,n){var r=n,o=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(f),Xo(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Wl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Wl(r);for(var d=r.firstChild;d;){var b=d.nextSibling,w=d.nodeName;d[Wn]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=b}}else r==="body"&&Wl(e.ownerDocument.body);r=f}while(r);Xo(n)}function S_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),Ar(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function E1(e,n,r,o){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Wn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ki(e.nextSibling),e===null)break}return null}function b1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ki(e.nextSibling),e===null))return null;return e}function w_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ki(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function T1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ki(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function A_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Ki(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function R_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function N_(e,n,r){switch(n=Tc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ar(e)}var $i=new Map,C_=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var or=he.d;he.d={f:S1,r:w1,D:A1,C:R1,L:N1,m:C1,X:D1,S:x1,M:I1};function S1(){var e=or.f(),n=mc();return e||n}function w1(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Gg(n):or.r(e)}var Go=typeof document>"u"?null:document;function x_(e,n,r){var o=Go;if(o&&typeof n=="string"&&n){var f=zn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),C_.has(f)||(C_.add(f),e={rel:e,crossOrigin:r,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),On(n,"link",e),Gt(n),o.head.appendChild(n)))}}function A1(e){or.D(e),x_("dns-prefetch",e,null)}function R1(e,n){or.C(e,n),x_("preconnect",e,n)}function N1(e,n,r){or.L(e,n,r);var o=Go;if(o&&e&&n){var f='link[rel="preload"][as="'+zn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+zn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+zn(r.imageSizes)+'"]')):f+='[href="'+zn(e)+'"]';var d=f;switch(n){case"style":d=Yo(e);break;case"script":d=Qo(e)}$i.has(d)||(e=I({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),$i.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Zl(d))||n==="script"&&o.querySelector(Jl(d))||(n=o.createElement("link"),On(n,"link",e),Gt(n),o.head.appendChild(n)))}}function C1(e,n){or.m(e,n);var r=Go;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+zn(o)+'"][href="'+zn(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qo(e)}if(!$i.has(d)&&(e=I({rel:"modulepreload",href:e},n),$i.set(d,e),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jl(d)))return}o=r.createElement("link"),On(o,"link",e),Gt(o),r.head.appendChild(o)}}}function x1(e,n,r){or.S(e,n,r);var o=Go;if(o&&e){var f=Si(o).hoistableStyles,d=Yo(e);n=n||"default";var b=f.get(d);if(!b){var w={loading:0,preload:null};if(b=o.querySelector(Zl(d)))w.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},r),(r=$i.get(d))&&Rd(e,r);var L=b=o.createElement("link");Gt(L),On(L,"link",e),L._p=new Promise(function(Q,ne){L.onload=Q,L.onerror=ne}),L.addEventListener("load",function(){w.loading|=1}),L.addEventListener("error",function(){w.loading|=2}),w.loading|=4,wc(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(d,b)}}}function D1(e,n){or.X(e,n);var r=Go;if(r&&e){var o=Si(r).hoistableScripts,f=Qo(e),d=o.get(f);d||(d=r.querySelector(Jl(f)),d||(e=I({src:e,async:!0},n),(n=$i.get(f))&&Nd(e,n),d=r.createElement("script"),Gt(d),On(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function I1(e,n){or.M(e,n);var r=Go;if(r&&e){var o=Si(r).hoistableScripts,f=Qo(e),d=o.get(f);d||(d=r.querySelector(Jl(f)),d||(e=I({src:e,async:!0,type:"module"},n),(n=$i.get(f))&&Nd(e,n),d=r.createElement("script"),Gt(d),On(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function D_(e,n,r,o){var f=(f=Ye.current)?Sc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Yo(r.href),r=Si(f).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Yo(r.href);var d=Si(f).hoistableStyles,b=d.get(e);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=f.querySelector(Zl(e)))&&!d._p&&(b.instance=d,b.state.loading=5),$i.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},$i.set(e,r),d||O1(f,e,r,b.state))),n&&o===null)throw Error(s(528,""));return b}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qo(r),r=Si(f).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Yo(e){return'href="'+zn(e)+'"'}function Zl(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function O1(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),On(n,"link",r),Gt(n),e.head.appendChild(n))}function Qo(e){return'[src="'+zn(e)+'"]'}function Jl(e){return"script[async]"+e}function O_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+zn(r.href)+'"]');if(o)return n.instance=o,Gt(o),o;var f=I({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Gt(o),On(o,"style",f),wc(o,r.precedence,e),n.instance=o;case"stylesheet":f=Yo(r.href);var d=e.querySelector(Zl(f));if(d)return n.state.loading|=4,n.instance=d,Gt(d),d;o=I_(r),(f=$i.get(f))&&Rd(o,f),d=(e.ownerDocument||e).createElement("link"),Gt(d);var b=d;return b._p=new Promise(function(w,L){b.onload=w,b.onerror=L}),On(d,"link",o),n.state.loading|=4,wc(d,r.precedence,e),n.instance=d;case"script":return d=Qo(r.src),(f=e.querySelector(Jl(d)))?(n.instance=f,Gt(f),f):(o=r,(f=$i.get(d))&&(o=I({},r),Nd(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Gt(f),On(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,wc(o,r.precedence,e));return n.instance}function wc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,b=0;b<o.length;b++){var w=o[b];if(w.dataset.precedence===n)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ac=null;function j_(e,n,r){if(Ac===null){var o=new Map,f=Ac=new Map;f.set(r,o)}else f=Ac,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var d=r[f];if(!(d[Wn]||d[tt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=e+b;var w=o.get(b);w?w.push(d):o.set(b,[d])}}return o}function M_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function j1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function M1(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Yo(o.href),d=n.querySelector(Zl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,Gt(d);return}d=n.ownerDocument||n,o=I_(o),(f=$i.get(f))&&Rd(o,f),d=d.createElement("link"),Gt(d);var b=d;b._p=new Promise(function(w,L){b.onload=w,b.onerror=L}),On(d,"link",o),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Rc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Cd=0;function V1(e,n){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*p1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nc=null;function Cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nc=new Map,n.forEach(L1,e),Nc=null,Rc.call(e))}function L1(e,n){if(!(n.state.loading&4)){var r=Nc.get(e);if(r)var o=r.get(null);else{r=new Map,Nc.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}f=n.instance,b=f.getAttribute("data-precedence"),d=r.get(b)||o,d===o&&r.set(null,f),r.set(b,f),this.count++,o=Rc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var eu={$$typeof:ge,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function k1(e,n,r,o,f,d,b,w,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function L_(e,n,r,o,f,d,b,w,L,Q,ne,le){return e=new k1(e,n,r,b,L,Q,ne,le,w),n=1,d===!0&&(n|=24),d=Ni(3,null,null,n),e.current=d,d.stateNode=e,n=oh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:n},fh(d),e}function k_(e){return e?(e=wo,e):wo}function U_(e,n,r,o,f,d){f=k_(f),o.context===null?o.context=f:o.pendingContext=f,o=Lr(n),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=kr(e,o,n),r!==null&&(gi(r,e,n),Ol(r,e,n))}function B_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function xd(e,n){B_(e,n),(e=e.alternate)&&B_(e,n)}function q_(e){if(e.tag===13||e.tag===31){var n=Ds(e,67108864);n!==null&&gi(n,e,67108864),xd(e,67108864)}}function P_(e){if(e.tag===13||e.tag===31){var n=Oi();n=ga(n);var r=Ds(e,n);r!==null&&gi(r,e,n),xd(e,n)}}var xc=!0;function U1(e,n,r,o){var f=P.T;P.T=null;var d=he.p;try{he.p=2,Dd(e,n,r,o)}finally{he.p=d,P.T=f}}function B1(e,n,r,o){var f=P.T;P.T=null;var d=he.p;try{he.p=8,Dd(e,n,r,o)}finally{he.p=d,P.T=f}}function Dd(e,n,r,o){if(xc){var f=Id(o);if(f===null)gd(e,n,o,Dc,r),H_(e,o);else if(P1(f,e,n,r,o))o.stopPropagation();else if(H_(e,o),n&4&&-1<q1.indexOf(e)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=bi(d.pendingLanes);if(b!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var L=1<<31-Lt(b);w.entanglements[1]|=L,b&=~L}Ca(d),(yt&6)===0&&(hc=wn()+500,Xl(0))}}break;case 31:case 13:w=Ds(d,2),w!==null&&gi(w,d,2),mc(),xd(d,2)}if(d=Id(o),d===null&&gd(e,n,o,Dc,r),d===f)break;f=d}f!==null&&o.stopPropagation()}else gd(e,n,o,null,r)}}function Id(e){return e=be(e),Od(e)}var Dc=null;function Od(e){if(Dc=null,e=Jt(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=m(n),e!==null)return e;e=null}else if(r===31){if(e=v(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Dc=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case ta:return 2;case Xn:return 8;case na:case ao:return 32;case ms:return 268435456;default:return 32}default:return 32}}var jd=!1,Xr=null,Kr=null,$r=null,tu=new Map,nu=new Map,Wr=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(e,n){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":tu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(n.pointerId)}}function iu(e,n,r,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Rn(n),n!==null&&q_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function P1(e,n,r,o,f){switch(n){case"focusin":return Xr=iu(Xr,e,n,r,o,f),!0;case"dragenter":return Kr=iu(Kr,e,n,r,o,f),!0;case"mouseover":return $r=iu($r,e,n,r,o,f),!0;case"pointerover":var d=f.pointerId;return tu.set(d,iu(tu.get(d)||null,e,n,r,o,f)),!0;case"gotpointercapture":return d=f.pointerId,nu.set(d,iu(nu.get(d)||null,e,n,r,o,f)),!0}return!1}function F_(e){var n=Jt(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){e.blockedOn=n,oi(e.priority,function(){P_(r)});return}}else if(n===31){if(n=v(r),n!==null){e.blockedOn=n,oi(e.priority,function(){P_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Id(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ss=o,r.target.dispatchEvent(o),Ss=null}else return n=Rn(r),n!==null&&q_(n),e.blockedOn=r,!1;n.shift()}return!0}function G_(e,n,r){Ic(e)&&r.delete(n)}function z1(){jd=!1,Xr!==null&&Ic(Xr)&&(Xr=null),Kr!==null&&Ic(Kr)&&(Kr=null),$r!==null&&Ic($r)&&($r=null),tu.forEach(G_),nu.forEach(G_)}function Oc(e,n){e.blockedOn===n&&(e.blockedOn=null,jd||(jd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,z1)))}var jc=null;function Y_(e){jc!==e&&(jc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Od(o||r)===null)continue;break}var d=Rn(r);d!==null&&(e.splice(n,3),n-=3,Ih(d,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Xo(e){function n(L){return Oc(L,e)}Xr!==null&&Oc(Xr,e),Kr!==null&&Oc(Kr,e),$r!==null&&Oc($r,e),tu.forEach(n),nu.forEach(n);for(var r=0;r<Wr.length;r++){var o=Wr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Wr.length&&(r=Wr[0],r.blockedOn===null);)F_(r),r.blockedOn===null&&Wr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],d=r[o+1],b=f[Zt]||null;if(typeof d=="function")b||Y_(r);else if(b){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[Zt]||null)w=b.formAction;else if(Od(f)!==null)continue}else w=b.action;typeof w=="function"?r[o+1]=w:(r.splice(o,3),o-=3),Y_(r)}}}function Q_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Md(e){this._internalRoot=e}Mc.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=Oi();U_(r,o,e,n,null,null)},Mc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;U_(e.current,2,null,e,null,null),mc(),n[Mi]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ys();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Wr.length&&n!==0&&n<Wr[r].priority;r++);Wr.splice(r,0,e),r===0&&F_(e)}};var X_=t.version;if(X_!=="19.2.4")throw Error(s(527,X_,"19.2.4"));he.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var H1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{vi=Vc.inject(H1),xe=Vc}catch{}}return ru.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",f=ty,d=ny,b=iy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=L_(e,1,!1,null,null,r,o,null,f,d,b,Q_),e[Mi]=n.current,pd(e),new Md(n)},ru.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,f="",d=ty,b=ny,w=iy,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(L=r.formState)),n=L_(e,1,!0,n,r??null,o,f,L,d,b,w,Q_),n.context=k_(null),r=n.current,o=Oi(),o=ga(o),f=Lr(o),f.callback=null,kr(r,f,o),r=o,n.current.lanes=r,ia(n,r),Ca(n),e[Mi]=n.current,pd(e),new Mc(n)},ru.version="19.2.4",ru}var av;function tS(){if(av)return kd.exports;av=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),kd.exports=eS(),kd.exports}var nS=tS(),Pd={exports:{}};const iS={},aS=Object.freeze(Object.defineProperty({__proto__:null,default:iS},Symbol.toStringTag,{value:"Module"})),rv=Y1(aS);var sv;function rS(){return sv||(sv=1,(function(a,t){var i=void 0,s=function(l){return i||(i=new Promise(function(c,m){var v=typeof l<"u"?l:{},E=v.onAbort;v.onAbort=function(h){m(new Error(h)),E&&E(h)},v.postRun=v.postRun||[],v.postRun.push(function(){c(v)}),a=void 0;var g;g||=typeof v<"u"?v:{};var R=typeof window=="object",I=typeof WorkerGlobalScope<"u",M=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";g.onRuntimeInitialized=function(){function h(H,se){switch(typeof se){case"boolean":de(H,se?1:0);break;case"number":T(H,se);break;case"string":G(H,se,-1,-1);break;case"object":if(se===null)N(H);else if(se.length!=null){var ve=Ea(se,va);W(H,ve,se.length,-1),ti(ve)}else qe(H,"Wrong API use : tried to return a value of an unknown type ("+se+").",-1);break;default:N(H)}}function y(H,se){for(var ve=[],Re=0;Re<H;Re+=1){var Ve=kn(se+4*Re,"i32"),nt=_o(Ve);if(nt===1||nt===2)Ve=_(Ve);else if(nt===3)Ve=sa(Ve);else if(nt===4){nt=Ve,Ve=vo(nt),nt=u(nt);for(var bn=new Uint8Array(Ve),fi=0;fi<Ve;fi+=1)bn[fi]=U[nt+fi];Ve=bn}else Ve=null;ve.push(Ve)}return ve}function S(H,se){this.Qa=H,this.db=se,this.Oa=1,this.lb=[]}function A(H,se){if(this.db=se,se=ta(H)+1,this.eb=qi(se),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Xn(H,j,this.eb,se),this.kb=this.eb,this.Za=this.pb=null}function k(H){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),H!=null){var se=this.filename,ve="/",Re=se;if(ve&&(ve=typeof ve=="string"?ve:si(ve),Re=se?qt(ve+"/"+se):ve),se=Kn(!0,!0),Re=Ar(Re,se),H){if(typeof H=="string"){ve=Array(H.length);for(var Ve=0,nt=H.length;Ve<nt;++Ve)ve[Ve]=H.charCodeAt(Ve);H=ve}Zn(Re,se|146),ve=Vi(Re,577),qa(ve,H,0,H.length,0),Ba(ve),Zn(Re,se)}}this.handleError(we(this.filename,F)),this.db=kn(F,"i32"),ut(this.db),this.fb={},this.Sa={}}var F=rn(4),te=g.cwrap,we=te("sqlite3_open","number",["string","number"]),Ie=te("sqlite3_close_v2","number",["number"]),ke=te("sqlite3_exec","number",["number","string","number","number","number"]),dt=te("sqlite3_changes","number",["number"]),Yt=te("sqlite3_prepare_v2","number",["number","string","number","number","number"]),xr=te("sqlite3_sql","string",["number"]),Ta=te("sqlite3_normalized_sql","string",["number"]),Ha=te("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Pi=te("sqlite3_bind_text","number",["number","number","number","number","number"]),Fa=te("sqlite3_bind_blob","number",["number","number","number","number","number"]),ws=te("sqlite3_bind_double","number",["number","number","number"]),Ga=te("sqlite3_bind_int","number",["number","number","number"]),uo=te("sqlite3_bind_parameter_index","number",["number","string"]),co=te("sqlite3_step","number",["number"]),Ya=te("sqlite3_errmsg","string",["number"]),As=te("sqlite3_column_count","number",["number"]),fo=te("sqlite3_data_count","number",["number"]),Dr=te("sqlite3_column_double","number",["number","number"]),Rs=te("sqlite3_column_text","string",["number","number"]),ho=te("sqlite3_column_blob","number",["number","number"]),zi=te("sqlite3_column_bytes","number",["number","number"]),mo=te("sqlite3_column_type","number",["number","number"]),po=te("sqlite3_column_name","string",["number","number"]),go=te("sqlite3_reset","number",["number"]),yo=te("sqlite3_clear_bindings","number",["number"]),Sa=te("sqlite3_finalize","number",["number"]),En=te("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),_o=te("sqlite3_value_type","number",["number"]),vo=te("sqlite3_value_bytes","number",["number"]),sa=te("sqlite3_value_text","string",["number"]),u=te("sqlite3_value_blob","number",["number"]),_=te("sqlite3_value_double","number",["number"]),T=te("sqlite3_result_double","",["number","number"]),N=te("sqlite3_result_null","",["number"]),G=te("sqlite3_result_text","",["number","string","number","number"]),W=te("sqlite3_result_blob","",["number","number","number","number"]),de=te("sqlite3_result_int","",["number","number"]),qe=te("sqlite3_result_error","",["number","string","number"]),Pt=te("sqlite3_aggregate_context","number",["number","number"]),ut=te("RegisterExtensionFunctions","number",["number"]),It=te("sqlite3_update_hook","number",["number","number","number"]);S.prototype.bind=function(H){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(H)?this.Cb(H):H!=null&&typeof H=="object"?this.Db(H):!0},S.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var H=co(this.Qa);switch(H){case 100:return!0;case 101:return!1;default:throw this.db.handleError(H)}},S.prototype.wb=function(H){return H==null&&(H=this.Oa,this.Oa+=1),Dr(this.Qa,H)},S.prototype.Gb=function(H){if(H==null&&(H=this.Oa,this.Oa+=1),H=Rs(this.Qa,H),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(H)},S.prototype.Hb=function(H){return H==null&&(H=this.Oa,this.Oa+=1),Rs(this.Qa,H)},S.prototype.getBlob=function(H){H==null&&(H=this.Oa,this.Oa+=1);var se=zi(this.Qa,H);H=ho(this.Qa,H);for(var ve=new Uint8Array(se),Re=0;Re<se;Re+=1)ve[Re]=U[H+Re];return ve},S.prototype.get=function(H,se){se=se||{},H!=null&&this.bind(H)&&this.step(),H=[];for(var ve=fo(this.Qa),Re=0;Re<ve;Re+=1)switch(mo(this.Qa,Re)){case 1:var Ve=se.useBigInt?this.Gb(Re):this.wb(Re);H.push(Ve);break;case 2:H.push(this.wb(Re));break;case 3:H.push(this.Hb(Re));break;case 4:H.push(this.getBlob(Re));break;default:H.push(null)}return H},S.prototype.getColumnNames=function(){for(var H=[],se=As(this.Qa),ve=0;ve<se;ve+=1)H.push(po(this.Qa,ve));return H},S.prototype.getAsObject=function(H,se){H=this.get(H,se),se=this.getColumnNames();for(var ve={},Re=0;Re<se.length;Re+=1)ve[se[Re]]=H[Re];return ve},S.prototype.getSQL=function(){return xr(this.Qa)},S.prototype.getNormalizedSQL=function(){return Ta(this.Qa)},S.prototype.run=function(H){return H!=null&&this.bind(H),this.step(),this.reset()},S.prototype.sb=function(H,se){se==null&&(se=this.Oa,this.Oa+=1),H=na(H);var ve=Ea(H,va);this.lb.push(ve),this.db.handleError(Pi(this.Qa,se,ve,H.length-1,0))},S.prototype.Bb=function(H,se){se==null&&(se=this.Oa,this.Oa+=1);var ve=Ea(H,va);this.lb.push(ve),this.db.handleError(Fa(this.Qa,se,ve,H.length,0))},S.prototype.rb=function(H,se){se==null&&(se=this.Oa,this.Oa+=1),this.db.handleError((H===(H|0)?Ga:ws)(this.Qa,se,H))},S.prototype.Eb=function(H){H==null&&(H=this.Oa,this.Oa+=1),Fa(this.Qa,H,0,0,0)},S.prototype.tb=function(H,se){switch(se==null&&(se=this.Oa,this.Oa+=1),typeof H){case"string":this.sb(H,se);return;case"number":this.rb(H,se);return;case"bigint":this.sb(H.toString(),se);return;case"boolean":this.rb(H+0,se);return;case"object":if(H===null){this.Eb(se);return}if(H.length!=null){this.Bb(H,se);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+H+")."},S.prototype.Db=function(H){var se=this;return Object.keys(H).forEach(function(ve){var Re=uo(se.Qa,ve);Re!==0&&se.tb(H[ve],Re)}),!0},S.prototype.Cb=function(H){for(var se=0;se<H.length;se+=1)this.tb(H[se],se+1);return!0},S.prototype.reset=function(){return this.freemem(),yo(this.Qa)===0&&go(this.Qa)===0},S.prototype.freemem=function(){for(var H;(H=this.lb.pop())!==void 0;)ti(H)},S.prototype.free=function(){this.freemem();var H=Sa(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,H},A.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var H=vn(),se=rn(4);Un(F),Un(se);try{this.db.handleError(Ha(this.db.db,this.kb,-1,F,se)),this.kb=kn(se,"i32");var ve=kn(F,"i32");return ve===0?(this.mb(),{done:!0}):(this.Za=new S(ve,this.db),this.db.fb[ve]=this.Za,{value:this.Za,done:!1})}catch(Re){throw this.pb=Ua(this.kb),this.mb(),Re}finally{ci(H)}},A.prototype.mb=function(){ti(this.eb),this.eb=null},A.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Ua(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(A.prototype[Symbol.iterator]=function(){return this}),k.prototype.run=function(H,se){if(!this.db)throw"Database closed";if(se){H=this.prepare(H,se);try{H.step()}finally{H.free()}}else this.handleError(ke(this.db,H,0,0,F));return this},k.prototype.exec=function(H,se,ve){if(!this.db)throw"Database closed";var Re=vn(),Ve=null;try{var nt=yn(H),bn=rn(4);for(H=[];kn(nt,"i8")!==0;){Un(F),Un(bn),this.handleError(Ha(this.db,nt,-1,F,bn));var fi=kn(F,"i32");if(nt=kn(bn,"i32"),fi!==0){var ni=null;for(Ve=new S(fi,this),se!=null&&Ve.bind(se);Ve.step();)ni===null&&(ni={columns:Ve.getColumnNames(),values:[]},H.push(ni)),ni.values.push(Ve.get(null,ve));Ve.free()}}return H}catch(Ai){throw Ve&&Ve.free(),Ai}finally{ci(Re)}},k.prototype.each=function(H,se,ve,Re,Ve){typeof se=="function"&&(Re=ve,ve=se,se=void 0),H=this.prepare(H,se);try{for(;H.step();)ve(H.getAsObject(null,Ve))}finally{H.free()}if(typeof Re=="function")return Re()},k.prototype.prepare=function(H,se){if(Un(F),this.handleError(Yt(this.db,H,-1,F,0)),H=kn(F,"i32"),H===0)throw"Nothing to prepare";var ve=new S(H,this);return se!=null&&ve.bind(se),this.fb[H]=ve},k.prototype.iterateStatements=function(H){return new A(H,this)},k.prototype.export=function(){Object.values(this.fb).forEach(function(se){se.free()}),Object.values(this.Sa).forEach(ei),this.Sa={},this.handleError(Ie(this.db));var H=Jn(this.filename);return this.handleError(we(this.filename,F)),this.db=kn(F,"i32"),ut(this.db),H},k.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(H){H.free()}),Object.values(this.Sa).forEach(ei),this.Sa={},this.Ya&&(ei(this.Ya),this.Ya=void 0),this.handleError(Ie(this.db)),Gt("/"+this.filename),this.db=null)},k.prototype.handleError=function(H){if(H===0)return null;throw H=Ya(this.db),Error(H)},k.prototype.getRowsModified=function(){return dt(this.db)},k.prototype.create_function=function(H,se){Object.prototype.hasOwnProperty.call(this.Sa,H)&&(ei(this.Sa[H]),delete this.Sa[H]);var ve=Cn(function(Re,Ve,nt){Ve=y(Ve,nt);try{var bn=se.apply(null,Ve)}catch(fi){qe(Re,fi,-1);return}h(Re,bn)},"viii");return this.Sa[H]=ve,this.handleError(En(this.db,H,se.length,1,0,ve,0,0,0)),this},k.prototype.create_aggregate=function(H,se){var ve=se.init||function(){return null},Re=se.finalize||function(ni){return ni},Ve=se.step;if(!Ve)throw"An aggregate function must have a step function in "+H;var nt={};Object.hasOwnProperty.call(this.Sa,H)&&(ei(this.Sa[H]),delete this.Sa[H]),se=H+"__finalize",Object.hasOwnProperty.call(this.Sa,se)&&(ei(this.Sa[se]),delete this.Sa[se]);var bn=Cn(function(ni,Ai,Eo){var wa=Pt(ni,1);Object.hasOwnProperty.call(nt,wa)||(nt[wa]=ve()),Ai=y(Ai,Eo),Ai=[nt[wa]].concat(Ai);try{nt[wa]=Ve.apply(null,Ai)}catch(Ns){delete nt[wa],qe(ni,Ns,-1)}},"viii"),fi=Cn(function(ni){var Ai=Pt(ni,1);try{var Eo=Re(nt[Ai])}catch(wa){delete nt[Ai],qe(ni,wa,-1);return}h(ni,Eo),delete nt[Ai]},"vi");return this.Sa[H]=bn,this.Sa[se]=fi,this.handleError(En(this.db,H,Ve.length-1,1,0,0,bn,fi,0)),this},k.prototype.updateHook=function(H){this.Ya&&(It(this.db,0,0),ei(this.Ya),this.Ya=void 0),H&&(this.Ya=Cn(function(se,ve,Re,Ve,nt){switch(ve){case 18:se="insert";break;case 23:se="update";break;case 9:se="delete";break;default:throw"unknown operationCode in updateHook callback: "+ve}if(Re=Re?vt(j,Re):"",Ve=Ve?vt(j,Ve):"",nt>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";H(se,Re,Ve,Number(nt))},"viiiij"),It(this.db,this.Ya,0))},g.Database=k};var $={...g},J="./this.program",ie=(h,y)=>{throw y},K="",ee,me;if(M){var ge=rv;K=__dirname+"/",me=h=>(h=De(h)?new URL(h):h,ge.readFileSync(h)),ee=async h=>(h=De(h)?new URL(h):h,ge.readFileSync(h,void 0)),!g.thisProgram&&1<process.argv.length&&(J=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),a.exports=g,ie=(h,y)=>{throw process.exitCode=h,y}}else(R||I)&&(I?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),K=K.startsWith("blob:")?"":K.slice(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1),I&&(me=h=>{var y=new XMLHttpRequest;return y.open("GET",h,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),ee=async h=>{if(De(h))return new Promise((S,A)=>{var k=new XMLHttpRequest;k.open("GET",h,!0),k.responseType="arraybuffer",k.onload=()=>{k.status==200||k.status==0&&k.response?S(k.response):A(k.status)},k.onerror=A,k.send(null)});var y=await fetch(h,{credentials:"same-origin"});if(y.ok)return y.arrayBuffer();throw Error(y.status+" : "+y.url)});var ye=g.print||console.log.bind(console),Ce=g.printErr||console.error.bind(console);Object.assign(g,$),$=null,g.thisProgram&&(J=g.thisProgram);var Me=g.wasmBinary,D,x=!1,V,U,j,O,C,_e,mt,P,he,De=h=>h.startsWith("file://");function et(){var h=D.buffer;g.HEAP8=U=new Int8Array(h),g.HEAP16=O=new Int16Array(h),g.HEAPU8=j=new Uint8Array(h),g.HEAPU16=new Uint16Array(h),g.HEAP32=C=new Int32Array(h),g.HEAPU32=_e=new Uint32Array(h),g.HEAPF32=mt=new Float32Array(h),g.HEAPF64=he=new Float64Array(h),g.HEAP64=P=new BigInt64Array(h),g.HEAPU64=new BigUint64Array(h)}var $e=0,B=null;function ae(h){throw g.onAbort?.(h),h="Aborted("+h+")",Ce(h),x=!0,new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info.")}var pe;async function Ee(h){if(!Me)try{var y=await ee(h);return new Uint8Array(y)}catch{}if(h==pe&&Me)h=new Uint8Array(Me);else if(me)h=me(h);else throw"both async and sync fetching of the wasm failed";return h}async function Be(h,y){try{var S=await Ee(h);return await WebAssembly.instantiate(S,y)}catch(A){Ce(`failed to asynchronously prepare wasm: ${A}`),ae(A)}}async function Ye(h){var y=pe;if(!Me&&typeof WebAssembly.instantiateStreaming=="function"&&!De(y)&&!M)try{var S=fetch(y,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(S,h)}catch(A){Ce(`wasm streaming compile failed: ${A}`),Ce("falling back to ArrayBuffer instantiation")}return Be(y,h)}class Ke{name="ExitStatus";constructor(y){this.message=`Program terminated with exit(${y})`,this.status=y}}var Xt=h=>{for(;0<h.length;)h.shift()(g)},Dt=[],da=[],Er=()=>{var h=g.preRun.shift();da.unshift(h)};function kn(h,y="i8"){switch(y.endsWith("*")&&(y="*"),y){case"i1":return U[h];case"i8":return U[h];case"i16":return O[h>>1];case"i32":return C[h>>2];case"i64":return P[h>>3];case"float":return mt[h>>2];case"double":return he[h>>3];case"*":return _e[h>>2];default:ae(`invalid type for getValue: ${y}`)}}var ma=g.noExitRuntime||!0;function Un(h){var y="i32";switch(y.endsWith("*")&&(y="*"),y){case"i1":U[h]=0;break;case"i8":U[h]=0;break;case"i16":O[h>>1]=0;break;case"i32":C[h>>2]=0;break;case"i64":P[h>>3]=BigInt(0);break;case"float":mt[h>>2]=0;break;case"double":he[h>>3]=0;break;case"*":_e[h>>2]=0;break;default:ae(`invalid type for setValue: ${y}`)}}var br=typeof TextDecoder<"u"?new TextDecoder:void 0,vt=(h,y=0,S=NaN)=>{var A=y+S;for(S=y;h[S]&&!(S>=A);)++S;if(16<S-y&&h.buffer&&br)return br.decode(h.subarray(y,S));for(A="";y<S;){var k=h[y++];if(k&128){var F=h[y++]&63;if((k&224)==192)A+=String.fromCharCode((k&31)<<6|F);else{var te=h[y++]&63;k=(k&240)==224?(k&15)<<12|F<<6|te:(k&7)<<18|F<<12|te<<6|h[y++]&63,65536>k?A+=String.fromCharCode(k):(k-=65536,A+=String.fromCharCode(55296|k>>10,56320|k&1023))}}else A+=String.fromCharCode(k)}return A},Ua=(h,y)=>h?vt(j,h,y):"",Tr=(h,y)=>{for(var S=0,A=h.length-1;0<=A;A--){var k=h[A];k==="."?h.splice(A,1):k===".."?(h.splice(A,1),S++):S&&(h.splice(A,1),S--)}if(y)for(;S;S--)h.unshift("..");return h},qt=h=>{var y=h.charAt(0)==="/",S=h.slice(-1)==="/";return(h=Tr(h.split("/").filter(A=>!!A),!y).join("/"))||y||(h="."),h&&S&&(h+="/"),(y?"/":"")+h},Kt=h=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=y[0],y=y[1],!h&&!y?".":(y&&=y.slice(0,-1),h+y)},_i=h=>h&&h.match(/([^\/]+|\/)\/*$/)[1],El=()=>{if(M){var h=rv;return y=>h.randomFillSync(y)}return y=>crypto.getRandomValues(y)},ds=h=>{(ds=El())(h)},wn=(...h)=>{for(var y="",S=!1,A=h.length-1;-1<=A&&!S;A--){if(S=0<=A?h[A]:"/",typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";y=S+"/"+y,S=S.charAt(0)==="/"}return y=Tr(y.split("/").filter(k=>!!k),!S).join("/"),(S?"/":"")+y||"."},ea=[],ta=h=>{for(var y=0,S=0;S<h.length;++S){var A=h.charCodeAt(S);127>=A?y++:2047>=A?y+=2:55296<=A&&57343>=A?(y+=4,++S):y+=3}return y},Xn=(h,y,S,A)=>{if(!(0<A))return 0;var k=S;A=S+A-1;for(var F=0;F<h.length;++F){var te=h.charCodeAt(F);if(55296<=te&&57343>=te){var we=h.charCodeAt(++F);te=65536+((te&1023)<<10)|we&1023}if(127>=te){if(S>=A)break;y[S++]=te}else{if(2047>=te){if(S+1>=A)break;y[S++]=192|te>>6}else{if(65535>=te){if(S+2>=A)break;y[S++]=224|te>>12}else{if(S+3>=A)break;y[S++]=240|te>>18,y[S++]=128|te>>12&63}y[S++]=128|te>>6&63}y[S++]=128|te&63}}return y[S]=0,S-k},na=(h,y)=>{var S=Array(ta(h)+1);return h=Xn(h,S,0,S.length),y&&(S.length=h),S},ao=[];function ms(h,y){ao[h]={input:[],output:[],cb:y},wr(h,ro)}var ro={open(h){var y=ao[h.node.rdev];if(!y)throw new fe(43);h.tty=y,h.seekable=!1},close(h){h.tty.cb.fsync(h.tty)},fsync(h){h.tty.cb.fsync(h.tty)},read(h,y,S,A){if(!h.tty||!h.tty.cb.xb)throw new fe(60);for(var k=0,F=0;F<A;F++){try{var te=h.tty.cb.xb(h.tty)}catch{throw new fe(29)}if(te===void 0&&k===0)throw new fe(6);if(te==null)break;k++,y[S+F]=te}return k&&(h.node.atime=Date.now()),k},write(h,y,S,A){if(!h.tty||!h.tty.cb.qb)throw new fe(60);try{for(var k=0;k<A;k++)h.tty.cb.qb(h.tty,y[S+k])}catch{throw new fe(29)}return A&&(h.node.mtime=h.node.ctime=Date.now()),k}},so={xb(){e:{if(!ea.length){var h=null;if(M){var y=Buffer.alloc(256),S=0,A=process.stdin.fd;try{S=ge.readSync(A,y,0,256)}catch(k){if(k.toString().includes("EOF"))S=0;else throw k}0<S&&(h=y.slice(0,S).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`));if(!h){h=null;break e}ea=na(h,!0)}h=ea.shift()}return h},qb(h,y){y===null||y===10?(ye(vt(h.output)),h.output=[]):y!=0&&h.output.push(y)},fsync(h){0<h.output?.length&&(ye(vt(h.output)),h.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},vi={qb(h,y){y===null||y===10?(Ce(vt(h.output)),h.output=[]):y!=0&&h.output.push(y)},fsync(h){0<h.output?.length&&(Ce(vt(h.output)),h.output=[])}},xe={Wa:null,Xa(){return xe.createNode(null,"/",16895,0)},createNode(h,y,S,A){if((S&61440)===24576||(S&61440)===4096)throw new fe(63);return xe.Wa||(xe.Wa={dir:{node:{Ta:xe.La.Ta,Ua:xe.La.Ua,lookup:xe.La.lookup,hb:xe.La.hb,rename:xe.La.rename,unlink:xe.La.unlink,rmdir:xe.La.rmdir,readdir:xe.La.readdir,symlink:xe.La.symlink},stream:{Va:xe.Ma.Va}},file:{node:{Ta:xe.La.Ta,Ua:xe.La.Ua},stream:{Va:xe.Ma.Va,read:xe.Ma.read,write:xe.Ma.write,ib:xe.Ma.ib,jb:xe.Ma.jb}},link:{node:{Ta:xe.La.Ta,Ua:xe.La.Ua,readlink:xe.La.readlink},stream:{}},ub:{node:{Ta:xe.La.Ta,Ua:xe.La.Ua},stream:Tl}}),S=Sr(h,y,S,A),an(S.mode)?(S.La=xe.Wa.dir.node,S.Ma=xe.Wa.dir.stream,S.Na={}):(S.mode&61440)===32768?(S.La=xe.Wa.file.node,S.Ma=xe.Wa.file.stream,S.Ra=0,S.Na=null):(S.mode&61440)===40960?(S.La=xe.Wa.link.node,S.Ma=xe.Wa.link.stream):(S.mode&61440)===8192&&(S.La=xe.Wa.ub.node,S.Ma=xe.Wa.ub.stream),S.atime=S.mtime=S.ctime=Date.now(),h&&(h.Na[y]=S,h.atime=h.mtime=h.ctime=S.atime),S},Sb(h){return h.Na?h.Na.subarray?h.Na.subarray(0,h.Ra):new Uint8Array(h.Na):new Uint8Array(0)},La:{Ta(h){var y={};return y.dev=(h.mode&61440)===8192?h.id:1,y.ino=h.id,y.mode=h.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=h.rdev,an(h.mode)?y.size=4096:(h.mode&61440)===32768?y.size=h.Ra:(h.mode&61440)===40960?y.size=h.link.length:y.size=0,y.atime=new Date(h.atime),y.mtime=new Date(h.mtime),y.ctime=new Date(h.ctime),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},Ua(h,y){for(var S of["mode","atime","mtime","ctime"])y[S]!=null&&(h[S]=y[S]);y.size!==void 0&&(y=y.size,h.Ra!=y&&(y==0?(h.Na=null,h.Ra=0):(S=h.Na,h.Na=new Uint8Array(y),S&&h.Na.set(S.subarray(0,Math.min(y,h.Ra))),h.Ra=y)))},lookup(){throw xe.vb},hb(h,y,S,A){return xe.createNode(h,y,S,A)},rename(h,y,S){try{var A=$n(y,S)}catch{}if(A){if(an(h.mode))for(var k in A.Na)throw new fe(55);gs(A)}delete h.parent.Na[h.name],y.Na[S]=h,h.name=S,y.ctime=y.mtime=h.parent.ctime=h.parent.mtime=Date.now()},unlink(h,y){delete h.Na[y],h.ctime=h.mtime=Date.now()},rmdir(h,y){var S=$n(h,y),A;for(A in S.Na)throw new fe(55);delete h.Na[y],h.ctime=h.mtime=Date.now()},readdir(h){return[".","..",...Object.keys(h.Na)]},symlink(h,y,S){return h=xe.createNode(h,y,41471,0),h.link=S,h},readlink(h){if((h.mode&61440)!==40960)throw new fe(28);return h.link}},Ma:{read(h,y,S,A,k){var F=h.node.Na;if(k>=h.node.Ra)return 0;if(h=Math.min(h.node.Ra-k,A),8<h&&F.subarray)y.set(F.subarray(k,k+h),S);else for(A=0;A<h;A++)y[S+A]=F[k+A];return h},write(h,y,S,A,k,F){if(y.buffer===U.buffer&&(F=!1),!A)return 0;if(h=h.node,h.mtime=h.ctime=Date.now(),y.subarray&&(!h.Na||h.Na.subarray)){if(F)return h.Na=y.subarray(S,S+A),h.Ra=A;if(h.Ra===0&&k===0)return h.Na=y.slice(S,S+A),h.Ra=A;if(k+A<=h.Ra)return h.Na.set(y.subarray(S,S+A),k),A}F=k+A;var te=h.Na?h.Na.length:0;if(te>=F||(F=Math.max(F,te*(1048576>te?2:1.125)>>>0),te!=0&&(F=Math.max(F,256)),te=h.Na,h.Na=new Uint8Array(F),0<h.Ra&&h.Na.set(te.subarray(0,h.Ra),0)),h.Na.subarray&&y.subarray)h.Na.set(y.subarray(S,S+A),k);else for(F=0;F<A;F++)h.Na[k+F]=y[S+F];return h.Ra=Math.max(h.Ra,k+A),A},Va(h,y,S){if(S===1?y+=h.position:S===2&&(h.node.mode&61440)===32768&&(y+=h.node.Ra),0>y)throw new fe(28);return y},ib(h,y,S,A,k){if((h.node.mode&61440)!==32768)throw new fe(43);if(h=h.node.Na,k&2||!h||h.buffer!==U.buffer){k=!0,A=65536*Math.ceil(y/65536);var F=ba(65536,A);if(F&&j.fill(0,F,F+A),A=F,!A)throw new fe(48);h&&((0<S||S+y<h.length)&&(h.subarray?h=h.subarray(S,S+y):h=Array.prototype.slice.call(h,S,S+y)),U.set(h,A))}else k=!1,A=h.byteOffset;return{Kb:A,Ab:k}},jb(h,y,S,A){return xe.Ma.write(h,y,0,A,S,!1),0}}},Kn=(h,y)=>{var S=0;return h&&(S|=365),y&&(S|=146),S},Lt=null,ps={},Ei=[],oo=1,dn=null,pa=!1,Ft=!0,bi={},fe=class{name="ErrnoError";constructor(h){this.Pa=h}},Ti=class{gb={};node=null;get flags(){return this.gb.flags}set flags(h){this.gb.flags=h}get position(){return this.gb.position}set position(h){this.gb.position=h}},bl=class{La={};Ma={};ab=null;constructor(h,y,S,A){h||=this,this.parent=h,this.Xa=h.Xa,this.id=oo++,this.name=y,this.mode=S,this.rdev=A,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function An(h,y={}){if(!h)throw new fe(44);y.nb??(y.nb=!0),h.charAt(0)==="/"||(h="//"+h);var S=0;e:for(;40>S;S++){h=h.split("/").filter(we=>!!we);for(var A=Lt,k="/",F=0;F<h.length;F++){var te=F===h.length-1;if(te&&y.parent)break;if(h[F]!==".")if(h[F]==="..")k=Kt(k),A=A.parent;else{k=qt(k+"/"+h[F]);try{A=$n(A,h[F])}catch(we){if(we?.Pa===44&&te&&y.Jb)return{path:k};throw we}if(!A.ab||te&&!y.nb||(A=A.ab.root),(A.mode&61440)===40960&&(!te||y.$a)){if(!A.La.readlink)throw new fe(52);A=A.La.readlink(A),A.charAt(0)==="/"||(A=Kt(k)+"/"+A),h=A+"/"+h.slice(F+1).join("/");continue e}}}return{path:k,node:A}}throw new fe(32)}function si(h){for(var y;;){if(h===h.parent)return h=h.Xa.zb,y?h[h.length-1]!=="/"?`${h}/${y}`:h+y:h;y=y?`${h.name}/${y}`:h.name,h=h.parent}}function ia(h,y){for(var S=0,A=0;A<y.length;A++)S=(S<<5)-S+y.charCodeAt(A)|0;return(h+S>>>0)%dn.length}function gs(h){var y=ia(h.parent.id,h.name);if(dn[y]===h)dn[y]=h.bb;else for(y=dn[y];y;){if(y.bb===h){y.bb=h.bb;break}y=y.bb}}function $n(h,y){var S=an(h.mode)?(S=Bn(h,"x"))?S:h.La.lookup?0:2:54;if(S)throw new fe(S);for(S=dn[ia(h.id,y)];S;S=S.bb){var A=S.name;if(S.parent.id===h.id&&A===y)return S}return h.La.lookup(h,y)}function Sr(h,y,S,A){return h=new bl(h,y,S,A),y=ia(h.parent.id,h.name),h.bb=dn[y],dn[y]=h}function an(h){return(h&61440)===16384}function ga(h){var y=["r","w","rw"][h&3];return h&512&&(y+="w"),y}function Bn(h,y){if(Ft)return 0;if(!y.includes("r")||h.mode&292){if(y.includes("w")&&!(h.mode&146)||y.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function ys(h,y){if(!an(h.mode))return 54;try{return $n(h,y),20}catch{}return Bn(h,"wx")}function oi(h,y,S){try{var A=$n(h,y)}catch(k){return k.Pa}if(h=Bn(h,"wx"))return h;if(S){if(!an(A.mode))return 54;if(A===A.parent||si(A)==="/")return 10}else if(an(A.mode))return 31;return 0}function qn(h){if(!h)throw new fe(63);return h}function tt(h){if(h=Ei[h],!h)throw new fe(8);return h}function Zt(h,y=-1){if(h=Object.assign(new Ti,h),y==-1)e:{for(y=0;4096>=y;y++)if(!Ei[y])break e;throw new fe(33)}return h.fd=y,Ei[y]=h}function Mi(h,y=-1){return h=Zt(h,y),h.Ma?.Rb?.(h),h}function ya(h,y,S){var A=h?.Ma.Ua;h=A?h:y,A??=y.La.Ua,qn(A),A(h,S)}var Tl={open(h){h.Ma=ps[h.node.rdev].Ma,h.Ma.open?.(h)},Va(){throw new fe(70)}};function wr(h,y){ps[h]={Ma:y}}function _s(h,y){var S=y==="/";if(S&&Lt)throw new fe(10);if(!S&&y){var A=An(y,{nb:!1});if(y=A.path,A=A.node,A.ab)throw new fe(10);if(!an(A.mode))throw new fe(54)}y={type:h,Wb:{},zb:y,Ib:[]},h=h.Xa(y),h.Xa=y,y.root=h,S?Lt=h:A&&(A.ab=y,A.Xa&&A.Xa.Ib.push(y))}function Wn(h,y,S){var A=An(h,{parent:!0}).node;if(h=_i(h),!h)throw new fe(28);if(h==="."||h==="..")throw new fe(20);var k=ys(A,h);if(k)throw new fe(k);if(!A.La.hb)throw new fe(63);return A.La.hb(A,h,y,S)}function Ar(h,y=438){return Wn(h,y&4095|32768,0)}function Jt(h,y=511){return Wn(h,y&1023|16384,0)}function Rn(h,y,S){typeof S>"u"&&(S=y,y=438),Wn(h,y|8192,S)}function Nn(h,y){if(!wn(h))throw new fe(44);var S=An(y,{parent:!0}).node;if(!S)throw new fe(44);y=_i(y);var A=ys(S,y);if(A)throw new fe(A);if(!S.La.symlink)throw new fe(63);S.La.symlink(S,y,h)}function Si(h){var y=An(h,{parent:!0}).node;h=_i(h);var S=$n(y,h),A=oi(y,h,!0);if(A)throw new fe(A);if(!y.La.rmdir)throw new fe(63);if(S.ab)throw new fe(10);y.La.rmdir(y,h),gs(S)}function Gt(h){var y=An(h,{parent:!0}).node;if(!y)throw new fe(44);h=_i(h);var S=$n(y,h),A=oi(y,h,!1);if(A)throw new fe(A);if(!y.La.unlink)throw new fe(63);if(S.ab)throw new fe(10);y.La.unlink(y,h),gs(S)}function aa(h,y){return h=An(h,{$a:!y}).node,qn(h.La.Ta)(h)}function Rr(h,y,S,A){ya(h,y,{mode:S&4095|y.mode&-4096,ctime:Date.now(),Fb:A})}function Zn(h,y){h=typeof h=="string"?An(h,{$a:!0}).node:h,Rr(null,h,y)}function wi(h,y,S){if(an(y.mode))throw new fe(31);if((y.mode&61440)!==32768)throw new fe(28);var A=Bn(y,"w");if(A)throw new fe(A);ya(h,y,{size:S,timestamp:Date.now()})}function Vi(h,y,S=438){if(h==="")throw new fe(44);if(typeof y=="string"){var A={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[y];if(typeof A>"u")throw Error(`Unknown file open mode: ${y}`);y=A}if(S=y&64?S&4095|32768:0,typeof h=="object")A=h;else{var k=h.endsWith("/");h=An(h,{$a:!(y&131072),Jb:!0}),A=h.node,h=h.path}var F=!1;if(y&64)if(A){if(y&128)throw new fe(20)}else{if(k)throw new fe(31);A=Wn(h,S|511,0),F=!0}if(!A)throw new fe(44);if((A.mode&61440)===8192&&(y&=-513),y&65536&&!an(A.mode))throw new fe(54);if(!F&&(k=A?(A.mode&61440)===40960?32:an(A.mode)&&(ga(y)!=="r"||y&576)?31:Bn(A,ga(y)):44))throw new fe(k);return y&512&&!F&&(k=A,k=typeof k=="string"?An(k,{$a:!0}).node:k,wi(null,k,0)),y&=-131713,k=Zt({node:A,path:si(A),flags:y,seekable:!0,position:0,Ma:A.Ma,Lb:[],error:!1}),k.Ma.open&&k.Ma.open(k),F&&Zn(A,S&511),!g.logReadFiles||y&1||h in bi||(bi[h]=1),k}function Ba(h){if(h.fd===null)throw new fe(8);h.ob&&(h.ob=null);try{h.Ma.close&&h.Ma.close(h)}catch(y){throw y}finally{Ei[h.fd]=null}h.fd=null}function Nr(h,y,S){if(h.fd===null)throw new fe(8);if(!h.seekable||!h.Ma.Va)throw new fe(70);if(S!=0&&S!=1&&S!=2)throw new fe(28);h.position=h.Ma.Va(h,y,S),h.Lb=[]}function vs(h,y,S,A,k){if(0>A||0>k)throw new fe(28);if(h.fd===null)throw new fe(8);if((h.flags&2097155)===1)throw new fe(8);if(an(h.node.mode))throw new fe(31);if(!h.Ma.read)throw new fe(28);var F=typeof k<"u";if(!F)k=h.position;else if(!h.seekable)throw new fe(70);return y=h.Ma.read(h,y,S,A,k),F||(h.position+=y),y}function qa(h,y,S,A,k){if(0>A||0>k)throw new fe(28);if(h.fd===null)throw new fe(8);if((h.flags&2097155)===0)throw new fe(8);if(an(h.node.mode))throw new fe(31);if(!h.Ma.write)throw new fe(28);h.seekable&&h.flags&1024&&Nr(h,0,2);var F=typeof k<"u";if(!F)k=h.position;else if(!h.seekable)throw new fe(70);return y=h.Ma.write(h,y,S,A,k,void 0),F||(h.position+=y),y}function Jn(h){var y,S=Vi(h,S||0);h=aa(h).size;var A=new Uint8Array(h);return vs(S,A,0,h,0),y=A,Ba(S),y}function Tt(h,y,S){h=qt("/dev/"+h);var A=Kn(!!y,!!S);Tt.yb??(Tt.yb=64);var k=Tt.yb++<<8|0;wr(k,{open(F){F.seekable=!1},close(){S?.buffer?.length&&S(10)},read(F,te,we,Ie){for(var ke=0,dt=0;dt<Ie;dt++){try{var Yt=y()}catch{throw new fe(29)}if(Yt===void 0&&ke===0)throw new fe(6);if(Yt==null)break;ke++,te[we+dt]=Yt}return ke&&(F.node.atime=Date.now()),ke},write(F,te,we,Ie){for(var ke=0;ke<Ie;ke++)try{S(te[we+ke])}catch{throw new fe(29)}return Ie&&(F.node.mtime=F.node.ctime=Date.now()),ke}}),Rn(h,A,k)}var ze={};function Pn(h,y,S){if(y.charAt(0)==="/")return y;if(h=h===-100?"/":tt(h).path,y.length==0){if(!S)throw new fe(44);return h}return h+"/"+y}function _a(h,y){C[h>>2]=y.dev,C[h+4>>2]=y.mode,_e[h+8>>2]=y.nlink,C[h+12>>2]=y.uid,C[h+16>>2]=y.gid,C[h+20>>2]=y.rdev,P[h+24>>3]=BigInt(y.size),C[h+32>>2]=4096,C[h+36>>2]=y.blocks;var S=y.atime.getTime(),A=y.mtime.getTime(),k=y.ctime.getTime();return P[h+40>>3]=BigInt(Math.floor(S/1e3)),_e[h+48>>2]=S%1e3*1e6,P[h+56>>3]=BigInt(Math.floor(A/1e3)),_e[h+64>>2]=A%1e3*1e6,P[h+72>>3]=BigInt(Math.floor(k/1e3)),_e[h+80>>2]=k%1e3*1e6,P[h+88>>3]=BigInt(y.ino),0}var lt=void 0,Li=()=>{var h=C[+lt>>2];return lt+=4,h},li=0,Pa=[0,31,60,91,121,152,182,213,244,274,305,335],zn=[0,31,59,90,120,151,181,212,243,273,304,334],ki={},Es=h=>{V=h,ma||0<li||(g.onExit?.(h),x=!0),ie(h,new Ke(h))},bs=h=>{if(!x)try{if(h(),!(ma||0<li))try{V=h=V,Es(h)}catch(y){y instanceof Ke||y=="unwind"||ie(1,y)}}catch(y){y instanceof Ke||y=="unwind"||ie(1,y)}},Ui={},Ts=()=>{if(!Bi){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:J||"./this.program"},y;for(y in Ui)Ui[y]===void 0?delete h[y]:h[y]=Ui[y];var S=[];for(y in h)S.push(`${y}=${h[y]}`);Bi=S}return Bi},Bi,yn=h=>{var y=ta(h)+1,S=rn(y);return Xn(h,j,S,y),S},lo=(h,y,S,A)=>{var k={string:ke=>{var dt=0;return ke!=null&&ke!==0&&(dt=yn(ke)),dt},array:ke=>{var dt=rn(ke.length);return U.set(ke,dt),dt}};h=g["_"+h];var F=[],te=0;if(A)for(var we=0;we<A.length;we++){var Ie=k[S[we]];Ie?(te===0&&(te=vn()),F[we]=Ie(A[we])):F[we]=A[we]}return S=h(...F),S=(function(ke){return te!==0&&ci(te),y==="string"?ke?vt(j,ke):"":y==="boolean"?!!ke:ke})(S)},va=0,Ea=(h,y)=>(y=y==1?rn(h.length):qi(h.length),h.subarray||h.slice||(h=new Uint8Array(h)),j.set(h,y),y),ui,Cr=[],_n,ei=h=>{ui.delete(_n.get(h)),_n.set(h,null),Cr.push(h)},Cn=(h,y)=>{if(!ui){ui=new WeakMap;var S=_n.length;if(ui)for(var A=0;A<0+S;A++){var k=_n.get(A);k&&ui.set(k,A)}}if(S=ui.get(h)||0)return S;if(Cr.length)S=Cr.pop();else{try{_n.grow(1)}catch(Ie){throw Ie instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Ie}S=_n.length-1}try{_n.set(S,h)}catch(Ie){if(!(Ie instanceof TypeError))throw Ie;if(typeof WebAssembly.Function=="function"){var F=WebAssembly.Function;A={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},k={parameters:[],results:y[0]=="v"?[]:[A[y[0]]]};for(var te=1;te<y.length;++te)k.parameters.push(A[y[te]]);y=new F(k,h)}else{A=[1],k=y.slice(0,1),y=y.slice(1),te={i:127,p:127,j:126,f:125,d:124,e:111},A.push(96);var we=y.length;128>we?A.push(we):A.push(we%128|128,we>>7);for(F of y)A.push(te[F]);k=="v"?A.push(0):A.push(1,te[k]),y=[0,97,115,109,1,0,0,0,1],F=A.length,128>F?y.push(F):y.push(F%128|128,F>>7),y.push(...A),y.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),y=new WebAssembly.Module(new Uint8Array(y)),y=new WebAssembly.Instance(y,{e:{f:h}}).exports.f}_n.set(S,y)}return ui.set(h,S),S};dn=Array(4096),_s(xe,"/"),Jt("/tmp"),Jt("/home"),Jt("/home/web_user"),(function(){Jt("/dev"),wr(259,{read:()=>0,write:(A,k,F,te)=>te,Va:()=>0}),Rn("/dev/null",259),ms(1280,so),ms(1536,vi),Rn("/dev/tty",1280),Rn("/dev/tty1",1536);var h=new Uint8Array(1024),y=0,S=()=>(y===0&&(ds(h),y=h.byteLength),h[--y]);Tt("random",S),Tt("urandom",S),Jt("/dev/shm"),Jt("/dev/shm/tmp")})(),(function(){Jt("/proc");var h=Jt("/proc/self");Jt("/proc/self/fd"),_s({Xa(){var y=Sr(h,"fd",16895,73);return y.Ma={Va:xe.Ma.Va},y.La={lookup(S,A){S=+A;var k=tt(S);return S={parent:null,Xa:{zb:"fake"},La:{readlink:()=>k.path},id:S+1},S.parent=S},readdir(){return Array.from(Ei.entries()).filter(([,S])=>S).map(([S])=>S.toString())}},y}},"/proc/self/fd")})(),xe.vb=new fe(44),xe.vb.stack="<generic error, no stack>";var Ss={a:(h,y,S,A)=>ae(`Assertion failed: ${h?vt(j,h):""}, at: `+[y?y?vt(j,y):"":"unknown filename",S,A?A?vt(j,A):"":"unknown function"]),i:function(h,y){try{return h=h?vt(j,h):"",Zn(h,y),0}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},L:function(h,y,S){try{if(y=y?vt(j,y):"",y=Pn(h,y),S&-8)return-28;var A=An(y,{$a:!0}).node;return A?(h="",S&4&&(h+="r"),S&2&&(h+="w"),S&1&&(h+="x"),h&&Bn(A,h)?-2:0):-44}catch(k){if(typeof ze>"u"||k.name!=="ErrnoError")throw k;return-k.Pa}},j:function(h,y){try{var S=tt(h);return Rr(S,S.node,y,!1),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},h:function(h){try{var y=tt(h);return ya(y,y.node,{timestamp:Date.now(),Fb:!1}),0}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},b:function(h,y,S){lt=S;try{var A=tt(h);switch(y){case 0:var k=Li();if(0>k)break;for(;Ei[k];)k++;return Mi(A,k).fd;case 1:case 2:return 0;case 3:return A.flags;case 4:return k=Li(),A.flags|=k,0;case 12:return k=Li(),O[k+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(F){if(typeof ze>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},g:function(h,y){try{var S=tt(h),A=S.node,k=S.Ma.Ta;h=k?S:A,k??=A.La.Ta,qn(k);var F=k(h);return _a(y,F)}catch(te){if(typeof ze>"u"||te.name!=="ErrnoError")throw te;return-te.Pa}},H:function(h,y){y=-9007199254740992>y||9007199254740992<y?NaN:Number(y);try{if(isNaN(y))return 61;var S=tt(h);if(0>y||(S.flags&2097155)===0)throw new fe(28);return wi(S,S.node,y),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},G:function(h,y){try{if(y===0)return-28;var S=ta("/")+1;return y<S?-68:(Xn("/",j,h,y),S)}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},K:function(h,y){try{return h=h?vt(j,h):"",_a(y,aa(h,!0))}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},C:function(h,y,S){try{return y=y?vt(j,y):"",y=Pn(h,y),Jt(y,S),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},J:function(h,y,S,A){try{y=y?vt(j,y):"";var k=A&256;return y=Pn(h,y,A&4096),_a(S,k?aa(y,!0):aa(y))}catch(F){if(typeof ze>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},x:function(h,y,S,A){lt=A;try{y=y?vt(j,y):"",y=Pn(h,y);var k=A?Li():0;return Vi(y,S,k).fd}catch(F){if(typeof ze>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},v:function(h,y,S,A){try{if(y=y?vt(j,y):"",y=Pn(h,y),0>=A)return-28;var k=An(y).node;if(!k)throw new fe(44);if(!k.La.readlink)throw new fe(28);var F=k.La.readlink(k),te=Math.min(A,ta(F)),we=U[S+te];return Xn(F,j,S,A+1),U[S+te]=we,te}catch(Ie){if(typeof ze>"u"||Ie.name!=="ErrnoError")throw Ie;return-Ie.Pa}},u:function(h){try{return h=h?vt(j,h):"",Si(h),0}catch(y){if(typeof ze>"u"||y.name!=="ErrnoError")throw y;return-y.Pa}},f:function(h,y){try{return h=h?vt(j,h):"",_a(y,aa(h))}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},r:function(h,y,S){try{return y=y?vt(j,y):"",y=Pn(h,y),S===0?Gt(y):S===512?Si(y):ae("Invalid flags passed to unlinkat"),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},q:function(h,y,S){try{y=y?vt(j,y):"",y=Pn(h,y,!0);var A=Date.now(),k,F;if(S){var te=_e[S>>2]+4294967296*C[S+4>>2],we=C[S+8>>2];we==1073741823?k=A:we==1073741822?k=null:k=1e3*te+we/1e6,S+=16,te=_e[S>>2]+4294967296*C[S+4>>2],we=C[S+8>>2],we==1073741823?F=A:we==1073741822?F=null:F=1e3*te+we/1e6}else F=k=A;if((F??k)!==null){h=k;var Ie=An(y,{$a:!0}).node;qn(Ie.La.Ua)(Ie,{atime:h,mtime:F})}return 0}catch(ke){if(typeof ze>"u"||ke.name!=="ErrnoError")throw ke;return-ke.Pa}},m:()=>ae(""),l:()=>{ma=!1,li=0},A:function(h,y){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h),h=new Date(1e3*h),C[y>>2]=h.getSeconds(),C[y+4>>2]=h.getMinutes(),C[y+8>>2]=h.getHours(),C[y+12>>2]=h.getDate(),C[y+16>>2]=h.getMonth(),C[y+20>>2]=h.getFullYear()-1900,C[y+24>>2]=h.getDay();var S=h.getFullYear();C[y+28>>2]=(S%4!==0||S%100===0&&S%400!==0?zn:Pa)[h.getMonth()]+h.getDate()-1|0,C[y+36>>2]=-(60*h.getTimezoneOffset()),S=new Date(h.getFullYear(),6,1).getTimezoneOffset();var A=new Date(h.getFullYear(),0,1).getTimezoneOffset();C[y+32>>2]=(S!=A&&h.getTimezoneOffset()==Math.min(A,S))|0},y:function(h,y,S,A,k,F,te){k=-9007199254740992>k||9007199254740992<k?NaN:Number(k);try{if(isNaN(k))return 61;var we=tt(A);if((y&2)!==0&&(S&2)===0&&(we.flags&2097155)!==2)throw new fe(2);if((we.flags&2097155)===1)throw new fe(2);if(!we.Ma.ib)throw new fe(43);if(!h)throw new fe(28);var Ie=we.Ma.ib(we,h,k,y,S),ke=Ie.Kb;return C[F>>2]=Ie.Ab,_e[te>>2]=ke,0}catch(dt){if(typeof ze>"u"||dt.name!=="ErrnoError")throw dt;return-dt.Pa}},z:function(h,y,S,A,k,F){F=-9007199254740992>F||9007199254740992<F?NaN:Number(F);try{var te=tt(k);if(S&2){if(S=F,(te.node.mode&61440)!==32768)throw new fe(43);if(!(A&2)){var we=j.slice(h,h+y);te.Ma.jb&&te.Ma.jb(te,we,S,y,A)}}}catch(Ie){if(typeof ze>"u"||Ie.name!=="ErrnoError")throw Ie;return-Ie.Pa}},n:(h,y)=>{if(ki[h]&&(clearTimeout(ki[h].id),delete ki[h]),!y)return 0;var S=setTimeout(()=>{delete ki[h],bs(()=>za(h,performance.now()))},y);return ki[h]={id:S,Xb:y},0},B:(h,y,S,A)=>{var k=new Date().getFullYear(),F=new Date(k,0,1).getTimezoneOffset();k=new Date(k,6,1).getTimezoneOffset(),_e[h>>2]=60*Math.max(F,k),C[y>>2]=+(F!=k),y=te=>{var we=Math.abs(te);return`UTC${0<=te?"-":"+"}${String(Math.floor(we/60)).padStart(2,"0")}${String(we%60).padStart(2,"0")}`},h=y(F),y=y(k),k<F?(Xn(h,j,S,17),Xn(y,j,A,17)):(Xn(h,j,A,17),Xn(y,j,S,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:h=>{var y=j.length;if(h>>>=0,2147483648<h)return!1;for(var S=1;4>=S;S*=2){var A=y*(1+.2/S);A=Math.min(A,h+100663296);e:{A=(Math.min(2147483648,65536*Math.ceil(Math.max(h,A)/65536))-D.buffer.byteLength+65535)/65536|0;try{D.grow(A),et();var k=1;break e}catch{}k=void 0}if(k)return!0}return!1},E:(h,y)=>{var S=0;return Ts().forEach((A,k)=>{var F=y+S;for(k=_e[h+4*k>>2]=F,F=0;F<A.length;++F)U[k++]=A.charCodeAt(F);U[k]=0,S+=A.length+1}),0},F:(h,y)=>{var S=Ts();_e[h>>2]=S.length;var A=0;return S.forEach(k=>A+=k.length+1),_e[y>>2]=A,0},e:function(h){try{var y=tt(h);return Ba(y),0}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},p:function(h,y){try{var S=tt(h);return U[y]=S.tty?2:an(S.mode)?3:(S.mode&61440)===40960?7:4,O[y+2>>1]=0,P[y+8>>3]=BigInt(0),P[y+16>>3]=BigInt(0),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return A.Pa}},w:function(h,y,S,A){try{e:{var k=tt(h);h=y;for(var F,te=y=0;te<S;te++){var we=_e[h>>2],Ie=_e[h+4>>2];h+=8;var ke=vs(k,U,we,Ie,F);if(0>ke){var dt=-1;break e}if(y+=ke,ke<Ie)break;typeof F<"u"&&(F+=ke)}dt=y}return _e[A>>2]=dt,0}catch(Yt){if(typeof ze>"u"||Yt.name!=="ErrnoError")throw Yt;return Yt.Pa}},D:function(h,y,S,A){y=-9007199254740992>y||9007199254740992<y?NaN:Number(y);try{if(isNaN(y))return 61;var k=tt(h);return Nr(k,y,S),P[A>>3]=BigInt(k.position),k.ob&&y===0&&S===0&&(k.ob=null),0}catch(F){if(typeof ze>"u"||F.name!=="ErrnoError")throw F;return F.Pa}},I:function(h){try{var y=tt(h);return y.Ma?.fsync?y.Ma.fsync(y):0}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},t:function(h,y,S,A){try{e:{var k=tt(h);h=y;for(var F,te=y=0;te<S;te++){var we=_e[h>>2],Ie=_e[h+4>>2];h+=8;var ke=qa(k,U,we,Ie,F);if(0>ke){var dt=-1;break e}if(y+=ke,ke<Ie)break;typeof F<"u"&&(F+=ke)}dt=y}return _e[A>>2]=dt,0}catch(Yt){if(typeof ze>"u"||Yt.name!=="ErrnoError")throw Yt;return Yt.Pa}},k:Es},be;(async function(){function h(S){return be=S.exports,D=be.M,et(),_n=be.O,$e--,g.monitorRunDependencies?.($e),$e==0&&B&&(S=B,B=null,S()),be}$e++,g.monitorRunDependencies?.($e);var y={a:Ss};return g.instantiateWasm?new Promise(S=>{g.instantiateWasm(y,(A,k)=>{h(A),S(A.exports)})}):(pe??=g.locateFile?g.locateFile("sql-wasm.wasm",K):K+"sql-wasm.wasm",h((await Ye(y)).instance))})(),g._sqlite3_free=h=>(g._sqlite3_free=be.P)(h),g._sqlite3_value_text=h=>(g._sqlite3_value_text=be.Q)(h),g._sqlite3_prepare_v2=(h,y,S,A,k)=>(g._sqlite3_prepare_v2=be.R)(h,y,S,A,k),g._sqlite3_step=h=>(g._sqlite3_step=be.S)(h),g._sqlite3_reset=h=>(g._sqlite3_reset=be.T)(h),g._sqlite3_exec=(h,y,S,A,k)=>(g._sqlite3_exec=be.U)(h,y,S,A,k),g._sqlite3_finalize=h=>(g._sqlite3_finalize=be.V)(h),g._sqlite3_column_name=(h,y)=>(g._sqlite3_column_name=be.W)(h,y),g._sqlite3_column_text=(h,y)=>(g._sqlite3_column_text=be.X)(h,y),g._sqlite3_column_type=(h,y)=>(g._sqlite3_column_type=be.Y)(h,y),g._sqlite3_errmsg=h=>(g._sqlite3_errmsg=be.Z)(h),g._sqlite3_clear_bindings=h=>(g._sqlite3_clear_bindings=be._)(h),g._sqlite3_value_blob=h=>(g._sqlite3_value_blob=be.$)(h),g._sqlite3_value_bytes=h=>(g._sqlite3_value_bytes=be.aa)(h),g._sqlite3_value_double=h=>(g._sqlite3_value_double=be.ba)(h),g._sqlite3_value_int=h=>(g._sqlite3_value_int=be.ca)(h),g._sqlite3_value_type=h=>(g._sqlite3_value_type=be.da)(h),g._sqlite3_result_blob=(h,y,S,A)=>(g._sqlite3_result_blob=be.ea)(h,y,S,A),g._sqlite3_result_double=(h,y)=>(g._sqlite3_result_double=be.fa)(h,y),g._sqlite3_result_error=(h,y,S)=>(g._sqlite3_result_error=be.ga)(h,y,S),g._sqlite3_result_int=(h,y)=>(g._sqlite3_result_int=be.ha)(h,y),g._sqlite3_result_int64=(h,y)=>(g._sqlite3_result_int64=be.ia)(h,y),g._sqlite3_result_null=h=>(g._sqlite3_result_null=be.ja)(h),g._sqlite3_result_text=(h,y,S,A)=>(g._sqlite3_result_text=be.ka)(h,y,S,A),g._sqlite3_aggregate_context=(h,y)=>(g._sqlite3_aggregate_context=be.la)(h,y),g._sqlite3_column_count=h=>(g._sqlite3_column_count=be.ma)(h),g._sqlite3_data_count=h=>(g._sqlite3_data_count=be.na)(h),g._sqlite3_column_blob=(h,y)=>(g._sqlite3_column_blob=be.oa)(h,y),g._sqlite3_column_bytes=(h,y)=>(g._sqlite3_column_bytes=be.pa)(h,y),g._sqlite3_column_double=(h,y)=>(g._sqlite3_column_double=be.qa)(h,y),g._sqlite3_bind_blob=(h,y,S,A,k)=>(g._sqlite3_bind_blob=be.ra)(h,y,S,A,k),g._sqlite3_bind_double=(h,y,S)=>(g._sqlite3_bind_double=be.sa)(h,y,S),g._sqlite3_bind_int=(h,y,S)=>(g._sqlite3_bind_int=be.ta)(h,y,S),g._sqlite3_bind_text=(h,y,S,A,k)=>(g._sqlite3_bind_text=be.ua)(h,y,S,A,k),g._sqlite3_bind_parameter_index=(h,y)=>(g._sqlite3_bind_parameter_index=be.va)(h,y),g._sqlite3_sql=h=>(g._sqlite3_sql=be.wa)(h),g._sqlite3_normalized_sql=h=>(g._sqlite3_normalized_sql=be.xa)(h),g._sqlite3_changes=h=>(g._sqlite3_changes=be.ya)(h),g._sqlite3_close_v2=h=>(g._sqlite3_close_v2=be.za)(h),g._sqlite3_create_function_v2=(h,y,S,A,k,F,te,we,Ie)=>(g._sqlite3_create_function_v2=be.Aa)(h,y,S,A,k,F,te,we,Ie),g._sqlite3_update_hook=(h,y,S)=>(g._sqlite3_update_hook=be.Ba)(h,y,S),g._sqlite3_open=(h,y)=>(g._sqlite3_open=be.Ca)(h,y);var qi=g._malloc=h=>(qi=g._malloc=be.Da)(h),ti=g._free=h=>(ti=g._free=be.Ea)(h);g._RegisterExtensionFunctions=h=>(g._RegisterExtensionFunctions=be.Fa)(h);var ba=(h,y)=>(ba=be.Ga)(h,y),za=(h,y)=>(za=be.Ha)(h,y),ci=h=>(ci=be.Ia)(h),rn=h=>(rn=be.Ja)(h),vn=()=>(vn=be.Ka)();g.stackSave=()=>vn(),g.stackRestore=h=>ci(h),g.stackAlloc=h=>rn(h),g.cwrap=(h,y,S,A)=>{var k=!S||S.every(F=>F==="number"||F==="boolean");return y!=="string"&&k&&!A?g["_"+h]:(...F)=>lo(h,y,S,F)},g.addFunction=Cn,g.removeFunction=ei,g.UTF8ToString=Ua,g.ALLOC_NORMAL=va,g.allocate=Ea,g.allocateUTF8OnStack=yn;function ra(){function h(){if(g.calledRun=!0,!x){if(!g.noFSInit&&!pa){var y,S;pa=!0,A??=g.stdin,y??=g.stdout,S??=g.stderr,A?Tt("stdin",A):Nn("/dev/tty","/dev/stdin"),y?Tt("stdout",null,y):Nn("/dev/tty","/dev/stdout"),S?Tt("stderr",null,S):Nn("/dev/tty1","/dev/stderr"),Vi("/dev/stdin",0),Vi("/dev/stdout",1),Vi("/dev/stderr",1)}if(be.N(),Ft=!1,g.onRuntimeInitialized?.(),g.postRun)for(typeof g.postRun=="function"&&(g.postRun=[g.postRun]);g.postRun.length;){var A=g.postRun.shift();Dt.unshift(A)}Xt(Dt)}}if(0<$e)B=ra;else{if(g.preRun)for(typeof g.preRun=="function"&&(g.preRun=[g.preRun]);g.preRun.length;)Er();Xt(da),0<$e?B=ra:g.setStatus?(g.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>g.setStatus(""),1),h()},1)):h()}}if(g.preInit)for(typeof g.preInit=="function"&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();return ra(),v}),i)};a.exports=s,a.exports.default=s})(Pd)),Pd.exports}var sS=rS();const j0=G1(sS),oS=`
CREATE TABLE IF NOT EXISTS domains (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL,
  icon TEXT NOT NULL,
  color TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS goals (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  domain_id INTEGER NOT NULL REFERENCES domains(id),
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS quests (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  goal_id INTEGER NOT NULL REFERENCES goals(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS steps (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  quest_id INTEGER NOT NULL REFERENCES quests(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'pending',
  sort_order INTEGER NOT NULL DEFAULT 0,
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS buff_definitions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  type TEXT NOT NULL DEFAULT 'buff',
  icon TEXT NOT NULL DEFAULT '',
  duration_hours INTEGER NOT NULL DEFAULT 24,
  stat_effects TEXT NOT NULL DEFAULT '{}',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS buff_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  definition_id INTEGER NOT NULL REFERENCES buff_definitions(id) ON DELETE CASCADE,
  activated_at TEXT NOT NULL DEFAULT (datetime('now')),
  expires_at TEXT NOT NULL,
  is_active INTEGER NOT NULL DEFAULT 1
);

CREATE TABLE IF NOT EXISTS character (
  id INTEGER PRIMARY KEY CHECK (id = 1),
  name TEXT NOT NULL DEFAULT 'Adventurer',
  total_xp INTEGER NOT NULL DEFAULT 0,
  level INTEGER NOT NULL DEFAULT 1,
  title TEXT NOT NULL DEFAULT 'Novice',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS xp_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  amount INTEGER NOT NULL,
  reason TEXT NOT NULL,
  source_type TEXT NOT NULL,
  source_id INTEGER,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS planner_events (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  date TEXT NOT NULL,
  start_time TEXT,
  end_time TEXT,
  quest_id INTEGER REFERENCES quests(id) ON DELETE SET NULL,
  step_id INTEGER REFERENCES steps(id) ON DELETE SET NULL,
  is_completed INTEGER NOT NULL DEFAULT 0,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);
`,lS=`
INSERT OR IGNORE INTO domains (id, name, icon, color) VALUES
  (1, 'Health', '', '#e74c3c'),
  (2, 'Career', '', '#c8a84e'),
  (3, 'Learning', '', '#3498db'),
  (4, 'Social', '', '#e67e22'),
  (5, 'Finance', '', '#2ecc71'),
  (6, 'Creative', '', '#9b59b6'),
  (7, 'Spiritual', '', '#1abc9c'),
  (8, 'Home', '', '#95a5a6');
`,uS=`
INSERT OR IGNORE INTO character (id, name, total_xp, level, title)
VALUES (1, 'Adventurer', 0, 1, 'Novice');
`,cS="goal-game-db",rl="database",M0="main";let ri=null;function V0(){return new Promise((a,t)=>{const i=indexedDB.open(cS,1);i.onupgradeneeded=()=>{const s=i.result;s.objectStoreNames.contains(rl)||s.createObjectStore(rl)},i.onsuccess=()=>a(i.result),i.onerror=()=>t(i.error)})}async function fS(){const a=await V0();return new Promise((t,i)=>{const s=a.transaction(rl,"readonly"),c=s.objectStore(rl).get(M0);c.onsuccess=()=>t(c.result??null),c.onerror=()=>i(c.error),s.oncomplete=()=>a.close()})}async function hS(a){const t=await V0();return new Promise((i,s)=>{const l=t.transaction(rl,"readwrite");l.objectStore(rl).put(a,M0),l.oncomplete=()=>{t.close(),i()},l.onerror=()=>s(l.error)})}async function dS(){if(ri)return ri;const a=await j0({locateFile:()=>"/goal-game/sql-wasm.wasm"}),t=await fS();return t?ri=new a.Database(t):ri=new a.Database,ri.run(oS),ri.run(lS),ri.run(uS),await Vt(),ri}async function Vt(){if(!ri)return;const a=ri.export();await hS(a)}function Je(){if(!ri)throw new Error("Database not initialized. Call getDatabase() first.");return ri}async function km(){return Je().export()}async function L0(a){const t=await j0({locateFile:()=>"/goal-game/sql-wasm.wasm"});ri&&ri.close(),ri=new t.Database(a),await Vt()}const zd="migration_feb2026_billing_v1";async function mS(){if(localStorage.getItem(zd))return!1;const a=Je(),t=a.exec("SELECT id FROM goals WHERE title = 'Bill 190 Hours - February 2026'");if(t.length>0&&t[0].values.length>0)return localStorage.setItem(zd,"true"),!1;a.run(`
    INSERT INTO goals (domain_id, title, description, status)
    VALUES (2, 'Bill 190 Hours - February 2026', 'Target: 8 hours on weekdays, ~4.5 hours on weekends. Started with 8 hours billed.', 'active')
  `);const s=a.exec("SELECT last_insert_rowid() as id")[0].values[0][0],l=[{title:"Week 1: Feb 3-9",description:"First partial week. Target: ~41 hours (4 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-03",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-04",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-05",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-06",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-07",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-08",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 2: Feb 9-15",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-09",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-10",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-11",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-12",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-13",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-14",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-15",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 3: Feb 16-22",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-16",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-17",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-18",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-19",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-20",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-21",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-22",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 4: Feb 23-28",description:"Final partial week. Target: ~44.5 hours (5 weekdays  8 + 1 weekend day  4.5)",days:[{date:"2026-02-23",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-24",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-25",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-26",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-27",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-28",day:"Sat",hours:4.5,isWeekend:!0}]}];for(const c of l){a.run(`
      INSERT INTO quests (goal_id, title, description, priority, status)
      VALUES (?, ?, ?, 'high', 'active')
    `,[s,c.title,c.description]);const v=a.exec("SELECT last_insert_rowid() as id")[0].values[0][0];for(let E=0;E<c.days.length;E++){const g=c.days[E],R=`${g.day} ${g.date.slice(5)}: Bill ${g.hours} hours`;a.run(`
        INSERT INTO steps (quest_id, title, priority, status, sort_order)
        VALUES (?, ?, ?, 'pending', ?)
      `,[v,R,g.isWeekend?"low":"normal",E])}}return await Vt(),localStorage.setItem(zd,"true"),!0}const ov="notifications_migration_v1";async function pS(){if(localStorage.getItem(ov))return;const a=Je();try{(a.exec("PRAGMA table_info(planner_events)")[0]?.values.map(s=>s[1])||[]).includes("reminder_minutes")||a.run("ALTER TABLE planner_events ADD COLUMN reminder_minutes INTEGER DEFAULT NULL"),a.run(`
      CREATE TABLE IF NOT EXISTS notification_settings (
        id INTEGER PRIMARY KEY CHECK (id = 1),
        enabled INTEGER NOT NULL DEFAULT 0,
        default_reminder_minutes INTEGER NOT NULL DEFAULT 15,
        fcm_token TEXT,
        device_id TEXT NOT NULL,
        updated_at TEXT NOT NULL DEFAULT (datetime('now'))
      )
    `),await Vt(),localStorage.setItem(ov,"true"),console.log("Notifications migration completed successfully")}catch(t){throw console.error("Failed to run notifications migration:",t),t}}function gS(){const[a,t]=oe.useState(!1),[i,s]=oe.useState(null);return oe.useEffect(()=>{dS().then(async()=>{await mS(),await pS(),t(!0)}).catch(l=>s(l.message))},[]),{ready:a,error:i}}function lv(){const t=Je().exec("SELECT id, name, total_xp, level, title, created_at FROM character WHERE id = 1");if(!t.length)throw new Error("Character not found");const i=t[0].values[0];return{id:i[0],name:i[1],total_xp:i[2],level:i[3],title:i[4],created_at:i[5]}}async function yS(a){Je().run("UPDATE character SET name = ? WHERE id = 1",[a]),await Vt()}function uv(a=50){const i=Je().exec(`SELECT id, amount, reason, source_type, source_id, created_at
     FROM xp_log ORDER BY created_at DESC LIMIT ?`,[a]);return i.length?i[0].values.map(s=>({id:s[0],amount:s[1],reason:s[2],source_type:s[3],source_id:s[4],created_at:s[5]})):[]}const k0=["stamina","willpower","health","focus","charisma"],Jr=["Novice","Apprentice","Journeyman","Adept","Expert","Master","Legend","Dragonborn"],_S={normal:10,important:15,legendary:20},vS=50,ES=200,bS=5,TS=25,SS=1.8,wS=50;function Um(a){return Math.floor(wS*Math.pow(a,SS))}function AS(a){let t=0;for(let i=1;i<a;i++)t+=Um(i);return t}function U0(a){let t=1,i=0;for(;;){if(i+=Um(t),a<i)return t;if(t++,t>100)return 100}}function B0(a){const t=U0(a),i=AS(t),s=a-i,l=Um(t);return{current:s,needed:l,percentage:Math.min(s/l*100,100)}}function RS(a){return a>=50?Jr[7]:a>=40?Jr[6]:a>=30?Jr[5]:a>=22?Jr[4]:a>=15?Jr[3]:a>=10?Jr[2]:a>=5?Jr[1]:Jr[0]}async function NS(a,t,i,s=null){const l=Je(),c=l.exec("SELECT total_xp, level FROM character WHERE id = 1"),m=c[0].values[0][0],v=c[0].values[0][1],E=m+a,g=U0(E),R=RS(g),I=g>v;return l.run("UPDATE character SET total_xp = ?, level = ?, title = ? WHERE id = 1",[E,g,R]),l.run("INSERT INTO xp_log (amount, reason, source_type, source_id) VALUES (?, ?, ?, ?)",[a,t,i,s]),await Vt(),{amount:a,newTotal:E,leveledUp:I,newLevel:g,newTitle:R}}function CS(){const[a,t]=oe.useState(()=>lv()),[i,s]=oe.useState(()=>uv()),[l,c]=oe.useState(null),[m,v]=oe.useState([]),E=oe.useCallback(()=>{t(lv()),s(uv())},[]),g=oe.useCallback(async(M,$,J,ie)=>{const K=await NS(M,$,J,ie??null);K.leveledUp&&c({level:K.newLevel,title:K.newTitle});const ee=Date.now();return v(me=>[...me,{id:ee,amount:M}]),setTimeout(()=>v(me=>me.filter(ge=>ge.id!==ee)),1500),E(),K},[E]),R=oe.useCallback(()=>c(null),[]),I=oe.useCallback(async M=>{await yS(M),E()},[E]);return{character:a,xpLog:i,levelUpInfo:l,xpFloats:m,grantXP:g,dismissLevelUp:R,setName:I,refresh:E}}function q0(){const t=Je().exec("SELECT id, name, icon, color FROM domains ORDER BY id");return t.length?t[0].values.map(i=>({id:i[0],name:i[1],icon:i[2],color:i[3]})):[]}function xS(a,t){const i=Je();let s="SELECT id, domain_id, title, description, status, created_at, completed_at FROM goals WHERE 1=1";const l=[];a&&(s+=" AND domain_id = ?",l.push(a)),t&&(s+=" AND status = ?",l.push(t)),s+=" ORDER BY created_at DESC";const c=i.exec(s,l);return c.length?c[0].values.map(m=>({id:m[0],domain_id:m[1],title:m[2],description:m[3],status:m[4],created_at:m[5],completed_at:m[6]})):[]}async function DS(a,t,i=""){const s=Je();s.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[a,t,i]);const l=s.exec("SELECT last_insert_rowid()");return await Vt(),l[0].values[0][0]}async function IS(a,t){const i=Je(),s=new Date().toISOString();i.run("UPDATE goals SET status = ?, completed_at = ? WHERE id = ?",[t,s,a]),await Vt()}function Bm(a,t){const i=Je();let s="SELECT id, goal_id, title, description, priority, status, created_at, completed_at FROM quests WHERE 1=1";const l=[];a&&(s+=" AND goal_id = ?",l.push(a)),s+=" ORDER BY created_at DESC";const c=i.exec(s,l);return c.length?c[0].values.map(m=>({id:m[0],goal_id:m[1],title:m[2],description:m[3],priority:m[4],status:m[5],created_at:m[6],completed_at:m[7]})):[]}async function OS(a,t,i="",s="normal"){const l=Je();l.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[a,t,i,s]);const c=l.exec("SELECT last_insert_rowid()");return await Vt(),c[0].values[0][0]}async function jS(a,t){const i=Je(),s=new Date().toISOString();i.run("UPDATE quests SET status = ?, completed_at = ? WHERE id = ?",[t,s,a]),await Vt()}function qm(a){const i=Je().exec("SELECT id, quest_id, title, priority, status, sort_order, completed_at FROM steps WHERE quest_id = ? ORDER BY sort_order, id",[a]);return i.length?i[0].values.map(s=>({id:s[0],quest_id:s[1],title:s[2],priority:s[3],status:s[4],sort_order:s[5],completed_at:s[6]})):[]}async function MS(a,t,i="normal"){const s=Je(),c=s.exec("SELECT COALESCE(MAX(sort_order), 0) FROM steps WHERE quest_id = ?",[a])[0].values[0][0]+1;s.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[a,t,i,c]);const m=s.exec("SELECT last_insert_rowid()");return await Vt(),m[0].values[0][0]}async function VS(a){Je().run("UPDATE steps SET status = 'completed', completed_at = datetime('now') WHERE id = ?",[a]),await Vt()}async function LS(a){Je().run("UPDATE steps SET status = 'pending', completed_at = NULL WHERE id = ?",[a]),await Vt()}async function kS(a){Je().run("DELETE FROM steps WHERE id = ?",[a]),await Vt()}async function US(a){const t=Je();t.run("DELETE FROM steps WHERE quest_id = ?",[a]),t.run("DELETE FROM quests WHERE id = ?",[a]),await Vt()}async function BS(a){const t=Je(),i=Bm(a);for(const s of i)t.run("DELETE FROM steps WHERE quest_id = ?",[s.id]);t.run("DELETE FROM quests WHERE goal_id = ?",[a]),t.run("DELETE FROM goals WHERE id = ?",[a]),await Vt()}function qS(a){const i=Je().exec(`SELECT q.id, q.goal_id, q.title, q.description, q.priority, q.status, q.created_at, q.completed_at,
            d.name as domain_name, d.icon as domain_icon, d.color as domain_color, g.title as goal_title
     FROM quests q
     JOIN goals g ON q.goal_id = g.id
     JOIN domains d ON g.domain_id = d.id
     WHERE q.id = ?`,[a]);if(!i.length)return null;const s=i[0].values[0];return{id:s[0],goal_id:s[1],title:s[2],description:s[3],priority:s[4],status:s[5],created_at:s[6],completed_at:s[7],domain_name:s[8],domain_icon:s[9],domain_color:s[10],goal_title:s[11],steps:qm(a)}}function PS(a,t){const i=xS(a,t),s=q0(),l=new Map(s.map(c=>[c.id,c]));return i.map(c=>{const m=l.get(c.domain_id),v=Bm(c.id).map(E=>({...E,steps:qm(E.id),domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color,goal_title:c.title}));return{...c,quests:v,domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color}})}function zS({grantXP:a}){const[t,i]=oe.useState([]),[s]=oe.useState(()=>q0()),[l,c]=oe.useState(void 0),[m,v]=oe.useState("active"),E=oe.useCallback(()=>{i(PS(l,m))},[l,m]);oe.useEffect(()=>{E()},[E]);const g=oe.useCallback(async(ee,me,ge)=>{await DS(ee,me,ge),E()},[E]),R=oe.useCallback(async(ee,me,ge,ye)=>{await OS(ee,me,ge,ye),E()},[E]),I=oe.useCallback(async(ee,me,ge)=>{await MS(ee,me,ge),E()},[E]),M=oe.useCallback(async(ee,me,ge)=>{await VS(ee);const ye=_S[ge]||10;await a(ye,"Completed step","step",ee);const Ce=qm(me);if(Ce.every(D=>D.status==="completed")&&Ce.length>0){await jS(me,"completed"),await a(vS,"Completed quest","quest",me);const D=qS(me);D&&Bm(D.goal_id).every(U=>U.status==="completed")&&(await IS(D.goal_id,"completed"),await a(ES,"Completed goal","goal",D.goal_id))}E()},[E,a]),$=oe.useCallback(async ee=>{await LS(ee),E()},[E]),J=oe.useCallback(async ee=>{await kS(ee),E()},[E]),ie=oe.useCallback(async ee=>{await US(ee),E()},[E]),K=oe.useCallback(async ee=>{await BS(ee),E()},[E]);return{goals:t,domains:s,filterDomain:l,filterStatus:m,setFilterDomain:c,setFilterStatus:v,refresh:E,createGoal:g,createQuest:R,createStep:I,completeStep:M,uncompleteStep:$,deleteStep:J,deleteQuest:ie,deleteGoal:K}}function HS(a){const t=Je();let i="SELECT id, name, description, type, icon, duration_hours, stat_effects, created_at FROM buff_definitions";const s=[];i+=" ORDER BY name";const l=t.exec(i,s);return l.length?l[0].values.map(c=>({id:c[0],name:c[1],description:c[2],type:c[3],icon:c[4],duration_hours:c[5],stat_effects:c[6],created_at:c[7]})):[]}async function FS(a,t,i,s,l,c){const m=Je();m.run("INSERT INTO buff_definitions (name, description, type, icon, duration_hours, stat_effects) VALUES (?, ?, ?, ?, ?, ?)",[a,t,i,s,l,c]);const v=m.exec("SELECT last_insert_rowid()");return await Vt(),v[0].values[0][0]}async function GS(a){const t=Je();t.run("DELETE FROM buff_log WHERE definition_id = ?",[a]),t.run("DELETE FROM buff_definitions WHERE id = ?",[a]),await Vt()}async function YS(a){const t=Je(),i=t.exec("SELECT duration_hours FROM buff_definitions WHERE id = ?",[a]);if(!i.length)throw new Error("Buff definition not found");const s=i[0].values[0][0];t.run(`INSERT INTO buff_log (definition_id, expires_at)
     VALUES (?, datetime('now', '+' || ? || ' hours'))`,[a,s]);const l=t.exec("SELECT last_insert_rowid()");return await Vt(),l[0].values[0][0]}async function QS(a){Je().run("UPDATE buff_log SET is_active = 0 WHERE id = ?",[a]),await Vt()}function XS(a){const i=Je().exec(`SELECT DISTINCT date(activated_at) as d FROM buff_log
     WHERE definition_id = ? AND activated_at >= date('now', '-30 days')
     ORDER BY d DESC`,[a]);if(!i.length)return 0;let s=0;const l=new Date().toISOString().split("T")[0],c=i[0].values.map(E=>E[0]),m=new Date(Date.now()-864e5).toISOString().split("T")[0];if(!c.includes(l)&&!c.includes(m))return 0;let v=c.includes(l)?l:m;for(const E of c)if(E===v){s++;const g=new Date(v+"T00:00:00");g.setDate(g.getDate()-1),v=g.toISOString().split("T")[0]}return s}function yf(a){try{return JSON.parse(a)}catch{return{}}}async function KS(){Je().run("UPDATE buff_log SET is_active = 0 WHERE is_active = 1 AND expires_at <= datetime('now')"),await Vt()}function $S(){const t=Je().exec(`
    SELECT bl.id, bl.definition_id, bl.activated_at, bl.expires_at, bl.is_active,
           bd.name, bd.description, bd.type, bd.icon, bd.stat_effects
    FROM buff_log bl
    JOIN buff_definitions bd ON bl.definition_id = bd.id
    WHERE bl.is_active = 1 AND bl.expires_at > datetime('now')
    ORDER BY bl.activated_at DESC
  `);return t.length?t[0].values.map(i=>({id:i[0],definition_id:i[1],activated_at:i[2],expires_at:i[3],is_active:!!i[4],name:i[5],description:i[6],type:i[7],icon:i[8],stat_effects:i[9]})):[]}function WS(a){const t={stamina:10,willpower:10,health:10,focus:10,charisma:10};for(const i of a){const s=yf(i.stat_effects);for(const[l,c]of Object.entries(s))l in t&&(t[l]+=c)}return t}function ZS({grantXP:a,scheduleBuffExpiry:t,cancelBuffExpiry:i}){const[s,l]=oe.useState([]),[c,m]=oe.useState([]),[v,E]=oe.useState({stamina:10,willpower:10,health:10,focus:10,charisma:10}),g=oe.useCallback(async()=>{await KS(),l(HS());const J=$S();m(J),E(WS(J))},[]);oe.useEffect(()=>{const J=setInterval(g,6e4);return()=>clearInterval(J)},[g]);const R=oe.useCallback(async(J,ie,K,ee,me,ge)=>{await FS(J,ie,K,ee,me,ge),g()},[g]),I=oe.useCallback(async J=>{await GS(J),g()},[g]),M=oe.useCallback(async J=>{const ie=await YS(J),K=s.find(ee=>ee.id===J);if(K&&K.type==="buff"){await a(bS,`Activated buff: ${K.name}`,"buff",ie);const ee=XS(J);ee>0&&ee%7===0&&await a(TS,`7-day streak: ${K.name}`,"streak",J)}if(K&&t){const ee=new Date(Date.now()+K.duration_hours*60*60*1e3).toISOString();await t(ie,K.name,K.type,ee)}g()},[g,s,a,t]),$=oe.useCallback(async J=>{i&&await i(J),await QS(J),g()},[g,i]);return{definitions:s,activeBuffs:c,stats:v,refresh:g,createDefinition:R,deleteDefinition:I,activateBuff:M,deactivateBuff:$}}function Hd(a,t,i){const s=Je();let l=`SELECT id, title, description, date, start_time, end_time, quest_id, step_id, is_completed, created_at, reminder_minutes
             FROM planner_events WHERE 1=1`;const c=[];a&&(l+=" AND date = ?",c.push(a)),t&&(l+=" AND date >= ?",c.push(t)),i&&(l+=" AND date <= ?",c.push(i)),l+=" ORDER BY date, start_time, id";const m=s.exec(l,c);return m.length?m[0].values.map(v=>({id:v[0],title:v[1],description:v[2],date:v[3],start_time:v[4],end_time:v[5],quest_id:v[6],step_id:v[7],is_completed:!!v[8],created_at:v[9],reminder_minutes:v[10]})):[]}async function JS(a,t,i="",s=null,l=null,c=null,m=null,v=null){const E=Je();E.run(`INSERT INTO planner_events (title, description, date, start_time, end_time, quest_id, step_id, reminder_minutes)
     VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,[a,i,t,s,l,c,m,v]);const g=E.exec("SELECT last_insert_rowid()");return await Vt(),g[0].values[0][0]}async function ew(a){Je().run("UPDATE planner_events SET is_completed = 1 WHERE id = ?",[a]),await Vt()}async function tw(a){Je().run("UPDATE planner_events SET is_completed = 0 WHERE id = ?",[a]),await Vt()}async function nw(a){Je().run("DELETE FROM planner_events WHERE id = ?",[a]),await Vt()}function Wc(){return new Date().toISOString().split("T")[0]}function Fd(a){return new Date(a+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function cv(a){const[t,i]=a.split(":").map(Number),s=t>=12?"PM":"AM";return`${t%12||12}:${i.toString().padStart(2,"0")} ${s}`}function Pm(a){const t=new Date(a+"T00:00:00"),i=t.getDay(),s=new Date(t);s.setDate(t.getDate()-(i+6)%7);const l=[];for(let c=0;c<7;c++){const m=new Date(s);m.setDate(s.getDate()+c),l.push(m.toISOString().split("T")[0])}return l}function iw(a,t){const i=new Date(a,t,1),s=new Date(a,t+1,0),l=(i.getDay()+6)%7,c=[];let m=new Array(l).fill(null);for(let v=1;v<=s.getDate();v++){const E=new Date(a,t,v);m.push(E.toISOString().split("T")[0]),m.length===7&&(c.push(m),m=[])}if(m.length>0){for(;m.length<7;)m.push(null);c.push(m)}return c}function fv(a,t){const i=new Date(a+"T00:00:00");return i.setDate(i.getDate()+t),i.toISOString().split("T")[0]}function aw(a){return new Date(2e3,a).toLocaleDateString("en-US",{month:"long"})}function rw({grantXP:a,scheduleEventReminder:t,cancelEventReminder:i}){const[s,l]=oe.useState("day"),[c,m]=oe.useState(Wc()),[v,E]=oe.useState([]),g=oe.useCallback(()=>{if(s==="day")E(Hd(c));else if(s==="week"){const K=Pm(c);E(Hd(void 0,K[0],K[6]))}else{const K=new Date(c+"T00:00:00"),ee=new Date(K.getFullYear(),K.getMonth(),1).toISOString().split("T")[0],me=new Date(K.getFullYear(),K.getMonth()+1,0).toISOString().split("T")[0];E(Hd(void 0,ee,me))}},[s,c]);oe.useEffect(()=>{g()},[g]);const R=oe.useCallback(async(K,ee,me,ge,ye,Ce,Me,D)=>{const x=await JS(K,ee,me,ge,ye,Ce,Me,D);D!=null&&ge&&t&&await t(x,K,ee,ge,D),g()},[g,t]),I=oe.useCallback(async K=>{await ew(K);const ee=v.find(me=>me.id===K);ee&&(ee.quest_id||ee.step_id)&&await a(10,`Completed linked event: ${ee.title}`,"event",K),i&&await i(K),g()},[g,v,a,i]),M=oe.useCallback(async K=>{await tw(K),g()},[g]),$=oe.useCallback(async K=>{i&&await i(K),await nw(K),g()},[g,i]),J=oe.useCallback(K=>{if(s==="day")m(fv(c,K));else if(s==="week")m(fv(c,K*7));else{const ee=new Date(c+"T00:00:00");ee.setMonth(ee.getMonth()+K),m(ee.toISOString().split("T")[0])}},[s,c]),ie=oe.useCallback(()=>m(Wc()),[]);return{view:s,setView:l,currentDate:c,setCurrentDate:m,events:v,refresh:g,createEvent:R,completeEvent:I,uncompleteEvent:M,deleteEvent:$,navigateDay:J,goToToday:ie}}const sw=1440*60*1e3,P0="Goal Game Backup",Ru="github_gist_token",fr="github_gist_id",_f="github_last_backup";function ow(){return!!localStorage.getItem(Ru)}function z0(){return!!localStorage.getItem(Ru)}function vf(){return localStorage.getItem(Ru)}function lw(a){localStorage.setItem(Ru,a)}function uw(){localStorage.removeItem(Ru),localStorage.removeItem(fr),localStorage.removeItem(_f)}function cw(){const a=localStorage.getItem(_f);return a?Date.now()-Number(a)>sw:!0}function H0(){const a=localStorage.getItem(_f);return a?new Date(Number(a)):null}function fw(a){let t="";for(let i=0;i<a.length;i++)t+=String.fromCharCode(a[i]);return btoa(t)}function hw(a){const t=atob(a),i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}async function F0(a){try{const t=await fetch("https://api.github.com/gists?per_page=100",{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}});if(!t.ok)return null;const i=await t.json();for(const s of i)if(s.description===P0)return s.id;return null}catch{return null}}async function dw(a){const t=localStorage.getItem(fr);if(t){if((await fetch(`https://api.github.com/gists/${t}`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}})).ok)return t;localStorage.removeItem(fr)}const i=await F0(a);if(i)return localStorage.setItem(fr,i),i;const s=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({description:P0,public:!1,files:{"README.md":{content:`# Goal Game Backups

This gist contains automatic backups of your Goal Game data.

Backups are stored as base64-encoded database files.`}}})});if(!s.ok)throw new Error("Failed to create backup gist");const l=await s.json();return localStorage.setItem(fr,l.id),l.id}async function G0(a){const t=vf();if(!t)return{success:!1,error:"Not authenticated"};try{const i=await dw(t),l=`backup-${new Date().toISOString().replace(/[:.]/g,"-")}.db.b64`,c=fw(a),m=await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:{[l]:{content:c}}})});return m.ok?(localStorage.setItem(_f,String(Date.now())),{success:!0,fileName:l}):{success:!1,error:(await m.json()).message||"Upload failed"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async function Y0(){const a=vf();if(!a)return[];let t=localStorage.getItem(fr);if(!t)if(t=await F0(a),t)localStorage.setItem(fr,t);else return[];try{const i=await fetch(`https://api.github.com/gists/${t}`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}});if(!i.ok)return[];const s=await i.json(),l=[];for(const[c,m]of Object.entries(s.files))c.endsWith(".db.b64")&&l.push({fileName:c,size:m.size});return l.sort((c,m)=>m.fileName.localeCompare(c.fileName))}catch{return[]}}async function mw(a){const t=vf();if(!t)return null;const i=localStorage.getItem(fr);if(!i)return null;try{const s=await fetch(`https://api.github.com/gists/${i}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json"}});if(!s.ok)return null;const c=(await s.json()).files[a];if(!c)return null;let m;return c.truncated?m=await(await fetch(c.raw_url,{headers:{Authorization:`Bearer ${t}`}})).text():m=c.content,hw(m)}catch{return null}}async function pw(a){try{return(await fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}})).ok}catch{return!1}}async function Q0(a=7){const t=vf();if(!t)return;const i=localStorage.getItem(fr);if(i)try{const s=await Y0();if(s.length<=a)return;const l=s.slice(a),c={};for(const m of l)c[m.fileName]=null;await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:c})})}catch{}}function gw(){const[a,t]=oe.useState("idle"),[i,s]=oe.useState(null),[l,c]=oe.useState(""),m=oe.useRef(!1);return oe.useEffect(()=>{if(m.current)return;m.current=!0;const E=setTimeout(async()=>{if(ow()&&z0()){if(!cw()){s(H0());return}t("backing-up"),c("Auto-backing up to GitHub...");try{const g=await km(),R=await G0(g);R.success?(t("success"),c("Auto-backup complete!"),s(new Date),await Q0(7),setTimeout(()=>{t("idle"),c("")},5e3)):(t("error"),c(`Auto-backup failed: ${R.error}`))}catch(g){t("error"),c(`Auto-backup failed: ${g instanceof Error?g.message:"Unknown error"}`)}}},3e3);return()=>clearTimeout(E)},[]),{status:a,lastBackup:i,message:l}}const yw=()=>{};var hv={};const X0=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},_w=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],m=a[i++],v=a[i++],E=((l&7)<<18|(c&63)<<12|(m&63)<<6|v&63)-65536;t[s++]=String.fromCharCode(55296+(E>>10)),t[s++]=String.fromCharCode(56320+(E&1023))}else{const c=a[i++],m=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|m&63)}}return t.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],m=l+1<a.length,v=m?a[l+1]:0,E=l+2<a.length,g=E?a[l+2]:0,R=c>>2,I=(c&3)<<4|v>>4;let M=(v&15)<<2|g>>6,$=g&63;E||($=64,m||(M=64)),s.push(i[R],i[I],i[M],i[$])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(X0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):_w(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],v=l<a.length?i[a.charAt(l)]:0;++l;const g=l<a.length?i[a.charAt(l)]:64;++l;const I=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||v==null||g==null||I==null)throw new vw;const M=c<<2|v>>4;if(s.push(M),g!==64){const $=v<<4&240|g>>2;if(s.push($),I!==64){const J=g<<6&192|I;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ew=function(a){const t=X0(a);return K0.encodeByteArray(t,!0)},Zc=function(a){return Ew(a).replace(/\./g,"")},bw=function(a){try{return K0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Tw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Sw=()=>Tw().__FIREBASE_DEFAULTS__,ww=()=>{if(typeof process>"u"||typeof hv>"u")return;const a=hv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Aw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&bw(a[1]);return t&&JSON.parse(t)},zm=()=>{try{return yw()||Sw()||ww()||Aw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Rw=a=>zm()?.emulatorHosts?.[a],Nw=a=>{const t=Rw(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},$0=()=>zm()?.config;class Cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function Hm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xw(a){return(await fetch(a,{credentials:"include"})).ok}function Dw(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(m)),""].join(".")}const hu={};function Iw(){const a={prod:[],emulator:[]};for(const t of Object.keys(hu))hu[t]?a.emulator.push(t):a.prod.push(t);return a}function Ow(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let dv=!1;function jw(a,t){if(typeof window>"u"||typeof document>"u"||!Hm(window.location.host)||hu[a]===t||hu[a]||dv)return;hu[a]=t;function i(M){return`__firebase__banner__${M}`}const s="__firebase__banner",c=Iw().prod.length>0;function m(){const M=document.getElementById(s);M&&M.remove()}function v(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function E(M,$){M.setAttribute("width","24"),M.setAttribute("id",$),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function g(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{dv=!0,m()},M}function R(M,$){M.setAttribute("id",$),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function I(){const M=Ow(s),$=i("text"),J=document.getElementById($)||document.createElement("span"),ie=i("learnmore"),K=document.getElementById(ie)||document.createElement("a"),ee=i("preprendIcon"),me=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ge=M.element;v(ge),R(K,ie);const ye=g();E(me,ee),ge.append(me,J,K,ye),document.body.appendChild(ge)}c?(J.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}function Mw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vw(){const a=zm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lw(){return!Vw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W0(){try{return typeof indexedDB=="object"}catch{return!1}}function Z0(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function kw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Uw="FirebaseError";class Ws extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=Uw,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ef.prototype.create)}}class Ef{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],m=c?Bw(c,s):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new Ws(l,v,s)}}function Bw(a,t){return a.replace(qw,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const qw=/\{\$([^}]+)}/g;function Jc(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],m=t[l];if(mv(c)&&mv(m)){if(!Jc(c,m))return!1}else if(c!==m)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function mv(a){return a!==null&&typeof a=="object"}function mr(a){return a&&a._delegate?a._delegate:a}class pr{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fs="[DEFAULT]";class Pw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new Cw;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Hw(t))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Fs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fs){return this.instances.has(t)}getOptions(t=Fs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(c);s===v&&m.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zw(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Fs){return this.component?this.component.multipleInstances?t:Fs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zw(a){return a===Fs?void 0:a}function Hw(a){return a.instantiationMode==="EAGER"}class Fw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Pw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var ht;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ht||(ht={}));const Gw={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},Yw=ht.INFO,Qw={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},Xw=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=Qw[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class J0{constructor(t){this.name=t,this._logLevel=Yw,this._logHandler=Xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Gw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}const Kw=(a,t)=>t.some(i=>a instanceof i);let pv,gv;function $w(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ww(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,fm=new WeakMap,tE=new WeakMap,Gd=new WeakMap,Fm=new WeakMap;function Zw(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",m)},c=()=>{i(hr(a.result)),l()},m=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",m)});return t.then(i=>{i instanceof IDBCursor&&eE.set(i,a)}).catch(()=>{}),Fm.set(t,a),t}function Jw(a){if(fm.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",m),a.removeEventListener("abort",m)},c=()=>{i(),l()},m=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",m),a.addEventListener("abort",m)});fm.set(a,t)}let hm={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return fm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||tE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function e2(a){hm=a(hm)}function t2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Yd(this),t,...i);return tE.set(s,t.sort?t.sort():[t]),hr(s)}:Ww().includes(a)?function(...t){return a.apply(Yd(this),t),hr(eE.get(this))}:function(...t){return hr(a.apply(Yd(this),t))}}function n2(a){return typeof a=="function"?t2(a):(a instanceof IDBTransaction&&Jw(a),Kw(a,$w())?new Proxy(a,hm):a)}function hr(a){if(a instanceof IDBRequest)return Zw(a);if(Gd.has(a))return Gd.get(a);const t=n2(a);return t!==a&&(Gd.set(a,t),Fm.set(t,a)),t}const Yd=a=>Fm.get(a);function bf(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const m=indexedDB.open(a,t),v=hr(m);return s&&m.addEventListener("upgradeneeded",E=>{s(hr(m.result),E.oldVersion,E.newVersion,hr(m.transaction),E)}),i&&m.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),v.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),v}function Qd(a,{blocked:t}={}){const i=indexedDB.deleteDatabase(a);return t&&i.addEventListener("blocked",s=>t(s.oldVersion,s)),hr(i).then(()=>{})}const i2=["get","getKey","getAll","getAllKeys","count"],a2=["put","add","delete","clear"],Xd=new Map;function yv(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=a2.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||i2.includes(i)))return;const c=async function(m,...v){const E=this.transaction(m,l?"readwrite":"readonly");let g=E.store;return s&&(g=g.index(v.shift())),(await Promise.all([g[i](...v),l&&E.done]))[0]};return Xd.set(t,c),c}e2(a=>({...a,get:(t,i,s)=>yv(t,i)||a.get(t,i,s),has:(t,i)=>!!yv(t,i)||a.has(t,i)}));class r2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(s2(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function s2(a){return a.getComponent()?.type==="VERSION"}const dm="@firebase/app",_v="0.14.7";const gr=new J0("@firebase/app"),o2="@firebase/app-compat",l2="@firebase/analytics-compat",u2="@firebase/analytics",c2="@firebase/app-check-compat",f2="@firebase/app-check",h2="@firebase/auth",d2="@firebase/auth-compat",m2="@firebase/database",p2="@firebase/data-connect",g2="@firebase/database-compat",y2="@firebase/functions",_2="@firebase/functions-compat",v2="@firebase/installations",E2="@firebase/installations-compat",b2="@firebase/messaging",T2="@firebase/messaging-compat",S2="@firebase/performance",w2="@firebase/performance-compat",A2="@firebase/remote-config",R2="@firebase/remote-config-compat",N2="@firebase/storage",C2="@firebase/storage-compat",x2="@firebase/firestore",D2="@firebase/ai",I2="@firebase/firestore-compat",O2="firebase",j2="12.8.0";const mm="[DEFAULT]",M2={[dm]:"fire-core",[o2]:"fire-core-compat",[u2]:"fire-analytics",[l2]:"fire-analytics-compat",[f2]:"fire-app-check",[c2]:"fire-app-check-compat",[h2]:"fire-auth",[d2]:"fire-auth-compat",[m2]:"fire-rtdb",[p2]:"fire-data-connect",[g2]:"fire-rtdb-compat",[y2]:"fire-fn",[_2]:"fire-fn-compat",[v2]:"fire-iid",[E2]:"fire-iid-compat",[b2]:"fire-fcm",[T2]:"fire-fcm-compat",[S2]:"fire-perf",[w2]:"fire-perf-compat",[A2]:"fire-rc",[R2]:"fire-rc-compat",[N2]:"fire-gcs",[C2]:"fire-gcs-compat",[x2]:"fire-fst",[I2]:"fire-fst-compat",[D2]:"fire-vertex","fire-js":"fire-js",[O2]:"fire-js-all"};const ef=new Map,V2=new Map,pm=new Map;function vv(a,t){try{a.container.addComponent(t)}catch(i){gr.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ss(a){const t=a.name;if(pm.has(t))return gr.debug(`There were multiple attempts to register component ${t}.`),!1;pm.set(t,a);for(const i of ef.values())vv(i,a);for(const i of V2.values())vv(i,a);return!0}function Tf(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function L2(a){return a==null?!1:a.settings!==void 0}const k2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Ef("app","Firebase",k2);class U2{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const B2=j2;function nE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:mm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw ns.create("bad-app-name",{appName:String(l)});if(i||(i=$0()),!i)throw ns.create("no-options");const c=ef.get(l);if(c){if(Jc(i,c.options)&&Jc(s,c.config))return c;throw ns.create("duplicate-app",{appName:l})}const m=new Fw(l);for(const E of pm.values())m.addComponent(E);const v=new U2(i,s,m);return ef.set(l,v),v}function iE(a=mm){const t=ef.get(a);if(!t&&a===mm&&$0())return nE();if(!t)throw ns.create("no-app",{appName:a});return t}function Ia(a,t,i){let s=M2[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const m=[`Unable to register library "${s}" with version "${t}":`];l&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}ss(new pr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const q2="firebase-heartbeat-database",P2=1,yu="firebase-heartbeat-store";let Kd=null;function aE(){return Kd||(Kd=bf(q2,P2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(yu)}catch(i){console.warn(i)}}}}).catch(a=>{throw ns.create("idb-open",{originalErrorMessage:a.message})})),Kd}async function z2(a){try{const i=(await aE()).transaction(yu),s=await i.objectStore(yu).get(rE(a));return await i.done,s}catch(t){if(t instanceof Ws)gr.warn(t.message);else{const i=ns.create("idb-get",{originalErrorMessage:t?.message});gr.warn(i.message)}}}async function Ev(a,t){try{const s=(await aE()).transaction(yu,"readwrite");await s.objectStore(yu).put(t,rE(a)),await s.done}catch(i){if(i instanceof Ws)gr.warn(i.message);else{const s=ns.create("idb-set",{originalErrorMessage:i?.message});gr.warn(s.message)}}}function rE(a){return`${a.name}!${a.options.appId}`}const H2=1024,F2=30;class G2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Q2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>F2){const l=X2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bv(),{heartbeatsToSend:i,unsentEntries:s}=Y2(this._heartbeatsCache.heartbeats),l=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gr.warn(t),""}}}function bv(){return new Date().toISOString().substring(0,10)}function Y2(a,t=H2){const i=[];let s=a.slice();for(const l of a){const c=i.find(m=>m.agent===l.agent);if(c){if(c.dates.push(l.date),Tv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Tv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Q2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W0()?Z0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await z2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Tv(a){return Zc(JSON.stringify({version:2,heartbeats:a})).length}function X2(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}function K2(a){ss(new pr("platform-logger",t=>new r2(t),"PRIVATE")),ss(new pr("heartbeat",t=>new G2(t),"PRIVATE")),Ia(dm,_v,a),Ia(dm,_v,"esm2020"),Ia("fire-js","")}K2("");var $2="firebase",W2="12.8.0";Ia($2,W2,"app");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var is,sE;(function(){var a;function t(D,x){function V(){}V.prototype=x.prototype,D.F=x.prototype,D.prototype=new V,D.prototype.constructor=D,D.D=function(U,j,O){for(var C=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)C[_e-2]=arguments[_e];return x.prototype[j].apply(U,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,x,V){V||(V=0);const U=Array(16);if(typeof x=="string")for(var j=0;j<16;++j)U[j]=x.charCodeAt(V++)|x.charCodeAt(V++)<<8|x.charCodeAt(V++)<<16|x.charCodeAt(V++)<<24;else for(j=0;j<16;++j)U[j]=x[V++]|x[V++]<<8|x[V++]<<16|x[V++]<<24;x=D.g[0],V=D.g[1],j=D.g[2];let O=D.g[3],C;C=x+(O^V&(j^O))+U[0]+3614090360&4294967295,x=V+(C<<7&4294967295|C>>>25),C=O+(j^x&(V^j))+U[1]+3905402710&4294967295,O=x+(C<<12&4294967295|C>>>20),C=j+(V^O&(x^V))+U[2]+606105819&4294967295,j=O+(C<<17&4294967295|C>>>15),C=V+(x^j&(O^x))+U[3]+3250441966&4294967295,V=j+(C<<22&4294967295|C>>>10),C=x+(O^V&(j^O))+U[4]+4118548399&4294967295,x=V+(C<<7&4294967295|C>>>25),C=O+(j^x&(V^j))+U[5]+1200080426&4294967295,O=x+(C<<12&4294967295|C>>>20),C=j+(V^O&(x^V))+U[6]+2821735955&4294967295,j=O+(C<<17&4294967295|C>>>15),C=V+(x^j&(O^x))+U[7]+4249261313&4294967295,V=j+(C<<22&4294967295|C>>>10),C=x+(O^V&(j^O))+U[8]+1770035416&4294967295,x=V+(C<<7&4294967295|C>>>25),C=O+(j^x&(V^j))+U[9]+2336552879&4294967295,O=x+(C<<12&4294967295|C>>>20),C=j+(V^O&(x^V))+U[10]+4294925233&4294967295,j=O+(C<<17&4294967295|C>>>15),C=V+(x^j&(O^x))+U[11]+2304563134&4294967295,V=j+(C<<22&4294967295|C>>>10),C=x+(O^V&(j^O))+U[12]+1804603682&4294967295,x=V+(C<<7&4294967295|C>>>25),C=O+(j^x&(V^j))+U[13]+4254626195&4294967295,O=x+(C<<12&4294967295|C>>>20),C=j+(V^O&(x^V))+U[14]+2792965006&4294967295,j=O+(C<<17&4294967295|C>>>15),C=V+(x^j&(O^x))+U[15]+1236535329&4294967295,V=j+(C<<22&4294967295|C>>>10),C=x+(j^O&(V^j))+U[1]+4129170786&4294967295,x=V+(C<<5&4294967295|C>>>27),C=O+(V^j&(x^V))+U[6]+3225465664&4294967295,O=x+(C<<9&4294967295|C>>>23),C=j+(x^V&(O^x))+U[11]+643717713&4294967295,j=O+(C<<14&4294967295|C>>>18),C=V+(O^x&(j^O))+U[0]+3921069994&4294967295,V=j+(C<<20&4294967295|C>>>12),C=x+(j^O&(V^j))+U[5]+3593408605&4294967295,x=V+(C<<5&4294967295|C>>>27),C=O+(V^j&(x^V))+U[10]+38016083&4294967295,O=x+(C<<9&4294967295|C>>>23),C=j+(x^V&(O^x))+U[15]+3634488961&4294967295,j=O+(C<<14&4294967295|C>>>18),C=V+(O^x&(j^O))+U[4]+3889429448&4294967295,V=j+(C<<20&4294967295|C>>>12),C=x+(j^O&(V^j))+U[9]+568446438&4294967295,x=V+(C<<5&4294967295|C>>>27),C=O+(V^j&(x^V))+U[14]+3275163606&4294967295,O=x+(C<<9&4294967295|C>>>23),C=j+(x^V&(O^x))+U[3]+4107603335&4294967295,j=O+(C<<14&4294967295|C>>>18),C=V+(O^x&(j^O))+U[8]+1163531501&4294967295,V=j+(C<<20&4294967295|C>>>12),C=x+(j^O&(V^j))+U[13]+2850285829&4294967295,x=V+(C<<5&4294967295|C>>>27),C=O+(V^j&(x^V))+U[2]+4243563512&4294967295,O=x+(C<<9&4294967295|C>>>23),C=j+(x^V&(O^x))+U[7]+1735328473&4294967295,j=O+(C<<14&4294967295|C>>>18),C=V+(O^x&(j^O))+U[12]+2368359562&4294967295,V=j+(C<<20&4294967295|C>>>12),C=x+(V^j^O)+U[5]+4294588738&4294967295,x=V+(C<<4&4294967295|C>>>28),C=O+(x^V^j)+U[8]+2272392833&4294967295,O=x+(C<<11&4294967295|C>>>21),C=j+(O^x^V)+U[11]+1839030562&4294967295,j=O+(C<<16&4294967295|C>>>16),C=V+(j^O^x)+U[14]+4259657740&4294967295,V=j+(C<<23&4294967295|C>>>9),C=x+(V^j^O)+U[1]+2763975236&4294967295,x=V+(C<<4&4294967295|C>>>28),C=O+(x^V^j)+U[4]+1272893353&4294967295,O=x+(C<<11&4294967295|C>>>21),C=j+(O^x^V)+U[7]+4139469664&4294967295,j=O+(C<<16&4294967295|C>>>16),C=V+(j^O^x)+U[10]+3200236656&4294967295,V=j+(C<<23&4294967295|C>>>9),C=x+(V^j^O)+U[13]+681279174&4294967295,x=V+(C<<4&4294967295|C>>>28),C=O+(x^V^j)+U[0]+3936430074&4294967295,O=x+(C<<11&4294967295|C>>>21),C=j+(O^x^V)+U[3]+3572445317&4294967295,j=O+(C<<16&4294967295|C>>>16),C=V+(j^O^x)+U[6]+76029189&4294967295,V=j+(C<<23&4294967295|C>>>9),C=x+(V^j^O)+U[9]+3654602809&4294967295,x=V+(C<<4&4294967295|C>>>28),C=O+(x^V^j)+U[12]+3873151461&4294967295,O=x+(C<<11&4294967295|C>>>21),C=j+(O^x^V)+U[15]+530742520&4294967295,j=O+(C<<16&4294967295|C>>>16),C=V+(j^O^x)+U[2]+3299628645&4294967295,V=j+(C<<23&4294967295|C>>>9),C=x+(j^(V|~O))+U[0]+4096336452&4294967295,x=V+(C<<6&4294967295|C>>>26),C=O+(V^(x|~j))+U[7]+1126891415&4294967295,O=x+(C<<10&4294967295|C>>>22),C=j+(x^(O|~V))+U[14]+2878612391&4294967295,j=O+(C<<15&4294967295|C>>>17),C=V+(O^(j|~x))+U[5]+4237533241&4294967295,V=j+(C<<21&4294967295|C>>>11),C=x+(j^(V|~O))+U[12]+1700485571&4294967295,x=V+(C<<6&4294967295|C>>>26),C=O+(V^(x|~j))+U[3]+2399980690&4294967295,O=x+(C<<10&4294967295|C>>>22),C=j+(x^(O|~V))+U[10]+4293915773&4294967295,j=O+(C<<15&4294967295|C>>>17),C=V+(O^(j|~x))+U[1]+2240044497&4294967295,V=j+(C<<21&4294967295|C>>>11),C=x+(j^(V|~O))+U[8]+1873313359&4294967295,x=V+(C<<6&4294967295|C>>>26),C=O+(V^(x|~j))+U[15]+4264355552&4294967295,O=x+(C<<10&4294967295|C>>>22),C=j+(x^(O|~V))+U[6]+2734768916&4294967295,j=O+(C<<15&4294967295|C>>>17),C=V+(O^(j|~x))+U[13]+1309151649&4294967295,V=j+(C<<21&4294967295|C>>>11),C=x+(j^(V|~O))+U[4]+4149444226&4294967295,x=V+(C<<6&4294967295|C>>>26),C=O+(V^(x|~j))+U[11]+3174756917&4294967295,O=x+(C<<10&4294967295|C>>>22),C=j+(x^(O|~V))+U[2]+718787259&4294967295,j=O+(C<<15&4294967295|C>>>17),C=V+(O^(j|~x))+U[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+O&4294967295}s.prototype.v=function(D,x){x===void 0&&(x=D.length);const V=x-this.blockSize,U=this.C;let j=this.h,O=0;for(;O<x;){if(j==0)for(;O<=V;)l(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<x;)if(U[j++]=D.charCodeAt(O++),j==this.blockSize){l(this,U),j=0;break}}else for(;O<x;)if(U[j++]=D[O++],j==this.blockSize){l(this,U),j=0;break}}this.h=j,this.o+=x},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var V=D.length-8;V<D.length;++V)D[V]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,V=0;V<4;++V)for(let U=0;U<32;U+=8)D[x++]=this.g[V]>>>U&255;return D};function c(D,x){var V=v;return Object.prototype.hasOwnProperty.call(V,D)?V[D]:V[D]=x(D)}function m(D,x){this.h=x;const V=[];let U=!0;for(let j=D.length-1;j>=0;j--){const O=D[j]|0;U&&O==x||(V[j]=O,U=!1)}this.g=V}var v={};function E(D){return-128<=D&&D<128?c(D,function(x){return new m([x|0],x<0?-1:0)}):new m([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return I;if(D<0)return K(g(-D));const x=[];let V=1;for(let U=0;D>=V;U++)x[U]=D/V|0,V*=4294967296;return new m(x,0)}function R(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return K(R(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=g(Math.pow(x,8));let U=I;for(let O=0;O<D.length;O+=8){var j=Math.min(8,D.length-O);const C=parseInt(D.substring(O,O+j),x);j<8?(j=g(Math.pow(x,j)),U=U.j(j).add(g(C))):(U=U.j(V),U=U.add(g(C)))}return U}var I=E(0),M=E(1),$=E(16777216);a=m.prototype,a.m=function(){if(ie(this))return-K(this).m();let D=0,x=1;for(let V=0;V<this.g.length;V++){const U=this.i(V);D+=(U>=0?U:4294967296+U)*x,x*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(ie(this))return"-"+K(this).toString(D);const x=g(Math.pow(D,6));var V=this;let U="";for(;;){const j=ye(V,x).g;V=ee(V,j.j(x));let O=((V.g.length>0?V.g[0]:V.h)>>>0).toString(D);if(V=j,J(V))return O+U;for(;O.length<6;)O="0"+O;U=O+U}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function ie(D){return D.h==-1}a.l=function(D){return D=ee(this,D),ie(D)?-1:J(D)?0:1};function K(D){const x=D.g.length,V=[];for(let U=0;U<x;U++)V[U]=~D.g[U];return new m(V,~D.h).add(M)}a.abs=function(){return ie(this)?K(this):this},a.add=function(D){const x=Math.max(this.g.length,D.g.length),V=[];let U=0;for(let j=0;j<=x;j++){let O=U+(this.i(j)&65535)+(D.i(j)&65535),C=(O>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);U=C>>>16,O&=65535,C&=65535,V[j]=C<<16|O}return new m(V,V[V.length-1]&-2147483648?-1:0)};function ee(D,x){return D.add(K(x))}a.j=function(D){if(J(this)||J(D))return I;if(ie(this))return ie(D)?K(this).j(K(D)):K(K(this).j(D));if(ie(D))return K(this.j(K(D)));if(this.l($)<0&&D.l($)<0)return g(this.m()*D.m());const x=this.g.length+D.g.length,V=[];for(var U=0;U<2*x;U++)V[U]=0;for(U=0;U<this.g.length;U++)for(let j=0;j<D.g.length;j++){const O=this.i(U)>>>16,C=this.i(U)&65535,_e=D.i(j)>>>16,mt=D.i(j)&65535;V[2*U+2*j]+=C*mt,me(V,2*U+2*j),V[2*U+2*j+1]+=O*mt,me(V,2*U+2*j+1),V[2*U+2*j+1]+=C*_e,me(V,2*U+2*j+1),V[2*U+2*j+2]+=O*_e,me(V,2*U+2*j+2)}for(D=0;D<x;D++)V[D]=V[2*D+1]<<16|V[2*D];for(D=x;D<2*x;D++)V[D]=0;return new m(V,0)};function me(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function ge(D,x){this.g=D,this.h=x}function ye(D,x){if(J(x))throw Error("division by zero");if(J(D))return new ge(I,I);if(ie(D))return x=ye(K(D),x),new ge(K(x.g),K(x.h));if(ie(x))return x=ye(D,K(x)),new ge(K(x.g),x.h);if(D.g.length>30){if(ie(D)||ie(x))throw Error("slowDivide_ only works with positive integers.");for(var V=M,U=x;U.l(D)<=0;)V=Ce(V),U=Ce(U);var j=Me(V,1),O=Me(U,1);for(U=Me(U,2),V=Me(V,2);!J(U);){var C=O.add(U);C.l(D)<=0&&(j=j.add(V),O=C),U=Me(U,1),V=Me(V,1)}return x=ee(D,j.j(x)),new ge(j,x)}for(j=I;D.l(x)>=0;){for(V=Math.max(1,Math.floor(D.m()/x.m())),U=Math.ceil(Math.log(V)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),O=g(V),C=O.j(x);ie(C)||C.l(D)>0;)V-=U,O=g(V),C=O.j(x);J(O)&&(O=M),j=j.add(O),D=ee(D,C)}return new ge(j,D)}a.B=function(D){return ye(this,D).h},a.and=function(D){const x=Math.max(this.g.length,D.g.length),V=[];for(let U=0;U<x;U++)V[U]=this.i(U)&D.i(U);return new m(V,this.h&D.h)},a.or=function(D){const x=Math.max(this.g.length,D.g.length),V=[];for(let U=0;U<x;U++)V[U]=this.i(U)|D.i(U);return new m(V,this.h|D.h)},a.xor=function(D){const x=Math.max(this.g.length,D.g.length),V=[];for(let U=0;U<x;U++)V[U]=this.i(U)^D.i(U);return new m(V,this.h^D.h)};function Ce(D){const x=D.g.length+1,V=[];for(let U=0;U<x;U++)V[U]=D.i(U)<<1|D.i(U-1)>>>31;return new m(V,D.h)}function Me(D,x){const V=x>>5;x%=32;const U=D.g.length-V,j=[];for(let O=0;O<U;O++)j[O]=x>0?D.i(O+V)>>>x|D.i(O+V+1)<<32-x:D.i(O+V);return new m(j,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,sE=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=g,m.fromString=R,is=m}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oE,uu,lE,Fc,gm,uE,cE,fE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var _=0;_<u.length;++_){var T=u[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=i(this);function l(u,_){if(_)e:{var T=s;u=u.split(".");for(var N=0;N<u.length-1;N++){var G=u[N];if(!(G in T))break e;T=T[G]}u=u[u.length-1],N=T[u],_=_(N),_!=N&&_!=null&&t(T,u,{configurable:!0,writable:!0,value:_})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(_){var T=[],N;for(N in _)Object.prototype.hasOwnProperty.call(_,N)&&T.push([N,_[N]]);return T}});var c=c||{},m=this||self;function v(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function E(u,_,T){return u.call.apply(u.bind,arguments)}function g(u,_,T){return g=E,g.apply(null,arguments)}function R(u,_){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function I(u,_){function T(){}T.prototype=_.prototype,u.Z=_.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(N,G,W){for(var de=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)de[qe-2]=arguments[qe];return _.prototype[G].apply(N,de)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function $(u){const _=u.length;if(_>0){const T=Array(_);for(let N=0;N<_;N++)T[N]=u[N];return T}return[]}function J(u,_){for(let N=1;N<arguments.length;N++){const G=arguments[N];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=u.length||0;const W=G.length||0;u.length=T+W;for(let de=0;de<W;de++)u[T+de]=G[de]}else u.push(G)}}class ie{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function K(u){m.setTimeout(()=>{throw u},0)}function ee(){var u=D;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class me{constructor(){this.h=this.g=null}add(_,T){const N=ge.get();N.set(_,T),this.h?this.h.next=N:this.g=N,this.h=N}}var ge=new ie(()=>new ye,u=>u.reset());class ye{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Me=!1,D=new me,x=()=>{const u=Promise.resolve(void 0);Ce=()=>{u.then(V)}};function V(){for(var u;u=ee();){try{u.h.call(u.g)}catch(T){K(T)}var _=ge;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}Me=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};m.addEventListener("test",T,_),m.removeEventListener("test",T,_)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function _e(u,_){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}I(_e,j),_e.prototype.init=function(u,_){const T=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(T=="mouseover"?_=u.fromElement:T=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),P=0;function he(u,_,T,N,G){this.listener=u,this.proxy=null,this.src=_,this.type=T,this.capture=!!N,this.ha=G,this.key=++P,this.da=this.fa=!1}function De(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function et(u,_,T){for(const N in u)_.call(T,u[N],N,u)}function $e(u,_){for(const T in u)_.call(void 0,u[T],T,u)}function B(u){const _={};for(const T in u)_[T]=u[T];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(u,_){let T,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(T in N)u[T]=N[T];for(let W=0;W<ae.length;W++)T=ae[W],Object.prototype.hasOwnProperty.call(N,T)&&(u[T]=N[T])}}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,_,T,N,G){const W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);const de=Ye(u,_,N,G);return de>-1?(_=u[de],T||(_.fa=!1)):(_=new he(_,this.src,W,!!N,G),_.fa=T,u.push(_)),_};function Be(u,_){const T=_.type;if(T in u.g){var N=u.g[T],G=Array.prototype.indexOf.call(N,_,void 0),W;(W=G>=0)&&Array.prototype.splice.call(N,G,1),W&&(De(_),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Ye(u,_,T,N){for(let G=0;G<u.length;++G){const W=u[G];if(!W.da&&W.listener==_&&W.capture==!!T&&W.ha==N)return G}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),Xt={};function Dt(u,_,T,N,G){if(Array.isArray(_)){for(let W=0;W<_.length;W++)Dt(u,_[W],T,N,G);return null}return T=Tr(T),u&&u[mt]?u.J(_,T,v(N)?!!N.capture:!1,G):da(u,_,T,!1,N,G)}function da(u,_,T,N,G,W){if(!_)throw Error("Invalid event type");const de=v(G)?!!G.capture:!!G;let qe=vt(u);if(qe||(u[Ke]=qe=new Ee(u)),T=qe.add(_,T,N,de,W),T.proxy)return T;if(N=Er(),T.proxy=N,N.src=u,N.listener=T,u.addEventListener)O||(G=de),G===void 0&&(G=!1),u.addEventListener(_.toString(),N,G);else if(u.attachEvent)u.attachEvent(Un(_.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Er(){function u(T){return _.call(u.src,u.listener,T)}const _=br;return u}function kn(u,_,T,N,G){if(Array.isArray(_))for(var W=0;W<_.length;W++)kn(u,_[W],T,N,G);else N=v(N)?!!N.capture:!!N,T=Tr(T),u&&u[mt]?(u=u.i,W=String(_).toString(),W in u.g&&(_=u.g[W],T=Ye(_,T,N,G),T>-1&&(De(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete u.g[W],u.h--)))):u&&(u=vt(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Ye(_,T,N,G)),(T=u>-1?_[u]:null)&&ma(T))}function ma(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[mt])Be(_.i,u);else{var T=u.type,N=u.proxy;_.removeEventListener?_.removeEventListener(T,N,u.capture):_.detachEvent?_.detachEvent(Un(T),N):_.addListener&&_.removeListener&&_.removeListener(N),(T=vt(_))?(Be(T,u),T.h==0&&(T.src=null,_[Ke]=null)):De(u)}}}function Un(u){return u in Xt?Xt[u]:Xt[u]="on"+u}function br(u,_){if(u.da)u=!0;else{_=new _e(_,this);const T=u.listener,N=u.ha||u.src;u.fa&&ma(u),u=T.call(N,_)}return u}function vt(u){return u=u[Ke],u instanceof Ee?u:null}var Ua="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tr(u){return typeof u=="function"?u:(u[Ua]||(u[Ua]=function(_){return u.handleEvent(_)}),u[Ua])}function qt(){U.call(this),this.i=new Ee(this),this.M=this,this.G=null}I(qt,U),qt.prototype[mt]=!0,qt.prototype.removeEventListener=function(u,_,T,N){kn(this,u,_,T,N)};function Kt(u,_){var T,N=u.G;if(N)for(T=[];N;N=N.G)T.push(N);if(u=u.M,N=_.type||_,typeof _=="string")_=new j(_,u);else if(_ instanceof j)_.target=_.target||u;else{var G=_;_=new j(N,u),pe(_,G)}G=!0;let W,de;if(T)for(de=T.length-1;de>=0;de--)W=_.g=T[de],G=_i(W,N,!0,_)&&G;if(W=_.g=u,G=_i(W,N,!0,_)&&G,G=_i(W,N,!1,_)&&G,T)for(de=0;de<T.length;de++)W=_.g=T[de],G=_i(W,N,!1,_)&&G}qt.prototype.N=function(){if(qt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const T=u.g[_];for(let N=0;N<T.length;N++)De(T[N]);delete u.g[_],u.h--}}this.G=null},qt.prototype.J=function(u,_,T,N){return this.i.add(String(u),_,!1,T,N)},qt.prototype.K=function(u,_,T,N){return this.i.add(String(u),_,!0,T,N)};function _i(u,_,T,N){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let W=0;W<_.length;++W){const de=_[W];if(de&&!de.da&&de.capture==T){const qe=de.listener,Pt=de.ha||de.src;de.fa&&Be(u.i,de),G=qe.call(Pt,N)!==!1&&G}}return G&&!N.defaultPrevented}function El(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:m.setTimeout(u,_||0)}function ds(u){u.g=El(()=>{u.g=null,u.i&&(u.i=!1,ds(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class wn extends U{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ds(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(u){U.call(this),this.h=u,this.g={}}I(ea,U);var ta=[];function Xn(u){et(u.g,function(_,T){this.g.hasOwnProperty(T)&&ma(_)},u),u.g={}}ea.prototype.N=function(){ea.Z.N.call(this),Xn(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=m.JSON.stringify,ao=m.JSON.parse,ms=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function ro(){}function so(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){j.call(this,"d")}I(xe,j);function Kn(){j.call(this,"c")}I(Kn,j);var Lt={},ps=null;function Ei(){return ps=ps||new qt}Lt.Ia="serverreachability";function oo(u){j.call(this,Lt.Ia,u)}I(oo,j);function dn(u){const _=Ei();Kt(_,new oo(_))}Lt.STAT_EVENT="statevent";function pa(u,_){j.call(this,Lt.STAT_EVENT,u),this.stat=_}I(pa,j);function Ft(u){const _=Ei();Kt(_,new pa(_,u))}Lt.Ja="timingevent";function bi(u,_){j.call(this,Lt.Ja,u),this.size=_}I(bi,j);function fe(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},_)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function bl(u,_,T,N,G,W){u.info(function(){if(u.g)if(W){var de="",qe=W.split("&");for(let ut=0;ut<qe.length;ut++){var Pt=qe[ut].split("=");if(Pt.length>1){const It=Pt[0];Pt=Pt[1];const H=It.split("_");de=H.length>=2&&H[1]=="type"?de+(It+"="+Pt+"&"):de+(It+"=redacted&")}}}else de=null;else de=W;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+_+`
`+T+`
`+de})}function An(u,_,T,N,G,W,de){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+_+`
`+T+`
`+W+" "+de})}function si(u,_,T,N){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+gs(u,T)+(N?" "+N:"")})}function ia(u,_){u.info(function(){return"TIMEOUT: "+_})}Ti.prototype.info=function(){};function gs(u,_){if(!u.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(u=0;u<W.length;u++)if(Array.isArray(W[u])){var T=W[u];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let de=1;de<N.length;de++)N[de]=""}}}}return na(W)}catch{return _}}var $n={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},an;function ga(){}I(ga,ro),ga.prototype.g=function(){return new XMLHttpRequest},an=new ga;function Bn(u){return encodeURIComponent(String(u))}function ys(u){var _=1;u=u.split(":");const T=[];for(;_>0&&u.length;)T.push(u.shift()),_--;return u.length&&T.push(u.join(":")),T}function oi(u,_,T,N){this.j=u,this.i=_,this.l=T,this.S=N||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var tt={},Zt={};function Mi(u,_,T){u.M=1,u.A=Li(Tt(_)),u.u=T,u.R=!0,ya(u,null)}function ya(u,_){u.F=Date.now(),Wn(u),u.B=Tt(u.A);var T=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),ui(T.i,"t",N),u.C=0,T=u.j.L,u.h=new qn,u.g=go(u.j,T?_:null,!u.u),u.P>0&&(u.O=new wn(g(u.Y,u,u.g),u.P)),_=u.V,T=u.g,N=u.ba;var G="readystatechange";Array.isArray(G)||(G&&(ta[0]=G.toString()),G=ta);for(let W=0;W<G.length;W++){const de=Dt(T,G[W],N||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=u.J?B(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),dn(),bl(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const _=this.O;_&&we(u)==3?_.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)e:{const qe=we(this.g),Pt=this.g.ya(),ut=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Ie(this.g)))){this.K||qe!=4||Pt==7||(Pt==8||ut<=0?dn(3):dn(2)),Jt(this);var _=this.g.ca();this.X=_;var T=Tl(this);if(this.o=_==200,An(this.i,this.v,this.B,this.l,this.S,qe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(N)){var W=N;break t}}W=null}if(u=W)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Ft(12),Nn(this),Rn(this);break e}}if(this.R){u=!0;let It;for(;!this.K&&this.C<T.length;)if(It=_s(this,T),It==Zt){qe==4&&(this.m=4,Ft(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(It==tt){this.m=4,Ft(15),si(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,It,null),Si(this,It);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||T.length!=0||this.h.h||(this.m=1,Ft(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,T,"[Invalid Chunked Response]"),Nn(this),Rn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),As(de),de.P=!0,Ft(11))}}else si(this.i,this.l,T,null),Si(this,T);qe==4&&Nn(this),this.o&&!this.K&&(qe==4?Rs(this.j,this):(this.o=!1,Wn(this)))}else ke(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),Nn(this),Rn(this)}}}catch{}};function Tl(u){if(!wr(u))return u.g.la();const _=Ie(u.g);if(_==="")return"";let T="";const N=_.length,G=we(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Rn(u),"";u.h.i=new m.TextDecoder}for(let W=0;W<N;W++)u.h.h=!0,T+=u.h.i.decode(_[W],{stream:!(G&&W==N-1)});return _.length=0,u.h.g+=T,u.C=0,u.h.g}function wr(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _s(u,_){var T=u.C,N=_.indexOf(`
`,T);return N==-1?Zt:(T=Number(_.substring(T,N)),isNaN(T)?tt:(N+=1,N+T>_.length?Zt:(_=_.slice(N,N+T),u.C=N+T,_)))}oi.prototype.cancel=function(){this.K=!0,Nn(this)};function Wn(u){u.T=Date.now()+u.H,Ar(u,u.H)}function Ar(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fe(g(u.aa,u),_)}function Jt(u){u.D&&(m.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ia(this.i,this.B),this.M!=2&&(dn(),Ft(17)),Nn(this),this.m=2,Rn(this)):Ar(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Rs(u.j,u)}function Nn(u){Jt(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,Xn(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function Si(u,_){try{var T=u.j;if(T.I!=0&&(T.g==u||wi(T.h,u))){if(!u.L&&wi(T.h,u)&&T.I==3){try{var N=T.Ba.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)Dr(T),Ta(T);else break e;Ya(T),Ft(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=fe(g(T.Va,T),6e3));Zn(T.h)<=1&&T.ta&&(T.ta=void 0)}else zi(T,11)}else if((u.L||T.g==u)&&Dr(T),!C(_))for(G=T.Ba.g.parse(_),_=0;_<G.length;_++){let ut=G[_];const It=ut[0];if(!(It<=T.K))if(T.K=It,ut=ut[1],T.I==2)if(ut[0]=="c"){T.M=ut[1],T.ba=ut[2];const H=ut[3];H!=null&&(T.ka=H,T.j.info("VER="+T.ka));const se=ut[4];se!=null&&(T.za=se,T.j.info("SVER="+T.za));const ve=ut[5];ve!=null&&typeof ve=="number"&&ve>0&&(N=1.5*ve,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Re=u.g;if(Re){const Ve=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ve){var W=N.h;W.g||Ve.indexOf("spdy")==-1&&Ve.indexOf("quic")==-1&&Ve.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Vi(W,W.h),W.h=null))}if(N.G){const nt=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;nt&&(N.wa=nt,lt(N.J,N.G,nt))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var de=u;if(N.na=po(N,N.L?N.ba:null,N.W),de.L){Ba(N.h,de);var qe=de,Pt=N.O;Pt&&(qe.H=Pt),qe.D&&(Jt(qe),Wn(qe)),N.g=de}else co(N);T.i.length>0&&Pi(T)}else ut[0]!="stop"&&ut[0]!="close"||zi(T,7);else T.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?zi(T,7):xr(T):ut[0]!="noop"&&T.l&&T.l.qa(ut),T.A=0)}}dn(4)}catch{}}var Gt=class{constructor(u,_){this.g=u,this.map=_}};function aa(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Zn(u){return u.h?1:u.g?u.g.size:0}function wi(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Vi(u,_){u.g?u.g.add(_):u.h=_}function Ba(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}aa.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const T of u.g.values())_=_.concat(T.G);return _}return $(u.i)}var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(u,_){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const N=u[T].indexOf("=");let G,W=null;N>=0?(G=u[T].substring(0,N),W=u[T].substring(N+1)):G=u[T],_(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof Jn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,Pn(this,u.u),this.h=u.h,_a(this,Cr(u.i)),this.m=u.m):u&&(_=String(u).match(vs))?(this.l=!1,ze(this,_[1]||"",!0),this.o=li(_[2]||""),this.g=li(_[3]||"",!0),Pn(this,_[4]),this.h=li(_[5]||"",!0),_a(this,_[6]||"",!0),this.m=li(_[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}Jn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Pa(_,ki,!0),":");var T=this.g;return(T||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Pa(_,ki,!0),"@"),u.push(Bn(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Pa(T,T.charAt(0)=="/"?bs:Es,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Pa(T,Ts)),u.join("")},Jn.prototype.resolve=function(u){const _=Tt(this);let T=!!u.j;T?ze(_,u.j):T=!!u.o,T?_.o=u.o:T=!!u.g,T?_.g=u.g:T=u.u!=null;var N=u.h;if(T)Pn(_,u.u);else if(T=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=_.h.lastIndexOf("/");G!=-1&&(N=_.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let de=0;de<G.length;){const qe=G[de++];qe=="."?N&&de==G.length&&W.push(""):qe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),N&&de==G.length&&W.push("")):(W.push(qe),N=!0)}N=W.join("/")}else N=G}return T?_.h=N:T=u.i.toString()!=="",T?_a(_,Cr(u.i)):T=!!u.m,T&&(_.m=u.m),_};function Tt(u){return new Jn(u)}function ze(u,_,T){u.j=T?li(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Pn(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function _a(u,_,T){_ instanceof Bi?(u.i=_,ei(u.i,u.l)):(T||(_=Pa(_,Ui)),u.i=new Bi(_,u.l))}function lt(u,_,T){u.i.set(_,T)}function Li(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pa(u,_,T){return typeof u=="string"?(u=encodeURI(u).replace(_,zn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ki=/[#\/\?@]/g,Es=/[#\?:]/g,bs=/[#\?]/g,Ui=/[#\?@]/g,Ts=/#/g;function Bi(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&qa(u.i,function(_,T){u.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}a=Bi.prototype,a.add=function(u,_){yn(this),this.i=null,u=_n(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(_),this.h+=1,this};function lo(u,_){yn(u),_=_n(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function va(u,_){return yn(u),_=_n(u,_),u.g.has(_)}a.forEach=function(u,_){yn(this),this.g.forEach(function(T,N){T.forEach(function(G){u.call(_,G,N,this)},this)},this)};function Ea(u,_){yn(u);let T=[];if(typeof _=="string")va(u,_)&&(T=T.concat(u.g.get(_n(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)T=T.concat(u[_]);return T}a.set=function(u,_){return yn(this),this.i=null,u=_n(this,u),va(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},a.get=function(u,_){return u?(u=Ea(this,u),u.length>0?String(u[0]):_):_};function ui(u,_,T){lo(u,_),T.length>0&&(u.i=null,u.g.set(_n(u,_),$(T)),u.h+=T.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let N=0;N<_.length;N++){var T=_[N];const G=Bn(T);T=Ea(this,T);for(let W=0;W<T.length;W++){let de=G;T[W]!==""&&(de+="="+Bn(T[W])),u.push(de)}}return this.i=u.join("&")};function Cr(u){const _=new Bi;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function _n(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function ei(u,_){_&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(T,N){const G=N.toLowerCase();N!=G&&(lo(this,N),ui(this,G,T))},u)),u.j=_}function Cn(u,_){const T=new Ti;if(m.Image){const N=new Image;N.onload=R(be,T,"TestLoadImage: loaded",!0,_,N),N.onerror=R(be,T,"TestLoadImage: error",!1,_,N),N.onabort=R(be,T,"TestLoadImage: abort",!1,_,N),N.ontimeout=R(be,T,"TestLoadImage: timeout",!1,_,N),m.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else _(!1)}function Ss(u,_){const T=new Ti,N=new AbortController,G=setTimeout(()=>{N.abort(),be(T,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:N.signal}).then(W=>{clearTimeout(G),W.ok?be(T,"TestPingServer: ok",!0,_):be(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),be(T,"TestPingServer: error",!1,_)})}function be(u,_,T,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(T)}catch{}}function qi(){this.g=new ms}function ti(u){this.i=u.Sb||null,this.h=u.ab||!1}I(ti,ro),ti.prototype.g=function(){return new ba(this.i,this.h)};function ba(u,_){qt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(ba,qt),a=ba.prototype,a.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,rn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||m).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,rn(this)),this.g&&(this.readyState=3,rn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?ci(this):rn(this),this.readyState==3&&za(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ci(this))},a.Na=function(u){this.g&&(this.response=u,ci(this))},a.ga=function(){this.g&&ci(this)};function ci(u){u.readyState=4,u.l=null,u.j=null,u.B=null,rn(u)}a.setRequestHeader=function(u,_){this.A.append(u,_)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=_.next();return u.join(`\r
`)};function rn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vn(u){let _="";return et(u,function(T,N){_+=N,_+=":",_+=T,_+=`\r
`}),_}function ra(u,_,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=vn(T),typeof u=="string"?T!=null&&Bn(T):lt(u,_,T))}function h(u){qt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(h,qt);var y=/^https?$/i,S=["POST","PUT"];a=h.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,_,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():an.g(),this.g.onreadystatechange=M(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(W){A(this,W);return}if(u=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)T.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())T.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),G=m.FormData&&u instanceof m.FormData,!(Array.prototype.indexOf.call(S,_,void 0)>=0)||N||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of T)this.g.setRequestHeader(W,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(W){A(this,W)}};function A(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,k(u),te(u)}function k(u){u.A||(u.A=!0,Kt(u,"complete"),Kt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Kt(this,"complete"),Kt(this,"abort"),te(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),te(this,!0)),h.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?F(this):this.Xa())},a.Xa=function(){F(this)};function F(u){if(u.h&&typeof c<"u"){if(u.v&&we(u)==4)setTimeout(u.Ca.bind(u),0);else if(Kt(u,"readystatechange"),we(u)==4){u.h=!1;try{const W=u.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var N;if(N=W===0){let de=String(u.D).match(vs)[1]||null;!de&&m.self&&m.self.location&&(de=m.self.location.protocol.slice(0,-1)),N=!y.test(de?de.toLowerCase():"")}T=N}if(T)Kt(u,"complete"),Kt(u,"success");else{u.o=6;try{var G=we(u)>2?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.ca()+"]",k(u)}}finally{te(u)}}}}function te(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,_||Kt(u,"ready");try{T.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function we(u){return u.g?u.g.readyState:0}a.ca=function(){try{return we(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),ao(_)}};function Ie(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ke(u){const _={};u=(u.g&&we(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(C(u[N]))continue;var T=ys(u[N]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=_[G]||[];_[G]=W,W.push(T)}$e(_,function(N){return N.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function dt(u,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||_}function Yt(u){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=dt("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=dt("baseRetryDelayMs",5e3,u),this.Za=dt("retryDelaySeedMs",1e4,u),this.Ta=dt("forwardChannelMaxRetries",2,u),this.va=dt("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new aa(u&&u.concurrentRequestLimit),this.Ba=new qi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Yt.prototype,a.ka=8,a.I=1,a.connect=function(u,_,T,N){Ft(0),this.W=u,this.H=_||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=po(this,null,this.W),Pi(this)};function xr(u){if(Ha(u),u.I==3){var _=u.V++,T=Tt(u.J);if(lt(T,"SID",u.M),lt(T,"RID",_),lt(T,"TYPE","terminate"),Ga(u,T),_=new oi(u,u.j,_),_.M=2,_.A=Li(Tt(T)),T=!1,m.navigator&&m.navigator.sendBeacon)try{T=m.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&m.Image&&(new Image().src=_.A,T=!0),T||(_.g=go(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Wn(_)}mo(u)}function Ta(u){u.g&&(As(u),u.g.cancel(),u.g=null)}function Ha(u){Ta(u),u.v&&(m.clearTimeout(u.v),u.v=null),Dr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&m.clearTimeout(u.m),u.m=null)}function Pi(u){if(!Rr(u.h)&&!u.m){u.m=!0;var _=u.Ea;Ce||x(),Me||(Ce(),Me=!0),D.add(_,u),u.D=0}}function Fa(u,_){return Zn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fe(g(u.Ea,u,_),ho(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const G=new oi(this,this.j,u);let W=this.o;if(this.U&&(W?(W=B(W),pe(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=uo(this,G,_),T=Tt(this.J),lt(T,"RID",u),lt(T,"CVER",22),this.G&&lt(T,"X-HTTP-Session-Id",this.G),Ga(this,T),W&&(this.R?_="headers="+Bn(vn(W))+"&"+_:this.u&&ra(T,this.u,W)),Vi(this.h,G),this.Ra&&lt(T,"TYPE","init"),this.S?(lt(T,"$req",_),lt(T,"SID","null"),G.U=!0,Mi(G,T,null)):Mi(G,T,_),this.I=2}}else this.I==3&&(u?ws(this,u):this.i.length==0||Rr(this.h)||ws(this))};function ws(u,_){var T;_?T=_.l:T=u.V++;const N=Tt(u.J);lt(N,"SID",u.M),lt(N,"RID",T),lt(N,"AID",u.K),Ga(u,N),u.u&&u.o&&ra(N,u.u,u.o),T=new oi(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),_&&(u.i=_.G.concat(u.i)),_=uo(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vi(u.h,T),Mi(T,N,_)}function Ga(u,_){u.H&&et(u.H,function(T,N){lt(_,N,T)}),u.l&&et({},function(T,N){lt(_,N,T)})}function uo(u,_,T){T=Math.min(u.i.length,T);const N=u.l?g(u.l.Ka,u.l,u):null;e:{var G=u.i;let qe=-1;for(;;){const Pt=["count="+T];qe==-1?T>0?(qe=G[0].g,Pt.push("ofs="+qe)):qe=0:Pt.push("ofs="+qe);let ut=!0;for(let It=0;It<T;It++){var W=G[It].g;const H=G[It].map;if(W-=qe,W<0)qe=Math.max(0,G[It].g-100),ut=!1;else try{W="req"+W+"_"||"";try{var de=H instanceof Map?H:Object.entries(H);for(const[se,ve]of de){let Re=ve;v(ve)&&(Re=na(ve)),Pt.push(W+se+"="+encodeURIComponent(Re))}}catch(se){throw Pt.push(W+"type="+encodeURIComponent("_badmap")),se}}catch{N&&N(H)}}if(ut){de=Pt.join("&");break e}}de=void 0}return u=u.i.splice(0,T),_.G=u,de}function co(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;Ce||x(),Me||(Ce(),Me=!0),D.add(_,u),u.A=0}}function Ya(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fe(g(u.Da,u),ho(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fe(g(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),Ta(this),fo(this))};function As(u){u.B!=null&&(m.clearTimeout(u.B),u.B=null)}function fo(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=Tt(u.na);lt(_,"RID","rpc"),lt(_,"SID",u.M),lt(_,"AID",u.K),lt(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(_,"TO",u.ia),lt(_,"TYPE","xmlhttp"),Ga(u,_),u.u&&u.o&&ra(_,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=Li(Tt(_)),T.u=null,T.R=!0,ya(T,u)}a.Va=function(){this.C!=null&&(this.C=null,Ta(this),Ya(this),Ft(19))};function Dr(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Rs(u,_){var T=null;if(u.g==_){Dr(u),As(u),u.g=null;var N=2}else if(wi(u.h,_))T=_.G,Ba(u.h,_),N=1;else return;if(u.I!=0){if(_.o)if(N==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var G=u.D;N=Ei(),Kt(N,new bi(N,T)),Pi(u)}else co(u);else if(G=_.m,G==3||G==0&&_.X>0||!(N==1&&Fa(u,_)||N==2&&Ya(u)))switch(T&&T.length>0&&(_=u.h,_.i=_.i.concat(T)),G){case 1:zi(u,5);break;case 4:zi(u,10);break;case 3:zi(u,6);break;default:zi(u,2)}}}function ho(u,_){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*_}function zi(u,_){if(u.j.info("Error code "+_),_==2){var T=g(u.bb,u),N=u.Ua;const G=!N;N=new Jn(N||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ze(N,"https"),Li(N),G?Cn(N.toString(),T):Ss(N.toString(),T)}else Ft(2);u.I=0,u.l&&u.l.pa(_),mo(u),Ha(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function mo(u){if(u.I=0,u.ja=[],u.l){const _=Nr(u.h);(_.length!=0||u.i.length!=0)&&(J(u.ja,_),J(u.ja,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.oa()}}function po(u,_,T){var N=T instanceof Jn?Tt(T):new Jn(T);if(N.g!="")_&&(N.g=_+"."+N.g),Pn(N,N.u);else{var G=m.location;N=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const W=new Jn(null);N&&ze(W,N),_&&(W.g=_),G&&Pn(W,G),T&&(W.h=T),N=W}return T=u.G,_=u.wa,T&&_&&lt(N,T,_),lt(N,"VER",u.ka),Ga(u,N),N}function go(u,_,T){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new h(new ti({ab:T})):new h(u.ma),_.Fa(u.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}a=yo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Sa(){}Sa.prototype.g=function(u,_){return new En(u,_)};function En(u,_){qt.call(this),this.g=new Yt(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!C(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new sa(this)}I(En,qt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){xr(this.g)},En.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=na(u),u=T);_.i.push(new Gt(_.Ya++,u)),_.I==3&&Pi(_)},En.prototype.N=function(){this.g.l=null,delete this.j,xr(this.g),delete this.g,En.Z.N.call(this)};function _o(u){xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const T in _){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}I(_o,xe);function vo(){Kn.call(this),this.status=1}I(vo,Kn);function sa(u){this.g=u}I(sa,yo),sa.prototype.ra=function(){Kt(this.g,"a")},sa.prototype.qa=function(u){Kt(this.g,new _o(u))},sa.prototype.pa=function(u){Kt(this.g,new vo)},sa.prototype.oa=function(){Kt(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,fE=function(){return new Sa},cE=function(){return Ei()},uE=Lt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$n.NO_ERROR=0,$n.TIMEOUT=8,$n.HTTP_ERROR=6,Fc=$n,Sr.COMPLETE="complete",lE=Sr,so.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",qt.prototype.listen=qt.prototype.J,uu=so,h.prototype.listenOnce=h.prototype.K,h.prototype.getLastError=h.prototype.Ha,h.prototype.getLastErrorCode=h.prototype.ya,h.prototype.getStatus=h.prototype.ca,h.prototype.getResponseJson=h.prototype.La,h.prototype.getResponseText=h.prototype.la,h.prototype.send=h.prototype.ea,h.prototype.setWithCredentials=h.prototype.Fa,oE=h}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class Gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");let pl="12.8.0";function Z2(a){pl=a}const Qs=new J0("@firebase/firestore");function Wo(){return Qs.logLevel}function Te(a,...t){if(Qs.logLevel<=ht.DEBUG){const i=t.map(Gm);Qs.debug(`Firestore (${pl}): ${a}`,...i)}}function yr(a,...t){if(Qs.logLevel<=ht.ERROR){const i=t.map(Gm);Qs.error(`Firestore (${pl}): ${a}`,...i)}}function sl(a,...t){if(Qs.logLevel<=ht.WARN){const i=t.map(Gm);Qs.warn(`Firestore (${pl}): ${a}`,...i)}}function Gm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Ue(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,hE(a,s,i)}function hE(a,t,i){let s=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw yr(s),new Error(s)}function bt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||hE(t,l,s)}function Ge(a,t){return a}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ws{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class dE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Gn.UNAUTHENTICATED)))}shutdown(){}}class eA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class tA{constructor(t){this.t=t,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){bt(this.o===void 0,42304);let s=this.i;const l=E=>this.i!==s?(s=this.i,i(E)):Promise.resolve();let c=new as;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new as,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const E=c;t.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},v=E=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((E=>v(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new as)}}),0),m()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(bt(typeof s.accessToken=="string",31837,{l:s}),new dE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return bt(t===null||typeof t=="string",2055,{h:t}),new Gn(t)}}class nA{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class iA{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new nA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,L2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){bt(this.o===void 0,3512);const s=c=>{c.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const m=c.token!==this.m;return this.m=c.token,Te("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rA(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=rA(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function rt(a,t){return a<t?-1:a>t?1:0}function ym(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return $d(l)===$d(c)?rt(l,c):$d(l)?1:-1}return rt(a.length,t.length)}const sA=55296,oA=57343;function $d(a){const t=a.charCodeAt(0);return t>=sA&&t<=oA}function ol(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}const Av="__name__";class xa{constructor(t,i,s){i===void 0?i=0:i>t.length&&Ue(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Ue(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return xa.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xa?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=xa.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return rt(t.length,i.length)}static compareSegments(t,i){const s=xa.isNumericId(t),l=xa.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?xa.extractNumericId(t).compare(xa.extractNumericId(i)):ym(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return is.fromString(t.substring(4,t.length-2))}}class Mt extends xa{construct(t,i,s){return new Mt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new Se(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Mt(i)}static emptyPath(){return new Mt([])}}const lA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends xa{construct(t,i,s){return new Vn(t,i,s)}static isValidIdentifier(t){return lA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new Vn([Av])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let m=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new Se(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const E=t[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new Se(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=E,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(s+=v,l++):(c(),l++)}if(c(),m)throw new Se(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vn(i)}static emptyPath(){return new Vn([])}}class je{constructor(t){this.path=t}static fromPath(t){return new je(Mt.fromString(t))}static fromName(t){return new je(Mt.fromString(t).popFirst(5))}static empty(){return new je(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Mt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new je(new Mt(t.slice()))}}function mE(a,t,i){if(!i)throw new Se(ue.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function uA(a,t,i,s){if(t===!0&&s===!0)throw new Se(ue.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Rv(a){if(!je.isDocumentKey(a))throw new Se(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Nv(a){if(je.isDocumentKey(a))throw new Se(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function pE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Sf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Ue(12329,{type:typeof a})}function ll(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new Se(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sf(a);throw new Se(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function hn(a,t){const i={typeString:a};return t&&(i.value=t),i}function Nu(a,t){if(!pE(a))throw new Se(ue.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const m=a[s];if(l&&typeof m!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&m!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new Se(ue.INVALID_ARGUMENT,i);return!0}const Cv=-62135596800,xv=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(t){return Bt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*xv);return new Bt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Cv)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(t){return this.seconds===t.seconds?rt(this.nanoseconds,t.nanoseconds):rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Nu(t,Bt._jsonSchema))return new Bt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:hn("string",Bt._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};class Pe{static fromTimestamp(t){return new Pe(t)}static min(){return new Pe(new Bt(0,0))}static max(){return new Pe(new Bt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function cA(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Pe.fromTimestamp(s===1e9?new Bt(i+1,0):new Bt(i,s));return new os(l,je.empty(),t)}function fA(a){return new os(a.readTime,a.key,_u)}class os{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new os(Pe.min(),je.empty(),_u)}static max(){return new os(Pe.max(),je.empty(),_u)}}function hA(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=je.comparator(a.documentKey,t.documentKey),i!==0?i:rt(a.largestBatchId,t.largestBatchId))}const dA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function gl(a){if(a.code!==ue.FAILED_PRECONDITION||a.message!==dA)throw a;Te("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ce(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ce?i:ce.resolve(i)}catch(i){return ce.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ce.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ce.reject(i)}static resolve(t){return new ce(((i,s)=>{i(t)}))}static reject(t){return new ce(((i,s)=>{s(t)}))}static waitFor(t){return new ce(((i,s)=>{let l=0,c=0,m=!1;t.forEach((v=>{++l,v.next((()=>{++c,m&&c===l&&i()}),(E=>s(E)))})),m=!0,c===l&&i()}))}static or(t){let i=ce.resolve(!1);for(const s of t)i=i.next((l=>l?ce.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new ce(((s,l)=>{const c=t.length,m=new Array(c);let v=0;for(let E=0;E<c;E++){const g=E;i(t[g]).next((R=>{m[g]=R,++v,v===c&&s(m)}),(R=>l(R)))}}))}static doWhile(t,i){return new ce(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function pA(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yl(a){return a.name==="IndexedDbTransactionError"}class wf{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wf.ce=-1;const Qm=-1;function Af(a){return a==null}function tf(a){return a===0&&1/a==-1/0}function gA(a){return typeof a=="number"&&Number.isInteger(a)&&!tf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const gE="";function yA(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Dv(t)),t=_A(a.get(i),t);return Dv(t)}function _A(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case gE:i+="";break;default:i+=c}}return i}function Dv(a){return a+gE+""}function Iv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Zs(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function yE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Qt{constructor(t,i){this.comparator=t,this.root=i||jn.EMPTY}insert(t,i){return new Qt(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(t){return new Qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jn{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??jn.RED,this.left=l??jn.EMPTY,this.right=c??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new jn(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return jn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ue(27949);return t+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new jn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(t){this.comparator=t,this.data=new Qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(t){return new Ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof gn)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new gn(this.comparator);return i.data=t,i}}class Ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ca{constructor(t){this.fields=t,t.sort(Vn.comparator)}static empty(){return new ca([])}unionWith(t){let i=new gn(Vn.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new ca(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ol(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ln{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _E("Invalid base64 string: "+c):c}})(t);return new Ln(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let m=0;m<l.length;++m)c+=String.fromCharCode(l[m]);return c})(t);return new Ln(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const vA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(a){if(bt(!!a,39018),typeof a=="string"){let t=0;const i=vA.exec(a);if(bt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:nn(a.seconds),nanos:nn(a.nanos)}}function nn(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function us(a){return typeof a=="string"?Ln.fromBase64String(a):Ln.fromUint8Array(a)}const vE="server_timestamp",EE="__type__",bE="__previous_value__",TE="__local_write_time__";function Xm(a){return(a?.mapValue?.fields||{})[EE]?.stringValue===vE}function Rf(a){const t=a.mapValue.fields[bE];return Xm(t)?Rf(t):t}function vu(a){const t=ls(a.mapValue.fields[TE].timestampValue);return new Bt(t.seconds,t.nanos)}class EA{constructor(t,i,s,l,c,m,v,E,g,R,I){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=E,this.useFetchStreams=g,this.isUsingEmulator=R,this.apiKey=I}}const nf="(default)";class Eu{constructor(t,i){this.projectId=t,this.database=i||nf}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(t){return t instanceof Eu&&t.projectId===this.projectId&&t.database===this.database}}function bA(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Se(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(a.options.projectId,t)}const SE="__type__",TA="__max__",Uc={mapValue:{}},wE="__vector__",af="value";function cs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Xm(a)?4:wA(a)?9007199254740991:SA(a)?10:11:Ue(28295,{value:a})}function La(a,t){if(a===t)return!0;const i=cs(a);if(i!==cs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return vu(a).isEqual(vu(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const m=ls(l.timestampValue),v=ls(c.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return us(l.bytesValue).isEqual(us(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return nn(l.geoPointValue.latitude)===nn(c.geoPointValue.latitude)&&nn(l.geoPointValue.longitude)===nn(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return nn(l.integerValue)===nn(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const m=nn(l.doubleValue),v=nn(c.doubleValue);return m===v?tf(m)===tf(v):isNaN(m)&&isNaN(v)}return!1})(a,t);case 9:return ol(a.arrayValue.values||[],t.arrayValue.values||[],La);case 10:case 11:return(function(l,c){const m=l.mapValue.fields||{},v=c.mapValue.fields||{};if(Iv(m)!==Iv(v))return!1;for(const E in m)if(m.hasOwnProperty(E)&&(v[E]===void 0||!La(m[E],v[E])))return!1;return!0})(a,t);default:return Ue(52216,{left:a})}}function bu(a,t){return(a.values||[]).find((i=>La(i,t)))!==void 0}function ul(a,t){if(a===t)return 0;const i=cs(a),s=cs(t);if(i!==s)return rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return rt(a.booleanValue,t.booleanValue);case 2:return(function(c,m){const v=nn(c.integerValue||c.doubleValue),E=nn(m.integerValue||m.doubleValue);return v<E?-1:v>E?1:v===E?0:isNaN(v)?isNaN(E)?0:-1:1})(a,t);case 3:return jv(a.timestampValue,t.timestampValue);case 4:return jv(vu(a),vu(t));case 5:return ym(a.stringValue,t.stringValue);case 6:return(function(c,m){const v=us(c),E=us(m);return v.compareTo(E)})(a.bytesValue,t.bytesValue);case 7:return(function(c,m){const v=c.split("/"),E=m.split("/");for(let g=0;g<v.length&&g<E.length;g++){const R=rt(v[g],E[g]);if(R!==0)return R}return rt(v.length,E.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,m){const v=rt(nn(c.latitude),nn(m.latitude));return v!==0?v:rt(nn(c.longitude),nn(m.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Mv(a.arrayValue,t.arrayValue);case 10:return(function(c,m){const v=c.fields||{},E=m.fields||{},g=v[af]?.arrayValue,R=E[af]?.arrayValue,I=rt(g?.values?.length||0,R?.values?.length||0);return I!==0?I:Mv(g,R)})(a.mapValue,t.mapValue);case 11:return(function(c,m){if(c===Uc.mapValue&&m===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(m===Uc.mapValue)return-1;const v=c.fields||{},E=Object.keys(v),g=m.fields||{},R=Object.keys(g);E.sort(),R.sort();for(let I=0;I<E.length&&I<R.length;++I){const M=ym(E[I],R[I]);if(M!==0)return M;const $=ul(v[E[I]],g[R[I]]);if($!==0)return $}return rt(E.length,R.length)})(a.mapValue,t.mapValue);default:throw Ue(23264,{he:i})}}function jv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return rt(a,t);const i=ls(a),s=ls(t),l=rt(i.seconds,s.seconds);return l!==0?l:rt(i.nanos,s.nanos)}function Mv(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=ul(i[l],s[l]);if(c)return c}return rt(i.length,s.length)}function cl(a){return _m(a)}function _m(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=ls(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return us(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return je.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=_m(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const m of s)c?c=!1:l+=",",l+=`${m}:${_m(i.fields[m])}`;return l+"}"})(a.mapValue):Ue(61005,{value:a})}function Gc(a){switch(cs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rf(a);return t?16+Gc(t):16;case 5:return 2*a.stringValue.length;case 6:return us(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return Zs(s.fields,((c,m)=>{l+=c.length+Gc(m)})),l})(a.mapValue);default:throw Ue(13486,{value:a})}}function Vv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function vm(a){return!!a&&"integerValue"in a}function Km(a){return!!a&&"arrayValue"in a}function Lv(a){return!!a&&"nullValue"in a}function kv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Yc(a){return!!a&&"mapValue"in a}function SA(a){return(a?.mapValue?.fields||{})[SE]?.stringValue===wE}function du(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Zs(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=du(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=du(a.arrayValue.values[i]);return t}return{...a}}function wA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===TA}class Zi{constructor(t){this.value=t}static empty(){return new Zi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Yc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=du(i)}setAll(t){let i=Vn.emptyPath(),s={},l=[];t.forEach(((m,v)=>{if(!i.isImmediateParentOf(v)){const E=this.getFieldsMap(i);this.applyChanges(E,s,l),s={},l=[],i=v.popLast()}m?s[v.lastSegment()]=du(m):l.push(v.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return La(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Zs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Zi(du(this.value))}}function AE(a){const t=[];return Zs(a.fields,((i,s)=>{const l=new Vn([i]);if(Yc(s)){const c=AE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const m of c)t.push(l.child(m))}else t.push(l)})),new ca(t)}class Yn{constructor(t,i,s,l,c,m,v){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=m,this.documentState=v}static newInvalidDocument(t){return new Yn(t,0,Pe.min(),Pe.min(),Pe.min(),Zi.empty(),0)}static newFoundDocument(t,i,s,l){return new Yn(t,1,i,Pe.min(),s,l,0)}static newNoDocument(t,i){return new Yn(t,2,i,Pe.min(),Pe.min(),Zi.empty(),0)}static newUnknownDocument(t,i){return new Yn(t,3,i,Pe.min(),Pe.min(),Zi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rf{constructor(t,i){this.position=t,this.inclusive=i}}function Uv(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],m=a.position[l];if(c.field.isKeyField()?s=je.comparator(je.fromName(m.referenceValue),i.key):s=ul(m,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!La(a.position[i],t.position[i]))return!1;return!0}class sf{constructor(t,i="asc"){this.field=t,this.dir=i}}function AA(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class RE{}class fn extends RE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new NA(t,i,s):i==="array-contains"?new DA(t,s):i==="in"?new IA(t,s):i==="not-in"?new OA(t,s):i==="array-contains-any"?new jA(t,s):new fn(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new CA(t,s):new xA(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ul(i,this.value)):i!==null&&cs(this.value)===cs(i)&&this.matchesComparison(ul(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends RE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ha(t,i)}matches(t){return NE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NE(a){return a.op==="and"}function CE(a){return RA(a)&&NE(a)}function RA(a){for(const t of a.filters)if(t instanceof ha)return!1;return!0}function Em(a){if(a instanceof fn)return a.field.canonicalString()+a.op.toString()+cl(a.value);if(CE(a))return a.filters.map((t=>Em(t))).join(",");{const t=a.filters.map((i=>Em(i))).join(",");return`${a.op}(${t})`}}function xE(a,t){return a instanceof fn?(function(s,l){return l instanceof fn&&s.op===l.op&&s.field.isEqual(l.field)&&La(s.value,l.value)})(a,t):a instanceof ha?(function(s,l){return l instanceof ha&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,m,v)=>c&&xE(m,l.filters[v])),!0):!1})(a,t):void Ue(19439)}function DE(a){return a instanceof fn?(function(i){return`${i.field.canonicalString()} ${i.op} ${cl(i.value)}`})(a):a instanceof ha?(function(i){return i.op.toString()+" {"+i.getFilters().map(DE).join(" ,")+"}"})(a):"Filter"}class NA extends fn{constructor(t,i,s){super(t,i,s),this.key=je.fromName(s.referenceValue)}matches(t){const i=je.comparator(t.key,this.key);return this.matchesComparison(i)}}class CA extends fn{constructor(t,i){super(t,"in",i),this.keys=IE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class xA extends fn{constructor(t,i){super(t,"not-in",i),this.keys=IE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function IE(a,t){return(t.arrayValue?.values||[]).map((i=>je.fromName(i.referenceValue)))}class DA extends fn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Km(i)&&bu(i.arrayValue,this.value)}}class IA extends fn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&bu(this.value.arrayValue,i)}}class OA extends fn{constructor(t,i){super(t,"not-in",i)}matches(t){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!bu(this.value.arrayValue,i)}}class jA extends fn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>bu(this.value.arrayValue,s)))}}class MA{constructor(t,i=null,s=[],l=[],c=null,m=null,v=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=m,this.endAt=v,this.Te=null}}function qv(a,t=null,i=[],s=[],l=null,c=null,m=null){return new MA(a,t,i,s,l,c,m)}function $m(a){const t=Ge(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Em(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Af(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>cl(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>cl(s))).join(",")),t.Te=i}return t.Te}function Wm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!AA(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!xE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Bv(a.startAt,t.startAt)&&Bv(a.endAt,t.endAt)}function bm(a){return je.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Cu{constructor(t,i=null,s=[],l=[],c=null,m="F",v=null,E=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=m,this.startAt=v,this.endAt=E,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VA(a,t,i,s,l,c,m,v){return new Cu(a,t,i,s,l,c,m,v)}function OE(a){return new Cu(a)}function Pv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function LA(a){return je.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function jE(a){return a.collectionGroup!==null}function mu(a){const t=Ge(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new gn(Vn.comparator);return m.filters.forEach((E=>{E.getFlattenedFilters().forEach((g=>{g.isInequality()&&(v=v.add(g.field))}))})),v})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new sf(c,s))})),i.has(Vn.keyField().canonicalString())||t.Ie.push(new sf(Vn.keyField(),s))}return t.Ie}function Oa(a){const t=Ge(a);return t.Ee||(t.Ee=kA(t,mu(a))),t.Ee}function kA(a,t){if(a.limitType==="F")return qv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new sf(l.field,c)}));const i=a.endAt?new rf(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new rf(a.startAt.position,a.startAt.inclusive):null;return qv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Tm(a,t){const i=a.filters.concat([t]);return new Cu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Sm(a,t,i){return new Cu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Nf(a,t){return Wm(Oa(a),Oa(t))&&a.limitType===t.limitType}function ME(a){return`${$m(Oa(a))}|lt:${a.limitType}`}function Zo(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>DE(l))).join(", ")}]`),Af(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>cl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>cl(l))).join(",")),`Target(${s})`})(Oa(a))}; limitType=${a.limitType})`}function Cf(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):je.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of mu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(m,v,E){const g=Uv(m,v,E);return m.inclusive?g<=0:g<0})(s.startAt,mu(s),l)||s.endAt&&!(function(m,v,E){const g=Uv(m,v,E);return m.inclusive?g>=0:g>0})(s.endAt,mu(s),l))})(a,t)}function UA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function VE(a){return(t,i)=>{let s=!1;for(const l of mu(a)){const c=BA(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function BA(a,t,i){const s=a.field.isKeyField()?je.comparator(t.key,i.key):(function(c,m,v){const E=m.data.field(c),g=v.data.field(c);return E!==null&&g!==null?ul(E,g):Ue(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ue(19790,{direction:a.dir})}}class Js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}const qA=new Qt(je.comparator);function _r(){return qA}const LE=new Qt(je.comparator);function cu(...a){let t=LE;for(const i of a)t=t.insert(i.key,i);return t}function kE(a){let t=LE;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Gs(){return pu()}function UE(){return pu()}function pu(){return new Js((a=>a.toString()),((a,t)=>a.isEqual(t)))}const PA=new Qt(je.comparator),zA=new gn(je.comparator);function st(...a){let t=zA;for(const i of a)t=t.add(i);return t}const HA=new gn(rt);function FA(){return HA}function Zm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(t)?"-0":t}}function BE(a){return{integerValue:""+a}}function GA(a,t){return gA(t)?BE(t):Zm(a,t)}class xf{constructor(){this._=void 0}}function YA(a,t,i){return a instanceof of?(function(l,c){const m={fields:{[EE]:{stringValue:vE},[TE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Xm(c)&&(c=Rf(c)),c&&(m.fields[bE]=c),{mapValue:m}})(i,t):a instanceof Tu?PE(a,t):a instanceof Su?zE(a,t):(function(l,c){const m=qE(l,c),v=zv(m)+zv(l.Ae);return vm(m)&&vm(l.Ae)?BE(v):Zm(l.serializer,v)})(a,t)}function QA(a,t,i){return a instanceof Tu?PE(a,t):a instanceof Su?zE(a,t):i}function qE(a,t){return a instanceof lf?(function(s){return vm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class of extends xf{}class Tu extends xf{constructor(t){super(),this.elements=t}}function PE(a,t){const i=HE(t);for(const s of a.elements)i.some((l=>La(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Su extends xf{constructor(t){super(),this.elements=t}}function zE(a,t){let i=HE(t);for(const s of a.elements)i=i.filter((l=>!La(l,s)));return{arrayValue:{values:i}}}class lf extends xf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function zv(a){return nn(a.integerValue||a.doubleValue)}function HE(a){return Km(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function XA(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Tu&&l instanceof Tu||s instanceof Su&&l instanceof Su?ol(s.elements,l.elements,La):s instanceof lf&&l instanceof lf?La(s.Ae,l.Ae):s instanceof of&&l instanceof of})(a.transform,t.transform)}class KA{constructor(t,i){this.version=t,this.transformResults=i}}class ja{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ja}static exists(t){return new ja(void 0,t)}static updateTime(t){return new ja(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Df{}function FE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Jm(a.key,ja.none()):new xu(a.key,a.data,ja.none());{const i=a.data,s=Zi.empty();let l=new gn(Vn.comparator);for(let c of t.fields)if(!l.has(c)){let m=i.field(c);m===null&&c.length>1&&(c=c.popLast(),m=i.field(c)),m===null?s.delete(c):s.set(c,m),l=l.add(c)}return new eo(a.key,s,new ca(l.toArray()),ja.none())}}function $A(a,t,i){a instanceof xu?(function(l,c,m){const v=l.value.clone(),E=Fv(l.fieldTransforms,c,m.transformResults);v.setAll(E),c.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(a,t,i):a instanceof eo?(function(l,c,m){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(m.version);const v=Fv(l.fieldTransforms,c,m.transformResults),E=c.data;E.setAll(GE(l)),E.setAll(v),c.convertToFoundDocument(m.version,E).setHasCommittedMutations()})(a,t,i):(function(l,c,m){c.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,i)}function gu(a,t,i,s){return a instanceof xu?(function(c,m,v,E){if(!Qc(c.precondition,m))return v;const g=c.value.clone(),R=Gv(c.fieldTransforms,E,m);return g.setAll(R),m.convertToFoundDocument(m.version,g).setHasLocalMutations(),null})(a,t,i,s):a instanceof eo?(function(c,m,v,E){if(!Qc(c.precondition,m))return v;const g=Gv(c.fieldTransforms,E,m),R=m.data;return R.setAll(GE(c)),R.setAll(g),m.convertToFoundDocument(m.version,R).setHasLocalMutations(),v===null?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(a,t,i,s):(function(c,m,v){return Qc(c.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v})(a,t,i)}function WA(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=qE(s.transform,l||null);c!=null&&(i===null&&(i=Zi.empty()),i.set(s.field,c))}return i||null}function Hv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ol(s,l,((c,m)=>XA(c,m)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class xu extends Df{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class eo extends Df{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function Fv(a,t,i){const s=new Map;bt(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let l=0;l<i.length;l++){const c=a[l],m=c.transform,v=t.data.field(c.field);s.set(c.field,QA(m,v,i[l]))}return s}function Gv(a,t,i){const s=new Map;for(const l of a){const c=l.transform,m=i.data.field(l.field);s.set(l.field,YA(c,m,t))}return s}class Jm extends Df{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZA extends Df{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JA{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&$A(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=gu(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=gu(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=UE();return this.mutations.forEach((l=>{const c=t.get(l.key),m=c.overlayedDocument;let v=this.applyToLocalView(m,c.mutatedFields);v=i.has(l.key)?null:v;const E=FE(m,v);E!==null&&s.set(l.key,E),m.isValidDocument()||m.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),st())}isEqual(t){return this.batchId===t.batchId&&ol(this.mutations,t.mutations,((i,s)=>Hv(i,s)))&&ol(this.baseMutations,t.baseMutations,((i,s)=>Hv(i,s)))}}class ep{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){bt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return PA})();const c=t.mutations;for(let m=0;m<c.length;m++)l=l.insert(c[m].key,s[m].version);return new ep(t,i,s,l)}}class eR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tR{constructor(t,i){this.count=t,this.unchangedNames=i}}var cn,ct;function nR(a){switch(a){case ue.OK:return Ue(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ue(15467,{code:a})}}function YE(a){if(a===void 0)return yr("GRPC error has no .code"),ue.UNKNOWN;switch(a){case cn.OK:return ue.OK;case cn.CANCELLED:return ue.CANCELLED;case cn.UNKNOWN:return ue.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ue.INTERNAL;case cn.UNAVAILABLE:return ue.UNAVAILABLE;case cn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case cn.NOT_FOUND:return ue.NOT_FOUND;case cn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case cn.ABORTED:return ue.ABORTED;case cn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case cn.DATA_LOSS:return ue.DATA_LOSS;default:return Ue(39323,{code:a})}}(ct=cn||(cn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function iR(){return new TextEncoder}const aR=new is([4294967295,4294967295],0);function Yv(a){const t=iR().encode(a),i=new sE;return i.update(t),new Uint8Array(i.digest())}function Qv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new is([i,s],0),new is([l,c],0)]}class tp{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new fu(`Invalid padding: ${i}`);if(s<0)throw new fu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new fu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=is.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(is.fromNumber(s)));return l.compare(aR)===1&&(l=new is([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Yv(t),[s,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const m=this.ye(s,l,c);if(!this.we(m))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),m=new tp(c,l,i);return s.forEach((v=>m.insert(v))),m}insert(t){if(this.ge===0)return;const i=Yv(t),[s,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const m=this.ye(s,l,c);this.be(m)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class If{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Du.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new If(Pe.min(),l,new Qt(rt),_r(),st())}}class Du{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Du(s,i,st(),st(),st())}}class Xc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class QE{constructor(t,i){this.targetId=t,this.Ce=i}}class XE{constructor(t,i,s=Ln.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Xv{constructor(){this.ve=0,this.Fe=Kv(),this.Me=Ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=st(),i=st(),s=st();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Ue(38017,{changeType:c})}})),new Du(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=Kv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class rR{constructor(t){this.Ge=t,this.ze=new Map,this.je=_r(),this.He=Bc(),this.Je=Bc(),this.Ze=new Qt(rt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:Ue(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(bm(c))if(s===0){const m=new je(c.path);this.et(i,m,Yn.newNoDocument(m,Pe.min()))}else bt(s===1,20013,{expectedCount:s});else{const m=this._t(i);if(m!==s){const v=this.ut(t),E=v?this.ct(v,t,m):1;if(E!==0){this.it(i);const g=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let m,v;try{m=us(s).toUint8Array()}catch(E){if(E instanceof _E)return sl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{v=new tp(m,l,c)}catch(E){return sl(E instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return v.ge===0?null:v}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const m=this.Ge.ht(),v=`projects/${m.projectId}/databases/${m.database}/documents/${c.path.canonicalString()}`;t.mightContain(v)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,m)=>{const v=this.ot(m);if(v){if(c.current&&bm(v.target)){const E=new je(v.target.path);this.It(E).has(m)||this.Et(m,E)||this.et(m,E,Yn.newNoDocument(E,t))}c.Be&&(i.set(m,c.ke()),c.Ke())}}));let s=st();this.Je.forEach(((c,m)=>{let v=!0;m.forEachWhile((E=>{const g=this.ot(E);return!g||g.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(s=s.add(c))})),this.je.forEach(((c,m)=>m.setReadTime(t)));const l=new If(t,i,this.Ze,this.je,s);return this.je=_r(),this.He=Bc(),this.Je=Bc(),this.Ze=new Qt(rt),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Xv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new gn(rt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new gn(rt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||Te("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Bc(){return new Qt(je.comparator)}function Kv(){return new Qt(je.comparator)}const sR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lR={and:"AND",or:"OR"};class uR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function wm(a,t){return a.useProto3Json||Af(t)?t:{value:t}}function uf(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function cR(a,t){return uf(a,t.toTimestamp())}function Ma(a){return bt(!!a,49232),Pe.fromTimestamp((function(i){const s=ls(i);return new Bt(s.seconds,s.nanos)})(a))}function np(a,t){return Am(a,t).canonicalString()}function Am(a,t){const i=(function(l){return new Mt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function $E(a){const t=Mt.fromString(a);return bt(tb(t),10190,{key:t.toString()}),t}function Rm(a,t){return np(a.databaseId,t.path)}function Wd(a,t){const i=$E(t);if(i.get(1)!==a.databaseId.projectId)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new je(ZE(i))}function WE(a,t){return np(a.databaseId,t)}function fR(a){const t=$E(a);return t.length===4?Mt.emptyPath():ZE(t)}function Nm(a){return new Mt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function ZE(a){return bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function $v(a,t,i){return{name:Rm(a,t),fields:i.value.mapValue.fields}}function hR(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(g,R){return g.useProto3Json?(bt(R===void 0||typeof R=="string",58123),Ln.fromBase64String(R||"")):(bt(R===void 0||R instanceof Buffer||R instanceof Uint8Array,16193),Ln.fromUint8Array(R||new Uint8Array))})(a,t.targetChange.resumeToken),m=t.targetChange.cause,v=m&&(function(g){const R=g.code===void 0?ue.UNKNOWN:YE(g.code);return new Se(R,g.message||"")})(m);i=new XE(s,l,c,v||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Wd(a,s.document.name),c=Ma(s.document.updateTime),m=s.document.createTime?Ma(s.document.createTime):Pe.min(),v=new Zi({mapValue:{fields:s.document.fields}}),E=Yn.newFoundDocument(l,c,m,v),g=s.targetIds||[],R=s.removedTargetIds||[];i=new Xc(g,R,E.key,E)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Wd(a,s.document),c=s.readTime?Ma(s.readTime):Pe.min(),m=Yn.newNoDocument(l,c),v=s.removedTargetIds||[];i=new Xc([],v,m.key,m)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Wd(a,s.document),c=s.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in t))return Ue(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,m=new tR(l,c),v=s.targetId;i=new QE(v,m)}}return i}function dR(a,t){let i;if(t instanceof xu)i={update:$v(a,t.key,t.value)};else if(t instanceof Jm)i={delete:Rm(a,t.key)};else if(t instanceof eo)i={update:$v(a,t.key,t.data),updateMask:TR(t.fieldMask)};else{if(!(t instanceof ZA))return Ue(16599,{dt:t.type});i={verify:Rm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,m){const v=m.transform;if(v instanceof of)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Tu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Su)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof lf)return{fieldPath:m.field.canonicalString(),increment:v.Ae};throw Ue(20930,{transform:m.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:cR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ue(27497)})(a,t.precondition)),i}function mR(a,t){return a&&a.length>0?(bt(t!==void 0,14353),a.map((i=>(function(l,c){let m=l.updateTime?Ma(l.updateTime):Ma(c);return m.isEqual(Pe.min())&&(m=Ma(c)),new KA(m,l.transformResults||[])})(i,t)))):[]}function pR(a,t){return{documents:[WE(a,t.path)]}}function gR(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=WE(a,l);const c=(function(g){if(g.length!==0)return eb(ha.create(g,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const m=(function(g){if(g.length!==0)return g.map((R=>(function(M){return{field:Jo(M.field),direction:vR(M.dir)}})(R)))})(t.orderBy);m&&(i.structuredQuery.orderBy=m);const v=wm(a,t.limit);return v!==null&&(i.structuredQuery.limit=v),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:l}}function yR(a){let t=fR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){bt(s===1,65062);const R=i.from[0];R.allDescendants?l=R.collectionId:t=t.child(R.collectionId)}let c=[];i.where&&(c=(function(I){const M=JE(I);return M instanceof ha&&CE(M)?M.getFilters():[M]})(i.where));let m=[];i.orderBy&&(m=(function(I){return I.map((M=>(function(J){return new sf(el(J.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let v=null;i.limit&&(v=(function(I){let M;return M=typeof I=="object"?I.value:I,Af(M)?null:M})(i.limit));let E=null;i.startAt&&(E=(function(I){const M=!!I.before,$=I.values||[];return new rf($,M)})(i.startAt));let g=null;return i.endAt&&(g=(function(I){const M=!I.before,$=I.values||[];return new rf($,M)})(i.endAt)),VA(t,l,m,c,v,"F",E,g)}function _R(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function JE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=el(i.unaryFilter.field);return fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=el(i.unaryFilter.field);return fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=el(i.unaryFilter.field);return fn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=el(i.unaryFilter.field);return fn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(a):a.fieldFilter!==void 0?(function(i){return fn.create(el(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ha.create(i.compositeFilter.filters.map((s=>JE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(i.compositeFilter.op))})(a):Ue(30097,{filter:a})}function vR(a){return sR[a]}function ER(a){return oR[a]}function bR(a){return lR[a]}function Jo(a){return{fieldPath:a.canonicalString()}}function el(a){return Vn.fromServerFormat(a.fieldPath)}function eb(a){return a instanceof fn?(function(i){if(i.op==="=="){if(kv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NAN"}};if(Lv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(kv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NOT_NAN"}};if(Lv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(i.field),op:ER(i.op),value:i.value}}})(a):a instanceof ha?(function(i){const s=i.getFilters().map((l=>eb(l)));return s.length===1?s[0]:{compositeFilter:{op:bR(i.op),filters:s}}})(a):Ue(54877,{filter:a})}function TR(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function tb(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function nb(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class es{constructor(t,i,s,l,c=Pe.min(),m=Pe.min(),v=Ln.EMPTY_BYTE_STRING,E=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=E}withSequenceNumber(t){return new es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class SR{constructor(t){this.yt=t}}function wR(a){const t=yR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Sm(t,t.limit,"L"):t}class AR{constructor(){this.Sn=new RR}addToCollectionParentIndex(t,i){return this.Sn.add(i),ce.resolve()}getCollectionParents(t,i){return ce.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return ce.resolve()}deleteFieldIndex(t,i){return ce.resolve()}deleteAllFieldIndexes(t){return ce.resolve()}createTargetIndexes(t,i){return ce.resolve()}getDocumentsMatchingTarget(t,i){return ce.resolve(null)}getIndexType(t,i){return ce.resolve(0)}getFieldIndexes(t,i){return ce.resolve([])}getNextCollectionGroupToUpdate(t){return ce.resolve(null)}getMinOffset(t,i){return ce.resolve(os.min())}getMinOffsetFromCollectionGroup(t,i){return ce.resolve(os.min())}updateCollectionGroup(t,i,s){return ce.resolve()}updateIndexEntries(t,i){return ce.resolve()}}class RR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new gn(Mt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new gn(Mt.comparator)).toArray()}}const Wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class yi{static withCacheSize(t){return new yi(t,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(ib,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);class fl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new fl(0)}static ar(){return new fl(-1)}}const Zv="LruGarbageCollector",NR=1048576;function Jv([a,t],[i,s]){const l=rt(a,i);return l===0?rt(t,s):l}class CR{constructor(t){this.Pr=t,this.buffer=new gn(Jv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Jv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){Te(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yl(i)?Te(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await gl(i)}await this.Ar(3e5)}))}}class DR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return ce.resolve(wf.ce);const s=new CR(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Wv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,m,v,E,g;const R=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,m=Date.now(),this.nthSequenceNumber(t,l)))).next((I=>(s=I,v=Date.now(),this.removeTargets(t,s,i)))).next((I=>(c=I,E=Date.now(),this.removeOrphanedDocuments(t,s)))).next((I=>(g=Date.now(),Wo()<=ht.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-R}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${c} targets in `+(E-v)+`ms
	Removed ${I} documents in `+(g-E)+`ms
Total Duration: ${g-R}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I}))))}}function IR(a,t){return new DR(a,t)}class OR{constructor(){this.changes=new Js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Yn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?ce.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class MR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&gu(s.mutation,l,ca.empty(),Bt.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,st()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=st()){const l=Gs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let m=cu();return c.forEach(((v,E)=>{m=m.insert(v,E.overlayedDocument)})),m}))))}getOverlayedDocuments(t,i){const s=Gs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,st())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((m,v)=>{i.set(m,v)}))}))}computeViews(t,i,s,l){let c=_r();const m=pu(),v=(function(){return pu()})();return i.forEach(((E,g)=>{const R=s.get(g.key);l.has(g.key)&&(R===void 0||R.mutation instanceof eo)?c=c.insert(g.key,g):R!==void 0?(m.set(g.key,R.mutation.getFieldMask()),gu(R.mutation,g,R.mutation.getFieldMask(),Bt.now())):m.set(g.key,ca.empty())})),this.recalculateAndSaveOverlays(t,c).next((E=>(E.forEach(((g,R)=>m.set(g,R))),i.forEach(((g,R)=>v.set(g,new jR(R,m.get(g)??null)))),v)))}recalculateAndSaveOverlays(t,i){const s=pu();let l=new Qt(((m,v)=>m-v)),c=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((m=>{for(const v of m)v.keys().forEach((E=>{const g=i.get(E);if(g===null)return;let R=s.get(E)||ca.empty();R=v.applyToLocalView(g,R),s.set(E,R);const I=(l.get(v.batchId)||st()).add(E);l=l.insert(v.batchId,I)}))})).next((()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const E=v.getNext(),g=E.key,R=E.value,I=UE();R.forEach((M=>{if(!c.has(M)){const $=FE(i.get(M),s.get(M));$!==null&&I.set(M,$),c=c.add(M)}})),m.push(this.documentOverlayCache.saveOverlays(t,g,I))}return ce.waitFor(m)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return LA(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):jE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const m=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):ce.resolve(Gs());let v=_u,E=c;return m.next((g=>ce.forEach(g,((R,I)=>(v<I.largestBatchId&&(v=I.largestBatchId),c.get(R)?ce.resolve():this.remoteDocumentCache.getEntry(t,R).next((M=>{E=E.insert(R,M)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,E,g,st()))).next((R=>({batchId:v,changes:kE(R)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new je(i)).next((s=>{let l=cu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let m=cu();return this.indexManager.getCollectionParents(t,c).next((v=>ce.forEach(v,(E=>{const g=(function(I,M){return new Cu(M,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,E.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,s,l).next((R=>{R.forEach(((I,M)=>{m=m.insert(I,M)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((m=>{c.forEach(((E,g)=>{const R=g.getKey();m.get(R)===null&&(m=m.insert(R,Yn.newInvalidDocument(R)))}));let v=cu();return m.forEach(((E,g)=>{const R=c.get(E);R!==void 0&&gu(R.mutation,g,ca.empty(),Bt.now()),Cf(i,g)&&(v=v.insert(E,g))})),v}))}}class VR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return ce.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ma(l.createTime)}})(i)),ce.resolve()}getNamedQuery(t,i){return ce.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:wR(l.bundledQuery),readTime:Ma(l.readTime)}})(i)),ce.resolve()}}class LR{constructor(){this.overlays=new Qt(je.comparator),this.Lr=new Map}getOverlay(t,i){return ce.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Gs();return ce.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),ce.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),ce.resolve()}getOverlaysForCollection(t,i,s){const l=Gs(),c=i.length+1,m=new je(i.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const E=v.getNext().value,g=E.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&E.largestBatchId>s&&l.set(E.getKey(),E)}return ce.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new Qt(((g,R)=>g-R));const m=this.overlays.getIterator();for(;m.hasNext();){const g=m.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let R=c.get(g.largestBatchId);R===null&&(R=Gs(),c=c.insert(g.largestBatchId,R)),R.set(g.getKey(),g)}}const v=Gs(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((g,R)=>v.set(g,R))),!(v.size()>=l)););return ce.resolve(v)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const m=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new eR(i,s));let c=this.Lr.get(i);c===void 0&&(c=st(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class kR{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(t){return ce.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ce.resolve()}}class ip{constructor(){this.kr=new gn(Sn.Kr),this.qr=new gn(Sn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new Sn(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Sn(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new je(new Mt([])),s=new Sn(i,t),l=new Sn(i,t+1),c=[];return this.qr.forEachInRange([s,l],(m=>{this.Wr(m),c.push(m.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new je(new Mt([])),s=new Sn(i,t),l=new Sn(i,t+1);let c=st();return this.qr.forEachInRange([s,l],(m=>{c=c.add(m.key)})),c}containsKey(t){const i=new Sn(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Sn{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return je.comparator(t.key,i.key)||rt(t.Hr,i.Hr)}static Ur(t,i){return rt(t.Hr,i.Hr)||je.comparator(t.key,i.key)}}class UR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new gn(Sn.Kr)}checkEmpty(t){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new JA(c,i,s,l);this.mutationQueue.push(m);for(const v of l)this.Jr=this.Jr.add(new Sn(v.key,c)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return ce.resolve(m)}lookupMutationBatch(t,i){return ce.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Qm:this.Yn-1)}getAllMutationBatches(t){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Sn(i,0),l=new Sn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(m=>{const v=this.Zr(m.Hr);c.push(v)})),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new gn(rt);return i.forEach((l=>{const c=new Sn(l,0),m=new Sn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,m],(v=>{s=s.add(v.Hr)}))})),ce.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;je.isDocumentKey(c)||(c=c.child(""));const m=new Sn(new je(c),0);let v=new gn(rt);return this.Jr.forEachWhile((E=>{const g=E.key.path;return!!s.isPrefixOf(g)&&(g.length===l&&(v=v.add(E.Hr)),!0)}),m),ce.resolve(this.Yr(v))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){bt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ce.forEach(i.mutations,(l=>{const c=new Sn(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new Sn(i,0),l=this.Jr.firstAfterOrEqual(s);return ce.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ce.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class BR{constructor(t){this.ti=t,this.docs=(function(){return new Qt(je.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,m=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:m}),this.size+=m-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return ce.resolve(s?s.document.mutableCopy():Yn.newInvalidDocument(i))}getEntries(t,i){let s=_r();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Yn.newInvalidDocument(l))})),ce.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=_r();const m=i.path,v=new je(m.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(v);for(;E.hasNext();){const{key:g,value:{document:R}}=E.getNext();if(!m.isPrefixOf(g.path))break;g.path.length>m.length+1||hA(fA(R),s)<=0||(l.has(R.key)||Cf(i,R))&&(c=c.insert(R.key,R.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(t,i,s,l){Ue(9500)}ni(t,i){return ce.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new qR(this)}getSize(t){return ce.resolve(this.size)}}class qR extends OR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),ce.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class PR{constructor(t){this.persistence=t,this.ri=new Js((i=>$m(i)),Wm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.ii=0,this.si=new ip,this.targetCount=0,this.oi=fl._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),ce.resolve()}getLastRemoteSnapshotVersion(t){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ce.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),ce.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new fl(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,ce.resolve()}updateTargetData(t,i){return this.lr(i),ce.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,ce.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((m,v)=>{v.sequenceNumber<=i&&s.get(v.targetId)===null&&(this.ri.delete(m),c.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),ce.waitFor(c).next((()=>l))}getTargetCount(t){return ce.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return ce.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),ce.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((m=>{c.push(l.markPotentiallyOrphaned(t,m))})),ce.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),ce.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return ce.resolve(s)}containsKey(t,i){return ce.resolve(this.si.containsKey(i))}}class ab{constructor(t,i){this._i={},this.overlays={},this.ai=new wf(0),this.ui=!1,this.ui=!0,this.ci=new kR,this.referenceDelegate=t(this),this.li=new PR(this),this.indexManager=new AR,this.remoteDocumentCache=(function(l){return new BR(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new SR(i),this.Pi=new VR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new LR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new UR(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){Te("MemoryPersistence","Starting transaction:",t);const l=new zR(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return ce.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class zR extends mA{constructor(t){super(),this.currentSequenceNumber=t}}class ap{constructor(t){this.persistence=t,this.Ri=new ip,this.Ai=null}static Vi(t){return new ap(t)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),ce.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),ce.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(s=>{const l=je.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Pe.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return ce.or([()=>ce.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class cf{constructor(t,i){this.persistence=t,this.fi=new Js((s=>yA(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=IR(this,i)}static Vi(t,i){return new cf(t,i)}Ti(){}Ii(t){return ce.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return ce.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?ce.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(m=>this.wr(t,m,i).next((v=>{v||(s++,c.removeEntry(m,Pe.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),ce.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),ce.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),ce.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),ce.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}wr(t,i,s){return ce.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return ce.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class rp{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=st(),l=st();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new rp(t,i.fromCache,s,l)}}class HR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class FR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Lw()?8:pA(Mw())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((m=>{c.result=m})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((m=>{c.result=m}))})).next((()=>{if(c.result)return;const m=new HR;return this.ys(t,i,m).next((v=>{if(c.result=v,this.As)return this.ws(t,i,m,v.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(Wo()<=ht.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Zo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Wo()<=ht.DEBUG&&Te("QueryEngine","Query:",Zo(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Wo()<=ht.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Zo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oa(i))):ce.resolve())}gs(t,i){if(Pv(i))return ce.resolve(null);let s=Oa(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Sm(i,null,"F"),s=Oa(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const m=st(...c);return this.fs.getDocuments(t,m).next((v=>this.indexManager.getMinOffset(t,s).next((E=>{const g=this.bs(i,v);return this.Ss(i,g,m,E.readTime)?this.gs(t,Sm(i,null,"F")):this.Ds(t,g,i,E)}))))})))))}ps(t,i,s,l){return Pv(i)||l.isEqual(Pe.min())?ce.resolve(null):this.fs.getDocuments(t,s).next((c=>{const m=this.bs(i,c);return this.Ss(i,m,s,l)?ce.resolve(null):(Wo()<=ht.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Zo(i)),this.Ds(t,m,i,cA(l,_u)).next((v=>v)))}))}bs(t,i){let s=new gn(VE(t));return i.forEach(((l,c)=>{Cf(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return Wo()<=ht.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Zo(i)),this.fs.getDocumentsMatchingQuery(t,i,os.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((m=>{c=c.insert(m.key,m)})),c)))}}const sp="LocalStore",GR=3e8;class YR{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new Qt(rt),this.Fs=new Js((c=>$m(c)),Wm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function QR(a,t,i,s){return new YR(a,t,i,s)}async function rb(a,t){const i=Ge(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const m=[],v=[];let E=st();for(const g of l){m.push(g.batchId);for(const R of g.mutations)E=E.add(R.key)}for(const g of c){v.push(g.batchId);for(const R of g.mutations)E=E.add(R.key)}return i.localDocuments.getDocuments(s,E).next((g=>({Ns:g,removedBatchIds:m,addedBatchIds:v})))}))}))}function XR(a,t){const i=Ge(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(v,E,g,R){const I=g.batch,M=I.keys();let $=ce.resolve();return M.forEach((J=>{$=$.next((()=>R.getEntry(E,J))).next((ie=>{const K=g.docVersions.get(J);bt(K!==null,48541),ie.version.compareTo(K)<0&&(I.applyToRemoteDocument(ie,g),ie.isValidDocument()&&(ie.setReadTime(g.commitVersion),R.addEntry(ie)))}))})),$.next((()=>v.mutationQueue.removeMutationBatch(E,I)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(v){let E=st();for(let g=0;g<v.mutationResults.length;++g)v.mutationResults[g].transformResults.length>0&&(E=E.add(v.batch.mutations[g].key));return E})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function sb(a){const t=Ge(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function KR(a,t){const i=Ge(a),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const m=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const v=[];t.targetChanges.forEach(((R,I)=>{const M=l.get(I);if(!M)return;v.push(i.li.removeMatchingKeys(c,R.removedDocuments,I).next((()=>i.li.addMatchingKeys(c,R.addedDocuments,I))));let $=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?$=$.withResumeToken(Ln.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):R.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(R.resumeToken,s)),l=l.insert(I,$),(function(ie,K,ee){return ie.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=GR?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(M,$,R)&&v.push(i.li.updateTargetData(c,$))}));let E=_r(),g=st();if(t.documentUpdates.forEach((R=>{t.resolvedLimboDocuments.has(R)&&v.push(i.persistence.referenceDelegate.updateLimboDocument(c,R))})),v.push($R(c,m,t.documentUpdates).next((R=>{E=R.Bs,g=R.Ls}))),!s.isEqual(Pe.min())){const R=i.li.getLastRemoteSnapshotVersion(c).next((I=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));v.push(R)}return ce.waitFor(v).next((()=>m.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,E,g))).next((()=>E))})).then((c=>(i.vs=l,c)))}function $R(a,t,i){let s=st(),l=st();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let m=_r();return i.forEach(((v,E)=>{const g=c.get(v);E.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(v)),E.isNoDocument()&&E.version.isEqual(Pe.min())?(t.removeEntry(v,E.readTime),m=m.insert(v,E)):!g.isValidDocument()||E.version.compareTo(g.version)>0||E.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(E),m=m.insert(v,E)):Te(sp,"Ignoring outdated watch update for ",v,". Current version:",g.version," Watch version:",E.version)})),{Bs:m,Ls:l}}))}function WR(a,t){const i=Ge(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function ZR(a,t){const i=Ge(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,ce.resolve(l)):i.li.allocateTargetId(s).next((m=>(l=new es(t,m,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function Cm(a,t,i){const s=Ge(a),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(m=>s.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!yl(m))throw m;Te(sp,`Failed to update sequence numbers for target ${t}: ${m}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function e0(a,t,i){const s=Ge(a);let l=Pe.min(),c=st();return s.persistence.runTransaction("Execute query","readwrite",(m=>(function(E,g,R){const I=Ge(E),M=I.Fs.get(R);return M!==void 0?ce.resolve(I.vs.get(M)):I.li.getTargetData(g,R)})(s,m,Oa(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(m,v.targetId).next((E=>{c=E}))})).next((()=>s.Cs.getDocumentsMatchingQuery(m,t,i?l:Pe.min(),i?c:st()))).next((v=>(JR(s,UA(t),v),{documents:v,ks:c})))))}function JR(a,t,i){let s=a.Ms.get(t)||Pe.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Ms.set(t,s)}class t0{constructor(){this.activeTargetIds=FA()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eN{constructor(){this.vo=new t0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new t0,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class tN{Mo(t){}shutdown(){}}const n0="ConnectivityMonitor";class i0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(n0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){Te(n0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function xm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const Zd="RestConnection",nN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===nf?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const m=xm(),v=this.Qo(t,i.toUriEncodedString());Te(Zd,`Sending RPC '${t}' ${m}:`,v,s);const E={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(E,l,c);const{host:g}=new URL(v),R=Hm(g);return this.zo(t,v,E,s,R).then((I=>(Te(Zd,`Received RPC '${t}' ${m}: `,I),I)),(I=>{throw sl(Zd,`RPC '${t}' ${m} failed with error: `,I,"url: ",v,"request:",s),I}))}jo(t,i,s,l,c,m){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=nN[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class aN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Fn="WebChannelConnection",su=(a,t,i)=>{a.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class tl extends iN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!tl.c_){const t=cE();su(t,uE.STAT_EVENT,(i=>{i.stat===gm.PROXY?Te(Fn,"STAT_EVENT: detected buffering proxy"):i.stat===gm.NOPROXY&&Te(Fn,"STAT_EVENT: detected no buffering proxy")})),tl.c_=!0}}zo(t,i,s,l,c){const m=xm();return new Promise(((v,E)=>{const g=new oE;g.setWithCredentials(!0),g.listenOnce(lE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Fc.NO_ERROR:const I=g.getResponseJson();Te(Fn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(I)),v(I);break;case Fc.TIMEOUT:Te(Fn,`RPC '${t}' ${m} timed out`),E(new Se(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=g.getStatus();if(Te(Fn,`RPC '${t}' ${m} failed with status:`,M,"response text:",g.getResponseText()),M>0){let $=g.getResponseJson();Array.isArray($)&&($=$[0]);const J=$?.error;if(J&&J.status&&J.message){const ie=(function(ee){const me=ee.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(me)>=0?me:ue.UNKNOWN})(J.status);E(new Se(ie,J.message))}else E(new Se(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else E(new Se(ue.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:t,streamId:m,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(Fn,`RPC '${t}' ${m} completed.`)}}));const R=JSON.stringify(l);Te(Fn,`RPC '${t}' ${m} sending request:`,l),g.send(i,"POST",R,s,15)}))}T_(t,i,s){const l=xm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=this.createWebChannelTransport(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Go(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const g=c.join("");Te(Fn,`Creating RPC '${t}' stream ${l}: ${g}`,v);const R=m.createWebChannel(g,v);this.I_(R);let I=!1,M=!1;const $=new aN({Ho:J=>{M?Te(Fn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(I||(Te(Fn,`Opening RPC '${t}' stream ${l} transport.`),R.open(),I=!0),Te(Fn,`RPC '${t}' stream ${l} sending:`,J),R.send(J))},Jo:()=>R.close()});return su(R,uu.EventType.OPEN,(()=>{M||(Te(Fn,`RPC '${t}' stream ${l} transport opened.`),$.i_())})),su(R,uu.EventType.CLOSE,(()=>{M||(M=!0,Te(Fn,`RPC '${t}' stream ${l} transport closed`),$.o_(),this.E_(R))})),su(R,uu.EventType.ERROR,(J=>{M||(M=!0,sl(Fn,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.o_(new Se(ue.UNAVAILABLE,"The operation could not be completed")))})),su(R,uu.EventType.MESSAGE,(J=>{if(!M){const ie=J.data[0];bt(!!ie,16349);const K=ie,ee=K?.error||K[0]?.error;if(ee){Te(Fn,`RPC '${t}' stream ${l} received error:`,ee);const me=ee.status;let ge=(function(Me){const D=cn[Me];if(D!==void 0)return YE(D)})(me),ye=ee.message;ge===void 0&&(ge=ue.INTERNAL,ye="Unknown error status: "+me+" with message "+ee.message),M=!0,$.o_(new Se(ge,ye)),R.close()}else Te(Fn,`RPC '${t}' stream ${l} received:`,ie),$.__(ie)}})),tl.u_(),setTimeout((()=>{$.s_()}),0),$}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fE()}}function rN(a){return new tl(a)}function Jd(){return typeof document<"u"?document:null}function Of(a){return new uR(a,!0)}tl.c_=!1;class ob{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&Te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const a0="PersistentStream";class lb{constructor(t,i,s,l,c,m,v,E){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ob(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ue.RESOURCE_EXHAUSTED?(yr(i.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new Se(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Te(a0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(Te(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sN extends lb{constructor(t,i,s,l,c,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,m),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=hR(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Pe.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?Pe.min():m.readTime?Ma(m.readTime):Pe.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=Nm(this.serializer),i.addTarget=(function(c,m){let v;const E=m.target;if(v=bm(E)?{documents:pR(c,E)}:{query:gR(c,E).ft},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=KE(c,m.resumeToken);const g=wm(c,m.expectedCount);g!==null&&(v.expectedCount=g)}else if(m.snapshotVersion.compareTo(Pe.min())>0){v.readTime=uf(c,m.snapshotVersion.toTimestamp());const g=wm(c,m.expectedCount);g!==null&&(v.expectedCount=g)}return v})(this.serializer,t);const s=_R(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=Nm(this.serializer),i.removeTarget=t,this.K_(i)}}class oN extends lb{constructor(t,i,s,l,c,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,m),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=mR(t.writeResults,t.commitTime),s=Ma(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Nm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>dR(this.serializer,s)))};this.K_(i)}}class lN{}class uN extends lN{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Wo(t,Am(i,s),l,c,m))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ue.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,v])=>this.connection.jo(t,Am(i,s),l,m,v,c))).catch((m=>{throw m.name==="FirebaseError"?(m.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Se(ue.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function cN(a,t,i,s){return new uN(a,t,i,s)}class fN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(i),this.aa=!1):Te("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class hN{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((m=>{s.enqueueAndForget((async()=>{to(this)&&(Te(Xs,"Restarting streams for network reachability change."),await(async function(E){const g=Ge(E);g.Ea.add(4),await Iu(g),g.Va.set("Unknown"),g.Ea.delete(4),await jf(g)})(this))}))})),this.Va=new fN(s,l)}}async function jf(a){if(to(a))for(const t of a.Ra)await t(!0)}async function Iu(a){for(const t of a.Ra)await t(!1)}function ub(a,t){const i=Ge(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),cp(i)?up(i):_l(i).O_()&&lp(i,t))}function op(a,t){const i=Ge(a),s=_l(i);i.Ia.delete(t),s.O_()&&cb(i,t),i.Ia.size===0&&(s.O_()?s.L_():to(i)&&i.Va.set("Unknown"))}function lp(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pe.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_l(a).Z_(t)}function cb(a,t){a.da.$e(t),_l(a).X_(t)}function up(a){a.da=new rR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),_l(a).start(),a.Va.ua()}function cp(a){return to(a)&&!_l(a).x_()&&a.Ia.size>0}function to(a){return Ge(a).Ea.size===0}function fb(a){a.da=void 0}async function dN(a){a.Va.set("Online")}async function mN(a){a.Ia.forEach(((t,i)=>{lp(a,t)}))}async function pN(a,t){fb(a),cp(a)?(a.Va.ha(t),up(a)):a.Va.set("Unknown")}async function gN(a,t,i){if(a.Va.set("Online"),t instanceof XE&&t.state===2&&t.cause)try{await(async function(l,c){const m=c.cause;for(const v of c.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ia.delete(v),l.da.removeTarget(v))})(a,t)}catch(s){Te(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ff(a,s)}else if(t instanceof Xc?a.da.Xe(t):t instanceof QE?a.da.st(t):a.da.tt(t),!i.isEqual(Pe.min()))try{const s=await sb(a.localStore);i.compareTo(s)>=0&&await(function(c,m){const v=c.da.Tt(m);return v.targetChanges.forEach(((E,g)=>{if(E.resumeToken.approximateByteSize()>0){const R=c.Ia.get(g);R&&c.Ia.set(g,R.withResumeToken(E.resumeToken,m))}})),v.targetMismatches.forEach(((E,g)=>{const R=c.Ia.get(E);if(!R)return;c.Ia.set(E,R.withResumeToken(Ln.EMPTY_BYTE_STRING,R.snapshotVersion)),cb(c,E);const I=new es(R.target,E,g,R.sequenceNumber);lp(c,I)})),c.remoteSyncer.applyRemoteEvent(v)})(a,i)}catch(s){Te(Xs,"Failed to raise snapshot:",s),await ff(a,s)}}async function ff(a,t,i){if(!yl(t))throw t;a.Ea.add(1),await Iu(a),a.Va.set("Offline"),i||(i=()=>sb(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{Te(Xs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await jf(a)}))}function hb(a,t){return t().catch((i=>ff(a,i,t)))}async function Mf(a){const t=Ge(a),i=fs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;yN(t);)try{const l=await WR(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,_N(t,l)}catch(l){await ff(t,l)}db(t)&&mb(t)}function yN(a){return to(a)&&a.Ta.length<10}function _N(a,t){a.Ta.push(t);const i=fs(a);i.O_()&&i.Y_&&i.ea(t.mutations)}function db(a){return to(a)&&!fs(a).x_()&&a.Ta.length>0}function mb(a){fs(a).start()}async function vN(a){fs(a).ra()}async function EN(a){const t=fs(a);for(const i of a.Ta)t.ea(i.mutations)}async function bN(a,t,i){const s=a.Ta.shift(),l=ep.from(s,t,i);await hb(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Mf(a)}async function TN(a,t){t&&fs(a).Y_&&await(async function(s,l){if((function(m){return nR(m)&&m!==ue.ABORTED})(l.code)){const c=s.Ta.shift();fs(s).B_(),await hb(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mf(s)}})(a,t),db(a)&&mb(a)}async function r0(a,t){const i=Ge(a);i.asyncQueue.verifyOperationInProgress(),Te(Xs,"RemoteStore received new credentials");const s=to(i);i.Ea.add(3),await Iu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await jf(i)}async function SN(a,t){const i=Ge(a);t?(i.Ea.delete(2),await jf(i)):t||(i.Ea.add(2),await Iu(i),i.Va.set("Unknown"))}function _l(a){return a.ma||(a.ma=(function(i,s,l){const c=Ge(i);return c.sa(),new sN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:dN.bind(null,a),Yo:mN.bind(null,a),t_:pN.bind(null,a),J_:gN.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),cp(a)?up(a):a.Va.set("Unknown")):(await a.ma.stop(),fb(a))}))),a.ma}function fs(a){return a.fa||(a.fa=(function(i,s,l){const c=Ge(i);return c.sa(),new oN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vN.bind(null,a),t_:TN.bind(null,a),ta:EN.bind(null,a),na:bN.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await Mf(a)):(await a.fa.stop(),a.Ta.length>0&&(Te(Xs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class fp{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const m=Date.now()+s,v=new fp(t,i,m,l,c);return v.start(s),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(a,t){if(yr("AsyncQueue",`${t}: ${a}`),yl(a))return new Se(ue.UNAVAILABLE,`${t}: ${a}`);throw a}class nl{static emptySet(t){return new nl(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||je.comparator(i.key,s.key):(i,s)=>je.comparator(i.key,s.key),this.keyedMap=cu(),this.sortedSet=new Qt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof nl)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new nl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class s0{constructor(){this.ga=new Qt(je.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Ue(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class hl{constructor(t,i,s,l,c,m,v,E,g){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=E,this.hasCachedResults=g}static fromInitialDocuments(t,i,s,l,c){const m=[];return i.forEach((v=>{m.push({type:0,doc:v})})),new hl(t,i,nl.emptySet(i),m,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class wN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class AN{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ge(i),c=l.queries;l.queries=o0(),c.forEach(((m,v)=>{for(const E of v.ba)E.onError(s)}))})(this,new Se(ue.ABORTED,"Firestore shutting down"))}}function o0(){return new Js((a=>ME(a)),Nf)}async function RN(a,t){const i=Ge(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new wN,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(m){const v=hp(m,`Initialization of query '${Zo(t.query)}' failed`);return void t.onError(v)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&dp(i)}async function NN(a,t){const i=Ge(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const m=c.ba.indexOf(t);m>=0&&(c.ba.splice(m,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function CN(a,t){const i=Ge(a);let s=!1;for(const l of t){const c=l.query,m=i.queries.get(c);if(m){for(const v of m.ba)v.Fa(l)&&(s=!0);m.wa=l}}s&&dp(i)}function xN(a,t,i){const s=Ge(a),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function dp(a){a.Ca.forEach((t=>{t.next()}))}var Dm,l0;(l0=Dm||(Dm={})).Ma="default",l0.Cache="cache";class DN{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new hl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=hl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dm.Cache}}class pb{constructor(t){this.key=t}}class gb{constructor(t){this.key=t}}class IN{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=st(),this.mutatedKeys=st(),this.eu=VE(t),this.tu=new nl(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new s0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,m=l,v=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((R,I)=>{const M=l.get(R),$=Cf(this.query,I)?I:null,J=!!M&&this.mutatedKeys.has(M.key),ie=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let K=!1;M&&$?M.data.isEqual($.data)?J!==ie&&(s.track({type:3,doc:$}),K=!0):this.su(M,$)||(s.track({type:2,doc:$}),K=!0,(E&&this.eu($,E)>0||g&&this.eu($,g)<0)&&(v=!0)):!M&&$?(s.track({type:0,doc:$}),K=!0):M&&!$&&(s.track({type:1,doc:M}),K=!0,(E||g)&&(v=!0)),K&&($?(m=m.add($),c=ie?c.add(R):c.delete(R)):(m=m.delete(R),c=c.delete(R)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const R=this.query.limitType==="F"?m.last():m.first();m=m.delete(R.key),c=c.delete(R.key),s.track({type:1,doc:R})}return{tu:m,iu:s,Ss:v,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((R,I)=>(function($,J){const ie=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:K})}};return ie($)-ie(J)})(R.type,I.type)||this.eu(R.doc,I.doc))),this.ou(s),l=l??!1;const v=i&&!l?this._u():[],E=this.Ya.size===0&&this.current&&!l?1:0,g=E!==this.Xa;return this.Xa=E,m.length!==0||g?{snapshot:new hl(this.query,t.tu,c,m,t.mutatedKeys,E===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=st(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new gb(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new pb(s))})),i}cu(t){this.Za=t.ks,this.Ya=st();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mp="SyncEngine";class ON{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class jN{constructor(t){this.key=t,this.hu=!1}}class MN{constructor(t,i,s,l,c,m){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Js((v=>ME(v)),Nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qt(je.comparator),this.Au=new Map,this.Vu=new ip,this.du={},this.mu=new Map,this.fu=fl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VN(a,t,i=!0){const s=Tb(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await yb(s,t,i,!0),l}async function LN(a,t){const i=Tb(a);await yb(i,t,!0,!1)}async function yb(a,t,i,s){const l=await ZR(a.localStore,Oa(t)),c=l.targetId,m=a.sharedClientState.addLocalQueryTarget(c,i);let v;return s&&(v=await kN(a,t,c,m==="current",l.resumeToken)),a.isPrimaryClient&&i&&ub(a.remoteStore,l),v}async function kN(a,t,i,s,l){a.pu=(I,M,$)=>(async function(ie,K,ee,me){let ge=K.view.ru(ee);ge.Ss&&(ge=await e0(ie.localStore,K.query,!1).then((({documents:D})=>K.view.ru(D,ge))));const ye=me&&me.targetChanges.get(K.targetId),Ce=me&&me.targetMismatches.get(K.targetId)!=null,Me=K.view.applyChanges(ge,ie.isPrimaryClient,ye,Ce);return c0(ie,K.targetId,Me.au),Me.snapshot})(a,I,M,$);const c=await e0(a.localStore,t,!0),m=new IN(t,c.ks),v=m.ru(c.documents),E=Du.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),g=m.applyChanges(v,a.isPrimaryClient,E);c0(a,i,g.au);const R=new ON(t,i,m);return a.Tu.set(t,R),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),g.snapshot}async function UN(a,t,i){const s=Ge(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((m=>!Nf(m,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Cm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&op(s.remoteStore,l.targetId),Im(s,l.targetId)})).catch(gl)):(Im(s,l.targetId),await Cm(s.localStore,l.targetId,!0))}async function BN(a,t){const i=Ge(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),op(i.remoteStore,s.targetId))}async function qN(a,t,i){const s=QN(a);try{const l=await(function(m,v){const E=Ge(m),g=Bt.now(),R=v.reduce((($,J)=>$.add(J.key)),st());let I,M;return E.persistence.runTransaction("Locally write mutations","readwrite",($=>{let J=_r(),ie=st();return E.xs.getEntries($,R).next((K=>{J=K,J.forEach(((ee,me)=>{me.isValidDocument()||(ie=ie.add(ee))}))})).next((()=>E.localDocuments.getOverlayedDocuments($,J))).next((K=>{I=K;const ee=[];for(const me of v){const ge=WA(me,I.get(me.key).overlayedDocument);ge!=null&&ee.push(new eo(me.key,ge,AE(ge.value.mapValue),ja.exists(!0)))}return E.mutationQueue.addMutationBatch($,g,ee,v)})).next((K=>{M=K;const ee=K.applyToLocalDocumentSet(I,ie);return E.documentOverlayCache.saveOverlays($,K.batchId,ee)}))})).then((()=>({batchId:M.batchId,changes:kE(I)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(m,v,E){let g=m.du[m.currentUser.toKey()];g||(g=new Qt(rt)),g=g.insert(v,E),m.du[m.currentUser.toKey()]=g})(s,l.batchId,i),await Ou(s,l.changes),await Mf(s.remoteStore)}catch(l){const c=hp(l,"Failed to persist write");i.reject(c)}}async function _b(a,t){const i=Ge(a);try{const s=await KR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const m=i.Au.get(c);m&&(bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?bt(m.hu,14607):l.removedDocuments.size>0&&(bt(m.hu,42227),m.hu=!1))})),await Ou(i,s,t)}catch(s){await gl(s)}}function u0(a,t,i){const s=Ge(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,m)=>{const v=m.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(m,v){const E=Ge(m);E.onlineState=v;let g=!1;E.queries.forEach(((R,I)=>{for(const M of I.ba)M.va(v)&&(g=!0)})),g&&dp(E)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function PN(a,t,i){const s=Ge(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let m=new Qt(je.comparator);m=m.insert(c,Yn.newNoDocument(c,Pe.min()));const v=st().add(c),E=new If(Pe.min(),new Map,new Qt(rt),m,v);await _b(s,E),s.Ru=s.Ru.remove(c),s.Au.delete(t),pp(s)}else await Cm(s.localStore,t,!1).then((()=>Im(s,t,i))).catch(gl)}async function zN(a,t){const i=Ge(a),s=t.batch.batchId;try{const l=await XR(i.localStore,t);Eb(i,s,null),vb(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(i,l)}catch(l){await gl(l)}}async function HN(a,t,i){const s=Ge(a);try{const l=await(function(m,v){const E=Ge(m);return E.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let R;return E.mutationQueue.lookupMutationBatch(g,v).next((I=>(bt(I!==null,37113),R=I.keys(),E.mutationQueue.removeMutationBatch(g,I)))).next((()=>E.mutationQueue.performConsistencyCheck(g))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(g,R,v))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,R))).next((()=>E.localDocuments.getDocuments(g,R)))}))})(s.localStore,t);Eb(s,t,i),vb(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ou(s,l)}catch(l){await gl(l)}}function vb(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function Eb(a,t,i){const s=Ge(a);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Im(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((s=>{a.Vu.containsKey(s)||bb(a,s)}))}function bb(a,t){a.Eu.delete(t.path.canonicalString());const i=a.Ru.get(t);i!==null&&(op(a.remoteStore,i),a.Ru=a.Ru.remove(t),a.Au.delete(i),pp(a))}function c0(a,t,i){for(const s of i)s instanceof pb?(a.Vu.addReference(s.key,t),FN(a,s)):s instanceof gb?(Te(mp,"Document no longer in limbo: "+s.key),a.Vu.removeReference(s.key,t),a.Vu.containsKey(s.key)||bb(a,s.key)):Ue(19791,{wu:s})}function FN(a,t){const i=t.key,s=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(s)||(Te(mp,"New document in limbo: "+i),a.Eu.add(s),pp(a))}function pp(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new je(Mt.fromString(t)),s=a.fu.next();a.Au.set(s,new jN(i)),a.Ru=a.Ru.insert(i,s),ub(a.remoteStore,new es(Oa(OE(i.path)),s,"TargetPurposeLimboResolution",wf.ce))}}async function Ou(a,t,i){const s=Ge(a),l=[],c=[],m=[];s.Tu.isEmpty()||(s.Tu.forEach(((v,E)=>{m.push(s.pu(E,t,i).then((g=>{if((g||i)&&s.isPrimaryClient){const R=g?!g.fromCache:i?.targetChanges.get(E.targetId)?.current;s.sharedClientState.updateQueryState(E.targetId,R?"current":"not-current")}if(g){l.push(g);const R=rp.Es(E.targetId,g);c.push(R)}})))})),await Promise.all(m),s.Pu.J_(l),await(async function(E,g){const R=Ge(E);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>ce.forEach(g,(M=>ce.forEach(M.Ts,($=>R.persistence.referenceDelegate.addReference(I,M.targetId,$))).next((()=>ce.forEach(M.Is,($=>R.persistence.referenceDelegate.removeReference(I,M.targetId,$)))))))))}catch(I){if(!yl(I))throw I;Te(sp,"Failed to update sequence numbers: "+I)}for(const I of g){const M=I.targetId;if(!I.fromCache){const $=R.vs.get(M),J=$.snapshotVersion,ie=$.withLastLimboFreeSnapshotVersion(J);R.vs=R.vs.insert(M,ie)}}})(s.localStore,c))}async function GN(a,t){const i=Ge(a);if(!i.currentUser.isEqual(t)){Te(mp,"User change. New user:",t.toKey());const s=await rb(i.localStore,t);i.currentUser=t,(function(c,m){c.mu.forEach((v=>{v.forEach((E=>{E.reject(new Se(ue.CANCELLED,m))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ou(i,s.Ns)}}function YN(a,t){const i=Ge(a),s=i.Au.get(t);if(s&&s.hu)return st().add(s.key);{let l=st();const c=i.Iu.get(t);if(!c)return l;for(const m of c){const v=i.Tu.get(m);l=l.unionWith(v.view.nu)}return l}}function Tb(a){const t=Ge(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PN.bind(null,t),t.Pu.J_=CN.bind(null,t.eventManager),t.Pu.yu=xN.bind(null,t.eventManager),t}function QN(a){const t=Ge(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HN.bind(null,t),t}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Of(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return QR(this.persistence,new FR,t.initialUser,this.serializer)}Cu(t){return new ab(ap.Vi,this.serializer)}Du(t){return new eN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class XN extends hf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){bt(this.persistence.referenceDelegate instanceof cf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xR(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new ab((s=>cf.Vi(s,i)),this.serializer)}}class Om{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>u0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GN.bind(null,this.syncEngine),await SN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new AN})()}createDatastore(t){const i=Of(t.databaseInfo.databaseId),s=rN(t.databaseInfo);return cN(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,m,v){return new hN(s,l,c,m,v)})(this.localStore,this.datastore,t.asyncQueue,(i=>u0(this.syncEngine,i,0)),(function(){return i0.v()?new i0:new tN})())}createSyncEngine(t,i){return(function(l,c,m,v,E,g,R){const I=new MN(l,c,m,v,E,g);return R&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Ge(i);Te(Xs,"RemoteStore shutting down."),s.Ea.add(5),await Iu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class KN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):yr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const hs="FirestoreClient";class $N{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Gn.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async m=>{Te(hs,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(s,(m=>(Te(hs,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=hp(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function em(a,t){a.asyncQueue.verifyOperationInProgress(),Te(hs,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await rb(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function f0(a,t){a.asyncQueue.verifyOperationInProgress();const i=await WN(a);Te(hs,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>r0(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>r0(t.remoteStore,l))),a._onlineComponents=t}async function WN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Te(hs,"Using user provided OfflineComponentProvider");try{await em(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ue.FAILED_PRECONDITION||l.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;sl("Error using user provided cache. Falling back to memory cache: "+i),await em(a,new hf)}}else Te(hs,"Using default OfflineComponentProvider"),await em(a,new XN(void 0));return a._offlineComponents}async function Sb(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Te(hs,"Using user provided OnlineComponentProvider"),await f0(a,a._uninitializedComponentsProvider._online)):(Te(hs,"Using default OnlineComponentProvider"),await f0(a,new Om))),a._onlineComponents}function ZN(a){return Sb(a).then((t=>t.syncEngine))}async function JN(a){const t=await Sb(a),i=t.eventManager;return i.onListen=VN.bind(null,t.syncEngine),i.onUnlisten=UN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=LN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=BN.bind(null,t.syncEngine),i}function eC(a,t,i={}){const s=new as;return a.asyncQueue.enqueueAndForget((async()=>(function(c,m,v,E,g){const R=new KN({next:M=>{R.Nu(),m.enqueueAndForget((()=>NN(c,I))),M.fromCache&&E.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(M)},error:M=>g.reject(M)}),I=new DN(v,R,{includeMetadataChanges:!0,Ka:!0});return RN(c,I)})(await JN(a),a.asyncQueue,t,i,s))),s.promise}function tC(a,t){const i=new as;return a.asyncQueue.enqueueAndForget((async()=>qN(await ZN(a),t,i))),i.promise}function wb(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const nC="ComponentProvider",h0=new Map;function iC(a,t,i,s,l){return new EA(a,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,wb(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const Ab="firestore.googleapis.com",d0=!0;class m0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Se(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ab,this.ssl=d0}else this.host=t.host,this.ssl=t.ssl??d0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NR)throw new Se(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vf{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Se(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new J2;switch(s.type){case"firstParty":return new iA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=h0.get(i);s&&(Te(nC,"Removing Datastore"),h0.delete(i),s.terminate())})(this),Promise.resolve()}}function aC(a,t,i,s={}){a=ll(a,Vf);const l=Hm(t),c=a._getSettings(),m={...c,emulatorOptions:a._getEmulatorOptions()},v=`${t}:${i}`;l&&(xw(`https://${v}`),jw("Firestore",!0)),c.host!==Ab&&c.host!==v&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:v,ssl:l,emulatorOptions:s};if(!Jc(E,m)&&(a._setSettings(E),s.mockUserToken)){let g,R;if(typeof s.mockUserToken=="string")g=s.mockUserToken,R=Gn.MOCK_USER;else{g=Dw(s.mockUserToken,a._app?.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new Se(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Gn(I)}a._authCredentials=new eA(new dE(g,R))}}class vl{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new vl(this.firestore,t,this._query)}}class pn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Nu(i,pn._jsonSchema))return new pn(t,s||null,new je(Mt.fromString(i.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:hn("string",pn._jsonSchemaVersion),referencePath:hn("string")};class rs extends vl{constructor(t,i,s){super(t,i,OE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new je(t))}withConverter(t){return new rs(this.firestore,t,this._path)}}function rC(a,t,...i){if(a=mr(a),mE("collection","path",t),a instanceof Vf){const s=Mt.fromString(t,...i);return Nv(s),new rs(a,null,s)}{if(!(a instanceof pn||a instanceof rs))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Mt.fromString(t,...i));return Nv(s),new rs(a.firestore,null,s)}}function no(a,t,...i){if(a=mr(a),arguments.length===1&&(t=Ym.newId()),mE("doc","path",t),a instanceof Vf){const s=Mt.fromString(t,...i);return Rv(s),new pn(a,null,new je(s))}{if(!(a instanceof pn||a instanceof rs))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Mt.fromString(t,...i));return Rv(s),new pn(a.firestore,a instanceof rs?a.converter:null,new je(s))}}const p0="AsyncQueue";class g0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ob(this,"async_queue_retry"),this._c=()=>{const s=Jd();s&&Te(p0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!yl(t))throw t;Te(p0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",y0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=fp.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ue(47125,{Pc:y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function y0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Lf extends Vf{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new g0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g0(t),this._firestoreClient=void 0,await t}}}function sC(a,t){const i=typeof a=="object"?a:iE(),s=typeof a=="string"?a:nf,l=Tf(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=Nw("firestore");c&&aC(l,...c)}return l}function Rb(a){if(a._terminated)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||oC(a),a._firestoreClient}function oC(a){const t=a._freezeSettings(),i=iC(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new $N(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Ji{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ji(Ln.fromBase64String(t))}catch(i){throw new Se(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ji(Ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Nu(t,Ji._jsonSchema))return Ji.fromBase64String(t.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:hn("string",Ji._jsonSchemaVersion),bytes:hn("string")};class Nb{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new Se(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Cb{constructor(t){this._methodName=t}}class Va{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Se(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Se(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return rt(this._lat,t._lat)||rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Va._jsonSchemaVersion}}static fromJSON(t){if(Nu(t,Va._jsonSchema))return new Va(t.latitude,t.longitude)}}Va._jsonSchemaVersion="firestore/geoPoint/1.0",Va._jsonSchema={type:hn("string",Va._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};class fa{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Nu(t,fa._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new fa(t.vectorValues);throw new Se(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fa._jsonSchemaVersion="firestore/vectorValue/1.0",fa._jsonSchema={type:hn("string",fa._jsonSchemaVersion),vectorValues:hn("object")};const lC=/^__.*__$/;class uC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new eo(t,this.data,this.fieldMask,i,this.fieldTransforms):new xu(t,this.data,i,this.fieldTransforms)}}function xb(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:a})}}class gp{constructor(t,i,s,l,c,m){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=m||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new gp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return df(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(xb(this.dataSource)&&lC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class cC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Of(t)}createContext(t,i,s,l=!1){return new gp({dataSource:t,methodName:i,targetDoc:s,path:Vn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Db(a){const t=a._freezeSettings(),i=Of(a._databaseId);return new cC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function fC(a,t,i,s,l,c={}){const m=a.createContext(c.merge||c.mergeFields?2:0,t,i,l);jb("Data must be an object, but it was:",m,s);const v=Ib(s,m);let E,g;if(c.merge)E=new ca(m.fieldMask),g=m.fieldTransforms;else if(c.mergeFields){const R=[];for(const I of c.mergeFields){const M=kf(t,I,i);if(!m.contains(M))throw new Se(ue.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);pC(R,M)||R.push(M)}E=new ca(R),g=m.fieldTransforms.filter((I=>E.covers(I.field)))}else E=null,g=m.fieldTransforms;return new uC(new Zi(v),E,g)}function hC(a,t,i,s=!1){return yp(i,a.createContext(s?4:3,t))}function yp(a,t){if(Ob(a=mr(a)))return jb("Unsupported field value:",t,a),Ib(a,t);if(a instanceof Cb)return(function(s,l){if(!xb(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let m=0;for(const v of s){let E=yp(v,l.childContextForArray(m));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),m++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=mr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GA(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Bt.fromDate(s);return{timestampValue:uf(l.serializer,c)}}if(s instanceof Bt){const c=new Bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uf(l.serializer,c)}}if(s instanceof Va)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ji)return{bytesValue:KE(l.serializer,s._byteString)};if(s instanceof pn){const c=l.databaseId,m=s.firestore._databaseId;if(!m.isEqual(c))throw l.createError(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:np(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof fa)return(function(m,v){const E=m instanceof fa?m.toArray():m;return{mapValue:{fields:{[SE]:{stringValue:wE},[af]:{arrayValue:{values:E.map((R=>{if(typeof R!="number")throw v.createError("VectorValues must only contain numeric values.");return Zm(v.serializer,R)}))}}}}}})(s,l);if(nb(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Sf(s)}`)})(a,t)}function Ib(a,t){const i={};return yE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(a,((s,l)=>{const c=yp(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function Ob(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Bt||a instanceof Va||a instanceof Ji||a instanceof pn||a instanceof Cb||a instanceof fa||nb(a))}function jb(a,t,i){if(!Ob(i)||!pE(i)){const s=Sf(i);throw s==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+s)}}function kf(a,t,i){if((t=mr(t))instanceof Nb)return t._internalPath;if(typeof t=="string")return mC(a,t);throw df("Field path arguments must be of type string or ",a,!1,void 0,i)}const dC=new RegExp("[~\\*/\\[\\]]");function mC(a,t,i){if(t.search(dC)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Nb(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function df(a,t,i,s,l){const c=s&&!s.isEmpty(),m=l!==void 0;let v=`Function ${t}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let E="";return(c||m)&&(E+=" (found",c&&(E+=` in field ${s}`),m&&(E+=` in document ${l}`),E+=")"),new Se(ue.INVALID_ARGUMENT,v+a+E)}function pC(a,t){return a.some((i=>i.isEqual(t)))}class gC{convertValue(t,i="none"){switch(cs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ue(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Zs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[af].arrayValue?.values?.map((s=>nn(s.doubleValue)));return new fa(i)}convertGeoPoint(t){return new Va(nn(t.latitude),nn(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Rf(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(vu(t));default:return null}}convertTimestamp(t){const i=ls(t);return new Bt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Mt.fromString(t);bt(tb(s),9688,{name:t});const l=new Eu(s.get(1),s.get(3)),c=new je(s.popFirst(5));return l.isEqual(i)||yr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class yC extends gC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ji(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,i)}}const _0="@firebase/firestore",v0="4.10.0";class Mb{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(kf("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _C extends Mb{data(){return super.data()}}function vC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Se(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class EC extends _p{}function bC(a,t,...i){let s=[];t instanceof _p&&s.push(t),s=s.concat(i),(function(c){const m=c.filter((E=>E instanceof vp)).length,v=c.filter((E=>E instanceof Uf)).length;if(m>1||m>0&&v>0)throw new Se(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class Uf extends EC{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Uf(t,i,s)}_apply(t){const i=this._parse(t);return Vb(t._query,i),new vl(t.firestore,t.converter,Tm(t._query,i))}_parse(t){const i=Db(t.firestore);return(function(c,m,v,E,g,R,I){let M;if(g.isKeyField()){if(R==="array-contains"||R==="array-contains-any")throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${R}' queries on documentId().`);if(R==="in"||R==="not-in"){T0(I,R);const J=[];for(const ie of I)J.push(b0(E,c,ie));M={arrayValue:{values:J}}}else M=b0(E,c,I)}else R!=="in"&&R!=="not-in"&&R!=="array-contains-any"||T0(I,R),M=hC(v,m,I,R==="in"||R==="not-in");return fn.create(g,R,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function E0(a,t,i){const s=t,l=kf("where",a);return Uf._create(l,s,i)}class vp extends _p{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new vp(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ha.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let m=l;const v=c.getFlattenedFilters();for(const E of v)Vb(m,E),m=Tm(m,E)})(t._query,i),new vl(t.firestore,t.converter,Tm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function b0(a,t,i){if(typeof(i=mr(i))=="string"){if(i==="")throw new Se(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jE(t)&&i.indexOf("/")!==-1)throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Mt.fromString(i));if(!je.isDocumentKey(s))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vv(a,new je(s))}if(i instanceof pn)return Vv(a,i._key);throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(i)}.`)}function T0(a,t){if(!Array.isArray(a)||a.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Vb(a,t){const i=(function(l,c){for(const m of l)for(const v of m.getFlattenedFilters())if(c.indexOf(v.op)>=0)return v.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function TC(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class Pc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class il extends Mb{constructor(t,i,s,l,c,m){super(t,i,s,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(kf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=il._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}il._jsonSchemaVersion="firestore/documentSnapshot/1.0",il._jsonSchema={type:hn("string",il._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class Kc extends il{data(t={}){return super.data(t)}}class al{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Pc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Kc(this._firestore,this._userDataWriter,s.key,s,new Pc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Se(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((v=>{const E=new Kc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Pc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:E,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>c||v.type!==3)).map((v=>{const E=new Kc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Pc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,R=-1;return v.type!==0&&(g=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),R=m.indexOf(v.doc.key)),{type:SC(v.type),doc:E,oldIndex:g,newIndex:R}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=al._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function SC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:a})}}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:hn("string",al._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};function wC(a){a=ll(a,vl);const t=ll(a.firestore,Lf),i=Rb(t),s=new yC(t);return vC(a._query),eC(i,a._query).then((l=>new al(t,s,a,l)))}function Ep(a,t,i){a=ll(a,pn);const s=ll(a.firestore,Lf),l=TC(a.converter,t),c=Db(s);return Lb(s,[fC(c,"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,ja.none())])}function Bf(a){return Lb(ll(a.firestore,Lf),[new Jm(a._key,ja.none())])}function Lb(a,t){const i=Rb(a);return tC(i,t)}(function(t,i=!0){Z2(B2),ss(new pr("firestore",((s,{instanceIdentifier:l,options:c})=>{const m=s.getProvider("app").getImmediate(),v=new Lf(new tA(s.getProvider("auth-internal")),new aA(m,s.getProvider("app-check-internal")),bA(m,l),m);return c={useFetchStreams:i,...c},v._setSettings(c),v}),"PUBLIC").setMultipleInstances(!0)),Ia(_0,v0,t),Ia(_0,v0,"esm2020")})();const kb="@firebase/installations",bp="0.6.19";const Ub=1e4,Bb=`w:${bp}`,qb="FIS_v2",AC="https://firebaseinstallations.googleapis.com/v1",RC=3600*1e3,NC="installations",CC="Installations";const xC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ks=new Ef(NC,CC,xC);function Pb(a){return a instanceof Ws&&a.code.includes("request-failed")}function zb({projectId:a}){return`${AC}/projects/${a}/installations`}function Hb(a){return{token:a.token,requestStatus:2,expiresIn:IC(a.expiresIn),creationTime:Date.now()}}async function Fb(a,t){const s=(await t.json()).error;return Ks.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Gb({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function DC(a,{refreshToken:t}){const i=Gb(a);return i.append("Authorization",OC(t)),i}async function Yb(a){const t=await a();return t.status>=500&&t.status<600?a():t}function IC(a){return Number(a.replace("s","000"))}function OC(a){return`${qb} ${a}`}async function jC({appConfig:a,heartbeatServiceProvider:t},{fid:i}){const s=zb(a),l=Gb(a),c=t.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={fid:i,authVersion:qb,appId:a.appId,sdkVersion:Bb},v={method:"POST",headers:l,body:JSON.stringify(m)},E=await Yb(()=>fetch(s,v));if(E.ok){const g=await E.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:Hb(g.authToken)}}else throw await Fb("Create Installation",E)}function Qb(a){return new Promise(t=>{setTimeout(t,a)})}function MC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const VC=/^[cdef][\w-]{21}$/,jm="";function LC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=kC(a);return VC.test(i)?i:jm}catch{return jm}}function kC(a){return MC(a).substr(0,22)}function qf(a){return`${a.appName}!${a.appId}`}const Xb=new Map;function Kb(a,t){const i=qf(a);$b(i,t),UC(i,t)}function $b(a,t){const i=Xb.get(a);if(i)for(const s of i)s(t)}function UC(a,t){const i=BC();i&&i.postMessage({key:a,fid:t}),qC()}let Ys=null;function BC(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=a=>{$b(a.data.key,a.data.fid)}),Ys}function qC(){Xb.size===0&&Ys&&(Ys.close(),Ys=null)}const PC="firebase-installations-database",zC=1,$s="firebase-installations-store";let tm=null;function Tp(){return tm||(tm=bf(PC,zC,{upgrade:(a,t)=>{t===0&&a.createObjectStore($s)}})),tm}async function mf(a,t){const i=qf(a),l=(await Tp()).transaction($s,"readwrite"),c=l.objectStore($s),m=await c.get(i);return await c.put(t,i),await l.done,(!m||m.fid!==t.fid)&&Kb(a,t.fid),t}async function Wb(a){const t=qf(a),s=(await Tp()).transaction($s,"readwrite");await s.objectStore($s).delete(t),await s.done}async function Pf(a,t){const i=qf(a),l=(await Tp()).transaction($s,"readwrite"),c=l.objectStore($s),m=await c.get(i),v=t(m);return v===void 0?await c.delete(i):await c.put(v,i),await l.done,v&&(!m||m.fid!==v.fid)&&Kb(a,v.fid),v}async function Sp(a){let t;const i=await Pf(a.appConfig,s=>{const l=HC(s),c=FC(a,l);return t=c.registrationPromise,c.installationEntry});return i.fid===jm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function HC(a){const t=a||{fid:LC(),registrationStatus:0};return Zb(t)}function FC(a,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ks.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=GC(a,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:YC(a)}:{installationEntry:t}}async function GC(a,t){try{const i=await jC(a,t);return mf(a.appConfig,i)}catch(i){throw Pb(i)&&i.customData.serverCode===409?await Wb(a.appConfig):await mf(a.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function YC(a){let t=await S0(a.appConfig);for(;t.registrationStatus===1;)await Qb(100),t=await S0(a.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Sp(a);return s||i}return t}function S0(a){return Pf(a,t=>{if(!t)throw Ks.create("installation-not-found");return Zb(t)})}function Zb(a){return QC(a)?{fid:a.fid,registrationStatus:0}:a}function QC(a){return a.registrationStatus===1&&a.registrationTime+Ub<Date.now()}async function XC({appConfig:a,heartbeatServiceProvider:t},i){const s=KC(a,i),l=DC(a,i),c=t.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={installation:{sdkVersion:Bb,appId:a.appId}},v={method:"POST",headers:l,body:JSON.stringify(m)},E=await Yb(()=>fetch(s,v));if(E.ok){const g=await E.json();return Hb(g)}else throw await Fb("Generate Auth Token",E)}function KC(a,{fid:t}){return`${zb(a)}/${t}/authTokens:generate`}async function wp(a,t=!1){let i;const s=await Pf(a.appConfig,c=>{if(!Jb(c))throw Ks.create("not-registered");const m=c.authToken;if(!t&&ZC(m))return c;if(m.requestStatus===1)return i=$C(a,t),c;{if(!navigator.onLine)throw Ks.create("app-offline");const v=ex(c);return i=WC(a,v),v}});return i?await i:s.authToken}async function $C(a,t){let i=await w0(a.appConfig);for(;i.authToken.requestStatus===1;)await Qb(100),i=await w0(a.appConfig);const s=i.authToken;return s.requestStatus===0?wp(a,t):s}function w0(a){return Pf(a,t=>{if(!Jb(t))throw Ks.create("not-registered");const i=t.authToken;return tx(i)?{...t,authToken:{requestStatus:0}}:t})}async function WC(a,t){try{const i=await XC(a,t),s={...t,authToken:i};return await mf(a.appConfig,s),i}catch(i){if(Pb(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Wb(a.appConfig);else{const s={...t,authToken:{requestStatus:0}};await mf(a.appConfig,s)}throw i}}function Jb(a){return a!==void 0&&a.registrationStatus===2}function ZC(a){return a.requestStatus===2&&!JC(a)}function JC(a){const t=Date.now();return t<a.creationTime||a.creationTime+a.expiresIn<t+RC}function ex(a){const t={requestStatus:1,requestTime:Date.now()};return{...a,authToken:t}}function tx(a){return a.requestStatus===1&&a.requestTime+Ub<Date.now()}async function nx(a){const t=a,{installationEntry:i,registrationPromise:s}=await Sp(t);return s?s.catch(console.error):wp(t).catch(console.error),i.fid}async function ix(a,t=!1){const i=a;return await ax(i),(await wp(i,t)).token}async function ax(a){const{registrationPromise:t}=await Sp(a);t&&await t}function rx(a){if(!a||!a.options)throw nm("App Configuration");if(!a.name)throw nm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!a.options[i])throw nm(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function nm(a){return Ks.create("missing-app-config-values",{valueName:a})}const eT="installations",sx="installations-internal",ox=a=>{const t=a.getProvider("app").getImmediate(),i=rx(t),s=Tf(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},lx=a=>{const t=a.getProvider("app").getImmediate(),i=Tf(t,eT).getImmediate();return{getId:()=>nx(i),getToken:l=>ix(i,l)}};function ux(){ss(new pr(eT,ox,"PUBLIC")),ss(new pr(sx,lx,"PRIVATE"))}ux();Ia(kb,bp);Ia(kb,bp,"esm2020");const cx="/firebase-messaging-sw.js",fx="/firebase-cloud-messaging-push-scope",tT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hx="https://fcmregistrations.googleapis.com/v1",nT="google.c.a.c_id",dx="google.c.a.c_l",mx="google.c.a.ts",px="google.c.a.e",A0=1e4;var R0;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(R0||(R0={}));var wu;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(wu||(wu={}));function ur(a){const t=new Uint8Array(a);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gx(a){const t="=".repeat((4-a.length%4)%4),i=(a+t).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(i),l=new Uint8Array(s.length);for(let c=0;c<s.length;++c)l[c]=s.charCodeAt(c);return l}const im="fcm_token_details_db",yx=5,N0="fcm_token_object_Store";async function _x(a){if("databases"in indexedDB&&!(await indexedDB.databases()).map(c=>c.name).includes(im))return null;let t=null;return(await bf(im,yx,{upgrade:async(s,l,c,m)=>{if(l<2||!s.objectStoreNames.contains(N0))return;const v=m.objectStore(N0),E=await v.index("fcmSenderId").get(a);if(await v.clear(),!!E){if(l===2){const g=E;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:ur(g.vapidKey)}}}else if(l===3){const g=E;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ur(g.auth),p256dh:ur(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ur(g.vapidKey)}}}else if(l===4){const g=E;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ur(g.auth),p256dh:ur(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ur(g.vapidKey)}}}}}})).close(),await Qd(im),await Qd("fcm_vapid_details_db"),await Qd("undefined"),vx(t)?t:null}function vx(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:t}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const Ex="firebase-messaging-database",bx=1,Au="firebase-messaging-store";let am=null;function iT(){return am||(am=bf(Ex,bx,{upgrade:(a,t)=>{t===0&&a.createObjectStore(Au)}})),am}async function Tx(a){const t=aT(a),s=await(await iT()).transaction(Au).objectStore(Au).get(t);if(s)return s;{const l=await _x(a.appConfig.senderId);if(l)return await Ap(a,l),l}}async function Ap(a,t){const i=aT(a),l=(await iT()).transaction(Au,"readwrite");return await l.objectStore(Au).put(t,i),await l.done,t}function aT({appConfig:a}){return a.appId}const Sx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Qn=new Ef("messaging","Messaging",Sx);async function wx(a,t){const i=await Np(a),s=rT(t),l={method:"POST",headers:i,body:JSON.stringify(s)};let c;try{c=await(await fetch(Rp(a.appConfig),l)).json()}catch(m){throw Qn.create("token-subscribe-failed",{errorInfo:m?.toString()})}if(c.error){const m=c.error.message;throw Qn.create("token-subscribe-failed",{errorInfo:m})}if(!c.token)throw Qn.create("token-subscribe-no-token");return c.token}async function Ax(a,t){const i=await Np(a),s=rT(t.subscriptionOptions),l={method:"PATCH",headers:i,body:JSON.stringify(s)};let c;try{c=await(await fetch(`${Rp(a.appConfig)}/${t.token}`,l)).json()}catch(m){throw Qn.create("token-update-failed",{errorInfo:m?.toString()})}if(c.error){const m=c.error.message;throw Qn.create("token-update-failed",{errorInfo:m})}if(!c.token)throw Qn.create("token-update-no-token");return c.token}async function Rx(a,t){const s={method:"DELETE",headers:await Np(a)};try{const c=await(await fetch(`${Rp(a.appConfig)}/${t}`,s)).json();if(c.error){const m=c.error.message;throw Qn.create("token-unsubscribe-failed",{errorInfo:m})}}catch(l){throw Qn.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function Rp({projectId:a}){return`${hx}/projects/${a}/registrations`}async function Np({appConfig:a,installations:t}){const i=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function rT({p256dh:a,auth:t,endpoint:i,vapidKey:s}){const l={web:{endpoint:i,auth:t,p256dh:a}};return s!==tT&&(l.web.applicationPubKey=s),l}const Nx=10080*60*1e3;async function Cx(a){const t=await Dx(a.swRegistration,a.vapidKey),i={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:t.endpoint,auth:ur(t.getKey("auth")),p256dh:ur(t.getKey("p256dh"))},s=await Tx(a.firebaseDependencies);if(s){if(Ix(s.subscriptionOptions,i))return Date.now()>=s.createTime+Nx?xx(a,{token:s.token,createTime:Date.now(),subscriptionOptions:i}):s.token;try{await Rx(a.firebaseDependencies,s.token)}catch(l){console.warn(l)}return C0(a.firebaseDependencies,i)}else return C0(a.firebaseDependencies,i)}async function xx(a,t){try{const i=await Ax(a.firebaseDependencies,t),s={...t,token:i,createTime:Date.now()};return await Ap(a.firebaseDependencies,s),i}catch(i){throw i}}async function C0(a,t){const s={token:await wx(a,t),createTime:Date.now(),subscriptionOptions:t};return await Ap(a,s),s.token}async function Dx(a,t){const i=await a.pushManager.getSubscription();return i||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gx(t)})}function Ix(a,t){const i=t.vapidKey===a.vapidKey,s=t.endpoint===a.endpoint,l=t.auth===a.auth,c=t.p256dh===a.p256dh;return i&&s&&l&&c}function x0(a){const t={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return Ox(t,a),jx(t,a),Mx(t,a),t}function Ox(a,t){if(!t.notification)return;a.notification={};const i=t.notification.title;i&&(a.notification.title=i);const s=t.notification.body;s&&(a.notification.body=s);const l=t.notification.image;l&&(a.notification.image=l);const c=t.notification.icon;c&&(a.notification.icon=c)}function jx(a,t){t.data&&(a.data=t.data)}function Mx(a,t){if(!t.fcmOptions&&!t.notification?.click_action)return;a.fcmOptions={};const i=t.fcmOptions?.link??t.notification?.click_action;i&&(a.fcmOptions.link=i);const s=t.fcmOptions?.analytics_label;s&&(a.fcmOptions.analyticsLabel=s)}function Vx(a){return typeof a=="object"&&!!a&&nT in a}function Lx(a){if(!a||!a.options)throw rm("App Configuration Object");if(!a.name)throw rm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:i}=a;for(const s of t)if(!i[s])throw rm(s);return{appName:a.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function rm(a){return Qn.create("missing-app-config-values",{valueName:a})}class kx{constructor(t,i,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=Lx(t);this.firebaseDependencies={app:t,appConfig:l,installations:i,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function Ux(a){try{a.swRegistration=await navigator.serviceWorker.register(cx,{scope:fx}),a.swRegistration.update().catch(()=>{}),await Bx(a.swRegistration)}catch(t){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function Bx(a){return new Promise((t,i)=>{const s=setTimeout(()=>i(new Error(`Service worker not registered after ${A0} ms`)),A0),l=a.installing||a.waiting;a.active?(clearTimeout(s),t()):l?l.onstatechange=c=>{c.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(s),t())}:(clearTimeout(s),i(new Error("No incoming service worker found.")))})}async function qx(a,t){if(!t&&!a.swRegistration&&await Ux(a),!(!t&&a.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");a.swRegistration=t}}async function Px(a,t){t?a.vapidKey=t:a.vapidKey||(a.vapidKey=tT)}async function sT(a,t){if(!navigator)throw Qn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Qn.create("permission-blocked");return await Px(a,t?.vapidKey),await qx(a,t?.serviceWorkerRegistration),Cx(a)}async function zx(a,t,i){const s=Hx(t);(await a.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[nT],message_name:i[dx],message_time:i[mx],message_device_time:Math.floor(Date.now()/1e3)})}function Hx(a){switch(a){case wu.NOTIFICATION_CLICKED:return"notification_open";case wu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function Fx(a,t){const i=t.data;if(!i.isFirebaseMessaging)return;a.onMessageHandler&&i.messageType===wu.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(x0(i)):a.onMessageHandler.next(x0(i)));const s=i.data;Vx(s)&&s[px]==="1"&&await zx(a,i.messageType,s)}const D0="@firebase/messaging",I0="0.12.23";const Gx=a=>{const t=new kx(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>Fx(t,i)),t},Yx=a=>{const t=a.getProvider("messaging").getImmediate();return{getToken:s=>sT(t,s)}};function Qx(){ss(new pr("messaging",Gx,"PUBLIC")),ss(new pr("messaging-internal",Yx,"PRIVATE")),Ia(D0,I0),Ia(D0,I0,"esm2020")}async function oT(){try{await Z0()}catch{return!1}return typeof window<"u"&&W0()&&kw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Xx(a,t){if(!navigator)throw Qn.create("only-available-in-window");return a.onMessageHandler=t,()=>{a.onMessageHandler=null}}function Kx(a=iE()){return oT().then(t=>{if(!t)throw Qn.create("unsupported-browser")},t=>{throw Qn.create("indexed-db-unsupported")}),Tf(mr(a),"messaging").getImmediate()}async function $x(a,t){return a=mr(a),sT(a,t)}function Wx(a,t){return a=mr(a),Xx(a,t)}Qx();const $c={apiKey:"AIzaSyA3dJLU8Xw6vcqXtOhVbuI5aO_ImdT8upg",authDomain:"goal-game-7ad53.firebaseapp.com",projectId:"goal-game-7ad53",storageBucket:"goal-game-7ad53.firebasestorage.app",messagingSenderId:"86507800050",appId:"1:86507800050:web:f7674a55bc2291686f976b"},lT="BLD2XB0Bh-Y2EwwHU1YimB6-tzKQNrGh-bzoZHXbSWlvQt1mg6K5c7EJWfBIDrGY0cQJXO4LNrKD9MjlZhMsb3c";let sm=null,om=null,zc=null;function ka(){return!!($c.apiKey&&$c.projectId&&$c.messagingSenderId&&lT)}function uT(){if(!sm){if(!ka())throw new Error("Firebase is not configured. Please add your Firebase config to .env file.");sm=nE($c)}return sm}function io(){return om||(om=sC(uT())),om}async function cT(){return zc||(await oT()?(zc=Kx(uT()),zc):(console.warn("Firebase Messaging is not supported in this browser"),null))}function vr(){let a=localStorage.getItem("goal-game-device-id");return a||(a=crypto.randomUUID(),localStorage.setItem("goal-game-device-id",a)),a}const dl="scheduled_notifications",fT="fcm_tokens";async function Zx(a,t,i,s,l,c){if(!ka())return console.warn("Firebase not configured, skipping notification scheduling"),null;const m=io(),v=vr(),E=new Date(`${i}T${s}`),g=new Date(E.getTime()-l*60*1e3);if(g<=new Date)return console.warn("Notification trigger time is in the past, skipping"),null;const R=`${v}_event_${a}`,I={id:R,eventId:a,eventTitle:t,eventDate:i,eventTime:s,triggerAt:g.toISOString(),fcmToken:c,deviceId:v,status:"pending",createdAt:new Date().toISOString(),notificationType:"event"};try{return await Ep(no(m,dl,R),I),R}catch(M){return console.error("Failed to schedule notification:",M),null}}async function Jx(a,t,i,s,l){if(!ka())return console.warn("Firebase not configured, skipping notification scheduling"),null;const c=io(),m=vr(),v=new Date(s);if(v<=new Date)return console.warn("Buff expiry time is in the past, skipping notification"),null;const E=`${m}_buff_${a}`,g={id:E,buffLogId:a,buffName:t,buffType:i,triggerAt:v.toISOString(),fcmToken:l,deviceId:m,status:"pending",createdAt:new Date().toISOString(),notificationType:"buff_expiry"};try{return await Ep(no(c,dl,E),g),E}catch(R){return console.error("Failed to schedule buff expiry notification:",R),null}}async function eD(a){if(!ka())return;const t=io(),s=`${vr()}_buff_${a}`;try{await Bf(no(t,dl,s))}catch(l){console.error("Failed to cancel buff expiry notification:",l)}}async function tD(a){if(!ka())return;const t=io(),s=`${vr()}_event_${a}`;try{await Bf(no(t,dl,s))}catch(l){console.error("Failed to cancel notification:",l)}}async function nD(){if(!ka())return;const a=io(),t=vr();try{const i=bC(rC(a,dl),E0("deviceId","==",t),E0("status","==","pending")),l=(await wC(i)).docs.map(c=>Bf(no(a,dl,c.id)));await Promise.all(l)}catch(i){console.error("Failed to cancel all notifications:",i)}}async function iD(a){if(!ka())return;const t=io(),i=vr();try{await Ep(no(t,fT,i),{token:a,deviceId:i,updatedAt:new Date().toISOString(),platform:navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")?"ios":navigator.userAgent.includes("Android")?"android":"web"})}catch(s){console.error("Failed to save FCM token:",s)}}async function aD(){if(!ka())return;const a=io(),t=vr();try{await Bf(no(a,fT,t))}catch(i){console.error("Failed to delete FCM token:",i)}}function rD(){return"Notification"in window?Notification.permission:"unsupported"}function Cp(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}function xp(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function Dp(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function sD(){return xp()&&!Dp()?!1:Cp()}async function oD(){if(!ka())return{success:!1,token:null,error:"Firebase is not configured"};if(!Cp())return{success:!1,token:null,error:"Notifications are not supported in this browser"};if(xp()&&!Dp())return{success:!1,token:null,error:"On iOS, you must add this app to your home screen first, then enable notifications"};try{if(await Notification.requestPermission()!=="granted")return{success:!1,token:null,error:"Notification permission was denied"};const t=await cT();if(!t)return{success:!1,token:null,error:"Failed to initialize Firebase Messaging"};const i=await navigator.serviceWorker.register("/goal-game/firebase-messaging-sw.js");await navigator.serviceWorker.ready;const s=await $x(t,{vapidKey:lT,serviceWorkerRegistration:i});return s?(await iD(s),{success:!0,token:s}):{success:!1,token:null,error:"Failed to get FCM token"}}catch(a){return console.error("Error requesting notification permission:",a),{success:!1,token:null,error:a instanceof Error?a.message:"Unknown error occurred"}}}async function lD(){try{await aD(),await nD()}catch(a){console.error("Error disabling notifications:",a)}}function uD(a){let t=null;return cT().then(i=>{i&&(t=Wx(i,s=>{if(console.log("Foreground message received:",s),a(s),s.notification){const{title:l,body:c}=s.notification;l&&new Notification(l,{body:c||"",icon:"/goal-game/icons/icon-192.png",badge:"/goal-game/icons/icon-192.png",tag:s.data?.eventId||"goal-game-notification"})}}))}),()=>{t&&t()}}function hT(){const a=Je(),t=vr(),i=a.exec("SELECT enabled, default_reminder_minutes, fcm_token, device_id FROM notification_settings WHERE id = 1");if(i.length===0||i[0].values.length===0)return a.run("INSERT OR REPLACE INTO notification_settings (id, enabled, default_reminder_minutes, fcm_token, device_id) VALUES (1, 0, 15, NULL, ?)",[t]),{enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:t};const s=i[0].values[0];return{enabled:!!s[0],defaultReminderMinutes:s[1],fcmToken:s[2],deviceId:s[3]}}async function lm(a){const t=Je(),i=vr(),l={...hT(),...a};t.run(`UPDATE notification_settings SET
      enabled = ?,
      default_reminder_minutes = ?,
      fcm_token = ?,
      device_id = ?,
      updated_at = datetime('now')
    WHERE id = 1`,[l.enabled?1:0,l.defaultReminderMinutes,l.fcmToken,i]),await Vt()}function dT(){const[a,t]=oe.useState({enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:""}),[i,s]=oe.useState("default"),[l,c]=oe.useState(!1),[m,v]=oe.useState(null),E=Cp(),g=ka(),R=sD(),I=xp(),M=Dp();oe.useEffect(()=>{try{const ye=hT();t(ye),s(rD())}catch(ye){console.error("Failed to load notification settings:",ye)}},[]),oe.useEffect(()=>!a.enabled||!a.fcmToken?void 0:uD(Ce=>{console.log("Notification received in foreground:",Ce)}),[a.enabled,a.fcmToken]);const $=oe.useCallback(async()=>{c(!0),v(null);try{const ye=await oD();return ye.success?(await lm({enabled:!0,fcmToken:ye.token}),t(Ce=>({...Ce,enabled:!0,fcmToken:ye.token})),s("granted"),!0):(v(ye.error||"Failed to enable notifications"),!1)}catch(ye){const Ce=ye instanceof Error?ye.message:"Unknown error";return v(Ce),!1}finally{c(!1)}},[]),J=oe.useCallback(async()=>{c(!0),v(null);try{await lD(),await lm({enabled:!1,fcmToken:null}),t(ye=>({...ye,enabled:!1,fcmToken:null}))}catch(ye){const Ce=ye instanceof Error?ye.message:"Unknown error";v(Ce)}finally{c(!1)}},[]),ie=oe.useCallback(async ye=>{await lm({defaultReminderMinutes:ye}),t(Ce=>({...Ce,defaultReminderMinutes:ye}))},[]),K=oe.useCallback(async(ye,Ce,Me,D,x)=>{!a.enabled||!a.fcmToken||await Zx(ye,Ce,Me,D,x,a.fcmToken)},[a.enabled,a.fcmToken]),ee=oe.useCallback(async ye=>{await tD(ye)},[]),me=oe.useCallback(async(ye,Ce,Me,D)=>{!a.enabled||!a.fcmToken||await Jx(ye,Ce,Me,D,a.fcmToken)},[a.enabled,a.fcmToken]),ge=oe.useCallback(async ye=>{await eD(ye)},[]);return{settings:a,permissionState:i,isSupported:E,isConfigured:g,canEnable:R,isIOS:I,isStandalone:M,loading:l,error:m,enableNotifications:$,disableNotificationsHandler:J,setDefaultReminderMinutes:ie,scheduleEventReminder:K,cancelEventReminder:ee,scheduleBuffExpiry:me,cancelBuffExpiry:ge}}const cD="_appShell_1hrux_1",fD="_sidebar_1hrux_13",hD="_sidebarLogo_1hrux_41",dD="_logoTitle_1hrux_51",mD="_logoSubtitle_1hrux_67",pD="_sidebarNav_1hrux_81",gD="_navItem_1hrux_97",yD="_navItemActive_1hrux_147",_D="_navIcon_1hrux_179",vD="_header_1hrux_193",ED="_headerLeft_1hrux_227",bD="_characterName_1hrux_239",TD="_levelBadge_1hrux_253",SD="_headerXP_1hrux_283",wD="_headerRight_1hrux_291",AD="_main_1hrux_305",RD="_xpFloat_1hrux_323",Mn={appShell:cD,sidebar:fD,sidebarLogo:hD,logoTitle:dD,logoSubtitle:mD,sidebarNav:pD,navItem:gD,navItemActive:yD,navIcon:_D,header:vD,headerLeft:ED,characterName:bD,levelBadge:TD,headerXP:SD,headerRight:wD,main:AD,xpFloat:RD},ND=[{id:"character",label:"Character",icon:""},{id:"quests",label:"Quest Log",icon:""},{id:"buffs",label:"Buffs",icon:""},{id:"planner",label:"Planner",icon:""}];function CD({activeTab:a,onTabChange:t}){return p.jsxs("aside",{className:Mn.sidebar,children:[p.jsxs("div",{className:Mn.sidebarLogo,children:[p.jsx("div",{className:Mn.logoTitle,children:"GOAL GAME"}),p.jsx("div",{className:Mn.logoSubtitle,children:"Life Management RPG"})]}),p.jsx("nav",{className:Mn.sidebarNav,children:ND.map(i=>p.jsxs("button",{className:`${Mn.navItem} ${a===i.id?Mn.navItemActive:""}`,onClick:()=>t(i.id),children:[p.jsx("span",{className:Mn.navIcon,children:i.icon}),i.label]},i.id))})]})}const xD="_progressContainer_1jr5p_1",DD="_progressLabel_1jr5p_9",ID="_track_1jr5p_33",OD="_fill_1jr5p_53",jD="_fillGold_1jr5p_67",MD="_fillGreen_1jr5p_77",VD="_fillBlue_1jr5p_85",LD="_shimmer_1jr5p_93",kD="_trackLarge_1jr5p_117",lr={progressContainer:xD,progressLabel:DD,track:ID,fill:OD,fillGold:jD,fillGreen:MD,fillBlue:VD,shimmer:LD,trackLarge:kD};function Mm({value:a,max:t,label:i,showValue:s=!0,color:l="gold",size:c="normal",shimmer:m=!1,className:v}){const E=t>0?Math.min(a/t*100,100):0,g=l==="gold"?lr.fillGold:l==="green"?lr.fillGreen:lr.fillBlue,R=[lr.track,c==="large"&&lr.trackLarge].filter(Boolean).join(" ");return p.jsxs("div",{className:`${lr.progressContainer} ${v||""}`,children:[(i||s)&&p.jsxs("div",{className:lr.progressLabel,children:[i&&p.jsx("span",{children:i}),s&&p.jsxs("span",{children:[a," / ",t]})]}),p.jsx("div",{className:R,children:p.jsx("div",{className:[g,lr.fill,m&&lr.shimmer].filter(Boolean).join(" "),style:{width:`${E}%`}})})]})}function UD({character:a}){const t=B0(a.total_xp);return p.jsxs("header",{className:Mn.header,children:[p.jsxs("div",{className:Mn.headerLeft,children:[p.jsx("span",{className:Mn.characterName,children:a.name}),p.jsxs("span",{className:Mn.levelBadge,children:["Lv. ",a.level,"  ",a.title]})]}),p.jsx("div",{className:Mn.headerRight,children:p.jsx("div",{className:Mn.headerXP,children:p.jsx(Mm,{value:t.current,max:t.needed,label:"XP",shimmer:!0})})})]})}const BD="_levelUpOverlay_dig0a_1",qD="_levelUpContent_dig0a_23",PD="_levelUpIcon_dig0a_33",zD="_levelUpTitle_dig0a_47",HD="_levelUpLevel_dig0a_65",FD="_levelUpTitleName_dig0a_79",GD="_dismissText_dig0a_95",Hs={levelUpOverlay:BD,levelUpContent:qD,levelUpIcon:PD,levelUpTitle:zD,levelUpLevel:HD,levelUpTitleName:FD,dismissText:GD};function YD({level:a,title:t,onDismiss:i}){return oe.useEffect(()=>{const s=setTimeout(i,5e3),l=c=>{(c.key==="Escape"||c.key==="Enter"||c.key===" ")&&i()};return window.addEventListener("keydown",l),()=>{clearTimeout(s),window.removeEventListener("keydown",l)}},[i]),p.jsx("div",{className:Hs.levelUpOverlay,onClick:i,children:p.jsxs("div",{className:Hs.levelUpContent,children:[p.jsx("span",{className:Hs.levelUpIcon,children:""}),p.jsx("div",{className:Hs.levelUpTitle,children:"LEVEL UP"}),p.jsxs("div",{className:Hs.levelUpLevel,children:["Level ",a]}),p.jsx("div",{className:Hs.levelUpTitleName,children:t}),p.jsx("div",{className:Hs.dismissText,children:"Click or press any key to continue"})]})})}const QD="_panel_zw35t_1",XD="_panelHeader_zw35t_69",KD="_panelGlow_zw35t_93",um={panel:QD,panelHeader:XD,panelGlow:KD};function ji({children:a,header:t,glow:i,className:s,style:l}){const c=[um.panel,i&&um.panelGlow,s].filter(Boolean).join(" ");return p.jsxs("div",{className:c,style:l,children:[t&&p.jsx("div",{className:um.panelHeader,children:t}),a]})}const $D="_button_vi3e3_1",WD="_primary_vi3e3_61",ZD="_danger_vi3e3_83",JD="_small_vi3e3_103",e4="_ghost_vi3e3_113",t4="_fullWidth_vi3e3_133",Hc={button:$D,primary:WD,danger:ZD,small:JD,ghost:e4,fullWidth:t4};function _t({variant:a="default",size:t="normal",fullWidth:i,children:s,className:l,...c}){const m=[Hc.button,a!=="default"&&Hc[a],t==="small"&&Hc.small,i&&Hc.fullWidth,l].filter(Boolean).join(" ");return p.jsx("button",{className:m,...c,children:s})}const n4="_inputGroup_1helv_1",i4="_label_1helv_13",a4="_input_1helv_1",r4="_select_1helv_31",s4="_textarea_1helv_31",dr={inputGroup:n4,label:i4,input:a4,select:r4,textarea:s4};function Da({label:a,className:t,...i}){return p.jsxs("div",{className:dr.inputGroup,children:[a&&p.jsx("label",{className:dr.label,children:a}),p.jsx("input",{className:`${dr.input} ${t||""}`,...i})]})}function ts({label:a,children:t,className:i,...s}){return p.jsxs("div",{className:dr.inputGroup,children:[a&&p.jsx("label",{className:dr.label,children:a}),p.jsx("select",{className:`${dr.select} ${i||""}`,...s,children:t})]})}function pf({label:a,className:t,...i}){return p.jsxs("div",{className:dr.inputGroup,children:[a&&p.jsx("label",{className:dr.label,children:a}),p.jsx("textarea",{className:`${dr.textarea} ${t||""}`,...i})]})}const o4=[{minLevel:50,tier:7},{minLevel:40,tier:6},{minLevel:30,tier:5},{minLevel:22,tier:4},{minLevel:15,tier:3},{minLevel:10,tier:2},{minLevel:5,tier:1},{minLevel:1,tier:0}];function l4(a){for(const{minLevel:t,tier:i}of o4)if(a>=t)return i;return 0}function ou(a){if(a<5)return 0;const s=(a-5)/25;return Math.min(Math.pow(s,.7),1)}const lu={stamina:"#2ecc71",willpower:"#9b59b6",health:"#e74c3c",focus:"#3498db",charisma:"#e67e22"},mT={0:{primary:"#8b7355",secondary:"#6b5344",accent:"#a08060",skin:"#e8c4a0",hair:"#4a3728"},1:{primary:"#8b4513",secondary:"#654321",accent:"#cd853f",skin:"#e8c4a0",hair:"#4a3728"},2:{primary:"#708090",secondary:"#4a5568",accent:"#a0aec0",skin:"#e8c4a0",hair:"#4a3728"},3:{primary:"#5a6672",secondary:"#3d4852",accent:"#8892a0",skin:"#e8c4a0",hair:"#4a3728"},4:{primary:"#b8860b",secondary:"#8b6914",accent:"#daa520",skin:"#e8c4a0",hair:"#4a3728"},5:{primary:"#ffd700",secondary:"#b8860b",accent:"#ffed4a",skin:"#e8c4a0",hair:"#4a3728",glow:"#ffd700"},6:{primary:"#e6e6fa",secondary:"#9370db",accent:"#dda0dd",skin:"#e8c4a0",hair:"#4a3728",glow:"#9370db"},7:{primary:"#8b0000",secondary:"#4a0000",accent:"#ff4500",skin:"#e8c4a0",hair:"#ffd700",glow:"#ff4500",crown:"#ffd700"}},ml=64;function cr(a,t,i,s,l=1){a.fillStyle=s,a.fillRect(t,i,l,l)}function Rt(a,t,i,s,l,c){a.fillStyle=c,a.fillRect(t,i,s,l)}function u4({ctx:a,palette:t}){Rt(a,27,7,10,4,t.hair),Rt(a,28,8,8,8,t.skin),Rt(a,28,7,8,2,t.hair),cr(a,30,11,"#2c3e50"),cr(a,33,11,"#2c3e50")}function c4({ctx:a,palette:t,tier:i}){Rt(a,26,16,12,16,t.primary),Rt(a,31,18,2,12,t.secondary),i>=2&&(Rt(a,24,16,3,4,t.accent),Rt(a,37,16,3,4,t.accent)),i>=1&&(Rt(a,26,28,12,2,t.secondary),cr(a,31,28,t.accent,2)),i>=3&&(Rt(a,28,18,8,6,t.accent),Rt(a,30,19,4,4,t.secondary))}function f4({ctx:a,palette:t,tier:i}){Rt(a,22,18,4,12,t.primary),Rt(a,22,30,4,3,t.skin),Rt(a,38,18,4,12,t.primary),Rt(a,38,30,4,3,t.skin),i>=2&&(Rt(a,22,18,4,3,t.accent),Rt(a,38,18,4,3,t.accent)),i>=4&&(Rt(a,21,28,5,5,t.accent),Rt(a,38,28,5,5,t.accent))}function h4({ctx:a,palette:t,tier:i}){Rt(a,27,32,5,14,i>=3?t.secondary:t.primary),Rt(a,26,46,6,4,t.secondary),Rt(a,32,32,5,14,i>=3?t.secondary:t.primary),Rt(a,32,46,6,4,t.secondary),i>=2&&(Rt(a,26,46,6,2,t.accent),Rt(a,32,46,6,2,t.accent))}function d4({ctx:a,palette:t,tier:i}){if(i<3)return;const l={3:"#8b0000",4:"#4a0082",5:"#1a1a2e",6:"#4a0082",7:"#8b0000"}[i]||t.secondary;a.fillStyle=l,a.beginPath(),a.moveTo(24,16),a.lineTo(40,16),a.lineTo(42,48),a.lineTo(22,48),a.closePath(),a.fill(),a.fillStyle=t.accent,a.fillRect(22,16,2,32),a.fillRect(40,16,2,32)}function m4({ctx:a,palette:t,tier:i}){if(i<2)return;const s=28,l=8;i===2?Rt(a,s-1,l-2,10,3,t.secondary):i>=3&&i<7&&(Rt(a,s-2,l-3,12,5,t.accent),Rt(a,s,l+2,8,2,"#1a1a2e"),i>=4&&Rt(a,s+3,l-6,2,4,"#e74c3c"))}function p4({ctx:a,palette:t}){const i="crown"in t?t.crown:"#ffd700",s=28,l=8;Rt(a,s-2,l-4,12,3,i),cr(a,s-1,l-6,i,2),cr(a,s+3,l-7,i,2),cr(a,s+7,l-6,i,2),cr(a,s,l-5,"#e74c3c"),cr(a,s+4,l-6,"#3498db"),cr(a,s+8,l-5,"#2ecc71")}function g4({ctx:a}){const t="#8b0000",i="#ff4500";a.fillStyle=t,a.beginPath(),a.moveTo(22,20),a.lineTo(8,10),a.lineTo(6,16),a.lineTo(10,24),a.lineTo(14,32),a.lineTo(20,36),a.lineTo(22,28),a.closePath(),a.fill(),a.fillStyle=i,a.beginPath(),a.moveTo(20,22),a.lineTo(12,14),a.lineTo(12,20),a.lineTo(16,28),a.closePath(),a.fill(),a.fillStyle=t,a.beginPath(),a.moveTo(42,20),a.lineTo(56,10),a.lineTo(58,16),a.lineTo(54,24),a.lineTo(50,32),a.lineTo(44,36),a.lineTo(42,28),a.closePath(),a.fill(),a.fillStyle=i,a.beginPath(),a.moveTo(44,22),a.lineTo(52,14),a.lineTo(52,20),a.lineTo(48,28),a.closePath(),a.fill()}function y4(a,t){if(t<5)return;const i=mT[t],s="glow"in i?i.glow:"#ffd700",l=a.createRadialGradient(32,32,10,32,32,40);l.addColorStop(0,`${s}40`),l.addColorStop(.5,`${s}20`),l.addColorStop(1,`${s}00`),a.fillStyle=l,a.fillRect(0,0,ml,ml)}function _4(a,t){const i=Math.max(0,Math.min(7,t)),s=mT[i];a.clearRect(0,0,ml,ml),a.imageSmoothingEnabled=!1;const l={ctx:a,palette:s,tier:i};y4(a,i),i>=7&&g4(l),i>=3&&d4(l),h4(l),c4(l),f4(l),u4(l),i>=7?p4(l):i>=2&&m4(l)}const v4="_spriteContainer_1vkdq_3",E4="_spriteCanvas_1vkdq_25",b4="_auraStamina_1vkdq_79",T4="_auraWillpower_1vkdq_81",S4="_auraHealth_1vkdq_83",w4="_auraFocus_1vkdq_85",A4="_auraCharisma_1vkdq_87",R4="_auraLayer_1vkdq_99",Wi={spriteContainer:v4,spriteCanvas:E4,auraStamina:b4,auraWillpower:T4,auraHealth:S4,auraFocus:w4,auraCharisma:A4,auraLayer:R4};function N4({level:a,stats:t}){const i=oe.useRef(null),s=l4(a);oe.useEffect(()=>{const m=i.current;if(!m)return;const v=m.getContext("2d");v&&_4(v,s)},[s]);const l={stamina:ou(t.stamina),willpower:ou(t.willpower),health:ou(t.health),focus:ou(t.focus),charisma:ou(t.charisma)},c={"--aura-stamina-intensity":l.stamina,"--aura-stamina-color":lu.stamina,"--aura-willpower-intensity":l.willpower,"--aura-willpower-color":lu.willpower,"--aura-health-intensity":l.health,"--aura-health-color":lu.health,"--aura-focus-intensity":l.focus,"--aura-focus-color":lu.focus,"--aura-charisma-intensity":l.charisma,"--aura-charisma-color":lu.charisma};return p.jsxs("div",{className:Wi.spriteContainer,style:c,children:[l.stamina>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraStamina}`}),l.willpower>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraWillpower}`}),l.health>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraHealth}`}),l.focus>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraFocus}`}),l.charisma>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraCharisma}`}),p.jsx("canvas",{ref:i,width:ml,height:ml,className:Wi.spriteCanvas})]})}const C4="_characterGrid_1vnpd_1",x4="_characterMain_1vnpd_13",D4="_characterSide_1vnpd_25",I4="_profileSection_1vnpd_37",O4="_characterNameDisplay_1vnpd_61",j4="_characterTitleDisplay_1vnpd_75",M4="_xpSection_1vnpd_89",V4="_totalXP_1vnpd_97",L4="_statsGrid_1vnpd_113",k4="_statRow_1vnpd_125",U4="_statName_1vnpd_137",B4="_statBar_1vnpd_157",q4="_statValue_1vnpd_165",P4="_buffsList_1vnpd_185",z4="_activeBuff_1vnpd_197",H4="_buffType_1vnpd_219",F4="_debuffType_1vnpd_229",G4="_buffIcon_1vnpd_239",Y4="_buffInfo_1vnpd_247",Q4="_buffName_1vnpd_255",X4="_buffTimer_1vnpd_265",K4="_emptyState_1vnpd_275",$4="_nameEditRow_1vnpd_291",W4="_xpLogList_1vnpd_307",Z4="_xpLogEntry_1vnpd_323",J4="_xpLogReason_1vnpd_343",e3="_xpLogAmount_1vnpd_351",t3="_negative_1vnpd_363",At={characterGrid:C4,characterMain:x4,characterSide:D4,profileSection:I4,characterNameDisplay:O4,characterTitleDisplay:j4,xpSection:M4,totalXP:V4,statsGrid:L4,statRow:k4,statName:U4,statBar:B4,statValue:q4,buffsList:P4,activeBuff:z4,buffType:H4,debuffType:F4,buffIcon:G4,buffInfo:Y4,buffName:Q4,buffTimer:X4,emptyState:K4,nameEditRow:$4,xpLogList:W4,xpLogEntry:Z4,xpLogReason:J4,xpLogAmount:e3,negative:t3},n3={stamina:"green",willpower:"blue",health:"gold",focus:"blue",charisma:"gold"};function i3({character:a,stats:t,activeBuffs:i,xpLog:s,onNameChange:l}){const c=B0(a.total_xp),[m,v]=oe.useState(!1),[E,g]=oe.useState(a.name),R=()=>{E.trim()&&(l(E.trim()),v(!1))};function I(M){const $=new Date,ie=new Date(M+"Z").getTime()-$.getTime();if(ie<=0)return"Expired";const K=Math.floor(ie/36e5),ee=Math.floor(ie%36e5/6e4);return K>0?`${K}h ${ee}m remaining`:`${ee}m remaining`}return p.jsxs("div",{className:At.characterGrid,children:[p.jsxs("div",{className:At.characterMain,children:[p.jsx(ji,{children:p.jsxs("div",{className:At.profileSection,children:[p.jsx(N4,{level:a.level,stats:t}),m?p.jsxs("div",{className:At.nameEditRow,children:[p.jsx(Da,{value:E,onChange:M=>g(M.target.value),onKeyDown:M=>M.key==="Enter"&&R(),autoFocus:!0}),p.jsx(_t,{size:"small",variant:"primary",onClick:R,children:"Save"}),p.jsx(_t,{size:"small",onClick:()=>v(!1),children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:At.characterNameDisplay,children:a.name}),p.jsx(_t,{size:"small",variant:"ghost",onClick:()=>v(!0),children:"Rename"})]}),p.jsxs("div",{className:At.characterTitleDisplay,children:["Level ",a.level,"  ",a.title]}),p.jsxs("div",{className:At.xpSection,children:[p.jsx(Mm,{value:c.current,max:c.needed,label:"Experience",size:"large",shimmer:!0}),p.jsxs("div",{className:At.totalXP,children:[a.total_xp," Total XP"]})]})]})}),p.jsx(ji,{header:"Stats",children:p.jsx("div",{className:At.statsGrid,children:k0.map(M=>p.jsxs("div",{className:At.statRow,children:[p.jsx("span",{className:At.statName,children:M}),p.jsx("div",{className:At.statBar,children:p.jsx(Mm,{value:t[M],max:30,showValue:!1,color:n3[M]||"gold"})}),p.jsx("span",{className:At.statValue,children:t[M]})]},M))})})]}),p.jsxs("div",{className:At.characterSide,children:[p.jsx(ji,{header:"Active Effects",children:i.length===0?p.jsx("div",{className:At.emptyState,children:"No active buffs or debuffs"}):p.jsx("div",{className:At.buffsList,children:i.map(M=>{const $=yf(M.stat_effects),J=Object.entries($).map(([ie,K])=>`${K>0?"+":""}${K} ${ie}`).join(", ");return p.jsxs("div",{className:`${At.activeBuff} ${M.type==="buff"?At.buffType:At.debuffType}`,children:[p.jsx("span",{className:At.buffIcon,children:M.icon}),p.jsxs("div",{className:At.buffInfo,children:[p.jsx("div",{className:At.buffName,children:M.name}),p.jsxs("div",{className:At.buffTimer,children:[I(M.expires_at),J&&`  ${J}`]})]})]},M.id)})})}),p.jsx(ji,{header:"XP History",children:s.length===0?p.jsx("div",{className:At.emptyState,children:"No XP earned yet. Complete steps to earn XP!"}):p.jsx("div",{className:At.xpLogList,children:s.slice(0,20).map(M=>p.jsxs("div",{className:At.xpLogEntry,children:[p.jsx("span",{className:At.xpLogReason,children:M.reason}),p.jsxs("span",{className:`${At.xpLogAmount} ${M.amount<0?At.negative:""}`,children:[M.amount>0?"+":"",M.amount," XP"]})]},M.id))})})]})]})}const a3="_overlay_15bjw_1",r3="_modal_15bjw_25",s3="_modalHeader_15bjw_97",o3="_modalTitle_15bjw_111",l3="_closeButton_15bjw_123",u3="_modalActions_15bjw_153",Ko={overlay:a3,modal:r3,modalHeader:s3,modalTitle:o3,closeButton:l3,modalActions:u3};function gf({open:a,onClose:t,title:i,children:s,actions:l}){return oe.useEffect(()=>{if(!a)return;const c=m=>{m.key==="Escape"&&t()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[a,t]),a?p.jsx("div",{className:Ko.overlay,onClick:t,children:p.jsxs("div",{className:Ko.modal,onClick:c=>c.stopPropagation(),children:[i&&p.jsxs("div",{className:Ko.modalHeader,children:[p.jsx("h3",{className:Ko.modalTitle,children:i}),p.jsx("button",{className:Ko.closeButton,onClick:t,children:""})]}),s,l&&p.jsx("div",{className:Ko.modalActions,children:l})]})}):null}const c3="_checkbox_543u2_1",f3="_box_543u2_17",h3="_checked_543u2_53",d3="_checkmark_543u2_63",m3="_checkboxLabel_543u2_75",p3="_hidden_543u2_99",$o={checkbox:c3,box:f3,checked:h3,checkmark:d3,checkboxLabel:m3,hidden:p3};function pT({checked:a,onChange:t,label:i,className:s}){const l=[$o.checkbox,a&&$o.checked,s].filter(Boolean).join(" ");return p.jsxs("label",{className:l,onClick:c=>c.stopPropagation(),children:[p.jsx("input",{type:"checkbox",className:$o.hidden,checked:a,onChange:c=>t(c.target.checked)}),p.jsx("span",{className:$o.box,children:a&&p.jsx("span",{className:$o.checkmark,children:""})}),i&&p.jsx("span",{className:$o.checkboxLabel,children:i})]})}const g3="_questLog_1dd70_1",y3="_questToolbar_1dd70_13",_3="_questFilters_1dd70_27",v3="_goalSection_1dd70_39",E3="_goalHeader_1dd70_47",b3="_goalDomainIcon_1dd70_61",T3="_goalTitle_1dd70_69",S3="_goalDomain_1dd70_61",w3="_questsList_1dd70_99",A3="_questCard_1dd70_115",R3="_questCardHeader_1dd70_139",N3="_questPriority_1dd70_157",C3="_normal_1dd70_171",x3="_important_1dd70_173",D3="_legendary_1dd70_175",I3="_questTitle_1dd70_179",O3="_questCompleted_1dd70_191",j3="_questMeta_1dd70_201",M3="_questStepCount_1dd70_217",V3="_expandIcon_1dd70_233",L3="_expanded_1dd70_245",k3="_stepsSection_1dd70_255",U3="_stepsList_1dd70_265",B3="_stepItem_1dd70_279",q3="_stepPriorityDot_1dd70_305",P3="_stepTitle_1dd70_319",z3="_stepActions_1dd70_329",H3="_addStepRow_1dd70_347",F3="_addStepInput_1dd70_359",G3="_formGrid_1dd70_369",Y3="_formRow_1dd70_381",Q3="_emptyState_1dd70_399",Et={questLog:g3,questToolbar:y3,questFilters:_3,goalSection:v3,goalHeader:E3,goalDomainIcon:b3,goalTitle:T3,goalDomain:S3,questsList:w3,questCard:A3,questCardHeader:R3,questPriority:N3,normal:C3,important:x3,legendary:D3,questTitle:I3,questCompleted:O3,questMeta:j3,questStepCount:M3,expandIcon:V3,expanded:L3,stepsSection:k3,stepsList:U3,stepItem:B3,stepPriorityDot:q3,stepTitle:P3,stepActions:z3,addStepRow:H3,addStepInput:F3,formGrid:G3,formRow:Y3,emptyState:Q3};function X3({quest:a,onCreateStep:t,onCompleteStep:i,onUncompleteStep:s,onDeleteStep:l,onDeleteQuest:c}){const[m,v]=oe.useState(!1),[E,g]=oe.useState(""),[R,I]=oe.useState("normal"),M=a.steps.filter(ee=>ee.status==="completed").length,$=a.steps.length,J=a.status==="completed",ie=()=>{E.trim()&&(t(a.id,E.trim(),R),g(""),I("normal"))},K=ee=>ee==="legendary"?"var(--priority-legendary)":ee==="important"?"var(--priority-important)":"var(--priority-normal)";return p.jsxs("div",{className:`${Et.questCard} ${J?Et.questCompleted:""}`,children:[p.jsxs("div",{className:Et.questCardHeader,onClick:()=>v(!m),children:[p.jsx("div",{className:`${Et.questPriority} ${Et[a.priority]}`}),p.jsx("span",{className:Et.questTitle,children:a.title}),p.jsxs("span",{className:Et.questMeta,children:[p.jsxs("span",{className:Et.questStepCount,children:[M,"/",$]}),p.jsx(_t,{size:"small",variant:"danger",onClick:ee=>{ee.stopPropagation(),c(a.id)},children:""})]}),p.jsx("span",{className:`${Et.expandIcon} ${m?Et.expanded:""}`,children:""})]}),m&&p.jsxs("div",{className:Et.stepsSection,children:[p.jsx("div",{className:Et.stepsList,children:a.steps.map(ee=>p.jsxs("div",{className:Et.stepItem,children:[p.jsx("div",{className:Et.stepPriorityDot,style:{background:K(ee.priority)}}),p.jsx(pT,{checked:ee.status==="completed",onChange:me=>{me?i(ee.id,a.id,ee.priority):s(ee.id)},label:ee.title}),p.jsx("div",{className:Et.stepActions,children:p.jsx(_t,{size:"small",variant:"danger",onClick:()=>l(ee.id),children:""})})]},ee.id))}),!J&&p.jsxs("div",{className:Et.addStepRow,children:[p.jsx("div",{className:Et.addStepInput,children:p.jsx(Da,{value:E,onChange:ee=>g(ee.target.value),placeholder:"Add a step...",onKeyDown:ee=>ee.key==="Enter"&&ie()})}),p.jsxs(ts,{value:R,onChange:ee=>I(ee.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important"}),p.jsx("option",{value:"legendary",children:"Legendary"})]}),p.jsx(_t,{variant:"primary",onClick:ie,children:"Add"})]})]})]})}function K3({goals:a,domains:t,filterDomain:i,filterStatus:s,onFilterDomain:l,onFilterStatus:c,onCreateGoal:m,onCreateQuest:v,onCreateStep:E,onCompleteStep:g,onUncompleteStep:R,onDeleteStep:I,onDeleteQuest:M,onDeleteGoal:$}){const[J,ie]=oe.useState(!1),[K,ee]=oe.useState(null),[me,ge]=oe.useState(""),[ye,Ce]=oe.useState(""),[Me,D]=oe.useState(1),[x,V]=oe.useState(""),[U,j]=oe.useState(""),[O,C]=oe.useState("normal"),_e=()=>{me.trim()&&(m(Me,me.trim(),ye.trim()),ge(""),Ce(""),ie(!1))},mt=()=>{!x.trim()||K===null||(v(K,x.trim(),U.trim(),O),V(""),j(""),C("normal"),ee(null))};return p.jsxs("div",{className:Et.questLog,children:[p.jsxs("div",{className:Et.questToolbar,children:[p.jsxs("div",{className:Et.questFilters,children:[p.jsxs(ts,{value:i??"",onChange:P=>l(P.target.value?Number(P.target.value):void 0),children:[p.jsx("option",{value:"",children:"All Domains"}),t.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))]}),p.jsxs(ts,{value:s??"",onChange:P=>c(P.target.value||void 0),children:[p.jsx("option",{value:"",children:"All Status"}),p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"completed",children:"Completed"})]})]}),p.jsx(_t,{variant:"primary",onClick:()=>ie(!0),children:"+ New Goal"})]}),a.length===0?p.jsx(ji,{children:p.jsx("div",{className:Et.emptyState,children:"No goals yet. Create your first goal to begin your adventure!"})}):a.map(P=>p.jsx(ji,{children:p.jsxs("div",{className:Et.goalSection,children:[p.jsxs("div",{className:Et.goalHeader,children:[p.jsx("span",{className:Et.goalDomainIcon,children:P.domain_icon}),p.jsx("span",{className:Et.goalTitle,children:P.title}),p.jsx("span",{className:Et.goalDomain,children:P.domain_name}),p.jsx(_t,{size:"small",variant:"primary",onClick:()=>ee(P.id),children:"+ Quest"}),p.jsx(_t,{size:"small",variant:"danger",onClick:()=>$(P.id),children:""})]}),P.quests.length===0?p.jsx("div",{className:Et.emptyState,children:"No quests yet. Add a quest to this goal."}):p.jsx("div",{className:Et.questsList,children:P.quests.map(he=>p.jsx(X3,{quest:he,onCreateStep:E,onCompleteStep:g,onUncompleteStep:R,onDeleteStep:I,onDeleteQuest:M},he.id))})]})},P.id)),p.jsx(gf,{open:J,onClose:()=>ie(!1),title:"New Goal",actions:p.jsxs(p.Fragment,{children:[p.jsx(_t,{onClick:()=>ie(!1),children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:_e,children:"Create Goal"})]}),children:p.jsxs("div",{className:Et.formGrid,children:[p.jsx(ts,{label:"Domain",value:Me,onChange:P=>D(Number(P.target.value)),children:t.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))}),p.jsx(Da,{label:"Goal Title",value:me,onChange:P=>ge(P.target.value),placeholder:"e.g., Get in shape",onKeyDown:P=>P.key==="Enter"&&_e()}),p.jsx(pf,{label:"Description (optional)",value:ye,onChange:P=>Ce(P.target.value),placeholder:"Describe your goal..."})]})}),p.jsx(gf,{open:K!==null,onClose:()=>ee(null),title:"New Quest",actions:p.jsxs(p.Fragment,{children:[p.jsx(_t,{onClick:()=>ee(null),children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:mt,children:"Create Quest"})]}),children:p.jsxs("div",{className:Et.formGrid,children:[p.jsx(Da,{label:"Quest Title",value:x,onChange:P=>V(P.target.value),placeholder:"e.g., Run 5K",onKeyDown:P=>P.key==="Enter"&&mt()}),p.jsx(pf,{label:"Description (optional)",value:U,onChange:P=>j(P.target.value),placeholder:"Describe this quest..."}),p.jsxs(ts,{label:"Priority",value:O,onChange:P=>C(P.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important (1.5x XP)"}),p.jsx("option",{value:"legendary",children:"Legendary (2x XP)"})]})]})})]})}const $3="_buffTracker_jem6t_1",W3="_buffToolbar_jem6t_13",Z3="_buffGrid_jem6t_33",J3="_buffSection_jem6t_45",eI="_buffCard_jem6t_59",tI="_buffCardIcon_jem6t_89",nI="_buffCardInfo_jem6t_99",iI="_buffCardName_jem6t_107",aI="_buffCardDesc_jem6t_119",rI="_buffCardMeta_jem6t_131",sI="_buffCardActions_jem6t_141",oI="_buffTypeBadge_jem6t_155",lI="_buffTypeBuff_jem6t_175",uI="_buffTypeDebuff_jem6t_187",cI="_activeSection_jem6t_201",fI="_activeBuffItem_jem6t_213",hI="_isBuff_jem6t_229",dI="_isDebuff_jem6t_241",mI="_activeBuffIcon_jem6t_253",pI="_activeBuffInfo_jem6t_261",gI="_activeBuffName_jem6t_269",yI="_activeBuffTimer_jem6t_277",_I="_activeBuffEffects_jem6t_287",vI="_formGrid_jem6t_299",EI="_formRow_jem6t_311",bI="_statEffectRow_jem6t_329",TI="_statEffectLabel_jem6t_341",SI="_statEffectInput_jem6t_355",wI="_divider_jem6t_363",AI="_emptyState_jem6t_375",ft={buffTracker:$3,buffToolbar:W3,buffGrid:Z3,buffSection:J3,buffCard:eI,buffCardIcon:tI,buffCardInfo:nI,buffCardName:iI,buffCardDesc:aI,buffCardMeta:rI,buffCardActions:sI,buffTypeBadge:oI,buffTypeBuff:lI,buffTypeDebuff:uI,activeSection:cI,activeBuffItem:fI,isBuff:hI,isDebuff:dI,activeBuffIcon:mI,activeBuffInfo:pI,activeBuffName:gI,activeBuffTimer:yI,activeBuffEffects:_I,formGrid:vI,formRow:EI,statEffectRow:bI,statEffectLabel:TI,statEffectInput:SI,divider:wI,emptyState:AI},cm=[{name:"Morning Exercise",description:"Worked out in the morning",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2,willpower:1}},{name:"Cardio / Running",description:"Ran, cycled, swam, or did sustained cardio",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2}},{name:"Strength Training",description:"Lifted weights or did resistance training",type:"buff",icon:"",duration:24,stats:{stamina:2,health:1,willpower:2}},{name:"Yoga / Stretching",description:"Did yoga, stretching, or mobility work",type:"buff",icon:"",duration:24,stats:{health:2,focus:1,willpower:1}},{name:"8 Hours Sleep",description:"Got a full night of quality sleep",type:"buff",icon:"",duration:24,stats:{health:2,focus:2,stamina:1,willpower:1}},{name:"Meditation",description:"Practiced mindfulness or meditation",type:"buff",icon:"",duration:24,stats:{willpower:3,focus:2}},{name:"Healthy Meal",description:"Ate a balanced, nutritious meal",type:"buff",icon:"",duration:24,stats:{health:3,stamina:1}},{name:"Drank Enough Water",description:"Hit daily water intake goal",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Read 30+ Minutes",description:"Read a book, article, or educational material",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:1}},{name:"Studied / Learned",description:"Studied a course, skill, or new subject",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2}},{name:"Deep Work Session",description:"Focused work with no distractions for 90+ min",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2,stamina:1}},{name:"Journaling",description:"Wrote in journal or reflected on the day",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Cold Shower",description:"Took a cold shower or ice bath",type:"buff",icon:"",duration:24,stats:{willpower:3,stamina:1}},{name:"No Phone First Hour",description:"Avoided phone for first hour after waking",type:"buff",icon:"",duration:24,stats:{focus:2,willpower:2}},{name:"Socialised",description:"Had meaningful social interaction",type:"buff",icon:"",duration:24,stats:{charisma:3,willpower:1}},{name:"Helped Someone",description:"Did something kind or helpful for another person",type:"buff",icon:"",duration:24,stats:{charisma:2,willpower:1}},{name:"Creative Time",description:"Spent time on a creative pursuit",type:"buff",icon:"",duration:24,stats:{focus:2,charisma:1,willpower:1}},{name:"Sunlight / Nature",description:"Spent 20+ minutes outdoors in natural light",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Gratitude Practice",description:"Practiced gratitude  wrote or reflected on 3+",type:"buff",icon:"",duration:24,stats:{willpower:2,charisma:1}},{name:"Meal Prep",description:"Prepared healthy meals in advance",type:"buff",icon:"",duration:48,stats:{health:2,willpower:1,stamina:1}},{name:"Cleaned / Organised",description:"Cleaned home, desk, or organised belongings",type:"buff",icon:"",duration:24,stats:{focus:1,willpower:2}},{name:"Financial Check-In",description:"Reviewed budget, tracked expenses, or saved",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Junk Food",description:"Ate fast food, excessive sugar, or processed food",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-1}},{name:"Skipped Exercise",description:"Had planned to exercise but didn't",type:"debuff",icon:"",duration:24,stats:{stamina:-2,willpower:-2}},{name:"Poor Sleep",description:"Got less than 6 hours or very poor quality",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,stamina:-1,willpower:-1}},{name:"Doomscrolling",description:"Mindlessly scrolled social media for 30+ min",type:"debuff",icon:"",duration:24,stats:{focus:-3,willpower:-2}},{name:"Excessive Gaming",description:"Played video games for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-2,stamina:-1}},{name:"Binge Watching",description:"Watched TV/streaming for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-1,stamina:-1}},{name:"Alcohol",description:"Drank alcohol",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,willpower:-1}},{name:"Smoking / Vaping",description:"Smoked cigarettes or vaped",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-2}},{name:"Excessive Caffeine",description:"Had too much coffee or energy drinks",type:"debuff",icon:"",duration:24,stats:{health:-1,focus:-1,stamina:-1}},{name:"Procrastinated",description:"Avoided important tasks most of the day",type:"debuff",icon:"",duration:24,stats:{willpower:-3,focus:-2}},{name:"Skipped Meals",description:"Skipped a meal or barely ate",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-2,focus:-1}},{name:"Stayed Up Too Late",description:"Went to bed much later than planned",type:"debuff",icon:"",duration:24,stats:{health:-1,willpower:-2,stamina:-1}},{name:"Impulse Spending",description:"Made unnecessary or impulse purchases",type:"debuff",icon:"",duration:24,stats:{willpower:-2}},{name:"Negative Self-Talk",description:"Caught in self-criticism or negative thought loops",type:"debuff",icon:"",duration:24,stats:{willpower:-2,charisma:-2}},{name:"Social Isolation",description:"Avoided people or cancelled social plans",type:"debuff",icon:"",duration:24,stats:{charisma:-3,willpower:-1}},{name:"Sugary Drinks",description:"Had soda, energy drinks, or sugary beverages",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-1}},{name:"Lost Temper",description:"Got angry or had an emotional outburst",type:"debuff",icon:"",duration:24,stats:{charisma:-2,willpower:-2}}],RI=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function NI({definitions:a,activeBuffs:t,onCreateDefinition:i,onDeleteDefinition:s,onActivateBuff:l,onDeactivateBuff:c}){const[m,v]=oe.useState(!1),[E,g]=oe.useState(""),[R,I]=oe.useState(""),[M,$]=oe.useState("buff"),[J,ie]=oe.useState(""),[K,ee]=oe.useState(24),[me,ge]=oe.useState({}),ye=O=>{if(O==="")return;const C=cm[Number(O)];C&&(g(C.name),I(C.description),$(C.type),ie(C.icon),ee(C.duration),ge({...C.stats}))},Ce=()=>{g(""),I(""),$("buff"),ie(""),ee(24),ge({})},Me=()=>{if(!E.trim())return;const O=Object.fromEntries(Object.entries(me).filter(([,C])=>C!==0));i(E.trim(),R.trim(),M,J,K,JSON.stringify(O)),Ce(),v(!1)};function D(O){const C=new Date,mt=new Date(O+"Z").getTime()-C.getTime();if(mt<=0)return"Expired";const P=Math.floor(mt/36e5),he=Math.floor(mt%36e5/6e4);return P>0?`${P}h ${he}m`:`${he}m`}const x=a.filter(O=>O.type==="buff"),V=a.filter(O=>O.type==="debuff"),U=cm.map((O,C)=>({...O,index:C})).filter(O=>O.type==="buff"),j=cm.map((O,C)=>({...O,index:C})).filter(O=>O.type==="debuff");return p.jsxs("div",{className:ft.buffTracker,children:[p.jsxs("div",{className:ft.buffToolbar,children:[p.jsx("div",{}),p.jsx(_t,{variant:"primary",onClick:()=>{Ce(),v(!0)},children:"+ New Buff/Debuff"})]}),t.length>0&&p.jsx(ji,{header:"Active Effects",glow:!0,children:p.jsx("div",{className:ft.activeSection,children:t.map(O=>{const C=yf(O.stat_effects),_e=Object.entries(C).map(([mt,P])=>`${P>0?"+":""}${P} ${mt}`).join(", ");return p.jsxs("div",{className:`${ft.activeBuffItem} ${O.type==="buff"?ft.isBuff:ft.isDebuff}`,children:[p.jsx("span",{className:ft.activeBuffIcon,children:O.icon}),p.jsxs("div",{className:ft.activeBuffInfo,children:[p.jsx("div",{className:ft.activeBuffName,children:O.name}),p.jsxs("div",{className:ft.activeBuffTimer,children:[D(O.expires_at)," remaining"]}),_e&&p.jsx("div",{className:ft.activeBuffEffects,children:_e})]}),p.jsx(_t,{size:"small",variant:"danger",onClick:()=>c(O.id),children:"Remove"})]},O.id)})})}),p.jsxs("div",{className:ft.buffGrid,children:[p.jsx(ji,{header:"Buffs (Positive Habits)",children:x.length===0?p.jsx("div",{className:ft.emptyState,children:"No buffs defined yet"}):p.jsx("div",{className:ft.buffSection,children:x.map(O=>p.jsx(O0,{definition:O,onActivate:l,onDelete:s},O.id))})}),p.jsx(ji,{header:"Debuffs (Negative Habits)",children:V.length===0?p.jsx("div",{className:ft.emptyState,children:"No debuffs defined yet"}):p.jsx("div",{className:ft.buffSection,children:V.map(O=>p.jsx(O0,{definition:O,onActivate:l,onDelete:s},O.id))})})]}),p.jsx(gf,{open:m,onClose:()=>v(!1),title:"New Buff / Debuff",actions:p.jsxs(p.Fragment,{children:[p.jsx(_t,{onClick:()=>v(!1),children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:Me,children:"Create"})]}),children:p.jsxs("div",{className:ft.formGrid,children:[p.jsxs(ts,{label:"Quick Select  Common Habits",value:"",onChange:O=>ye(O.target.value),children:[p.jsx("option",{value:"",children:" Choose a preset to auto-fill "}),p.jsx("optgroup",{label:"Buffs (Positive Habits)",children:U.map(O=>p.jsxs("option",{value:O.index,children:[O.icon," ",O.name]},O.index))}),p.jsx("optgroup",{label:"Debuffs (Negative Habits)",children:j.map(O=>p.jsxs("option",{value:O.index,children:[O.icon," ",O.name]},O.index))})]}),p.jsx("div",{className:ft.divider}),p.jsxs("div",{className:ft.formRow,children:[p.jsx(Da,{label:"Name",value:E,onChange:O=>g(O.target.value),placeholder:"e.g., Morning Exercise"}),p.jsxs(ts,{label:"Type",value:M,onChange:O=>$(O.target.value),children:[p.jsx("option",{value:"buff",children:"Buff (Positive)"}),p.jsx("option",{value:"debuff",children:"Debuff (Negative)"})]})]}),p.jsx(pf,{label:"Description",value:R,onChange:O=>I(O.target.value),placeholder:"Describe this habit..."}),p.jsxs("div",{className:ft.formRow,children:[p.jsx(ts,{label:"Icon",value:J,onChange:O=>ie(O.target.value),children:RI.map(O=>p.jsx("option",{value:O,children:O},O))}),p.jsx(Da,{label:"Duration (hours)",type:"number",value:K,onChange:O=>ee(Number(O.target.value)),min:1,max:168})]}),p.jsxs("div",{children:[p.jsx("label",{className:ft.statEffectLabel,style:{display:"block",marginBottom:8,fontFamily:"var(--font-heading)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"var(--text-secondary)"},children:"Stat Effects"}),k0.map(O=>p.jsxs("div",{className:ft.statEffectRow,children:[p.jsx("span",{className:ft.statEffectLabel,children:O}),p.jsx("input",{type:"number",className:ft.statEffectInput,value:me[O]||0,onChange:C=>ge({...me,[O]:Number(C.target.value)}),style:{padding:"4px 8px",background:"var(--bg-dark)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",fontFamily:"var(--font-body)"}})]},O))]})]})})]})}function O0({definition:a,onActivate:t,onDelete:i}){const s=yf(a.stat_effects),l=Object.entries(s).map(([c,m])=>`${m>0?"+":""}${m} ${c}`).join(", ");return p.jsxs("div",{className:ft.buffCard,children:[p.jsx("span",{className:ft.buffCardIcon,children:a.icon}),p.jsxs("div",{className:ft.buffCardInfo,children:[p.jsx("div",{className:ft.buffCardName,children:a.name}),a.description&&p.jsx("div",{className:ft.buffCardDesc,children:a.description}),p.jsxs("div",{className:ft.buffCardMeta,children:[p.jsx("span",{className:`${ft.buffTypeBadge} ${a.type==="buff"?ft.buffTypeBuff:ft.buffTypeDebuff}`,children:a.type})," ",a.duration_hours,"h",l&&`  ${l}`]})]}),p.jsxs("div",{className:ft.buffCardActions,children:[p.jsx(_t,{size:"small",variant:"primary",onClick:()=>t(a.id),children:"Activate"}),p.jsx(_t,{size:"small",variant:"danger",onClick:()=>i(a.id),children:"Delete"})]})]})}const gT=[{value:null,label:"No reminder"},{value:0,label:"At event time"},{value:5,label:"5 minutes before"},{value:10,label:"10 minutes before"},{value:15,label:"15 minutes before"},{value:30,label:"30 minutes before"},{value:60,label:"1 hour before"}],CI="_settingsPanel_9ahue_1",xI="_settingsTitle_9ahue_9",DI="_settingsDescription_9ahue_23",II="_settingRow_9ahue_35",OI="_settingLabel_9ahue_59",jI="_iosInstructions_9ahue_71",MI="_iosTitle_9ahue_87",VI="_iosText_9ahue_99",LI="_iosList_9ahue_111",kI="_deniedMessage_9ahue_135",UI="_errorMessage_9ahue_137",BI="_statusIndicator_9ahue_169",qI="_statusDot_9ahue_187",PI="_reminderPicker_9ahue_223",zI="_reminderLabel_9ahue_235",HI="_reminderSelect_9ahue_251",Ht={settingsPanel:CI,settingsTitle:xI,settingsDescription:DI,settingRow:II,settingLabel:OI,iosInstructions:jI,iosTitle:MI,iosText:VI,iosList:LI,deniedMessage:kI,errorMessage:UI,statusIndicator:BI,statusDot:qI,reminderPicker:PI,reminderLabel:zI,reminderSelect:HI};function FI({value:a,onChange:t,disabled:i}){return p.jsxs("div",{className:Ht.reminderPicker,children:[p.jsx("label",{className:Ht.reminderLabel,children:"Reminder"}),p.jsx("select",{className:Ht.reminderSelect,value:a===null?"null":a.toString(),onChange:s=>{const l=s.target.value;t(l==="null"?null:Number(l))},disabled:i,children:gT.map(s=>p.jsx("option",{value:s.value===null?"null":s.value,children:s.label},s.value===null?"null":s.value))})]})}const GI="_planner_17b5r_1",YI="_plannerToolbar_17b5r_13",QI="_viewTabs_17b5r_25",XI="_viewTab_17b5r_25",KI="_viewTabActive_17b5r_81",$I="_dateNav_17b5r_91",WI="_dateLabel_17b5r_107",ZI="_navArrow_17b5r_123",JI="_dayView_17b5r_157",e6="_timeSlot_17b5r_169",t6="_timeLabel_17b5r_185",n6="_timeEvents_17b5r_205",i6="_weekGrid_17b5r_221",a6="_weekDay_17b5r_233",r6="_weekDayHeader_17b5r_245",s6="_weekDayHeaderToday_17b5r_267",o6="_weekDayDate_17b5r_277",l6="_weekDayEvents_17b5r_291",u6="_monthGrid_17b5r_307",c6="_monthDayHeader_17b5r_319",f6="_monthDay_17b5r_319",h6="_monthDayEmpty_17b5r_367",d6="_monthDayToday_17b5r_387",m6="_monthDayNumber_17b5r_395",p6="_monthDayEvents_17b5r_419",g6="_eventItem_17b5r_433",y6="_eventItemCompleted_17b5r_465",_6="_eventTitle_17b5r_475",v6="_eventTime_17b5r_489",E6="_eventLinked_17b5r_501",b6="_eventItemSmall_17b5r_511",T6="_eventActions_17b5r_523",S6="_formGrid_17b5r_547",w6="_formRow_17b5r_559",A6="_emptyState_17b5r_577",R6="_unscheduledSection_17b5r_691",N6="_unscheduledLabel_17b5r_703",Fe={planner:GI,plannerToolbar:YI,viewTabs:QI,viewTab:XI,viewTabActive:KI,dateNav:$I,dateLabel:WI,navArrow:ZI,dayView:JI,timeSlot:e6,timeLabel:t6,timeEvents:n6,weekGrid:i6,weekDay:a6,weekDayHeader:r6,weekDayHeaderToday:s6,weekDayDate:o6,weekDayEvents:l6,monthGrid:u6,monthDayHeader:c6,monthDay:f6,monthDayEmpty:h6,monthDayToday:d6,monthDayNumber:m6,monthDayEvents:p6,eventItem:g6,eventItemCompleted:y6,eventTitle:_6,eventTime:v6,eventLinked:E6,eventItemSmall:b6,eventActions:T6,formGrid:S6,formRow:w6,emptyState:A6,unscheduledSection:R6,unscheduledLabel:N6},yT=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],C6=Array.from({length:16},(a,t)=>t+6);function x6({view:a,setView:t,currentDate:i,events:s,onNavigate:l,onGoToToday:c,onCreate:m,onComplete:v,onUncomplete:E,onDelete:g,notificationsEnabled:R=!1,defaultReminderMinutes:I=15}){const[M,$]=oe.useState(!1),[J,ie]=oe.useState(i),[K,ee]=oe.useState(""),[me,ge]=oe.useState(""),[ye,Ce]=oe.useState(""),[Me,D]=oe.useState(""),[x,V]=oe.useState(R?I:null),U=()=>{K.trim()&&(m(K.trim(),J,me.trim(),ye||null,Me||null,null,null,ye?x:null),ee(""),ge(""),Ce(""),D(""),V(R?I:null),$(!1))},j=_e=>{ie(_e),$(!0)},O=new Date(i+"T00:00:00");let C="";if(a==="day")C=Fd(i);else if(a==="week"){const _e=Pm(i);C=`${Fd(_e[0])}  ${Fd(_e[6])}`}else C=`${aw(O.getMonth())} ${O.getFullYear()}`;return p.jsxs("div",{className:Fe.planner,children:[p.jsxs("div",{className:Fe.plannerToolbar,children:[p.jsx("div",{className:Fe.viewTabs,children:["day","week","month"].map(_e=>p.jsx("button",{className:`${Fe.viewTab} ${a===_e?Fe.viewTabActive:""}`,onClick:()=>t(_e),children:_e},_e))}),p.jsxs("div",{className:Fe.dateNav,children:[p.jsx("button",{className:Fe.navArrow,onClick:()=>l(-1),children:""}),p.jsx("span",{className:Fe.dateLabel,children:C}),p.jsx("button",{className:Fe.navArrow,onClick:()=>l(1),children:""})]}),p.jsx(_t,{size:"small",variant:"ghost",onClick:c,children:"Today"}),p.jsx(_t,{variant:"primary",onClick:()=>j(i),children:"+ Event"})]}),p.jsxs(ji,{children:[a==="day"&&p.jsx(D6,{date:i,events:s,onComplete:v,onUncomplete:E,onDelete:g}),a==="week"&&p.jsx(I6,{currentDate:i,events:s,onComplete:v,onUncomplete:E,onDelete:g,onAddEvent:j}),a==="month"&&p.jsx(O6,{currentDate:i,events:s,onAddEvent:j})]}),p.jsx(gf,{open:M,onClose:()=>$(!1),title:"New Event",actions:p.jsxs(p.Fragment,{children:[p.jsx(_t,{onClick:()=>$(!1),children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:U,children:"Create"})]}),children:p.jsxs("div",{className:Fe.formGrid,children:[p.jsx(Da,{label:"Title",value:K,onChange:_e=>ee(_e.target.value),placeholder:"Event title...",onKeyDown:_e=>_e.key==="Enter"&&U()}),p.jsx(Da,{label:"Date",type:"date",value:J,onChange:_e=>ie(_e.target.value)}),p.jsxs("div",{className:Fe.formRow,children:[p.jsx(Da,{label:"Start Time",type:"time",value:ye,onChange:_e=>Ce(_e.target.value)}),p.jsx(Da,{label:"End Time",type:"time",value:Me,onChange:_e=>D(_e.target.value)})]}),p.jsx(pf,{label:"Description (optional)",value:me,onChange:_e=>ge(_e.target.value),placeholder:"Event details..."}),ye&&R&&p.jsx(FI,{value:x,onChange:V})]})})]})}function D6({date:a,events:t,onComplete:i,onUncomplete:s,onDelete:l}){const c=t.filter(E=>E.start_time),m=t.filter(E=>!E.start_time),v=E=>c.filter(g=>g.start_time?parseInt(g.start_time.split(":")[0],10)===E:!1);return p.jsxs("div",{className:Fe.dayView,children:[C6.map(E=>{const g=v(E);return p.jsxs("div",{className:Fe.timeSlot,children:[p.jsxs("span",{className:Fe.timeLabel,children:[E%12||12," ",E<12?"AM":"PM"]}),p.jsx("div",{className:Fe.timeEvents,children:g.map(R=>p.jsx(Vm,{event:R,onComplete:i,onUncomplete:s,onDelete:l},R.id))})]},E)}),m.length>0&&p.jsxs("div",{className:Fe.unscheduledSection,children:[p.jsx("div",{className:Fe.unscheduledLabel,children:"Unscheduled"}),m.map(E=>p.jsx(Vm,{event:E,onComplete:i,onUncomplete:s,onDelete:l},E.id))]}),t.length===0&&p.jsx("div",{className:Fe.emptyState,children:"No events for this day"})]})}function I6({currentDate:a,events:t,onComplete:i,onUncomplete:s,onDelete:l,onAddEvent:c}){const m=Pm(a),v=Wc();return p.jsx("div",{className:Fe.weekGrid,children:m.map((E,g)=>{const R=t.filter($=>$.date===E),I=E===v,M=new Date(E+"T00:00:00").getDate();return p.jsxs("div",{className:Fe.weekDay,children:[p.jsxs("div",{className:`${Fe.weekDayHeader} ${I?Fe.weekDayHeaderToday:""}`,children:[yT[g],p.jsx("span",{className:Fe.weekDayDate,children:M})]}),p.jsxs("div",{className:Fe.weekDayEvents,children:[R.map($=>p.jsx(Vm,{event:$,small:!0,onComplete:i,onUncomplete:s,onDelete:l},$.id)),p.jsx(_t,{size:"small",variant:"ghost",onClick:()=>c(E),style:{fontSize:"0.7rem",padding:"2px 6px"},children:"+"})]})]},E)})})}function O6({currentDate:a,events:t,onAddEvent:i}){const s=new Date(a+"T00:00:00"),l=iw(s.getFullYear(),s.getMonth()),c=Wc();return p.jsx("div",{children:p.jsxs("div",{className:Fe.monthGrid,children:[yT.map(m=>p.jsx("div",{className:Fe.monthDayHeader,children:m},m)),l.flat().map((m,v)=>{if(!m)return p.jsx("div",{className:`${Fe.monthDay} ${Fe.monthDayEmpty}`},`empty-${v}`);const E=t.filter(I=>I.date===m),g=m===c,R=new Date(m+"T00:00:00").getDate();return p.jsxs("div",{className:`${Fe.monthDay} ${g?Fe.monthDayToday:""}`,onClick:()=>i(m),children:[p.jsx("div",{className:Fe.monthDayNumber,children:R}),p.jsxs("div",{className:Fe.monthDayEvents,children:[E.slice(0,3).map(I=>p.jsx("div",{className:`${Fe.eventItem} ${Fe.eventItemSmall} ${I.is_completed?Fe.eventItemCompleted:""}`,children:p.jsx("span",{className:Fe.eventTitle,children:I.title})},I.id)),E.length>3&&p.jsxs("div",{className:Fe.emptyState,style:{padding:"2px",fontSize:"0.7rem"},children:["+",E.length-3," more"]})]})]},m)})]})})}function Vm({event:a,small:t,onComplete:i,onUncomplete:s,onDelete:l}){return p.jsxs("div",{className:`${Fe.eventItem} ${t?Fe.eventItemSmall:""} ${a.is_completed?Fe.eventItemCompleted:""}`,children:[p.jsx(pT,{checked:a.is_completed,onChange:c=>c?i(a.id):s(a.id)}),p.jsx("span",{className:Fe.eventTitle,children:a.title}),a.start_time&&!t&&p.jsxs("span",{className:Fe.eventTime,children:[cv(a.start_time),a.end_time&&` - ${cv(a.end_time)}`]}),(a.quest_id||a.step_id)&&p.jsx("span",{className:Fe.eventLinked,children:""}),!t&&p.jsx("div",{className:Fe.eventActions,children:p.jsx(_t,{size:"small",variant:"danger",onClick:()=>l(a.id),children:""})})]})}const j6="_container_e9q7r_1",M6="_title_e9q7r_17",V6="_status_e9q7r_33",L6="_indicator_e9q7r_49",k6="_connected_e9q7r_61",U6="_disconnected_e9q7r_71",B6="_lastBackup_e9q7r_79",q6="_statusMessage_e9q7r_91",P6="_actions_e9q7r_121",z6="_button_e9q7r_135",H6="_buttonSecondary_e9q7r_167 _button_e9q7r_135",F6="_buttonDanger_e9q7r_187 _button_e9q7r_135",G6="_backupList_e9q7r_209",Y6="_backupItem_e9q7r_233",Q6="_backupName_e9q7r_255",X6="_backupDate_e9q7r_269",K6="_restoreButton_e9q7r_279",$6="_noBackups_e9q7r_307",W6="_tokenInputContainer_e9q7r_321",Z6="_tokenHelp_e9q7r_329",J6="_tokenInput_e9q7r_321",eO="_tokenActions_e9q7r_393",jt={container:j6,title:M6,status:V6,indicator:L6,connected:k6,disconnected:U6,lastBackup:B6,statusMessage:q6,actions:P6,button:z6,buttonSecondary:H6,buttonDanger:F6,backupList:G6,backupItem:Y6,backupName:Q6,backupDate:X6,restoreButton:K6,noBackups:$6,tokenInputContainer:W6,tokenHelp:Z6,tokenInput:J6,tokenActions:eO};function tO(){const[a,t]=oe.useState(!1),[i,s]=oe.useState(!0),[l,c]=oe.useState(null),[m,v]=oe.useState(""),[E,g]=oe.useState([]),[R,I]=oe.useState(!1),[M,$]=oe.useState(""),[J,ie]=oe.useState(!1),K=oe.useCallback(()=>{t(z0()),c(H0())},[]);oe.useEffect(()=>{K(),s(!1)},[K]);const ee=async()=>{if(!M.trim()){v("Please enter a GitHub token");return}v("Verifying token..."),await pw(M.trim())?(lw(M.trim()),t(!0),ie(!1),$(""),v("Connected to GitHub!")):v("Invalid token. Please check and try again.")},me=()=>{uw(),t(!1),c(null),v("Disconnected"),g([])},ge=async()=>{v("Backing up...");try{const D=await km(),x=await G0(D);x.success?(v(`Backup saved: ${x.fileName}`),c(new Date),await Q0(7)):v(`Backup failed: ${x.error}`)}catch(D){v(`Backup failed: ${D instanceof Error?D.message:"Unknown error"}`)}},ye=async()=>{if(I(!R),!R){v("Loading backups...");const D=await Y0();g(D),v("")}},Ce=async D=>{if(confirm(`Restore from "${D}"? This will replace all current data.`)){v("Restoring...");try{const x=await mw(D);x?(await L0(x),v("Restored successfully! Refreshing..."),setTimeout(()=>window.location.reload(),1500)):v("Failed to download backup")}catch(x){v(`Restore failed: ${x instanceof Error?x.message:"Unknown error"}`)}}},Me=D=>{const x=D.match(/backup-(\d{4})-(\d{2})-(\d{2})T(\d{2})-(\d{2})/);if(x){const[,V,U,j,O,C]=x;return`${V}-${U}-${j} ${O}:${C}`}return D};return i?p.jsx("div",{className:jt.container,children:"Loading..."}):p.jsxs("div",{className:jt.container,children:[p.jsx("h3",{className:jt.title,children:"Cloud Backup (GitHub)"}),p.jsxs("div",{className:jt.status,children:[p.jsx("span",{className:`${jt.indicator} ${a?jt.connected:jt.disconnected}`}),p.jsx("span",{children:a?"Connected to GitHub":"Not connected"})]}),l&&p.jsxs("p",{className:jt.lastBackup,children:["Last backup: ",l.toLocaleString()]}),m&&p.jsx("p",{className:jt.statusMessage,children:m}),p.jsx("div",{className:jt.actions,children:a?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:ge,className:jt.button,children:"Backup Now"}),p.jsx("button",{onClick:ye,className:jt.buttonSecondary,children:R?"Hide Backups":"Restore from Backup"}),p.jsx("button",{onClick:me,className:jt.buttonDanger,children:"Disconnect"})]}):p.jsx(p.Fragment,{children:J?p.jsxs("div",{className:jt.tokenInputContainer,children:[p.jsxs("p",{className:jt.tokenHelp,children:["Create a token at ",p.jsx("a",{href:"https://github.com/settings/tokens/new?description=Goal%20Game%20Backup&scopes=gist",target:"_blank",rel:"noopener noreferrer",children:"GitHub Settings"})," with ",p.jsx("strong",{children:"gist"})," scope."]}),p.jsx("input",{type:"password",value:M,onChange:D=>$(D.target.value),placeholder:"Paste your GitHub token",className:jt.tokenInput}),p.jsxs("div",{className:jt.tokenActions,children:[p.jsx("button",{onClick:ee,className:jt.button,children:"Save Token"}),p.jsx("button",{onClick:()=>{ie(!1),$("")},className:jt.buttonSecondary,children:"Cancel"})]})]}):p.jsx("button",{onClick:()=>ie(!0),className:jt.button,children:"Connect GitHub"})})}),R&&E.length>0&&p.jsxs("div",{className:jt.backupList,children:[p.jsx("h4",{children:"Available Backups (Last 7 kept)"}),E.map(D=>p.jsxs("div",{className:jt.backupItem,children:[p.jsx("span",{className:jt.backupName,children:Me(D.fileName)}),p.jsxs("span",{className:jt.backupDate,children:[Math.round(D.size/1024)," KB"]}),p.jsx("button",{onClick:()=>Ce(D.fileName),className:jt.restoreButton,children:"Restore"})]},D.fileName))]}),R&&E.length===0&&p.jsx("p",{className:jt.noBackups,children:"No backups found"})]})}function nO(){const{settings:a,permissionState:t,isSupported:i,isConfigured:s,canEnable:l,isIOS:c,isStandalone:m,loading:v,error:E,enableNotifications:g,disableNotificationsHandler:R,setDefaultReminderMinutes:I}=dT();return s?i?p.jsxs(ji,{className:Ht.settingsPanel,children:[p.jsx("h3",{className:Ht.settingsTitle,children:"Push Notifications"}),c&&!m&&p.jsxs("div",{className:Ht.iosInstructions,children:[p.jsx("p",{className:Ht.iosTitle,children:"iOS Setup Required"}),p.jsx("p",{className:Ht.iosText,children:"To receive push notifications on iOS, you need to add this app to your home screen first:"}),p.jsxs("ol",{className:Ht.iosList,children:[p.jsx("li",{children:"Tap the Share button in Safari"}),p.jsx("li",{children:'Select "Add to Home Screen"'}),p.jsx("li",{children:"Open the app from your home screen"}),p.jsx("li",{children:"Then enable notifications here"})]})]}),t==="denied"&&p.jsx("div",{className:Ht.deniedMessage,children:p.jsx("p",{children:"Notifications are blocked. Please enable them in your browser settings."})}),E&&p.jsx("div",{className:Ht.errorMessage,children:p.jsx("p",{children:E})}),p.jsxs("div",{className:Ht.settingRow,children:[p.jsx("span",{className:Ht.settingLabel,children:"Event Reminders"}),a.enabled?p.jsx(_t,{variant:"danger",size:"small",onClick:R,disabled:v,children:v?"Disabling...":"Disable"}):p.jsx(_t,{variant:"primary",size:"small",onClick:g,disabled:v||!l||t==="denied",children:v?"Enabling...":"Enable"})]}),a.enabled&&p.jsxs("div",{className:Ht.settingRow,children:[p.jsx("span",{className:Ht.settingLabel,children:"Default Reminder"}),p.jsx("select",{className:Ht.reminderSelect,value:a.defaultReminderMinutes,onChange:M=>I(Number(M.target.value)),children:gT.filter(M=>M.value!==null).map(M=>p.jsx("option",{value:M.value,children:M.label},M.value))})]}),a.enabled&&p.jsxs("div",{className:Ht.statusIndicator,children:[p.jsx("span",{className:Ht.statusDot}),"Notifications enabled"]})]}):p.jsxs(ji,{className:Ht.settingsPanel,children:[p.jsx("h3",{className:Ht.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:Ht.settingsDescription,children:"Push notifications are not supported in this browser."})]}):p.jsxs(ji,{className:Ht.settingsPanel,children:[p.jsx("h3",{className:Ht.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:Ht.settingsDescription,children:"Push notifications are not configured. To enable them, add your Firebase configuration to the .env file."})]})}const iO="_guideButton_1u1py_1",aO="_guideOverlay_1u1py_71",rO="_guideContainer_1u1py_95",sO="_guideHeader_1u1py_159",oO="_guideTitle_1u1py_177",lO="_closeButton_1u1py_191",uO="_guideContent_1u1py_229",cO="_table_1u1py_335",fO="_tocList_1u1py_393",hO="_tocItem_1u1py_411",ai={guideButton:iO,guideOverlay:aO,guideContainer:rO,guideHeader:sO,guideTitle:oO,closeButton:lO,guideContent:uO,table:cO,tocList:fO,tocItem:hO};function dO(){const[a,t]=oe.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:ai.guideButton,onClick:()=>t(!0),title:"Open Guide",children:"?"}),a&&p.jsx(mO,{onClose:()=>t(!1)})]})}function mO({onClose:a}){const t=oe.useRef(null);oe.useEffect(()=>{const s=l=>{l.key==="Escape"&&a()};return window.addEventListener("keydown",s),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",s),document.body.style.overflow=""}},[a]);const i=s=>{t.current?.querySelector(`#${s}`)?.scrollIntoView({behavior:"smooth"})};return p.jsx("div",{className:ai.guideOverlay,onClick:a,children:p.jsxs("div",{className:ai.guideContainer,onClick:s=>s.stopPropagation(),ref:t,children:[p.jsxs("div",{className:ai.guideHeader,children:[p.jsx("span",{className:ai.guideTitle,children:"Adventurer's Guide"}),p.jsx("button",{className:ai.closeButton,onClick:a,children:"Close"})]}),p.jsx("ul",{className:ai.tocList,children:["overview","character","quests","buffs","planner","xp","levels","stats","tips","data"].map(s=>p.jsx("li",{className:ai.tocItem,onClick:()=>i(`guide-${s}`),children:s==="xp"?"XP System":s==="data"?"Save Data":s.charAt(0).toUpperCase()+s.slice(1)},s))}),p.jsxs("div",{className:ai.guideContent,children:[p.jsx("h2",{id:"guide-overview",children:"Overview"}),p.jsxs("p",{children:["Goal Game turns your real-life goals into an RPG adventure. You create ",p.jsx("strong",{children:"Goals"})," (big-picture ambitions), break them into ",p.jsx("strong",{children:"Quests"})," (projects), and then into ",p.jsx("strong",{children:"Steps"})," (individual tasks). Completing steps earns ",p.jsx("strong",{children:"XP"}),", which levels up your character."]}),p.jsxs("p",{children:["Track daily habits as ",p.jsx("strong",{children:"Buffs"})," (positive) and ",p.jsx("strong",{children:"Debuffs"})," (negative) that affect your character's stats. Plan your schedule with the ",p.jsx("strong",{children:"Planner"}),"."]}),p.jsx("h2",{id:"guide-character",children:"Character Screen"}),p.jsx("p",{children:"Your character screen shows your current progress at a glance."}),p.jsx("h3",{children:"What you'll see"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Name"}),`  Tap "Rename" to change your character's name.`]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Level & Title"}),'  Your current level and rank title (e.g., "Novice", "Adept"). Titles change automatically as you level up.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP Bar"}),"  Shows progress toward your next level. The numbers show current XP in this level / XP needed for next level."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Total XP"}),"  Your lifetime XP earned across all activities."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Stats"}),"  Five attributes (Stamina, Willpower, Health, Focus, Charisma) that start at 10 and change based on your active buffs/debuffs."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Active Effects"}),"  Currently active buffs (green pulse) and debuffs (red throb) with time remaining."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP History"}),"  A log of your most recent XP gains showing what you earned and why."]})]}),p.jsx("h2",{id:"guide-quests",children:"Quest Log"}),p.jsx("p",{children:"This is where you organize everything you want to accomplish."}),p.jsx("h3",{children:"Hierarchy"}),p.jsx("p",{children:"Life is organized in three layers:"}),p.jsxs("ol",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Goals"}),'  Big-picture ambitions tied to a life domain. Example: "Get fit" in the Health domain.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Quests"}),'  Specific projects within a goal. Example: "Run a 5K" under "Get fit".']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Steps"}),'  Individual actionable tasks within a quest. Example: "Run 1 mile without stopping" inside "Run a 5K".']})]}),p.jsx("h3",{children:"Domains"}),p.jsx("p",{children:"Every goal belongs to one of eight life domains:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Icon"}),p.jsx("th",{children:"Domain"}),p.jsx("th",{children:"Examples"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Fitness, diet, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Career"}),p.jsx("td",{children:"Work projects, promotions, skills"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Learning"}),p.jsx("td",{children:"Courses, reading, certifications"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Social"}),p.jsx("td",{children:"Relationships, networking, community"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Finance"}),p.jsx("td",{children:"Saving, investing, budgeting"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Creative"}),p.jsx("td",{children:"Art, music, writing, hobbies"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Spiritual"}),p.jsx("td",{children:"Meditation, mindfulness, gratitude"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Home"}),p.jsx("td",{children:"Cleaning, organizing, repairs"})]})]})]}),p.jsx("h3",{children:"Priority Levels"}),p.jsx("p",{children:"Quests and steps can have a priority that affects XP rewards:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Priority"}),p.jsx("th",{children:"Color"}),p.jsx("th",{children:"Step XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Normal"}),p.jsx("td",{children:"Gray"}),p.jsx("td",{children:"10 XP"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Important"}),p.jsx("td",{children:"Gold"}),p.jsx("td",{children:"15 XP (1.5x)"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Legendary"}),p.jsx("td",{children:"Orange"}),p.jsx("td",{children:"20 XP (2x)"})]})]})]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Goal"}),"  pick a domain, give it a title."]}),p.jsxs("li",{children:["Inside a goal, tap ",p.jsx("strong",{children:"+ Quest"}),"  name the project, choose priority."]}),p.jsx("li",{children:'Tap a quest to expand it, then type steps in the "Add a step" field at the bottom.'}),p.jsx("li",{children:"Check off steps to earn XP. When all steps are done, the quest auto-completes for bonus XP. When all quests in a goal are done, the goal auto-completes for even more bonus XP."})]}),p.jsx("h3",{children:"Filters"}),p.jsx("p",{children:"Use the dropdowns at the top to filter by domain or status (Active / Completed / All)."}),p.jsx("h2",{id:"guide-buffs",children:"Buffs & Debuffs"}),p.jsx("p",{children:"Buffs and debuffs represent daily habits that affect your character."}),p.jsx("h3",{children:"Buffs (Positive Habits)"}),p.jsxs("p",{children:["Things you ",p.jsx("em",{children:"want"})," to do every day. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Morning Exercise  +2 Stamina, +1 Health"}),p.jsx("li",{children:" Meditation  +2 Willpower, +1 Focus"}),p.jsx("li",{children:" 8 Hours Sleep  +1 Health, +1 Focus, +1 Stamina"}),p.jsx("li",{children:" Read 30 Minutes  +2 Focus"})]}),p.jsxs("p",{children:["Activating a buff earns ",p.jsx("strong",{children:"5 XP"})," and applies its stat effects for the duration you set (e.g., 24 hours). After that, the buff expires and you need to activate it again the next day."]}),p.jsx("h3",{children:"Debuffs (Negative Habits)"}),p.jsxs("p",{children:["Things you want to be ",p.jsx("em",{children:"honest about tracking"}),". There is no XP penalty  this is for self-awareness. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Junk Food  -1 Health, -1 Stamina"}),p.jsx("li",{children:" Doomscrolling  -2 Focus, -1 Willpower"}),p.jsx("li",{children:" Alcohol  -1 Health, -1 Focus"})]}),p.jsx("p",{children:"Debuffs still affect your stats while active, shown as red on your character screen."}),p.jsx("h3",{children:"Streaks"}),p.jsxs("p",{children:["Activate the same buff on consecutive days to build a streak. Every ",p.jsx("strong",{children:"7-day streak"})," earns a bonus ",p.jsx("strong",{children:"25 XP"}),"."]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Buff/Debuff"})," to define a habit template."]}),p.jsx("li",{children:"Choose a name, type (buff or debuff), icon, duration in hours, and stat effects (positive numbers for buffs, negative for debuffs)."}),p.jsxs("li",{children:["Once created, it appears in the Buffs or Debuffs column. Tap ",p.jsx("strong",{children:"Activate"})," each day you do the habit."]}),p.jsx("li",{children:"Active effects appear at the top with a countdown timer and are reflected on your Character screen stats."})]}),p.jsx("h3",{children:"Expiry"}),p.jsxs("p",{children:["Buffs and debuffs expire automatically after their duration. The app checks every 60 seconds. You can also manually remove an active effect by tapping ",p.jsx("strong",{children:"Remove"}),"."]}),p.jsx("h2",{id:"guide-planner",children:"Planner"}),p.jsx("p",{children:"A calendar to schedule your time and link events to your quests."}),p.jsx("h3",{children:"Views"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Day"}),"  Shows time slots from 6 AM to 9 PM. Scheduled events appear in their time slot. Unscheduled events appear at the bottom."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Week"}),"  7-column grid (MonSun). Each day shows its events. Tap ",p.jsx("strong",{children:"+"})," on any day to add an event."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Month"}),'  Calendar grid. Tap any day to add an event. Shows up to 3 events per day with a "+X more" indicator.']})]}),p.jsx("h3",{children:"Navigation"}),p.jsxs("p",{children:["Use the ",p.jsx("strong",{children:" "})," arrows to move between days/weeks/months. Tap ",p.jsx("strong",{children:"Today"})," to jump back to the current date."]}),p.jsx("h3",{children:"Events"}),p.jsxs("p",{children:["Tap ",p.jsx("strong",{children:"+ Event"})," to create one. Each event has:"]}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Title"}),"  What you're doing."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Date"}),"  When."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Start/End Time"}),"  Optional. If set, it appears in the correct time slot in Day view."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Description"}),"  Optional notes."]})]}),p.jsxs("p",{children:["Check off events when completed. Linked events (connected to a quest or step) earn ",p.jsx("strong",{children:"10 XP"})," when completed."]}),p.jsx("h2",{id:"guide-xp",children:"XP System"}),p.jsx("p",{children:"Everything you do earns experience points:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Action"}),p.jsx("th",{children:"XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a normal step"}),p.jsx("td",{children:"+10"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete an important step"}),p.jsx("td",{children:"+15"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a legendary step"}),p.jsx("td",{children:"+20"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a quest (all steps done)"}),p.jsx("td",{children:"+50 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a goal (all quests done)"}),p.jsx("td",{children:"+200 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Activate a buff (daily habit)"}),p.jsx("td",{children:"+5"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"7-day streak on any buff"}),p.jsx("td",{children:"+25 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a linked planner event"}),p.jsx("td",{children:"+10"})]})]})]}),p.jsx("h2",{id:"guide-levels",children:"Levels & Titles"}),p.jsxs("p",{children:["XP needed per level increases as you grow. The formula is ",p.jsx("code",{children:"50  level^1.8"}),"."]}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Level"}),p.jsx("th",{children:"Title"}),p.jsx("th",{children:"Approx. Timeline"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"14"}),p.jsx("td",{children:"Novice"}),p.jsx("td",{children:"Starting out"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"59"}),p.jsx("td",{children:"Apprentice"}),p.jsx("td",{children:"~12 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1014"}),p.jsx("td",{children:"Journeyman"}),p.jsx("td",{children:"~34 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1521"}),p.jsx("td",{children:"Adept"}),p.jsx("td",{children:"~12 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2229"}),p.jsx("td",{children:"Expert"}),p.jsx("td",{children:"~24 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3039"}),p.jsx("td",{children:"Master"}),p.jsx("td",{children:"~48 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4049"}),p.jsx("td",{children:"Legend"}),p.jsx("td",{children:"~812 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"50+"}),p.jsx("td",{children:"Dragonborn"}),p.jsx("td",{children:"~1 year+"})]})]})]}),p.jsx("p",{children:"When you level up, a golden overlay appears announcing your new level and title."}),p.jsx("h2",{id:"guide-stats",children:"Stats"}),p.jsxs("p",{children:["Your character has five stats, all starting at ",p.jsx("strong",{children:"10"}),":"]}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Stat"}),p.jsx("th",{children:"Represents"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Stamina"}),p.jsx("td",{children:"Physical energy, endurance, exercise habits"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Willpower"}),p.jsx("td",{children:"Discipline, self-control, mental toughness"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Physical wellbeing, nutrition, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Focus"}),p.jsx("td",{children:"Concentration, productivity, mental clarity"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Charisma"}),p.jsx("td",{children:"Social skills, confidence, communication"})]})]})]}),p.jsx("p",{children:"Stats are modified by active buffs and debuffs. They serve as a mirror of your current lifestyle  high Focus means you've been studying and avoiding distractions; low Health means you've been eating junk food or skipping sleep."}),p.jsx("h2",{id:"guide-tips",children:"Tips"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Start small."})," Create one goal with one quest and a few steps. Don't overload yourself on day one."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Be honest with debuffs."})," There's no punishment  tracking negative habits helps you see patterns."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use priorities wisely."}),' Reserve "Legendary" for truly difficult or impactful tasks.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Build streaks."})," The 7-day streak bonus compounds  maintaining 3 daily buffs earns 75 bonus XP per week on top of the daily 5 XP each."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use the planner."})," Scheduling time for quests makes you far more likely to complete them."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Check your character screen daily."})," Your stats tell you how balanced your life is."]})]}),p.jsx("h2",{id:"guide-data",children:"Saving & Data"}),p.jsx("p",{children:"All your data is stored locally on this device in the browser's database. It persists across sessions  closing and reopening the app keeps everything."}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Export Save"}),"  Downloads your entire database as a .db file. Use this for backups."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Import Save"}),"  Loads a previously exported .db file, replacing all current data. Use this to restore a backup or transfer data between devices."]})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Important:"})," Clearing your browser/app data will erase your progress. Export a backup regularly."]}),p.jsx("h3",{children:"Keyboard Shortcuts (Desktop)"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Key"}),p.jsx("th",{children:"Action"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"1"}),p.jsx("td",{children:"Character screen"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2"}),p.jsx("td",{children:"Quest Log"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3"}),p.jsx("td",{children:"Buffs"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4"}),p.jsx("td",{children:"Planner"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Esc"}),p.jsx("td",{children:"Close any open modal/popup"})]})]})]})]})]})})}function pO(){const{ready:a,error:t}=gS(),[i,s]=oe.useState("character");return a?p.jsx(gO,{activeTab:i,setActiveTab:s}):p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0f",color:"#c8a84e",fontFamily:"Cinzel, serif",fontSize:"1.2rem"},children:t?`Error: ${t}`:"Loading database..."})}function gO({activeTab:a,setActiveTab:t}){const i=CS(),s=zS({grantXP:i.grantXP}),l=dT(),c=ZS({grantXP:i.grantXP,scheduleBuffExpiry:l.scheduleBuffExpiry,cancelBuffExpiry:l.cancelBuffExpiry}),m=rw({grantXP:i.grantXP,scheduleEventReminder:l.scheduleEventReminder,cancelEventReminder:l.cancelEventReminder}),v=gw(),[E,g]=oe.useState(!1),[R,I]=oe.useState(!1);oe.useEffect(()=>{i.refresh(),a==="quests"&&s.refresh(),a==="buffs"&&c.refresh(),a==="planner"&&m.refresh()},[a]),oe.useEffect(()=>{s.refresh(),c.refresh(),m.refresh()},[]),oe.useEffect(()=>{const J=ie=>{ie.target instanceof HTMLInputElement||ie.target instanceof HTMLTextAreaElement||ie.target instanceof HTMLSelectElement||(ie.key==="1"&&t("character"),ie.key==="2"&&t("quests"),ie.key==="3"&&t("buffs"),ie.key==="4"&&t("planner"))};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[t]);const M=oe.useCallback(async()=>{const J=await km(),ie=new Blob([new Uint8Array(J)],{type:"application/octet-stream"}),K=URL.createObjectURL(ie),ee=document.createElement("a");ee.href=K,ee.download=`goal-game-backup-${new Date().toISOString().split("T")[0]}.db`,ee.click(),URL.revokeObjectURL(K)},[]),$=oe.useCallback(async()=>{const J=document.createElement("input");J.type="file",J.accept=".db",J.onchange=async()=>{const ie=J.files?.[0];if(!ie)return;const K=await ie.arrayBuffer();await L0(new Uint8Array(K)),window.location.reload()},J.click()},[]);return p.jsxs("div",{className:Mn.appShell,children:[p.jsx(CD,{activeTab:a,onTabChange:t}),p.jsx(UD,{character:i.character}),p.jsxs("main",{className:Mn.main,children:[a==="character"&&p.jsx(i3,{character:i.character,stats:c.stats,activeBuffs:c.activeBuffs,xpLog:i.xpLog,onNameChange:i.setName}),a==="quests"&&p.jsx(K3,{goals:s.goals,domains:s.domains,filterDomain:s.filterDomain,filterStatus:s.filterStatus,onFilterDomain:J=>{s.setFilterDomain(J)},onFilterStatus:J=>{s.setFilterStatus(J)},onCreateGoal:s.createGoal,onCreateQuest:s.createQuest,onCreateStep:s.createStep,onCompleteStep:s.completeStep,onUncompleteStep:s.uncompleteStep,onDeleteStep:s.deleteStep,onDeleteQuest:s.deleteQuest,onDeleteGoal:s.deleteGoal}),a==="buffs"&&p.jsx(NI,{definitions:c.definitions,activeBuffs:c.activeBuffs,onCreateDefinition:c.createDefinition,onDeleteDefinition:c.deleteDefinition,onActivateBuff:c.activateBuff,onDeactivateBuff:c.deactivateBuff}),a==="planner"&&p.jsx(x6,{view:m.view,setView:m.setView,currentDate:m.currentDate,events:m.events,onNavigate:m.navigateDay,onGoToToday:m.goToToday,onCreate:m.createEvent,onComplete:m.completeEvent,onUncomplete:m.uncompleteEvent,onDelete:m.deleteEvent,notificationsEnabled:l.settings.enabled,defaultReminderMinutes:l.settings.defaultReminderMinutes}),p.jsxs("div",{style:{marginTop:40,paddingTop:20,borderTop:"1px solid var(--border-color)"},children:[R&&p.jsx(nO,{}),E&&p.jsx(tO,{}),p.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center",flexWrap:"wrap"},children:[p.jsx(_t,{size:"small",variant:"ghost",onClick:()=>I(!R),children:R?"Hide Notifications":"Notifications"}),p.jsx(_t,{size:"small",variant:"ghost",onClick:()=>g(!E),children:E?"Hide Cloud Backup":"Cloud Backup"}),p.jsx(_t,{size:"small",variant:"ghost",onClick:M,children:"Export Save"}),p.jsx(_t,{size:"small",variant:"ghost",onClick:$,children:"Import Save"})]})]})]}),i.xpFloats.map(J=>p.jsxs("div",{className:Mn.xpFloat,children:["+",J.amount," XP"]},J.id)),i.levelUpInfo&&p.jsx(YD,{level:i.levelUpInfo.level,title:i.levelUpInfo.title,onDismiss:i.dismissLevelUp}),p.jsx(dO,{}),v.message&&p.jsx("div",{style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",padding:"10px 20px",background:v.status==="error"?"rgba(231, 76, 60, 0.9)":"rgba(46, 204, 113, 0.9)",color:"#fff",borderRadius:8,fontSize:"0.9rem",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:v.message})]})}nS.createRoot(document.getElementById("root")).render(p.jsx(oe.StrictMode,{children:p.jsx(pO,{})}));
