(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function tS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function nS(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var i=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var l=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(i,a,l.get?l:{enumerable:!0,get:function(){return s[a]}})}),i}var jd={exports:{}},ou={};var Qy;function iS(){if(Qy)return ou;Qy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var m=null;if(c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),"key"in l){c={};for(var v in l)v!=="key"&&(c[v]=l[v])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:m,ref:l!==void 0?l:null,props:c}}return ou.Fragment=e,ou.jsx=i,ou.jsxs=i,ou}var Ky;function sS(){return Ky||(Ky=1,jd.exports=iS()),jd.exports}var p=sS(),Vd={exports:{}},Xe={};var $y;function aS(){if($y)return Xe;$y=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.iterator;function J(B){return B===null||typeof B!="object"?null:(B=D&&B[D]||B["@@iterator"],typeof B=="function"?B:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,z={};function ee(B,re,ye){this.props=B,this.context=re,this.refs=z,this.updater=ye||W}ee.prototype.isReactComponent={},ee.prototype.setState=function(B,re){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,re,"setState")},ee.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function he(){}he.prototype=ee.prototype;function me(B,re,ye){this.props=B,this.context=re,this.refs=z,this.updater=ye||W}var de=me.prototype=new he;de.constructor=me,ne(de,ee.prototype),de.isPureReactComponent=!0;var Re=Array.isArray;function De(){}var O={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function L(B,re,ye){var Ee=ye.ref;return{$$typeof:s,type:B,key:re,ref:Ee!==void 0?Ee:null,props:ye}}function V(B,re){return L(B.type,re,B.props)}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===s}function U(B){var re={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ye){return re[ye]})}var x=/\/+/g;function Me(B,re){return typeof B=="object"&&B!==null&&B.key!=null?U(""+B.key):re.toString(36)}function Et(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(De,De):(B.status="pending",B.then(function(re){B.status==="pending"&&(B.status="fulfilled",B.value=re)},function(re){B.status==="pending"&&(B.status="rejected",B.reason=re)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function P(B,re,ye,Ee,ze){var Ke=typeof B;(Ke==="undefined"||Ke==="boolean")&&(B=null);var Je=!1;if(B===null)Je=!0;else switch(Ke){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(B.$$typeof){case s:case e:Je=!0;break;case w:return Je=B._init,P(Je(B._payload),re,ye,Ee,ze)}}if(Je)return ze=ze(B),Je=Ee===""?"."+Me(B,0):Ee,Re(ze)?(ye="",Je!=null&&(ye=Je.replace(x,"$&/")+"/"),P(ze,re,ye,"",function(ms){return ms})):ze!=null&&(k(ze)&&(ze=V(ze,ye+(ze.key==null||B&&B.key===ze.key?"":(""+ze.key).replace(x,"$&/")+"/")+Je)),re.push(ze)),1;Je=0;var Kt=Ee===""?".":Ee+":";if(Re(B))for(var Ot=0;Ot<B.length;Ot++)Ee=B[Ot],Ke=Kt+Me(Ee,Ot),Je+=P(Ee,re,ye,Ke,ze);else if(Ot=J(B),typeof Ot=="function")for(B=Ot.call(B),Ot=0;!(Ee=B.next()).done;)Ee=Ee.value,Ke=Kt+Me(Ee,Ot++),Je+=P(Ee,re,ye,Ke,ze);else if(Ke==="object"){if(typeof B.then=="function")return P(Et(B),re,ye,Ee,ze);throw re=String(B),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Je}function $(B,re,ye){if(B==null)return B;var Ee=[],ze=0;return P(B,Ee,"","",function(Ke){return re.call(ye,Ke,ze++)}),Ee}function _e(B){if(B._status===-1){var re=B._result;re=re(),re.then(function(ye){(B._status===0||B._status===-1)&&(B._status=1,B._result=ye)},function(ye){(B._status===0||B._status===-1)&&(B._status=2,B._result=ye)}),B._status===-1&&(B._status=0,B._result=re)}if(B._status===1)return B._result.default;throw B._result}var $e=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Qe={map:$,forEach:function(B,re,ye){$(B,function(){re.apply(this,arguments)},ye)},count:function(B){var re=0;return $(B,function(){re++}),re},toArray:function(B){return $(B,function(re){return re})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Xe.Activity=C,Xe.Children=Qe,Xe.Component=ee,Xe.Fragment=i,Xe.Profiler=l,Xe.PureComponent=me,Xe.StrictMode=a,Xe.Suspense=T,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return O.H.useMemoCache(B)}},Xe.cache=function(B){return function(){return B.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(B,re,ye){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Ee=ne({},B.props),ze=B.key;if(re!=null)for(Ke in re.key!==void 0&&(ze=""+re.key),re)!I.call(re,Ke)||Ke==="key"||Ke==="__self"||Ke==="__source"||Ke==="ref"&&re.ref===void 0||(Ee[Ke]=re[Ke]);var Ke=arguments.length-2;if(Ke===1)Ee.children=ye;else if(1<Ke){for(var Je=Array(Ke),Kt=0;Kt<Ke;Kt++)Je[Kt]=arguments[Kt+2];Ee.children=Je}return L(B.type,ze,Ee)},Xe.createContext=function(B){return B={$$typeof:m,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:c,_context:B},B},Xe.createElement=function(B,re,ye){var Ee,ze={},Ke=null;if(re!=null)for(Ee in re.key!==void 0&&(Ke=""+re.key),re)I.call(re,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(ze[Ee]=re[Ee]);var Je=arguments.length-2;if(Je===1)ze.children=ye;else if(1<Je){for(var Kt=Array(Je),Ot=0;Ot<Je;Ot++)Kt[Ot]=arguments[Ot+2];ze.children=Kt}if(B&&B.defaultProps)for(Ee in Je=B.defaultProps,Je)ze[Ee]===void 0&&(ze[Ee]=Je[Ee]);return L(B,Ke,ze)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(B){return{$$typeof:v,render:B}},Xe.isValidElement=k,Xe.lazy=function(B){return{$$typeof:w,_payload:{_status:-1,_result:B},_init:_e}},Xe.memo=function(B,re){return{$$typeof:g,type:B,compare:re===void 0?null:re}},Xe.startTransition=function(B){var re=O.T,ye={};O.T=ye;try{var Ee=B(),ze=O.S;ze!==null&&ze(ye,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(De,$e)}catch(Ke){$e(Ke)}finally{re!==null&&ye.types!==null&&(re.types=ye.types),O.T=re}},Xe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Xe.use=function(B){return O.H.use(B)},Xe.useActionState=function(B,re,ye){return O.H.useActionState(B,re,ye)},Xe.useCallback=function(B,re){return O.H.useCallback(B,re)},Xe.useContext=function(B){return O.H.useContext(B)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(B,re){return O.H.useDeferredValue(B,re)},Xe.useEffect=function(B,re){return O.H.useEffect(B,re)},Xe.useEffectEvent=function(B){return O.H.useEffectEvent(B)},Xe.useId=function(){return O.H.useId()},Xe.useImperativeHandle=function(B,re,ye){return O.H.useImperativeHandle(B,re,ye)},Xe.useInsertionEffect=function(B,re){return O.H.useInsertionEffect(B,re)},Xe.useLayoutEffect=function(B,re){return O.H.useLayoutEffect(B,re)},Xe.useMemo=function(B,re){return O.H.useMemo(B,re)},Xe.useOptimistic=function(B,re){return O.H.useOptimistic(B,re)},Xe.useReducer=function(B,re,ye){return O.H.useReducer(B,re,ye)},Xe.useRef=function(B){return O.H.useRef(B)},Xe.useState=function(B){return O.H.useState(B)},Xe.useSyncExternalStore=function(B,re,ye){return O.H.useSyncExternalStore(B,re,ye)},Xe.useTransition=function(){return O.H.useTransition()},Xe.version="19.2.4",Xe}var Wy;function jm(){return Wy||(Wy=1,Vd.exports=aS()),Vd.exports}var se=jm(),Ud={exports:{}},lu={},Bd={exports:{}},qd={};var Zy;function rS(){return Zy||(Zy=1,(function(s){function e(P,$){var _e=P.length;P.push($);e:for(;0<_e;){var $e=_e-1>>>1,Qe=P[$e];if(0<l(Qe,$))P[$e]=$,P[_e]=Qe,_e=$e;else break e}}function i(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var $=P[0],_e=P.pop();if(_e!==$){P[0]=_e;e:for(var $e=0,Qe=P.length,B=Qe>>>1;$e<B;){var re=2*($e+1)-1,ye=P[re],Ee=re+1,ze=P[Ee];if(0>l(ye,_e))Ee<Qe&&0>l(ze,ye)?(P[$e]=ze,P[Ee]=_e,$e=Ee):(P[$e]=ye,P[re]=_e,$e=re);else if(Ee<Qe&&0>l(ze,_e))P[$e]=ze,P[Ee]=_e,$e=Ee;else break e}}return $}function l(P,$){var _e=P.sortIndex-$.sortIndex;return _e!==0?_e:P.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var m=Date,v=m.now();s.unstable_now=function(){return m.now()-v}}var T=[],g=[],w=1,C=null,D=3,J=!1,W=!1,ne=!1,z=!1,ee=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function de(P){for(var $=i(g);$!==null;){if($.callback===null)a(g);else if($.startTime<=P)a(g),$.sortIndex=$.expirationTime,e(T,$);else break;$=i(g)}}function Re(P){if(ne=!1,de(P),!W)if(i(T)!==null)W=!0,De||(De=!0,U());else{var $=i(g);$!==null&&Et(Re,$.startTime-P)}}var De=!1,O=-1,I=5,L=-1;function V(){return z?!0:!(s.unstable_now()-L<I)}function k(){if(z=!1,De){var P=s.unstable_now();L=P;var $=!0;try{e:{W=!1,ne&&(ne=!1,he(O),O=-1),J=!0;var _e=D;try{t:{for(de(P),C=i(T);C!==null&&!(C.expirationTime>P&&V());){var $e=C.callback;if(typeof $e=="function"){C.callback=null,D=C.priorityLevel;var Qe=$e(C.expirationTime<=P);if(P=s.unstable_now(),typeof Qe=="function"){C.callback=Qe,de(P),$=!0;break t}C===i(T)&&a(T),de(P)}else a(T);C=i(T)}if(C!==null)$=!0;else{var B=i(g);B!==null&&Et(Re,B.startTime-P),$=!1}}break e}finally{C=null,D=_e,J=!1}$=void 0}}finally{$?U():De=!1}}}var U;if(typeof me=="function")U=function(){me(k)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Me=x.port2;x.port1.onmessage=k,U=function(){Me.postMessage(null)}}else U=function(){ee(k,0)};function Et(P,$){O=ee(function(){P(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(P){P.callback=null},s.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(P){switch(D){case 1:case 2:case 3:var $=3;break;default:$=D}var _e=D;D=$;try{return P()}finally{D=_e}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var _e=D;D=P;try{return $()}finally{D=_e}},s.unstable_scheduleCallback=function(P,$,_e){var $e=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?$e+_e:$e):_e=$e,P){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=_e+Qe,P={id:w++,callback:$,priorityLevel:P,startTime:_e,expirationTime:Qe,sortIndex:-1},_e>$e?(P.sortIndex=_e,e(g,P),i(T)===null&&P===i(g)&&(ne?(he(O),O=-1):ne=!0,Et(Re,_e-$e))):(P.sortIndex=Qe,e(T,P),W||J||(W=!0,De||(De=!0,U()))),P},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(P){var $=D;return function(){var _e=D;D=$;try{return P.apply(this,arguments)}finally{D=_e}}}})(qd)),qd}var Jy;function oS(){return Jy||(Jy=1,Bd.exports=rS()),Bd.exports}var zd={exports:{}},Fn={};var ev;function lS(){if(ev)return Fn;ev=1;var s=jm();function e(T){var g="https://react.dev/errors/"+T;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+T+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(T,g,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:T,containerInfo:g,implementation:w}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(T,g){if(T==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fn.createPortal=function(T,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(T,g,null,w)},Fn.flushSync=function(T){var g=m.T,w=a.p;try{if(m.T=null,a.p=2,T)return T()}finally{m.T=g,a.p=w,a.d.f()}},Fn.preconnect=function(T,g){typeof T=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(T,g))},Fn.prefetchDNS=function(T){typeof T=="string"&&a.d.D(T)},Fn.preinit=function(T,g){if(typeof T=="string"&&g&&typeof g.as=="string"){var w=g.as,C=v(w,g.crossOrigin),D=typeof g.integrity=="string"?g.integrity:void 0,J=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?a.d.S(T,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:J}):w==="script"&&a.d.X(T,{crossOrigin:C,integrity:D,fetchPriority:J,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Fn.preinitModule=function(T,g){if(typeof T=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=v(g.as,g.crossOrigin);a.d.M(T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(T)},Fn.preload=function(T,g){if(typeof T=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,C=v(w,g.crossOrigin);a.d.L(T,w,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Fn.preloadModule=function(T,g){if(typeof T=="string")if(g){var w=v(g.as,g.crossOrigin);a.d.m(T,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(T)},Fn.requestFormReset=function(T){a.d.r(T)},Fn.unstable_batchedUpdates=function(T,g){return T(g)},Fn.useFormState=function(T,g,w){return m.H.useFormState(T,g,w)},Fn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Fn.version="19.2.4",Fn}var tv;function uS(){if(tv)return zd.exports;tv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=lS(),zd.exports}var nv;function cS(){if(nv)return lu;nv=1;var s=oS(),e=jm(),i=uS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(c(t)!==t)throw Error(a(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var f=r.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===r)return T(f),t;if(d===o)return T(f),n;d=d.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=d;else{for(var E=!1,A=f.child;A;){if(A===r){E=!0,r=f,o=d;break}if(A===o){E=!0,o=f,r=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===r){E=!0,r=d,o=f;break}if(A===o){E=!0,o=d,r=f;break}A=A.sibling}if(!E)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function w(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=w(t),n!==null)return n;t=t.sibling}return null}var C=Object.assign,D=Symbol.for("react.element"),J=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),me=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ee:return"Profiler";case z:return"StrictMode";case Re:return"Suspense";case De:return"SuspenseList";case L:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case me:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case de:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case I:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var Et=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},$e=[],Qe=-1;function B(t){return{current:t}}function re(t){0>Qe||(t.current=$e[Qe],$e[Qe]=null,Qe--)}function ye(t,n){Qe++,$e[Qe]=t.current,t.current=n}var Ee=B(null),ze=B(null),Ke=B(null),Je=B(null);function Kt(t,n){switch(ye(Ke,n),ye(ze,t),ye(Ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_y(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_y(n),t=yy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(Ee),ye(Ee,t)}function Ot(){re(Ee),re(ze),re(Ke)}function ms(t){t.memoizedState!==null&&ye(Je,t);var n=Ee.current,r=yy(n,t.type);n!==r&&(ye(ze,t),ye(Ee,r))}function Ea(t){ze.current===t&&(re(Ee),re(ze)),Je.current===t&&(re(Je),iu._currentValue=_e)}var Un,ps;function Bn(t){if(Un===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Un=n&&n[1]||"",ps=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+t+ps}var Ta=!1;function Tt(t,n){if(!t||Ta)return"";Ta=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var K=te}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(te){K=te}t.call(ue.prototype)}}else{try{throw Error()}catch(te){K=te}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&K&&typeof te.stack=="string")return[te.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var M=E.split(`
`),Q=A.split(`
`);for(f=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(o===M.length||f===Q.length)for(o=M.length-1,f=Q.length-1;1<=o&&0<=f&&M[o]!==Q[f];)f--;for(;1<=o&&0<=f;o--,f--)if(M[o]!==Q[f]){if(o!==1||f!==1)do if(o--,f--,0>f||M[o]!==Q[f]){var ae=`
`+M[o].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=o&&0<=f);break}}}finally{Ta=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Bn(r):""}function Us(t,n){switch(t.tag){case 26:case 27:case 5:return Bn(t.type);case 16:return Bn("Lazy");case 13:return t.child!==n&&n!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Tt(t.type,!1);case 11:return Tt(t.type.render,!1);case 1:return Tt(t.type,!0);case 31:return Bn("Activity");default:return""}}function ba(t){try{var n="",r=null;do n+=Us(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var zt=Object.prototype.hasOwnProperty,$t=s.unstable_scheduleCallback,Ei=s.unstable_cancelCallback,Sl=s.unstable_shouldYield,dr=s.unstable_requestPaint,An=s.unstable_now,ts=s.unstable_getCurrentPriorityLevel,ns=s.unstable_ImmediatePriority,Kn=s.unstable_UserBlockingPriority,is=s.unstable_NormalPriority,so=s.unstable_LowPriority,mr=s.unstable_IdlePriority,ao=s.log,ro=s.unstable_setDisableYieldValue,Ti=null,xe=null;function $n(t){if(typeof ao=="function"&&ro(t),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Ti,t)}catch{}}var Vt=Math.clz32?Math.clz32:oo,pr=Math.log,bi=Math.LN2;function oo(t){return t>>>=0,t===0?32:31-(pr(t)/bi|0)|0}var mn=256,gs=262144,Gt=4194304;function Si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pe(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~d,o!==0?f=Si(o):(E&=A,E!==0?f=Si(E):r||(r=A&~t,r!==0&&(f=Si(r))))):(A=o&~d,A!==0?f=Si(A):E!==0?f=Si(E):r||(r=o&~t,r!==0&&(f=Si(r)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:f}function wi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function wl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var t=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ss(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gr(t,n,r,o,f,d){var E=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,M=t.expirationTimes,Q=t.hiddenUpdates;for(r=E&~r;0<r;){var ae=31-Vt(r),ue=1<<ae;A[ae]=0,M[ae]=-1;var K=Q[ae];if(K!==null)for(Q[ae]=null,ae=0;ae<K.length;ae++){var te=K[ae];te!==null&&(te.lane&=-536870913)}r&=~ue}o!==0&&Wn(t,o,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~n))}function Wn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Vt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Sa(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Vt(r),f=1<<o;f&n|t[o]&n&&(t[o]|=n),r&=~f}}function an(t,n){var r=n&-n;return r=(r&42)!==0?1:_s(r),(r&(t.suspendedLanes|n))!==0?0:r}function _s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _r(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:zy(t.type))}function li(t,n){var r=$.p;try{return $.p=t,n()}finally{$.p=r}}var zn=Math.random().toString(36).slice(2),it="__reactFiber$"+zn,Jt="__reactProps$"+zn,Mi="__reactContainer$"+zn,ys="__reactEvents$"+zn,Al="__reactListeners$"+zn,wa="__reactHandles$"+zn,yr="__reactResources$"+zn,Zn="__reactMarker$"+zn;function Aa(t){delete t[it],delete t[Jt],delete t[ys],delete t[Al],delete t[wa]}function en(t){var n=t[it];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Mi]||r[it]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ay(t);t!==null;){if(r=t[it])return r;t=Ay(t)}return n}t=r,r=t.parentNode}return null}function Nn(t){if(t=t[it]||t[Mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ai(t){var n=t[yr];return n||(n=t[yr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xt(t){t[Zn]=!0}var as=new Set,Ra={};function Jn(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Ra[t]=n,t=0;t<n.length;t++)as.add(n[t])}var ji=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},Na={};function vr(t){return zt.call(Na,t)?!0:zt.call(Bs,t)?!1:ji.test(t)?Na[t]=!0:(Bs[t]=!0,!1)}function qs(t,n,r){if(vr(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function ei(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function wt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ge(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vs(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(E){r=""+E,d.call(this,E)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(E){r=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ct(t){if(!t._valueTracker){var n=Pn(t)?"checked":"value";t._valueTracker=vs(t,n,""+t[n])}}function Vi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Pn(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function Hn(t){return t.replace(zs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ui(t,n,r,o,f,d,E,A){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),n!=null?E==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ge(n)):t.value!==""+Ge(n)&&(t.value=""+Ge(n)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),n!=null?Tr(t,E,Ge(n)):r!=null?Tr(t,E,Ge(r)):o!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ge(A):t.removeAttribute("name")}function Er(t,n,r,o,f,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){ct(t);return}r=r!=null?""+Ge(r):"",n=n!=null?""+Ge(n):r,A||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),ct(t)}function Tr(t,n,r){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bi(t,n,r,o){if(t=t.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=n.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ge(r),n=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function br(t,n,r){if(n!=null&&(n=""+Ge(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ge(r):""}function qi(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Et(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ge(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),ct(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Es(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||lo.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ts(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&r[f]!==o&&Es(t,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Es(t,d,n[d])}function ci(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(t){return vn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xn(){}var Sr=null;function Te(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,ni=null;function bs(t){var n=Nn(t);if(n&&(t=n.stateNode)){var r=t[Jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ui(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var f=o[Jt]||null;if(!f)throw Error(a(90));Ui(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Vi(o)}break e;case"textarea":br(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Bi(t,!!r.multiple,n,!1)}}}var Ps=!1;function fi(t,n,r){if(Ps)return t(n,r);Ps=!0;try{var o=t(n);return o}finally{if(Ps=!1,(zi!==null||ni!==null)&&(_c(),zi&&(n=zi,t=ni,ni=zi=null,bs(n),t)))for(n=0;n<t.length;n++)bs(t[n])}}function rn(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Jt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(En)try{var h={};Object.defineProperty(h,"passive",{get:function(){rs=!0}}),window.addEventListener("test",h,h),window.removeEventListener("test",h,h)}catch{rs=!1}var _=null,S=null,R=null;function j(){if(R)return R;var t,n=S,r=n.length,o,f="value"in _?_.value:_.textContent,d=f.length;for(t=0;t<r&&n[t]===f[t];t++);var E=r-t;for(o=1;o<=E&&n[r-o]===f[d-o];o++);return R=f.slice(t,1<o?1-o:void 0)}function G(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ie(){return!0}function we(){return!1}function Oe(t){function n(r,o,f,d,E){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ie:we,this.isPropagationStopped=we,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){},isPersistent:ie}),n}var Ue={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mt=Oe(Ue),Yt=C({},Ue,{view:0,detail:0}),xa=Oe(Yt),Ss,Hs,Pi,Fs=C({},Yt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(Ss=t.screenX-Pi.screenX,Hs=t.screenY-Pi.screenY):Hs=Ss=0,Pi=t),Ss)},movementY:function(t){return"movementY"in t?t.movementY:Hs}}),wr=Oe(Fs),Gs=C({},Fs,{dataTransfer:0}),uo=Oe(Gs),co=C({},Yt,{relatedTarget:0}),Xs=Oe(co),Ar=C({},Ue,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=Oe(Ar),Ia=C({},Ue,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rr=Oe(Ia),ho=C({},Ue,{data:0}),Hi=Oe(ho),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _o(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=go[t])?!!n[t]:!1}function ws(){return _o}var Tn=C({},Yt,{key:function(t){if(t.key){var n=mo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=G(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?G(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?G(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yo=Oe(Tn),vo=C({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=Oe(vo),u=C({},Yt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),y=Oe(u),b=C({},Ue,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Oe(b),X=C({},Fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=Oe(X),ge=C({},Ue,{newState:0,oldState:0}),Pe=Oe(ge),Pt=[9,13,27,32],ft=En&&"CompositionEvent"in window,kt=null;En&&"documentMode"in document&&(kt=document.documentMode);var F=En&&"TextEvent"in window&&!kt,le=En&&(!ft||kt&&8<kt&&11>=kt),ve=" ",Ne=!1;function je(t,n){switch(t){case"keyup":return Pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bn=!1;function hi(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(Ne=!0,ve);case"textInput":return t=n.data,t===ve&&Ne?null:t;default:return null}}function ii(t,n){if(bn)return t==="compositionend"||!ft&&je(t,n)?(t=j(),R=S=_=null,bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return le&&n.locale!=="ko"?null:n.data;default:return null}}var Ni={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eo(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ni[t.type]:n==="textarea"}function As(t,n,r,o){zi?ni?ni.push(o):ni=[o]:zi=o,n=wc(n,"onChange"),0<n.length&&(r=new mt("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Nr=null,Rl=null;function Cb(t){fy(t,0)}function ju(t){var n=Cn(t);if(Vi(n))return t}function Ip(t,n){if(t==="change")return n}var Dp=!1;if(En){var Hf;if(En){var Ff="oninput"in document;if(!Ff){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Ff=typeof Op.oninput=="function"}Hf=Ff}else Hf=!1;Dp=Hf&&(!document.documentMode||9<document.documentMode)}function kp(){Nr&&(Nr.detachEvent("onpropertychange",Lp),Rl=Nr=null)}function Lp(t){if(t.propertyName==="value"&&ju(Rl)){var n=[];As(n,Rl,t,Te(t)),fi(Cb,n)}}function xb(t,n,r){t==="focusin"?(kp(),Nr=n,Rl=r,Nr.attachEvent("onpropertychange",Lp)):t==="focusout"&&kp()}function Ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Rl)}function Db(t,n){if(t==="click")return ju(n)}function Ob(t,n){if(t==="input"||t==="change")return ju(n)}function kb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ci=typeof Object.is=="function"?Object.is:kb;function Nl(t,n){if(Ci(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!zt.call(n,f)||!Ci(t[f],n[f]))return!1}return!0}function Mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,n){var r=Mp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mp(r)}}function Vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ui(t.document)}return n}function Gf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Lb=En&&"documentMode"in document&&11>=document.documentMode,To=null,Xf=null,Cl=null,Yf=!1;function Bp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yf||To==null||To!==ui(o)||(o=To,"selectionStart"in o&&Gf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Cl&&Nl(Cl,o)||(Cl=o,o=wc(Xf,"onSelect"),0<o.length&&(n=new mt("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=To)))}function Cr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var bo={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Qf={},qp={};En&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function xr(t){if(Qf[t])return Qf[t];if(!bo[t])return t;var n=bo[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in qp)return Qf[t]=n[r];return t}var zp=xr("animationend"),Pp=xr("animationiteration"),Hp=xr("animationstart"),Mb=xr("transitionrun"),jb=xr("transitionstart"),Vb=xr("transitioncancel"),Fp=xr("transitionend"),Gp=new Map,Kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kf.push("scrollEnd");function ls(t,n){Gp.set(t,n),Jn(n,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fi=[],So=0,$f=0;function Uu(){for(var t=So,n=$f=So=0;n<t;){var r=Fi[n];Fi[n++]=null;var o=Fi[n];Fi[n++]=null;var f=Fi[n];Fi[n++]=null;var d=Fi[n];if(Fi[n++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}d!==0&&Xp(r,f,d)}}function Bu(t,n,r,o){Fi[So++]=t,Fi[So++]=n,Fi[So++]=r,Fi[So++]=o,$f|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Wf(t,n,r,o){return Bu(t,n,r,o),qu(t)}function Ir(t,n){return Bu(t,null,null,n),qu(t)}function Xp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,d=t.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-Vt(r),t=d.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=r|536870912),d):null}function qu(t){if(50<$l)throw $l=0,rd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wo={};function Ub(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,n,r,o){return new Ub(t,n,r,o)}function Zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ys(t,n){var r=t.alternate;return r===null?(r=xi(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Yp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,r,o,f,d){var E=0;if(o=t,typeof t=="function")Zf(t)&&(E=1);else if(typeof t=="string")E=H1(t,r,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case L:return t=xi(31,r,n,f),t.elementType=L,t.lanes=d,t;case ne:return Dr(r.children,f,d,n);case z:E=8,f|=24;break;case ee:return t=xi(12,r,n,f|2),t.elementType=ee,t.lanes=d,t;case Re:return t=xi(13,r,n,f),t.elementType=Re,t.lanes=d,t;case De:return t=xi(19,r,n,f),t.elementType=De,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:E=10;break e;case he:E=9;break e;case de:E=11;break e;case O:E=14;break e;case I:E=16,o=null;break e}E=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=xi(E,r,n,f),n.elementType=t,n.type=o,n.lanes=d,n}function Dr(t,n,r,o){return t=xi(7,t,o,n),t.lanes=r,t}function Jf(t,n,r){return t=xi(6,t,null,n),t.lanes=r,t}function Qp(t){var n=xi(18,null,null,0);return n.stateNode=t,n}function eh(t,n,r){return n=xi(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Kp=new WeakMap;function Gi(t,n){if(typeof t=="object"&&t!==null){var r=Kp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ba(n)},Kp.set(t,n),n)}return{value:t,source:n,stack:ba(n)}}var Ao=[],Ro=0,Pu=null,xl=0,Xi=[],Yi=0,Da=null,Rs=1,Ns="";function Qs(t,n){Ao[Ro++]=xl,Ao[Ro++]=Pu,Pu=t,xl=n}function $p(t,n,r){Xi[Yi++]=Rs,Xi[Yi++]=Ns,Xi[Yi++]=Da,Da=t;var o=Rs;t=Ns;var f=32-Vt(o)-1;o&=~(1<<f),r+=1;var d=32-Vt(n)+f;if(30<d){var E=f-f%5;d=(o&(1<<E)-1).toString(32),o>>=E,f-=E,Rs=1<<32-Vt(n)+f|r<<f|o,Ns=d+t}else Rs=1<<d|r<<f|o,Ns=t}function th(t){t.return!==null&&(Qs(t,1),$p(t,1,0))}function nh(t){for(;t===Pu;)Pu=Ao[--Ro],Ao[Ro]=null,xl=Ao[--Ro],Ao[Ro]=null;for(;t===Da;)Da=Xi[--Yi],Xi[Yi]=null,Ns=Xi[--Yi],Xi[Yi]=null,Rs=Xi[--Yi],Xi[Yi]=null}function Wp(t,n){Xi[Yi++]=Rs,Xi[Yi++]=Ns,Xi[Yi++]=Da,Rs=n.id,Ns=n.overflow,Da=t}var In=null,Ut=null,ut=!1,Oa=null,Qi=!1,ih=Error(a(519));function ka(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Gi(n,t)),ih}function Zp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[it]=t,n[Jt]=o,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(r=0;r<Zl.length;r++)nt(Zl[r],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":nt("invalid",n),Er(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":nt("invalid",n);break;case"textarea":nt("invalid",n),qi(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||py(n.textContent,r)?(o.popover!=null&&(nt("beforetoggle",n),nt("toggle",n)),o.onScroll!=null&&nt("scroll",n),o.onScrollEnd!=null&&nt("scrollend",n),o.onClick!=null&&(n.onclick=xn),n=!0):n=!1,n||ka(t,!0)}function Jp(t){for(In=t.return;In;)switch(In.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:In=In.return}}function No(t){if(t!==In)return!1;if(!ut)return Jp(t),ut=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Td(t.type,t.memoizedProps)),r=!r),r&&Ut&&ka(t),Jp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ut=wy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ut=wy(t)}else n===27?(n=Ut,Ya(t.type)?(t=Rd,Rd=null,Ut=t):Ut=n):Ut=In?$i(t.stateNode.nextSibling):null;return!0}function Or(){Ut=In=null,ut=!1}function sh(){var t=Oa;return t!==null&&(gi===null?gi=t:gi.push.apply(gi,t),Oa=null),t}function Il(t){Oa===null?Oa=[t]:Oa.push(t)}var ah=B(null),kr=null,Ks=null;function La(t,n,r){ye(ah,n._currentValue),n._currentValue=r}function $s(t){t._currentValue=ah.current,re(ah)}function rh(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function oh(t,n,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var M=0;M<n.length;M++)if(A.context===n[M]){d.lanes|=r,A=d.alternate,A!==null&&(A.lanes|=r),rh(d.return,r,t),o||(E=null);break e}d=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=r,d=E.alternate,d!==null&&(d.lanes|=r),rh(E,r,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Co(t,n,r,o){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var A=f.type;Ci(f.pendingProps.value,E.value)||(t!==null?t.push(A):t=[A])}}else if(f===Je.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(iu):t=[iu])}f=f.return}t!==null&&oh(n,t,r,o),n.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!Ci(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){kr=t,Ks=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dn(t){return eg(kr,t)}function Fu(t,n){return kr===null&&Lr(t),eg(t,n)}function eg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ks===null){if(t===null)throw Error(a(308));Ks=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ks=Ks.next=n;return r}var Bb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},qb=s.unstable_scheduleCallback,zb=s.unstable_NormalPriority,on={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new Bb,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&qb(zb,function(){t.controller.abort()})}var Ol=null,uh=0,xo=0,Io=null;function Pb(t,n){if(Ol===null){var r=Ol=[];uh=0,xo=hd(),Io={status:"pending",value:void 0,then:function(o){r.push(o)}}}return uh++,n.then(tg,tg),n}function tg(){if(--uh===0&&Ol!==null){Io!==null&&(Io.status="fulfilled");var t=Ol;Ol=null,xo=0,Io=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Hb(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var ng=P.S;P.S=function(t,n){B_=An(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Pb(t,n),ng!==null&&ng(t,n)};var Mr=B(null);function ch(){var t=Mr.current;return t!==null?t:Lt.pooledCache}function Gu(t,n){n===null?ye(Mr,Mr.current):ye(Mr,n.pool)}function ig(){var t=ch();return t===null?null:{parent:on._currentValue,pool:t}}var Do=Error(a(460)),fh=Error(a(474)),Xu=Error(a(542)),Yu={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ag(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xn,xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,og(t),t;default:if(typeof n.status=="string")n.then(xn,xn);else{if(t=Lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,og(t),t}throw Vr=n,Do}}function jr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vr=r,Do):r}}var Vr=null;function rg(){if(Vr===null)throw Error(a(459));var t=Vr;return Vr=null,t}function og(t){if(t===Do||t===Xu)throw Error(a(483))}var Oo=null,kl=0;function Qu(t){var n=kl;return kl+=1,Oo===null&&(Oo=[]),ag(Oo,t,n)}function Ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function lg(t){function n(H,q){if(t){var Y=H.deletions;Y===null?(H.deletions=[q],H.flags|=16):Y.push(q)}}function r(H,q){if(!t)return null;for(;q!==null;)n(H,q),q=q.sibling;return null}function o(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function f(H,q){return H=Ys(H,q),H.index=0,H.sibling=null,H}function d(H,q,Y){return H.index=Y,t?(Y=H.alternate,Y!==null?(Y=Y.index,Y<q?(H.flags|=67108866,q):Y):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function E(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function A(H,q,Y,oe){return q===null||q.tag!==6?(q=Jf(Y,H.mode,oe),q.return=H,q):(q=f(q,Y),q.return=H,q)}function M(H,q,Y,oe){var ke=Y.type;return ke===ne?ae(H,q,Y.props.children,oe,Y.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&jr(ke)===q.type)?(q=f(q,Y.props),Ll(q,Y),q.return=H,q):(q=zu(Y.type,Y.key,Y.props,null,H.mode,oe),Ll(q,Y),q.return=H,q)}function Q(H,q,Y,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=eh(Y,H.mode,oe),q.return=H,q):(q=f(q,Y.children||[]),q.return=H,q)}function ae(H,q,Y,oe,ke){return q===null||q.tag!==7?(q=Dr(Y,H.mode,oe,ke),q.return=H,q):(q=f(q,Y),q.return=H,q)}function ue(H,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Jf(""+q,H.mode,Y),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case J:return Y=zu(q.type,q.key,q.props,null,H.mode,Y),Ll(Y,q),Y.return=H,Y;case W:return q=eh(q,H.mode,Y),q.return=H,q;case I:return q=jr(q),ue(H,q,Y)}if(Et(q)||U(q))return q=Dr(q,H.mode,Y,null),q.return=H,q;if(typeof q.then=="function")return ue(H,Qu(q),Y);if(q.$$typeof===me)return ue(H,Fu(H,q),Y);Ku(H,q)}return null}function K(H,q,Y,oe){var ke=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ke!==null?null:A(H,q,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case J:return Y.key===ke?M(H,q,Y,oe):null;case W:return Y.key===ke?Q(H,q,Y,oe):null;case I:return Y=jr(Y),K(H,q,Y,oe)}if(Et(Y)||U(Y))return ke!==null?null:ae(H,q,Y,oe,null);if(typeof Y.then=="function")return K(H,q,Qu(Y),oe);if(Y.$$typeof===me)return K(H,q,Fu(H,Y),oe);Ku(H,Y)}return null}function te(H,q,Y,oe,ke){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return H=H.get(Y)||null,A(q,H,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case J:return H=H.get(oe.key===null?Y:oe.key)||null,M(q,H,oe,ke);case W:return H=H.get(oe.key===null?Y:oe.key)||null,Q(q,H,oe,ke);case I:return oe=jr(oe),te(H,q,Y,oe,ke)}if(Et(oe)||U(oe))return H=H.get(Y)||null,ae(q,H,oe,ke,null);if(typeof oe.then=="function")return te(H,q,Y,Qu(oe),ke);if(oe.$$typeof===me)return te(H,q,Y,Fu(q,oe),ke);Ku(q,oe)}return null}function Ae(H,q,Y,oe){for(var ke=null,pt=null,Ce=q,Ze=q=0,rt=null;Ce!==null&&Ze<Y.length;Ze++){Ce.index>Ze?(rt=Ce,Ce=null):rt=Ce.sibling;var gt=K(H,Ce,Y[Ze],oe);if(gt===null){Ce===null&&(Ce=rt);break}t&&Ce&&gt.alternate===null&&n(H,Ce),q=d(gt,q,Ze),pt===null?ke=gt:pt.sibling=gt,pt=gt,Ce=rt}if(Ze===Y.length)return r(H,Ce),ut&&Qs(H,Ze),ke;if(Ce===null){for(;Ze<Y.length;Ze++)Ce=ue(H,Y[Ze],oe),Ce!==null&&(q=d(Ce,q,Ze),pt===null?ke=Ce:pt.sibling=Ce,pt=Ce);return ut&&Qs(H,Ze),ke}for(Ce=o(Ce);Ze<Y.length;Ze++)rt=te(Ce,H,Ze,Y[Ze],oe),rt!==null&&(t&&rt.alternate!==null&&Ce.delete(rt.key===null?Ze:rt.key),q=d(rt,q,Ze),pt===null?ke=rt:pt.sibling=rt,pt=rt);return t&&Ce.forEach(function(Za){return n(H,Za)}),ut&&Qs(H,Ze),ke}function Ve(H,q,Y,oe){if(Y==null)throw Error(a(151));for(var ke=null,pt=null,Ce=q,Ze=q=0,rt=null,gt=Y.next();Ce!==null&&!gt.done;Ze++,gt=Y.next()){Ce.index>Ze?(rt=Ce,Ce=null):rt=Ce.sibling;var Za=K(H,Ce,gt.value,oe);if(Za===null){Ce===null&&(Ce=rt);break}t&&Ce&&Za.alternate===null&&n(H,Ce),q=d(Za,q,Ze),pt===null?ke=Za:pt.sibling=Za,pt=Za,Ce=rt}if(gt.done)return r(H,Ce),ut&&Qs(H,Ze),ke;if(Ce===null){for(;!gt.done;Ze++,gt=Y.next())gt=ue(H,gt.value,oe),gt!==null&&(q=d(gt,q,Ze),pt===null?ke=gt:pt.sibling=gt,pt=gt);return ut&&Qs(H,Ze),ke}for(Ce=o(Ce);!gt.done;Ze++,gt=Y.next())gt=te(Ce,H,Ze,gt.value,oe),gt!==null&&(t&&gt.alternate!==null&&Ce.delete(gt.key===null?Ze:gt.key),q=d(gt,q,Ze),pt===null?ke=gt:pt.sibling=gt,pt=gt);return t&&Ce.forEach(function(eS){return n(H,eS)}),ut&&Qs(H,Ze),ke}function Dt(H,q,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===ne&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case J:e:{for(var ke=Y.key;q!==null;){if(q.key===ke){if(ke=Y.type,ke===ne){if(q.tag===7){r(H,q.sibling),oe=f(q,Y.props.children),oe.return=H,H=oe;break e}}else if(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&jr(ke)===q.type){r(H,q.sibling),oe=f(q,Y.props),Ll(oe,Y),oe.return=H,H=oe;break e}r(H,q);break}else n(H,q);q=q.sibling}Y.type===ne?(oe=Dr(Y.props.children,H.mode,oe,Y.key),oe.return=H,H=oe):(oe=zu(Y.type,Y.key,Y.props,null,H.mode,oe),Ll(oe,Y),oe.return=H,H=oe)}return E(H);case W:e:{for(ke=Y.key;q!==null;){if(q.key===ke)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){r(H,q.sibling),oe=f(q,Y.children||[]),oe.return=H,H=oe;break e}else{r(H,q);break}else n(H,q);q=q.sibling}oe=eh(Y,H.mode,oe),oe.return=H,H=oe}return E(H);case I:return Y=jr(Y),Dt(H,q,Y,oe)}if(Et(Y))return Ae(H,q,Y,oe);if(U(Y)){if(ke=U(Y),typeof ke!="function")throw Error(a(150));return Y=ke.call(Y),Ve(H,q,Y,oe)}if(typeof Y.then=="function")return Dt(H,q,Qu(Y),oe);if(Y.$$typeof===me)return Dt(H,q,Fu(H,Y),oe);Ku(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(r(H,q.sibling),oe=f(q,Y),oe.return=H,H=oe):(r(H,q),oe=Jf(Y,H.mode,oe),oe.return=H,H=oe),E(H)):r(H,q)}return function(H,q,Y,oe){try{kl=0;var ke=Dt(H,q,Y,oe);return Oo=null,ke}catch(Ce){if(Ce===Do||Ce===Xu)throw Ce;var pt=xi(29,Ce,null,H.mode);return pt.lanes=oe,pt.return=H,pt}}}var Ur=lg(!0),ug=lg(!1),Ma=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ja(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Va(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(_t&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=qu(t),Xp(t,null,r),n}return Bu(t,o,n,r),qu(t)}function Ml(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Sa(t,r)}}function mh(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,r=r.next}while(r!==null);d===null?f=d=n:d=d.next=n}else f=d=n;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ph=!1;function jl(){if(ph){var t=Io;if(t!==null)throw t}}function Vl(t,n,r,o){ph=!1;var f=t.updateQueue;Ma=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var M=A,Q=M.next;M.next=null,E===null?d=Q:E.next=Q,E=M;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==E&&(A===null?ae.firstBaseUpdate=Q:A.next=Q,ae.lastBaseUpdate=M))}if(d!==null){var ue=f.baseState;E=0,ae=Q=M=null,A=d;do{var K=A.lane&-536870913,te=K!==A.lane;if(te?(at&K)===K:(o&K)===K){K!==0&&K===xo&&(ph=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ae=t,Ve=A;K=n;var Dt=r;switch(Ve.tag){case 1:if(Ae=Ve.payload,typeof Ae=="function"){ue=Ae.call(Dt,ue,K);break e}ue=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ve.payload,K=typeof Ae=="function"?Ae.call(Dt,ue,K):Ae,K==null)break e;ue=C({},ue,K);break e;case 2:Ma=!0}}K=A.callback,K!==null&&(t.flags|=64,te&&(t.flags|=8192),te=f.callbacks,te===null?f.callbacks=[K]:te.push(K))}else te={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(Q=ae=te,M=ue):ae=ae.next=te,E|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;te=A,A=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);ae===null&&(M=ue),f.baseState=M,f.firstBaseUpdate=Q,f.lastBaseUpdate=ae,d===null&&(f.shared.lanes=0),Pa|=E,t.lanes=E,t.memoizedState=ue}}function cg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function fg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cg(r[t],n)}var ko=B(null),$u=B(0);function hg(t,n){t=aa,ye($u,t),ye(ko,n),aa=t|n.baseLanes}function gh(){ye($u,aa),ye(ko,ko.current)}function _h(){aa=$u.current,re(ko),re($u)}var Ii=B(null),Ki=null;function Ua(t){var n=t.alternate;ye(tn,tn.current&1),ye(Ii,t),Ki===null&&(n===null||ko.current!==null||n.memoizedState!==null)&&(Ki=t)}function yh(t){ye(tn,tn.current),ye(Ii,t),Ki===null&&(Ki=t)}function dg(t){t.tag===22?(ye(tn,tn.current),ye(Ii,t),Ki===null&&(Ki=t)):Ba()}function Ba(){ye(tn,tn.current),ye(Ii,Ii.current)}function Di(t){re(Ii),Ki===t&&(Ki=null),re(tn)}var tn=B(0);function Wu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ws=0,We=null,xt=null,ln=null,Zu=!1,Lo=!1,Br=!1,Ju=0,Ul=0,Mo=null,Fb=0;function Wt(){throw Error(a(321))}function vh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ci(t[r],n[r]))return!1;return!0}function Eh(t,n,r,o,f,d){return Ws=d,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=t===null||t.memoizedState===null?$g:Mh,Br=!1,d=r(o,f),Br=!1,Lo&&(d=pg(n,r,o,f)),mg(t),d}function mg(t){P.H=zl;var n=xt!==null&&xt.next!==null;if(Ws=0,ln=xt=We=null,Zu=!1,Ul=0,Mo=null,n)throw Error(a(300));t===null||un||(t=t.dependencies,t!==null&&Hu(t)&&(un=!0))}function pg(t,n,r,o){We=t;var f=0;do{if(Lo&&(Mo=null),Ul=0,Lo=!1,25<=f)throw Error(a(301));if(f+=1,ln=xt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=Wg,d=n(r,o)}while(Lo);return d}function Gb(){var t=P.H,n=t.useState()[0];return n=typeof n.then=="function"?Bl(n):n,t=t.useState()[0],(xt!==null?xt.memoizedState:null)!==t&&(We.flags|=1024),n}function Th(){var t=Ju!==0;return Ju=0,t}function bh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Sh(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}Ws=0,ln=xt=We=null,Lo=!1,Ul=Ju=0,Mo=null}function si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?We.memoizedState=ln=t:ln=ln.next=t,ln}function nn(){if(xt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var n=ln===null?We.memoizedState:ln.next;if(n!==null)ln=n,xt=t;else{if(t===null)throw We.alternate===null?Error(a(467)):Error(a(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},ln===null?We.memoizedState=ln=t:ln=ln.next=t}return ln}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var n=Ul;return Ul+=1,Mo===null&&(Mo=[]),t=ag(Mo,t,n),n=We,(ln===null?n.memoizedState:ln.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?$g:Mh),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===me)return Dn(t)}throw Error(a(438,String(t)))}function wh(t){var n=null,r=We.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=We.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ec(),We.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function Zs(t,n){return typeof n=="function"?n(t):n}function nc(t){var n=nn();return Ah(n,xt,t)}function Ah(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,d=o.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}n.baseQueue=f=d,o.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var A=E=null,M=null,Q=n,ae=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(at&ue)===ue:(Ws&ue)===ue){var K=Q.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===xo&&(ae=!0);else if((Ws&K)===K){Q=Q.next,K===xo&&(ae=!0);continue}else ue={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},M===null?(A=M=ue,E=d):M=M.next=ue,We.lanes|=K,Pa|=K;ue=Q.action,Br&&r(d,ue),d=Q.hasEagerState?Q.eagerState:r(d,ue)}else K={lane:ue,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},M===null?(A=M=K,E=d):M=M.next=K,We.lanes|=ue,Pa|=ue;Q=Q.next}while(Q!==null&&Q!==n);if(M===null?E=d:M.next=A,!Ci(d,t.memoizedState)&&(un=!0,ae&&(r=Io,r!==null)))throw r;t.memoizedState=d,t.baseState=E,t.baseQueue=M,o.lastRenderedState=d}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Rh(t){var n=nn(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,d=n.memoizedState;if(f!==null){r.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);Ci(d,n.memoizedState)||(un=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,o]}function gg(t,n,r){var o=We,f=nn(),d=ut;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var E=!Ci((xt||f).memoizedState,r);if(E&&(f.memoizedState=r,un=!0),f=f.queue,xh(vg.bind(null,o,f,t),[t]),f.getSnapshot!==n||E||ln!==null&&ln.memoizedState.tag&1){if(o.flags|=2048,jo(9,{destroy:void 0},yg.bind(null,o,f,r,n),null),Lt===null)throw Error(a(349));d||(Ws&127)!==0||_g(o,n,r)}return r}function _g(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=We.updateQueue,n===null?(n=ec(),We.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function yg(t,n,r,o){n.value=r,n.getSnapshot=o,Eg(n)&&Tg(t)}function vg(t,n,r){return r(function(){Eg(n)&&Tg(t)})}function Eg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ci(t,r)}catch{return!0}}function Tg(t){var n=Ir(t,2);n!==null&&_i(n,t,2)}function Nh(t){var n=si();if(typeof t=="function"){var r=t;if(t=r(),Br){$n(!0);try{r()}finally{$n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:t},n}function bg(t,n,r,o){return t.baseState=r,Ah(t,xt,typeof o=="function"?o:Zs)}function Xb(t,n,r,o,f){if(ac(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};P.T!==null?r(!0):d.isTransition=!1,o(d),r=n.pending,r===null?(d.next=n.pending=d,Sg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Sg(t,n){var r=n.action,o=n.payload,f=t.state;if(n.isTransition){var d=P.T,E={};P.T=E;try{var A=r(f,o),M=P.S;M!==null&&M(E,A),wg(t,n,A)}catch(Q){Ch(t,n,Q)}finally{d!==null&&E.types!==null&&(d.types=E.types),P.T=d}}else try{d=r(f,o),wg(t,n,d)}catch(Q){Ch(t,n,Q)}}function wg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ag(t,n,o)},function(o){return Ch(t,n,o)}):Ag(t,n,r)}function Ag(t,n,r){n.status="fulfilled",n.value=r,Rg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sg(t,r)))}function Ch(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Rg(n),n=n.next;while(n!==o)}t.action=null}function Rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function Cg(t,n){if(ut){var r=Lt.formState;if(r!==null){e:{var o=We;if(ut){if(Ut){t:{for(var f=Ut,d=Qi;f.nodeType!==8;){if(!d){f=null;break t}if(f=$i(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ut=$i(f.nextSibling),o=f.data==="F!";break e}}ka(o)}o=!1}o&&(n=r[0])}}return r=si(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},r.queue=o,r=Yg.bind(null,We,o),o.dispatch=r,o=Nh(!1),d=Lh.bind(null,We,!1,o.queue),o=si(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,r=Xb.bind(null,We,f,d,r),f.dispatch=r,o.memoizedState=t,[n,r,!1]}function xg(t){var n=nn();return Ig(n,xt,t)}function Ig(t,n,r){if(n=Ah(t,n,Ng)[0],t=nc(Zs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Bl(n)}catch(E){throw E===Do?Xu:E}else o=n;n=nn();var f=n.queue,d=f.dispatch;return r!==n.memoizedState&&(We.flags|=2048,jo(9,{destroy:void 0},Yb.bind(null,f,r),null)),[o,d,t]}function Yb(t,n){t.action=n}function Dg(t){var n=nn(),r=xt;if(r!==null)return Ig(n,r,t);nn(),n=n.memoizedState,r=nn();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function jo(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=We.updateQueue,n===null&&(n=ec(),We.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Og(){return nn().memoizedState}function ic(t,n,r,o){var f=si();We.flags|=t,f.memoizedState=jo(1|n,{destroy:void 0},r,o===void 0?null:o)}function sc(t,n,r,o){var f=nn();o=o===void 0?null:o;var d=f.memoizedState.inst;xt!==null&&o!==null&&vh(o,xt.memoizedState.deps)?f.memoizedState=jo(n,d,r,o):(We.flags|=t,f.memoizedState=jo(1|n,d,r,o))}function kg(t,n){ic(8390656,8,t,n)}function xh(t,n){sc(2048,8,t,n)}function Qb(t){We.flags|=4;var n=We.updateQueue;if(n===null)n=ec(),We.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Lg(t){var n=nn().memoizedState;return Qb({ref:n,nextImpl:t}),function(){if((_t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Mg(t,n){return sc(4,2,t,n)}function jg(t,n){return sc(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ug(t,n,r){r=r!=null?r.concat([t]):null,sc(4,4,Vg.bind(null,n,t),r)}function Ih(){}function Bg(t,n){var r=nn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&vh(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function qg(t,n){var r=nn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&vh(n,o[1]))return o[0];if(o=t(),Br){$n(!0);try{t()}finally{$n(!1)}}return r.memoizedState=[o,n],o}function Dh(t,n,r){return r===void 0||(Ws&1073741824)!==0&&(at&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=z_(),We.lanes|=t,Pa|=t,r)}function zg(t,n,r,o){return Ci(r,n)?r:ko.current!==null?(t=Dh(t,r,o),Ci(t,n)||(un=!0),t):(Ws&42)===0||(Ws&1073741824)!==0&&(at&261930)===0?(un=!0,t.memoizedState=r):(t=z_(),We.lanes|=t,Pa|=t,n)}function Pg(t,n,r,o,f){var d=$.p;$.p=d!==0&&8>d?d:8;var E=P.T,A={};P.T=A,Lh(t,!1,n,r);try{var M=f(),Q=P.S;if(Q!==null&&Q(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ae=Hb(M,o);ql(t,n,ae,Li(t))}else ql(t,n,o,Li(t))}catch(ue){ql(t,n,{then:function(){},status:"rejected",reason:ue},Li())}finally{$.p=d,E!==null&&A.types!==null&&(E.types=A.types),P.T=E}}function Kb(){}function Oh(t,n,r,o){if(t.tag!==5)throw Error(a(476));var f=Hg(t).queue;Pg(t,f,n,_e,r===null?Kb:function(){return Fg(t),r(o)})}function Hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:_e},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Fg(t){var n=Hg(t);n.next===null&&(n=t.alternate.memoizedState),ql(t,n.next.queue,{},Li())}function kh(){return Dn(iu)}function Gg(){return nn().memoizedState}function Xg(){return nn().memoizedState}function $b(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Li();t=ja(r);var o=Va(n,t,r);o!==null&&(_i(o,n,r),Ml(o,n,r)),n={cache:lh()},t.payload=n;return}n=n.return}}function Wb(t,n,r){var o=Li();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ac(t)?Qg(n,r):(r=Wf(t,n,r,o),r!==null&&(_i(r,t,o),Kg(r,n,o)))}function Yg(t,n,r){var o=Li();ql(t,n,r,o)}function ql(t,n,r,o){var f={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Qg(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var E=n.lastRenderedState,A=d(E,r);if(f.hasEagerState=!0,f.eagerState=A,Ci(A,E))return Bu(t,n,f,0),Lt===null&&Uu(),!1}catch{}if(r=Wf(t,n,f,o),r!==null)return _i(r,t,o),Kg(r,n,o),!0}return!1}function Lh(t,n,r,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(n)throw Error(a(479))}else n=Wf(t,r,o,2),n!==null&&_i(n,t,2)}function ac(t){var n=t.alternate;return t===We||n!==null&&n===We}function Qg(t,n){Lo=Zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Kg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Sa(t,r)}}var zl={readContext:Dn,use:tc,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};zl.useEffectEvent=Wt;var $g={readContext:Dn,use:tc,useCallback:function(t,n){return si().memoizedState=[t,n===void 0?null:n],t},useContext:Dn,useEffect:kg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ic(4194308,4,Vg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ic(4194308,4,t,n)},useInsertionEffect:function(t,n){ic(4,2,t,n)},useMemo:function(t,n){var r=si();n=n===void 0?null:n;var o=t();if(Br){$n(!0);try{t()}finally{$n(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=si();if(r!==void 0){var f=r(n);if(Br){$n(!0);try{r(n)}finally{$n(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Wb.bind(null,We,t),[o.memoizedState,t]},useRef:function(t){var n=si();return t={current:t},n.memoizedState=t},useState:function(t){t=Nh(t);var n=t.queue,r=Yg.bind(null,We,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ih,useDeferredValue:function(t,n){var r=si();return Dh(r,t,n)},useTransition:function(){var t=Nh(!1);return t=Pg.bind(null,We,t.queue,!0,!1),si().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=We,f=si();if(ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Lt===null)throw Error(a(349));(at&127)!==0||_g(o,n,r)}f.memoizedState=r;var d={value:r,getSnapshot:n};return f.queue=d,kg(vg.bind(null,o,d,t),[t]),o.flags|=2048,jo(9,{destroy:void 0},yg.bind(null,o,d,r,n),null),r},useId:function(){var t=si(),n=Lt.identifierPrefix;if(ut){var r=Ns,o=Rs;r=(o&~(1<<32-Vt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Fb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kh,useFormState:Cg,useActionState:Cg,useOptimistic:function(t){var n=si();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lh.bind(null,We,!0,r),r.dispatch=n,[t,n]},useMemoCache:wh,useCacheRefresh:function(){return si().memoizedState=$b.bind(null,We)},useEffectEvent:function(t){var n=si(),r={impl:t};return n.memoizedState=r,function(){if((_t&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mh={readContext:Dn,use:tc,useCallback:Bg,useContext:Dn,useEffect:xh,useImperativeHandle:Ug,useInsertionEffect:Mg,useLayoutEffect:jg,useMemo:qg,useReducer:nc,useRef:Og,useState:function(){return nc(Zs)},useDebugValue:Ih,useDeferredValue:function(t,n){var r=nn();return zg(r,xt.memoizedState,t,n)},useTransition:function(){var t=nc(Zs)[0],n=nn().memoizedState;return[typeof t=="boolean"?t:Bl(t),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:kh,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=nn();return bg(r,xt,t,n)},useMemoCache:wh,useCacheRefresh:Xg};Mh.useEffectEvent=Lg;var Wg={readContext:Dn,use:tc,useCallback:Bg,useContext:Dn,useEffect:xh,useImperativeHandle:Ug,useInsertionEffect:Mg,useLayoutEffect:jg,useMemo:qg,useReducer:Rh,useRef:Og,useState:function(){return Rh(Zs)},useDebugValue:Ih,useDeferredValue:function(t,n){var r=nn();return xt===null?Dh(r,t,n):zg(r,xt.memoizedState,t,n)},useTransition:function(){var t=Rh(Zs)[0],n=nn().memoizedState;return[typeof t=="boolean"?t:Bl(t),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:kh,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var r=nn();return xt!==null?bg(r,xt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:wh,useCacheRefresh:Xg};Wg.useEffectEvent=Lg;function jh(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:C({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vh={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Li(),f=ja(o);f.payload=n,r!=null&&(f.callback=r),n=Va(t,f,o),n!==null&&(_i(n,t,o),Ml(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Li(),f=ja(o);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=Va(t,f,o),n!==null&&(_i(n,t,o),Ml(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Li(),o=ja(r);o.tag=2,n!=null&&(o.callback=n),n=Va(t,o,r),n!==null&&(_i(n,t,r),Ml(n,t,r))}};function Zg(t,n,r,o,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,E):n.prototype&&n.prototype.isPureReactComponent?!Nl(r,o)||!Nl(f,d):!0}function Jg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Vh.enqueueReplaceState(n,n.state,null)}function qr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=C({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}function e_(t){Vu(t)}function t_(t){console.error(t)}function n_(t){Vu(t)}function rc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function i_(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Uh(t,n,r){return r=ja(r),r.tag=3,r.payload={element:null},r.callback=function(){rc(t,n)},r}function s_(t){return t=ja(t),t.tag=3,t}function a_(t,n,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;t.payload=function(){return f(d)},t.callback=function(){i_(n,r,o)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){i_(n,r,o),typeof f!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function Zb(t,n,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Co(n,r,f,!0),r=Ii.current,r!==null){switch(r.tag){case 31:case 13:return Ki===null?yc():r.alternate===null&&Zt===0&&(Zt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Yu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ud(t,o,f)),!1;case 22:return r.flags|=65536,o===Yu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ud(t,o,f)),!1}throw Error(a(435,r.tag))}return ud(t,o,f),yc(),!1}if(ut)return n=Ii.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==ih&&(t=Error(a(422),{cause:o}),Il(Gi(t,r)))):(o!==ih&&(n=Error(a(423),{cause:o}),Il(Gi(n,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Gi(o,r),f=Uh(t.stateNode,o,f),mh(t,f),Zt!==4&&(Zt=2)),!1;var d=Error(a(520),{cause:o});if(d=Gi(d,r),Kl===null?Kl=[d]:Kl.push(d),Zt!==4&&(Zt=2),n===null)return!0;o=Gi(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=Uh(r.stateNode,o,t),mh(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ha===null||!Ha.has(d))))return r.flags|=65536,f&=-f,r.lanes|=f,f=s_(f),a_(f,t,r,o),mh(r,f),!1}r=r.return}while(r!==null);return!1}var Bh=Error(a(461)),un=!1;function On(t,n,r,o){n.child=t===null?ug(n,null,r,o):Ur(n,t.child,r,o)}function r_(t,n,r,o,f){r=r.render;var d=n.ref;if("ref"in o){var E={};for(var A in o)A!=="ref"&&(E[A]=o[A])}else E=o;return Lr(n),o=Eh(t,n,r,E,d,f),A=Th(),t!==null&&!un?(bh(t,n,f),Js(t,n,f)):(ut&&A&&th(n),n.flags|=1,On(t,n,o,f),n.child)}function o_(t,n,r,o,f){if(t===null){var d=r.type;return typeof d=="function"&&!Zf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,l_(t,n,d,o,f)):(t=zu(r.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Yh(t,f)){var E=d.memoizedProps;if(r=r.compare,r=r!==null?r:Nl,r(E,o)&&t.ref===n.ref)return Js(t,n,f)}return n.flags|=1,t=Ys(d,o),t.ref=n.ref,t.return=n,n.child=t}function l_(t,n,r,o,f){if(t!==null){var d=t.memoizedProps;if(Nl(d,o)&&t.ref===n.ref)if(un=!1,n.pendingProps=o=d,Yh(t,f))(t.flags&131072)!==0&&(un=!0);else return n.lanes=t.lanes,Js(t,n,f)}return qh(t,n,r,o,f)}function u_(t,n,r,o){var f=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,n.child=null;return c_(t,n,d,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(n,d!==null?d.cachePool:null),d!==null?hg(n,d):gh(),dg(n);else return o=n.lanes=536870912,c_(t,n,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(Gu(n,d.cachePool),hg(n,d),Ba(),n.memoizedState=null):(t!==null&&Gu(n,null),gh(),Ba());return On(t,n,f,r),n.child}function Pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function c_(t,n,r,o,f){var d=ch();return d=d===null?null:{parent:on._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Gu(n,null),gh(),dg(n),t!==null&&Co(t,n,o,!0),n.childLanes=f,null}function oc(t,n){return n=uc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function f_(t,n,r){return Ur(n,t.child,null,r),t=oc(n,n.pendingProps),t.flags|=2,Di(n),n.memoizedState=null,t}function Jb(t,n,r){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ut){if(o.mode==="hidden")return t=oc(n,o),n.lanes=536870912,Pl(null,t);if(yh(n),(t=Ut)?(t=Sy(t,Qi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Da!==null?{id:Rs,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},r=Qp(t),r.return=n,n.child=r,In=n,Ut=null)):t=null,t===null)throw ka(n);return n.lanes=536870912,null}return oc(n,o)}var d=t.memoizedState;if(d!==null){var E=d.dehydrated;if(yh(n),f)if(n.flags&256)n.flags&=-257,n=f_(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(un||Co(t,n,r,!1),f=(r&t.childLanes)!==0,un||f){if(o=Lt,o!==null&&(E=an(o,r),E!==0&&E!==d.retryLane))throw d.retryLane=E,Ir(t,E),_i(o,t,E),Bh;yc(),n=f_(t,n,r)}else t=d.treeContext,Ut=$i(E.nextSibling),In=n,ut=!0,Oa=null,Qi=!1,t!==null&&Wp(n,t),n=oc(n,o),n.flags|=4096;return n}return t=Ys(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qh(t,n,r,o,f){return Lr(n),r=Eh(t,n,r,o,void 0,f),o=Th(),t!==null&&!un?(bh(t,n,f),Js(t,n,f)):(ut&&o&&th(n),n.flags|=1,On(t,n,r,f),n.child)}function h_(t,n,r,o,f,d){return Lr(n),n.updateQueue=null,r=pg(n,o,r,f),mg(t),o=Th(),t!==null&&!un?(bh(t,n,d),Js(t,n,d)):(ut&&o&&th(n),n.flags|=1,On(t,n,r,d),n.child)}function d_(t,n,r,o,f){if(Lr(n),n.stateNode===null){var d=wo,E=r.contextType;typeof E=="object"&&E!==null&&(d=Dn(E)),d=new r(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},hh(n),E=r.contextType,d.context=typeof E=="object"&&E!==null?Dn(E):wo,d.state=n.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(jh(n,r,E,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Vh.enqueueReplaceState(d,d.state,null),Vl(n,o,d,f),jl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var A=n.memoizedProps,M=qr(r,A);d.props=M;var Q=d.context,ae=r.contextType;E=wo,typeof ae=="object"&&ae!==null&&(E=Dn(ae));var ue=r.getDerivedStateFromProps;ae=typeof ue=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,ae||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||Q!==E)&&Jg(n,d,o,E),Ma=!1;var K=n.memoizedState;d.state=K,Vl(n,o,d,f),jl(),Q=n.memoizedState,A||K!==Q||Ma?(typeof ue=="function"&&(jh(n,r,ue,o),Q=n.memoizedState),(M=Ma||Zg(n,r,M,o,K,Q,E))?(ae||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Q),d.props=o,d.state=Q,d.context=E,o=M):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,dh(t,n),E=n.memoizedProps,ae=qr(r,E),d.props=ae,ue=n.pendingProps,K=d.context,Q=r.contextType,M=wo,typeof Q=="object"&&Q!==null&&(M=Dn(Q)),A=r.getDerivedStateFromProps,(Q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ue||K!==M)&&Jg(n,d,o,M),Ma=!1,K=n.memoizedState,d.state=K,Vl(n,o,d,f),jl();var te=n.memoizedState;E!==ue||K!==te||Ma||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof A=="function"&&(jh(n,r,A,o),te=n.memoizedState),(ae=Ma||Zg(n,r,ae,o,K,te,M)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,te,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,te,M)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=te),d.props=o,d.state=te,d.context=M,o=ae):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,lc(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Ur(n,t.child,null,f),n.child=Ur(n,null,r,f)):On(t,n,r,f),n.memoizedState=d.state,t=n.child):t=Js(t,n,f),t}function m_(t,n,r,o){return Or(),n.flags|=256,On(t,n,r,o),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(t){return{baseLanes:t,cachePool:ig()}}function Hh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=ki),t}function p_(t,n,r){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),E&&(f=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,t===null){if(ut){if(f?Ua(n):Ba(),(t=Ut)?(t=Sy(t,Qi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Da!==null?{id:Rs,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},r=Qp(t),r.return=n,n.child=r,In=n,Ut=null)):t=null,t===null)throw ka(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var A=o.children;return o=o.fallback,f?(Ba(),f=n.mode,A=uc({mode:"hidden",children:A},f),o=Dr(o,f,r,null),A.return=n,o.return=n,A.sibling=o,n.child=A,o=n.child,o.memoizedState=Ph(r),o.childLanes=Hh(t,E,r),n.memoizedState=zh,Pl(null,o)):(Ua(n),Fh(n,A))}var M=t.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(d)n.flags&256?(Ua(n),n.flags&=-257,n=Gh(t,n,r)):n.memoizedState!==null?(Ba(),n.child=t.child,n.flags|=128,n=null):(Ba(),A=o.fallback,f=n.mode,o=uc({mode:"visible",children:o.children},f),A=Dr(A,f,r,null),A.flags|=2,o.return=n,A.return=n,o.sibling=A,n.child=o,Ur(n,t.child,null,r),o=n.child,o.memoizedState=Ph(r),o.childLanes=Hh(t,E,r),n.memoizedState=zh,n=Pl(null,o));else if(Ua(n),Ad(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Q=E.dgst;E=Q,o=Error(a(419)),o.stack="",o.digest=E,Il({value:o,source:null,stack:null}),n=Gh(t,n,r)}else if(un||Co(t,n,r,!1),E=(r&t.childLanes)!==0,un||E){if(E=Lt,E!==null&&(o=an(E,r),o!==0&&o!==M.retryLane))throw M.retryLane=o,Ir(t,o),_i(E,t,o),Bh;wd(A)||yc(),n=Gh(t,n,r)}else wd(A)?(n.flags|=192,n.child=t.child,n=null):(t=M.treeContext,Ut=$i(A.nextSibling),In=n,ut=!0,Oa=null,Qi=!1,t!==null&&Wp(n,t),n=Fh(n,o.children),n.flags|=4096);return n}return f?(Ba(),A=o.fallback,f=n.mode,M=t.child,Q=M.sibling,o=Ys(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,Q!==null?A=Ys(Q,A):(A=Dr(A,f,r,null),A.flags|=2),A.return=n,o.return=n,o.sibling=A,n.child=o,Pl(null,o),o=n.child,A=t.child.memoizedState,A===null?A=Ph(r):(f=A.cachePool,f!==null?(M=on._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=ig(),A={baseLanes:A.baseLanes|r,cachePool:f}),o.memoizedState=A,o.childLanes=Hh(t,E,r),n.memoizedState=zh,Pl(t.child,o)):(Ua(n),r=t.child,t=r.sibling,r=Ys(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(E=n.deletions,E===null?(n.deletions=[t],n.flags|=16):E.push(t)),n.child=r,n.memoizedState=null,r)}function Fh(t,n){return n=uc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uc(t,n){return t=xi(22,t,null,n),t.lanes=0,t}function Gh(t,n,r){return Ur(n,t.child,null,r),t=Fh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function g_(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),rh(t.return,n,r)}function Xh(t,n,r,o,f,d){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f,treeForkCount:d}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=o,E.tail=r,E.tailMode=f,E.treeForkCount=d)}function __(t,n,r){var o=n.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var E=tn.current,A=(E&2)!==0;if(A?(E=E&1|2,n.flags|=128):E&=1,ye(tn,E),On(t,n,o,r),o=ut?xl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,r,n);else if(t.tag===19)g_(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)t=r.alternate,t!==null&&Wu(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),Xh(n,!1,f,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Wu(t)===null){n.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}Xh(n,!0,r,null,d,o);break;case"together":Xh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Js(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Pa|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Co(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ys(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ys(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function e1(t,n,r){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),La(n,on,t.memoizedState.cache),Or();break;case 27:case 5:ms(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:La(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ua(n),n.flags|=128,null):(r&n.child.childLanes)!==0?p_(t,n,r):(Ua(n),t=Js(t,n,r),t!==null?t.sibling:null);Ua(n);break;case 19:var f=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Co(t,n,r,!1),o=(r&n.childLanes)!==0),f){if(o)return __(t,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ye(tn,tn.current),o)break;return null;case 22:return n.lanes=0,u_(t,n,r,n.pendingProps);case 24:La(n,on,t.memoizedState.cache)}return Js(t,n,r)}function y_(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)un=!0;else{if(!Yh(t,r)&&(n.flags&128)===0)return un=!1,e1(t,n,r);un=(t.flags&131072)!==0}else un=!1,ut&&(n.flags&1048576)!==0&&$p(n,xl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=jr(n.elementType),n.type=t,typeof t=="function")Zf(t)?(o=qr(t,o),n.tag=1,n=d_(null,n,t,o,r)):(n.tag=0,n=qh(null,n,t,o,r));else{if(t!=null){var f=t.$$typeof;if(f===de){n.tag=11,n=r_(null,n,t,o,r);break e}else if(f===O){n.tag=14,n=o_(null,n,t,o,r);break e}}throw n=Me(t)||t,Error(a(306,n,""))}}return n;case 0:return qh(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,f=qr(o,n.pendingProps),d_(t,n,o,f,r);case 3:e:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,dh(t,n),Vl(n,o,null,r);var E=n.memoizedState;if(o=E.cache,La(n,on,o),o!==d.cache&&oh(n,[on],r,!0),jl(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=m_(t,n,o,r);break e}else if(o!==f){f=Gi(Error(a(424)),n),Il(f),n=m_(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ut=$i(t.firstChild),In=n,ut=!0,Oa=null,Qi=!0,r=ug(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Or(),o===f){n=Js(t,n,r);break e}On(t,n,o,r)}n=n.child}return n;case 26:return lc(t,n),t===null?(r=xy(n.type,null,n.pendingProps,null))?n.memoizedState=r:ut||(r=n.type,t=n.pendingProps,o=Ac(Ke.current).createElement(r),o[it]=n,o[Jt]=t,kn(o,r,t),Xt(o),n.stateNode=o):n.memoizedState=xy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ms(n),t===null&&ut&&(o=n.stateNode=Ry(n.type,n.pendingProps,Ke.current),In=n,Qi=!0,f=Ut,Ya(n.type)?(Rd=f,Ut=$i(o.firstChild)):Ut=f),On(t,n,n.pendingProps.children,r),lc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ut&&((f=o=Ut)&&(o=I1(o,n.type,n.pendingProps,Qi),o!==null?(n.stateNode=o,In=n,Ut=$i(o.firstChild),Qi=!1,f=!0):f=!1),f||ka(n)),ms(n),f=n.type,d=n.pendingProps,E=t!==null?t.memoizedProps:null,o=d.children,Td(f,d)?o=null:E!==null&&Td(f,E)&&(n.flags|=32),n.memoizedState!==null&&(f=Eh(t,n,Gb,null,null,r),iu._currentValue=f),lc(t,n),On(t,n,o,r),n.child;case 6:return t===null&&ut&&((t=r=Ut)&&(r=D1(r,n.pendingProps,Qi),r!==null?(n.stateNode=r,In=n,Ut=null,t=!0):t=!1),t||ka(n)),null;case 13:return p_(t,n,r);case 4:return Kt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ur(n,null,o,r):On(t,n,o,r),n.child;case 11:return r_(t,n,n.type,n.pendingProps,r);case 7:return On(t,n,n.pendingProps,r),n.child;case 8:return On(t,n,n.pendingProps.children,r),n.child;case 12:return On(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,La(n,n.type,o.value),On(t,n,o.children,r),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Lr(n),f=Dn(f),o=o(f),n.flags|=1,On(t,n,o,r),n.child;case 14:return o_(t,n,n.type,n.pendingProps,r);case 15:return l_(t,n,n.type,n.pendingProps,r);case 19:return __(t,n,r);case 31:return Jb(t,n,r);case 22:return u_(t,n,r,n.pendingProps);case 24:return Lr(n),o=Dn(on),t===null?(f=ch(),f===null&&(f=Lt,d=lh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=r),f=d),n.memoizedState={parent:o,cache:f},hh(n),La(n,on,f)):((t.lanes&r)!==0&&(dh(t,n),Vl(n,null,null,r),jl()),f=t.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),La(n,on,o)):(o=d.cache,La(n,on,o),o!==f.cache&&oh(n,[on],r,!0))),On(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ea(t){t.flags|=4}function Qh(t,n,r,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(G_())t.flags|=8192;else throw Vr=Yu,fh}else t.flags&=-16777217}function v_(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ly(n))if(G_())t.flags|=8192;else throw Vr=Yu,fh}function cc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Rn():536870912,t.lanes|=n,qo|=n)}function Hl(t,n){if(!ut)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function t1(t,n,r){var o=n.pendingProps;switch(nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(n),null;case 1:return Bt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$s(on),Ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(No(n)?ea(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sh())),Bt(n),null;case 26:var f=n.type,d=n.memoizedState;return t===null?(ea(n),d!==null?(Bt(n),v_(n,d)):(Bt(n),Qh(n,f,null,o,r))):d?d!==t.memoizedState?(ea(n),Bt(n),v_(n,d)):(Bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ea(n),Bt(n),Qh(n,f,t,o,r)),null;case 27:if(Ea(n),r=Ke.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ea(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Bt(n),null}t=Ee.current,No(n)?Zp(n):(t=Ry(f,o,r),n.stateNode=t,ea(n))}return Bt(n),null;case 5:if(Ea(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ea(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Bt(n),null}if(d=Ee.current,No(n))Zp(n);else{var E=Ac(Ke.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?E.createElement("select",{is:o.is}):E.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?E.createElement(f,{is:o.is}):E.createElement(f)}}d[it]=n,d[Jt]=o;e:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=d;e:switch(kn(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ea(n)}}return Bt(n),Qh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ea(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ke.current,No(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,f=In,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[it]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||py(t.nodeValue,r)),t||ka(n,!0)}else t=Ac(t).createTextNode(o),t[it]=n,n.stateNode=t}return Bt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=No(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[it]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),t=!1}else r=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Di(n),n):(Di(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Bt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=No(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[it]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),f=!1}else f=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Di(n),n):(Di(n),null)}return Di(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),cc(n,n.updateQueue),Bt(n),null);case 4:return Ot(),t===null&&gd(n.stateNode.containerInfo),Bt(n),null;case 10:return $s(n.type),Bt(n),null;case 19:if(re(tn),o=n.memoizedState,o===null)return Bt(n),null;if(f=(n.flags&128)!==0,d=o.rendering,d===null)if(f)Hl(o,!1);else{if(Zt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Wu(t),d!==null){for(n.flags|=128,Hl(o,!1),t=d.updateQueue,n.updateQueue=t,cc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Yp(r,t),r=r.sibling;return ye(tn,tn.current&1|2),ut&&Qs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&An()>pc&&(n.flags|=128,f=!0,Hl(o,!1),n.lanes=4194304)}else{if(!f)if(t=Wu(d),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,cc(n,t),Hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ut)return Bt(n),null}else 2*An()-o.renderingStartTime>pc&&r!==536870912&&(n.flags|=128,f=!0,Hl(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=An(),t.sibling=null,r=tn.current,ye(tn,f?r&1|2:r&1),ut&&Qs(n,o.treeForkCount),t):(Bt(n),null);case 22:case 23:return Di(n),_h(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Bt(n),n.subtreeFlags&6&&(n.flags|=8192)):Bt(n),r=n.updateQueue,r!==null&&cc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&re(Mr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$s(on),Bt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function n1(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $s(on),Ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ea(n),null;case 31:if(n.memoizedState!==null){if(Di(n),n.alternate===null)throw Error(a(340));Or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Di(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return re(tn),null;case 4:return Ot(),null;case 10:return $s(n.type),null;case 22:case 23:return Di(n),_h(),t!==null&&re(Mr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $s(on),null;case 25:return null;default:return null}}function E_(t,n){switch(nh(n),n.tag){case 3:$s(on),Ot();break;case 26:case 27:case 5:Ea(n);break;case 4:Ot();break;case 31:n.memoizedState!==null&&Di(n);break;case 13:Di(n);break;case 19:re(tn);break;case 10:$s(n.type);break;case 22:case 23:Di(n),_h(),t!==null&&re(Mr);break;case 24:$s(on)}}function Fl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var d=r.create,E=r.inst;o=d(),E.destroy=o}r=r.next}while(r!==f)}}catch(A){Rt(n,n.return,A)}}function qa(t,n,r){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&t)===t){var E=o.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=n;var M=r,Q=A;try{Q()}catch(ae){Rt(f,M,ae)}}}o=o.next}while(o!==d)}}catch(ae){Rt(n,n.return,ae)}}function T_(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{fg(n,r)}catch(o){Rt(t,t.return,o)}}}function b_(t,n,r){r.props=qr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Rt(t,n,o)}}function Gl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(f){Rt(t,n,f)}}function Cs(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Rt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Rt(t,n,f)}else r.current=null}function S_(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Rt(t,t.return,f)}}function Kh(t,n,r){try{var o=t.stateNode;w1(o,t.type,r,n),o[Jt]=n}catch(f){Rt(t,t.return,f)}}function w_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ya(t.type)||t.tag===4}function $h(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=xn));else if(o!==4&&(o===27&&Ya(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Wh(t,n,r),t=t.sibling;t!==null;)Wh(t,n,r),t=t.sibling}function fc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Ya(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(fc(t,n,r),t=t.sibling;t!==null;)fc(t,n,r),t=t.sibling}function A_(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);kn(n,o,r),n[it]=t,n[Jt]=r}catch(d){Rt(t,t.return,d)}}var ta=!1,cn=!1,Zh=!1,R_=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function i1(t,n){if(t=t.containerInfo,vd=Oc,t=Up(t),Gf(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var E=0,A=-1,M=-1,Q=0,ae=0,ue=t,K=null;t:for(;;){for(var te;ue!==r||f!==0&&ue.nodeType!==3||(A=E+f),ue!==d||o!==0&&ue.nodeType!==3||(M=E+o),ue.nodeType===3&&(E+=ue.nodeValue.length),(te=ue.firstChild)!==null;)K=ue,ue=te;for(;;){if(ue===t)break t;if(K===r&&++Q===f&&(A=E),K===d&&++ae===o&&(M=E),(te=ue.nextSibling)!==null)break;ue=K,K=ue.parentNode}ue=te}r=A===-1||M===-1?null:{start:A,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ed={focusedElem:t,selectionRange:r},Oc=!1,Sn=n;Sn!==null;)if(n=Sn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Sn=t;else for(;Sn!==null;){switch(n=Sn,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)f=t[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,f=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var Ae=qr(r.type,f);t=o.getSnapshotBeforeUpdate(Ae,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Rt(r,r.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Sd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Sn=t;break}Sn=n.return}}function N_(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ia(t,r),o&4&&Fl(5,r);break;case 1:if(ia(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Rt(r,r.return,E)}else{var f=qr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Rt(r,r.return,E)}}o&64&&T_(r),o&512&&Gl(r,r.return);break;case 3:if(ia(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{fg(t,n)}catch(E){Rt(r,r.return,E)}}break;case 27:n===null&&o&4&&A_(r);case 26:case 5:ia(t,r),n===null&&o&4&&S_(r),o&512&&Gl(r,r.return);break;case 12:ia(t,r);break;case 31:ia(t,r),o&4&&I_(t,r);break;case 13:ia(t,r),o&4&&D_(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=h1.bind(null,r),O1(t,r))));break;case 22:if(o=r.memoizedState!==null||ta,!o){n=n!==null&&n.memoizedState!==null||cn,f=ta;var d=cn;ta=o,(cn=n)&&!d?sa(t,r,(r.subtreeFlags&8772)!==0):ia(t,r),ta=f,cn=d}break;case 30:break;default:ia(t,r)}}function C_(t){var n=t.alternate;n!==null&&(t.alternate=null,C_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,di=!1;function na(t,n,r){for(r=r.child;r!==null;)x_(t,n,r),r=r.sibling}function x_(t,n,r){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Ti,r)}catch{}switch(r.tag){case 26:cn||Cs(r,n),na(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:cn||Cs(r,n);var o=Ht,f=di;Ya(r.type)&&(Ht=r.stateNode,di=!1),na(t,n,r),eu(r.stateNode),Ht=o,di=f;break;case 5:cn||Cs(r,n);case 6:if(o=Ht,f=di,Ht=null,na(t,n,r),Ht=o,di=f,Ht!==null)if(di)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(r.stateNode)}catch(d){Rt(r,n,d)}else try{Ht.removeChild(r.stateNode)}catch(d){Rt(r,n,d)}break;case 18:Ht!==null&&(di?(t=Ht,Ty(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Qo(t)):Ty(Ht,r.stateNode));break;case 4:o=Ht,f=di,Ht=r.stateNode.containerInfo,di=!0,na(t,n,r),Ht=o,di=f;break;case 0:case 11:case 14:case 15:qa(2,r,n),cn||qa(4,r,n),na(t,n,r);break;case 1:cn||(Cs(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&b_(r,n,o)),na(t,n,r);break;case 21:na(t,n,r);break;case 22:cn=(o=cn)||r.memoizedState!==null,na(t,n,r),cn=o;break;default:na(t,n,r)}}function I_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qo(t)}catch(r){Rt(n,n.return,r)}}}function D_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qo(t)}catch(r){Rt(n,n.return,r)}}function s1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new R_),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new R_),n;default:throw Error(a(435,t.tag))}}function hc(t,n){var r=s1(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var f=d1.bind(null,t,o);o.then(f,f)}})}function mi(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],d=t,E=n,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Ya(A.type)){Ht=A.stateNode,di=!1;break e}break;case 5:Ht=A.stateNode,di=!1;break e;case 3:case 4:Ht=A.stateNode.containerInfo,di=!0;break e}A=A.return}if(Ht===null)throw Error(a(160));x_(d,E,f),Ht=null,di=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)O_(n,t),n=n.sibling}var us=null;function O_(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mi(n,t),pi(t),o&4&&(qa(3,t,t.return),Fl(3,t),qa(5,t,t.return));break;case 1:mi(n,t),pi(t),o&512&&(cn||r===null||Cs(r,r.return)),o&64&&ta&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=us;if(mi(n,t),pi(t),o&512&&(cn||r===null||Cs(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Zn]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),kn(d,o,r),d[it]=t,Xt(d),o=d;break e;case"link":var E=Oy("link","href",f).get(o+(r.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(A,1);break t}}d=f.createElement(o),kn(d,o,r),f.head.appendChild(d);break;case"meta":if(E=Oy("meta","content",f).get(o+(r.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(A,1);break t}}d=f.createElement(o),kn(d,o,r),f.head.appendChild(d);break;default:throw Error(a(468,o))}d[it]=t,Xt(d),o=d}t.stateNode=o}else ky(f,t.type,t.stateNode);else t.stateNode=Dy(f,o,t.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?ky(f,t.type,t.stateNode):Dy(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,r.memoizedProps)}break;case 27:mi(n,t),pi(t),o&512&&(cn||r===null||Cs(r,r.return)),r!==null&&o&4&&Kh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mi(n,t),pi(t),o&512&&(cn||r===null||Cs(r,r.return)),t.flags&32){f=t.stateNode;try{yn(f,"")}catch(Ae){Rt(t,t.return,Ae)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Kh(t,f,r!==null?r.memoizedProps:f)),o&1024&&(Zh=!0);break;case 6:if(mi(n,t),pi(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Ae){Rt(t,t.return,Ae)}}break;case 3:if(Cc=null,f=us,us=Rc(n.containerInfo),mi(n,t),us=f,pi(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Qo(n.containerInfo)}catch(Ae){Rt(t,t.return,Ae)}Zh&&(Zh=!1,k_(t));break;case 4:o=us,us=Rc(t.stateNode.containerInfo),mi(n,t),pi(t),us=o;break;case 12:mi(n,t),pi(t);break;case 31:mi(n,t),pi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 13:mi(n,t),pi(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(mc=An()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 22:f=t.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,Q=ta,ae=cn;if(ta=Q||f,cn=ae||M,mi(n,t),cn=ae,ta=Q,pi(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||M||ta||cn||zr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){M=r=n;try{if(d=M.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=M.stateNode;var ue=M.memoizedProps.style,K=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Ae){Rt(M,M.return,Ae)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Ae){Rt(M,M.return,Ae)}}}else if(n.tag===18){if(r===null){M=n;try{var te=M.stateNode;f?by(te,!0):by(M.stateNode,!1)}catch(Ae){Rt(M,M.return,Ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,hc(t,r))));break;case 19:mi(n,t),pi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 30:break;case 21:break;default:mi(n,t),pi(t)}}function pi(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(w_(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var f=r.stateNode,d=$h(t);fc(t,d,f);break;case 5:var E=r.stateNode;r.flags&32&&(yn(E,""),r.flags&=-33);var A=$h(t);fc(t,A,E);break;case 3:case 4:var M=r.stateNode.containerInfo,Q=$h(t);Wh(t,Q,M);break;default:throw Error(a(161))}}catch(ae){Rt(t,t.return,ae)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function k_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;k_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ia(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)N_(t,n.alternate,n),n=n.sibling}function zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qa(4,n,n.return),zr(n);break;case 1:Cs(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&b_(n,n.return,r),zr(n);break;case 27:eu(n.stateNode);case 26:case 5:Cs(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}t=t.sibling}}function sa(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,d=n,E=d.flags;switch(d.tag){case 0:case 11:case 15:sa(f,d,r),Fl(4,d);break;case 1:if(sa(f,d,r),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){Rt(o,o.return,Q)}if(o=d,f=o.updateQueue,f!==null){var A=o.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)cg(M[f],A)}catch(Q){Rt(o,o.return,Q)}}r&&E&64&&T_(d),Gl(d,d.return);break;case 27:A_(d);case 26:case 5:sa(f,d,r),r&&o===null&&E&4&&S_(d),Gl(d,d.return);break;case 12:sa(f,d,r);break;case 31:sa(f,d,r),r&&E&4&&I_(f,d);break;case 13:sa(f,d,r),r&&E&4&&D_(f,d);break;case 22:d.memoizedState===null&&sa(f,d,r),Gl(d,d.return);break;case 30:break;default:sa(f,d,r)}n=n.sibling}}function Jh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Dl(r))}function ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t))}function cs(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)L_(t,n,r,o),n=n.sibling}function L_(t,n,r,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:cs(t,n,r,o),f&2048&&Fl(9,n);break;case 1:cs(t,n,r,o);break;case 3:cs(t,n,r,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t)));break;case 12:if(f&2048){cs(t,n,r,o),t=n.stateNode;try{var d=n.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Rt(n,n.return,M)}}else cs(t,n,r,o);break;case 31:cs(t,n,r,o);break;case 13:cs(t,n,r,o);break;case 23:break;case 22:d=n.stateNode,E=n.alternate,n.memoizedState!==null?d._visibility&2?cs(t,n,r,o):Xl(t,n):d._visibility&2?cs(t,n,r,o):(d._visibility|=2,Vo(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Jh(E,n);break;case 24:cs(t,n,r,o),f&2048&&ed(n.alternate,n);break;default:cs(t,n,r,o)}}function Vo(t,n,r,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,E=n,A=r,M=o,Q=E.flags;switch(E.tag){case 0:case 11:case 15:Vo(d,E,A,M,f),Fl(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?Vo(d,E,A,M,f):Xl(d,E):(ae._visibility|=2,Vo(d,E,A,M,f)),f&&Q&2048&&Jh(E.alternate,E);break;case 24:Vo(d,E,A,M,f),f&&Q&2048&&ed(E.alternate,E);break;default:Vo(d,E,A,M,f)}n=n.sibling}}function Xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,f=o.flags;switch(o.tag){case 22:Xl(r,o),f&2048&&Jh(o.alternate,o);break;case 24:Xl(r,o),f&2048&&ed(o.alternate,o);break;default:Xl(r,o)}n=n.sibling}}var Yl=8192;function Uo(t,n,r){if(t.subtreeFlags&Yl)for(t=t.child;t!==null;)M_(t,n,r),t=t.sibling}function M_(t,n,r){switch(t.tag){case 26:Uo(t,n,r),t.flags&Yl&&t.memoizedState!==null&&F1(r,us,t.memoizedState,t.memoizedProps);break;case 5:Uo(t,n,r);break;case 3:case 4:var o=us;us=Rc(t.stateNode.containerInfo),Uo(t,n,r),us=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Yl,Yl=16777216,Uo(t,n,r),Yl=o):Uo(t,n,r));break;default:Uo(t,n,r)}}function j_(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Sn=o,U_(o,t)}j_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V_(t),t=t.sibling}function V_(t){switch(t.tag){case 0:case 11:case 15:Ql(t),t.flags&2048&&qa(9,t,t.return);break;case 3:Ql(t);break;case 12:Ql(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,dc(t)):Ql(t);break;default:Ql(t)}}function dc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Sn=o,U_(o,t)}j_(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qa(8,n,n.return),dc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,dc(n));break;default:dc(n)}t=t.sibling}}function U_(t,n){for(;Sn!==null;){var r=Sn;switch(r.tag){case 0:case 11:case 15:qa(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Dl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Sn=o;else e:for(r=t;Sn!==null;){o=Sn;var f=o.sibling,d=o.return;if(C_(o),o===r){Sn=null;break e}if(f!==null){f.return=d,Sn=f;break e}Sn=d}}}var a1={getCacheForType:function(t){var n=Dn(on),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Dn(on).controller.signal}},r1=typeof WeakMap=="function"?WeakMap:Map,_t=0,Lt=null,tt=null,at=0,At=0,Oi=null,za=!1,Bo=!1,td=!1,aa=0,Zt=0,Pa=0,Pr=0,nd=0,ki=0,qo=0,Kl=null,gi=null,id=!1,mc=0,B_=0,pc=1/0,gc=null,Ha=null,pn=0,Fa=null,zo=null,ra=0,sd=0,ad=null,q_=null,$l=0,rd=null;function Li(){return(_t&2)!==0&&at!==0?at&-at:P.T!==null?hd():_r()}function z_(){if(ki===0)if((at&536870912)===0||ut){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),ki=t}else ki=536870912;return t=Ii.current,t!==null&&(t.flags|=32),ki}function _i(t,n,r){(t===Lt&&(At===2||At===9)||t.cancelPendingCommit!==null)&&(Po(t,0),Ga(t,at,ki,!1)),ss(t,r),((_t&2)===0||t!==Lt)&&(t===Lt&&((_t&2)===0&&(Pr|=r),Zt===4&&Ga(t,at,ki,!1)),xs(t))}function P_(t,n,r){if((_t&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||wi(t,n),f=o?u1(t,n):ld(t,n,!0),d=o;do{if(f===0){Bo&&!o&&Ga(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!o1(r)){f=ld(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;e:{var A=t;f=Kl;var M=A.current.memoizedState.isDehydrated;if(M&&(Po(A,E).flags|=256),E=ld(A,E,!1),E!==2){if(td&&!M){A.errorRecoveryDisabledLanes|=d,Pr|=d,f=4;break e}d=gi,gi=f,d!==null&&(gi===null?gi=d:gi.push.apply(gi,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Po(t,0),Ga(t,n,0,!0);break}e:{switch(o=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ga(o,n,ki,!za);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=mc+300-An(),10<f)){if(Ga(o,n,ki,!za),pe(o,0,!0)!==0)break e;ra=n,o.timeoutHandle=vy(H_.bind(null,o,r,gi,gc,id,n,ki,Pr,qo,za,d,"Throttled",-0,0),f);break e}H_(o,r,gi,gc,id,n,ki,Pr,qo,za,d,null,-0,0)}}break}while(!0);xs(t)}function H_(t,n,r,o,f,d,E,A,M,Q,ae,ue,K,te){if(t.timeoutHandle=-1,ue=n.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},M_(n,d,ue);var Ae=(d&62914560)===d?mc-An():(d&4194048)===d?B_-An():0;if(Ae=G1(ue,Ae),Ae!==null){ra=d,t.cancelPendingCommit=Ae(W_.bind(null,t,n,d,r,o,f,E,A,M,ae,ue,null,K,te)),Ga(t,d,E,!Q);return}}W_(t,n,d,r,o,f,E,A,M)}function o1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],d=f.getSnapshot;f=f.value;try{if(!Ci(d(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ga(t,n,r,o){n&=~nd,n&=~Pr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var d=31-Vt(f),E=1<<d;o[d]=-1,f&=~E}r!==0&&Wn(t,r,n)}function _c(){return(_t&6)===0?(Wl(0),!1):!0}function od(){if(tt!==null){if(At===0)var t=tt.return;else t=tt,Ks=kr=null,Sh(t),Oo=null,kl=0,t=tt;for(;t!==null;)E_(t.alternate,t),t=t.return;tt=null}}function Po(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,N1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ra=0,od(),Lt=t,tt=r=Ys(t.current,null),at=n,At=0,Oi=null,za=!1,Bo=wi(t,n),td=!1,qo=ki=nd=Pr=Pa=Zt=0,gi=Kl=null,id=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Vt(o),d=1<<f;n|=t[f],o&=~d}return aa=n,Uu(),r}function F_(t,n){We=null,P.H=zl,n===Do||n===Xu?(n=rg(),At=3):n===fh?(n=rg(),At=4):At=n===Bh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Oi=n,tt===null&&(Zt=1,rc(t,Gi(n,t.current)))}function G_(){var t=Ii.current;return t===null?!0:(at&4194048)===at?Ki===null:(at&62914560)===at||(at&536870912)!==0?t===Ki:!1}function X_(){var t=P.H;return P.H=zl,t===null?zl:t}function Y_(){var t=P.A;return P.A=a1,t}function yc(){Zt=4,za||(at&4194048)!==at&&Ii.current!==null||(Bo=!0),(Pa&134217727)===0&&(Pr&134217727)===0||Lt===null||Ga(Lt,at,ki,!1)}function ld(t,n,r){var o=_t;_t|=2;var f=X_(),d=Y_();(Lt!==t||at!==n)&&(gc=null,Po(t,n)),n=!1;var E=Zt;e:do try{if(At!==0&&tt!==null){var A=tt,M=Oi;switch(At){case 8:od(),E=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(n=!0);var Q=At;if(At=0,Oi=null,Ho(t,A,M,Q),r&&Bo){E=0;break e}break;default:Q=At,At=0,Oi=null,Ho(t,A,M,Q)}}l1(),E=Zt;break}catch(ae){F_(t,ae)}while(!0);return n&&t.shellSuspendCounter++,Ks=kr=null,_t=o,P.H=f,P.A=d,tt===null&&(Lt=null,at=0,Uu()),E}function l1(){for(;tt!==null;)Q_(tt)}function u1(t,n){var r=_t;_t|=2;var o=X_(),f=Y_();Lt!==t||at!==n?(gc=null,pc=An()+500,Po(t,n)):Bo=wi(t,n);e:do try{if(At!==0&&tt!==null){n=tt;var d=Oi;t:switch(At){case 1:At=0,Oi=null,Ho(t,n,d,1);break;case 2:case 9:if(sg(d)){At=0,Oi=null,K_(n);break}n=function(){At!==2&&At!==9||Lt!==t||(At=7),xs(t)},d.then(n,n);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:sg(d)?(At=0,Oi=null,K_(n)):(At=0,Oi=null,Ho(t,n,d,7));break;case 5:var E=null;switch(tt.tag){case 26:E=tt.memoizedState;case 5:case 27:var A=tt;if(E?Ly(E):A.stateNode.complete){At=0,Oi=null;var M=A.sibling;if(M!==null)tt=M;else{var Q=A.return;Q!==null?(tt=Q,vc(Q)):tt=null}break t}}At=0,Oi=null,Ho(t,n,d,5);break;case 6:At=0,Oi=null,Ho(t,n,d,6);break;case 8:od(),Zt=6;break e;default:throw Error(a(462))}}c1();break}catch(ae){F_(t,ae)}while(!0);return Ks=kr=null,P.H=o,P.A=f,_t=r,tt!==null?0:(Lt=null,at=0,Uu(),Zt)}function c1(){for(;tt!==null&&!Sl();)Q_(tt)}function Q_(t){var n=y_(t.alternate,t,aa);t.memoizedProps=t.pendingProps,n===null?vc(t):tt=n}function K_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=h_(r,n,n.pendingProps,n.type,void 0,at);break;case 11:n=h_(r,n,n.pendingProps,n.type.render,n.ref,at);break;case 5:Sh(n);default:E_(r,n),n=tt=Yp(n,aa),n=y_(r,n,aa)}t.memoizedProps=t.pendingProps,n===null?vc(t):tt=n}function Ho(t,n,r,o){Ks=kr=null,Sh(n),Oo=null,kl=0;var f=n.return;try{if(Zb(t,f,n,r,at)){Zt=1,rc(t,Gi(r,t.current)),tt=null;return}}catch(d){if(f!==null)throw tt=f,d;Zt=1,rc(t,Gi(r,t.current)),tt=null;return}n.flags&32768?(ut||o===1?t=!0:Bo||(at&536870912)!==0?t=!1:(za=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ii.current,o!==null&&o.tag===13&&(o.flags|=16384))),$_(n,t)):vc(n)}function vc(t){var n=t;do{if((n.flags&32768)!==0){$_(n,za);return}t=n.return;var r=t1(n.alternate,n,aa);if(r!==null){tt=r;return}if(n=n.sibling,n!==null){tt=n;return}tt=n=t}while(n!==null);Zt===0&&(Zt=5)}function $_(t,n){do{var r=n1(t.alternate,t);if(r!==null){r.flags&=32767,tt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){tt=t;return}tt=t=r}while(t!==null);Zt=6,tt=null}function W_(t,n,r,o,f,d,E,A,M){t.cancelPendingCommit=null;do Ec();while(pn!==0);if((_t&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=$f,gr(t,r,d,E,A,M),t===Lt&&(tt=Lt=null,at=0),zo=n,Fa=t,ra=r,sd=d,ad=f,q_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,m1(is,function(){return ny(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,f=$.p,$.p=2,E=_t,_t|=4;try{i1(t,n,r)}finally{_t=E,$.p=f,P.T=o}}pn=1,Z_(),J_(),ey()}}function Z_(){if(pn===1){pn=0;var t=Fa,n=zo,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var o=$.p;$.p=2;var f=_t;_t|=4;try{O_(n,t);var d=Ed,E=Up(t.containerInfo),A=d.focusedElem,M=d.selectionRange;if(E!==A&&A&&A.ownerDocument&&Vp(A.ownerDocument.documentElement,A)){if(M!==null&&Gf(A)){var Q=M.start,ae=M.end;if(ae===void 0&&(ae=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ae,A.value.length);else{var ue=A.ownerDocument||document,K=ue&&ue.defaultView||window;if(K.getSelection){var te=K.getSelection(),Ae=A.textContent.length,Ve=Math.min(M.start,Ae),Dt=M.end===void 0?Ve:Math.min(M.end,Ae);!te.extend&&Ve>Dt&&(E=Dt,Dt=Ve,Ve=E);var H=jp(A,Ve),q=jp(A,Dt);if(H&&q&&(te.rangeCount!==1||te.anchorNode!==H.node||te.anchorOffset!==H.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var Y=ue.createRange();Y.setStart(H.node,H.offset),te.removeAllRanges(),Ve>Dt?(te.addRange(Y),te.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),te.addRange(Y))}}}}for(ue=[],te=A;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var oe=ue[A];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Oc=!!vd,Ed=vd=null}finally{_t=f,$.p=o,P.T=r}}t.current=n,pn=2}}function J_(){if(pn===2){pn=0;var t=Fa,n=zo,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var o=$.p;$.p=2;var f=_t;_t|=4;try{N_(t,n.alternate,n)}finally{_t=f,$.p=o,P.T=r}}pn=3}}function ey(){if(pn===4||pn===3){pn=0,dr();var t=Fa,n=zo,r=ra,o=q_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pn=5:(pn=0,zo=Fa=null,ty(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ha=null),qn(r),n=n.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=P.T,f=$.p,$.p=2,P.T=null;try{for(var d=t.onRecoverableError,E=0;E<o.length;E++){var A=o[E];d(A.value,{componentStack:A.stack})}}finally{P.T=n,$.p=f}}(ra&3)!==0&&Ec(),xs(t),f=t.pendingLanes,(r&261930)!==0&&(f&42)!==0?t===rd?$l++:($l=0,rd=t):$l=0,Wl(0)}}function ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Dl(n)))}function Ec(){return Z_(),J_(),ey(),ny()}function ny(){if(pn!==5)return!1;var t=Fa,n=sd;sd=0;var r=qn(ra),o=P.T,f=$.p;try{$.p=32>r?32:r,P.T=null,r=ad,ad=null;var d=Fa,E=ra;if(pn=0,zo=Fa=null,ra=0,(_t&6)!==0)throw Error(a(331));var A=_t;if(_t|=4,V_(d.current),L_(d,d.current,E,r),_t=A,Wl(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Ti,d)}catch{}return!0}finally{$.p=f,P.T=o,ty(t,n)}}function iy(t,n,r){n=Gi(r,n),n=Uh(t.stateNode,n,2),t=Va(t,n,2),t!==null&&(ss(t,2),xs(t))}function Rt(t,n,r){if(t.tag===3)iy(t,t,r);else for(;n!==null;){if(n.tag===3){iy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ha===null||!Ha.has(o))){t=Gi(r,t),r=s_(2),o=Va(n,r,2),o!==null&&(a_(r,o,n,t),ss(o,2),xs(o));break}}n=n.return}}function ud(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new r1;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(r)||(td=!0,f.add(r),t=f1.bind(null,t,n,r),n.then(t,t))}function f1(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Lt===t&&(at&r)===r&&(Zt===4||Zt===3&&(at&62914560)===at&&300>An()-mc?(_t&2)===0&&Po(t,0):nd|=r,qo===at&&(qo=0)),xs(t)}function sy(t,n){n===0&&(n=Rn()),t=Ir(t,n),t!==null&&(ss(t,n),xs(t))}function h1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sy(t,r)}function d1(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),sy(t,r)}function m1(t,n){return $t(t,n)}var Tc=null,Fo=null,cd=!1,bc=!1,fd=!1,Xa=0;function xs(t){t!==Fo&&t.next===null&&(Fo===null?Tc=Fo=t:Fo=Fo.next=t),bc=!0,cd||(cd=!0,g1())}function Wl(t,n){if(!fd&&bc){fd=!0;do for(var r=!1,o=Tc;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var E=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-Vt(42|t)+1)-1,d&=f&~(E&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,ly(o,d))}else d=at,d=pe(o,o===Lt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||wi(o,d)||(r=!0,ly(o,d));o=o.next}while(r);fd=!1}}function p1(){ay()}function ay(){bc=cd=!1;var t=0;Xa!==0&&R1()&&(t=Xa);for(var n=An(),r=null,o=Tc;o!==null;){var f=o.next,d=ry(o,n);d===0?(o.next=null,r===null?Tc=f:r.next=f,f===null&&(Fo=r)):(r=o,(t!==0||(d&3)!==0)&&(bc=!0)),o=f}pn!==0&&pn!==5||Wl(t),Xa!==0&&(Xa=0)}function ry(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Vt(d),A=1<<E,M=f[E];M===-1?((A&r)===0||(A&o)!==0)&&(f[E]=wl(A,n)):M<=n&&(t.expiredLanes|=A),d&=~A}if(n=Lt,r=at,r=pe(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(At===2||At===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ei(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Ei(o),qn(r)){case 2:case 8:r=Kn;break;case 32:r=is;break;case 268435456:r=mr;break;default:r=is}return o=oy.bind(null,t),r=$t(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Ei(o),t.callbackPriority=2,t.callbackNode=null,2}function oy(t,n){if(pn!==0&&pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ec()&&t.callbackNode!==r)return null;var o=at;return o=pe(t,t===Lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(P_(t,o,n),ry(t,An()),t.callbackNode!=null&&t.callbackNode===r?oy.bind(null,t):null)}function ly(t,n){if(Ec())return null;P_(t,n,!0)}function g1(){C1(function(){(_t&6)!==0?$t(ns,p1):ay()})}function hd(){if(Xa===0){var t=xo;t===0&&(t=mn,mn<<=1,(mn&261888)===0&&(mn=256)),Xa=t}return Xa}function uy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ti(""+t)}function cy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function _1(t,n,r,o,f){if(n==="submit"&&r&&r.stateNode===f){var d=uy((f[Jt]||null).action),E=o.submitter;E&&(n=(n=E[Jt]||null)?uy(n.formAction):E.getAttribute("formAction"),n!==null&&(d=n,E=null));var A=new mt("action","action",null,o,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xa!==0){var M=E?cy(f,E):new FormData(f);Oh(r,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(A.preventDefault(),M=E?cy(f,E):new FormData(f),Oh(r,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var dd=0;dd<Kf.length;dd++){var md=Kf[dd],y1=md.toLowerCase(),v1=md[0].toUpperCase()+md.slice(1);ls(y1,"on"+v1)}ls(zp,"onAnimationEnd"),ls(Pp,"onAnimationIteration"),ls(Hp,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(Mb,"onTransitionRun"),ls(jb,"onTransitionStart"),ls(Vb,"onTransitionCancel"),ls(Fp,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function fy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var E=o.length-1;0<=E;E--){var A=o[E],M=A.instance,Q=A.currentTarget;if(A=A.listener,M!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=Q;try{d(f)}catch(ae){Vu(ae)}f.currentTarget=null,d=M}else for(E=0;E<o.length;E++){if(A=o[E],M=A.instance,Q=A.currentTarget,A=A.listener,M!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=Q;try{d(f)}catch(ae){Vu(ae)}f.currentTarget=null,d=M}}}}function nt(t,n){var r=n[ys];r===void 0&&(r=n[ys]=new Set);var o=t+"__bubble";r.has(o)||(hy(n,t,2,!1),r.add(o))}function pd(t,n,r){var o=0;n&&(o|=4),hy(r,t,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[Sc]){t[Sc]=!0,as.forEach(function(r){r!=="selectionchange"&&(E1.has(r)||pd(r,!1,t),pd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,pd("selectionchange",!1,n))}}function hy(t,n,r,o){switch(zy(n)){case 2:var f=Q1;break;case 8:f=K1;break;default:f=Dd}r=f.bind(null,n,r,t),f=void 0,!rs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,r,{capture:!0,passive:f}):t.addEventListener(n,r,!0):f!==void 0?t.addEventListener(n,r,{passive:f}):t.addEventListener(n,r,!1)}function _d(t,n,r,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var A=o.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=o.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=en(A),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){o=d=E;continue e}A=A.parentNode}}o=o.return}fi(function(){var Q=d,ae=Te(r),ue=[];e:{var K=Gp.get(t);if(K!==void 0){var te=mt,Ae=t;switch(t){case"keypress":if(G(r)===0)break e;case"keydown":case"keyup":te=yo;break;case"focusin":Ae="focus",te=Xs;break;case"focusout":Ae="blur",te=Xs;break;case"beforeblur":case"afterblur":te=Xs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=y;break;case zp:case Pp:case Hp:te=fo;break;case Fp:te=N;break;case"scroll":case"scrollend":te=xa;break;case"wheel":te=Z;break;case"copy":case"cut":case"paste":te=Rr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=os;break;case"toggle":case"beforetoggle":te=Pe}var Ve=(n&4)!==0,Dt=!Ve&&(t==="scroll"||t==="scrollend"),H=Ve?K!==null?K+"Capture":null:K;Ve=[];for(var q=Q,Y;q!==null;){var oe=q;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||H===null||(oe=rn(q,H),oe!=null&&Ve.push(Jl(q,oe,Y))),Dt)break;q=q.return}0<Ve.length&&(K=new te(K,Ae,null,r,ae),ue.push({event:K,listeners:Ve}))}}if((n&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",K&&r!==Sr&&(Ae=r.relatedTarget||r.fromElement)&&(en(Ae)||Ae[Mi]))break e;if((te||K)&&(K=ae.window===ae?ae:(K=ae.ownerDocument)?K.defaultView||K.parentWindow:window,te?(Ae=r.relatedTarget||r.toElement,te=Q,Ae=Ae?en(Ae):null,Ae!==null&&(Dt=c(Ae),Ve=Ae.tag,Ae!==Dt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ae=null)):(te=null,Ae=Q),te!==Ae)){if(Ve=wr,oe="onMouseLeave",H="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=os,oe="onPointerLeave",H="onPointerEnter",q="pointer"),Dt=te==null?K:Cn(te),Y=Ae==null?K:Cn(Ae),K=new Ve(oe,q+"leave",te,r,ae),K.target=Dt,K.relatedTarget=Y,oe=null,en(ae)===Q&&(Ve=new Ve(H,q+"enter",Ae,r,ae),Ve.target=Y,Ve.relatedTarget=Dt,oe=Ve),Dt=oe,te&&Ae)t:{for(Ve=T1,H=te,q=Ae,Y=0,oe=H;oe;oe=Ve(oe))Y++;oe=0;for(var ke=q;ke;ke=Ve(ke))oe++;for(;0<Y-oe;)H=Ve(H),Y--;for(;0<oe-Y;)q=Ve(q),oe--;for(;Y--;){if(H===q||q!==null&&H===q.alternate){Ve=H;break t}H=Ve(H),q=Ve(q)}Ve=null}else Ve=null;te!==null&&dy(ue,K,te,Ve,!1),Ae!==null&&Dt!==null&&dy(ue,Dt,Ae,Ve,!0)}}e:{if(K=Q?Cn(Q):window,te=K.nodeName&&K.nodeName.toLowerCase(),te==="select"||te==="input"&&K.type==="file")var pt=Ip;else if(Eo(K))if(Dp)pt=Ob;else{pt=Ib;var Ce=xb}else te=K.nodeName,!te||te.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&ci(Q.elementType)&&(pt=Ip):pt=Db;if(pt&&(pt=pt(t,Q))){As(ue,pt,r,ae);break e}Ce&&Ce(t,K,Q),t==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&Tr(K,"number",K.value)}switch(Ce=Q?Cn(Q):window,t){case"focusin":(Eo(Ce)||Ce.contentEditable==="true")&&(To=Ce,Xf=Q,Cl=null);break;case"focusout":Cl=Xf=To=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,Bp(ue,r,ae);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":Bp(ue,r,ae)}var Ze;if(ft)e:{switch(t){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else bn?je(t,r)&&(rt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(rt="onCompositionStart");rt&&(le&&r.locale!=="ko"&&(bn||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&bn&&(Ze=j()):(_=ae,S="value"in _?_.value:_.textContent,bn=!0)),Ce=wc(Q,rt),0<Ce.length&&(rt=new Hi(rt,t,null,r,ae),ue.push({event:rt,listeners:Ce}),Ze?rt.data=Ze:(Ze=st(r),Ze!==null&&(rt.data=Ze)))),(Ze=F?hi(t,r):ii(t,r))&&(rt=wc(Q,"onBeforeInput"),0<rt.length&&(Ce=new Hi("onBeforeInput","beforeinput",null,r,ae),ue.push({event:Ce,listeners:rt}),Ce.data=Ze)),_1(ue,t,Q,r,ae)}fy(ue,n)})}function Jl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wc(t,n){for(var r=n+"Capture",o=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=rn(t,r),f!=null&&o.unshift(Jl(t,f,d)),f=rn(t,n),f!=null&&o.push(Jl(t,f,d))),t.tag===3)return o;t=t.return}return[]}function T1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dy(t,n,r,o,f){for(var d=n._reactName,E=[];r!==null&&r!==o;){var A=r,M=A.alternate,Q=A.stateNode;if(A=A.tag,M!==null&&M===o)break;A!==5&&A!==26&&A!==27||Q===null||(M=Q,f?(Q=rn(r,d),Q!=null&&E.unshift(Jl(r,Q,M))):f||(Q=rn(r,d),Q!=null&&E.push(Jl(r,Q,M)))),r=r.return}E.length!==0&&t.push({event:n,listeners:E})}var b1=/\r\n?/g,S1=/\u0000|\uFFFD/g;function my(t){return(typeof t=="string"?t:""+t).replace(b1,`
`).replace(S1,"")}function py(t,n){return n=my(n),my(t)===n}function It(t,n,r,o,f,d){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":ei(t,"class",o);break;case"tabIndex":ei(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,r,o);break;case"style":Ts(t,o,d);break;case"data":if(n!=="object"){ei(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ti(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&It(t,n,"name",f.name,f,null),It(t,n,"formEncType",f.formEncType,f,null),It(t,n,"formMethod",f.formMethod,f,null),It(t,n,"formTarget",f.formTarget,f,null)):(It(t,n,"encType",f.encType,f,null),It(t,n,"method",f.method,f,null),It(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ti(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=xn);break;case"onScroll":o!=null&&nt("scroll",t);break;case"onScrollEnd":o!=null&&nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ti(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":nt("beforetoggle",t),nt("toggle",t),qs(t,"popover",o);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":qs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ca.get(r)||r,qs(t,r,o))}}function yd(t,n,r,o,f,d){switch(r){case"style":Ts(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&nt("scroll",t);break;case"onScrollEnd":o!=null&&nt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),d=t[Jt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):qs(t,r,o)}}}function kn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",t),nt("load",t);var o=!1,f=!1,d;for(d in r)if(r.hasOwnProperty(d)){var E=r[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:It(t,n,d,E,r,null)}}f&&It(t,n,"srcSet",r.srcSet,r,null),o&&It(t,n,"src",r.src,r,null);return;case"input":nt("invalid",t);var A=d=E=f=null,M=null,Q=null;for(o in r)if(r.hasOwnProperty(o)){var ae=r[o];if(ae!=null)switch(o){case"name":f=ae;break;case"type":E=ae;break;case"checked":M=ae;break;case"defaultChecked":Q=ae;break;case"value":d=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,n));break;default:It(t,n,o,ae,r,null)}}Er(t,d,A,M,Q,E,f,!1);return;case"select":nt("invalid",t),o=E=d=null;for(f in r)if(r.hasOwnProperty(f)&&(A=r[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":o=A;default:It(t,n,f,A,r,null)}n=d,r=E,t.multiple=!!o,n!=null?Bi(t,!!o,n,!1):r!=null&&Bi(t,!!o,r,!0);return;case"textarea":nt("invalid",t),d=f=o=null;for(E in r)if(r.hasOwnProperty(E)&&(A=r[E],A!=null))switch(E){case"value":o=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:It(t,n,E,A,r,null)}qi(t,o,f,d);return;case"option":for(M in r)r.hasOwnProperty(M)&&(o=r[M],o!=null)&&(M==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":It(t,n,M,o,r,null));return;case"dialog":nt("beforetoggle",t),nt("toggle",t),nt("cancel",t),nt("close",t);break;case"iframe":case"object":nt("load",t);break;case"video":case"audio":for(o=0;o<Zl.length;o++)nt(Zl[o],t);break;case"image":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"embed":case"source":case"link":nt("error",t),nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in r)if(r.hasOwnProperty(Q)&&(o=r[Q],o!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:It(t,n,Q,o,r,null)}return;default:if(ci(n)){for(ae in r)r.hasOwnProperty(ae)&&(o=r[ae],o!==void 0&&yd(t,n,ae,o,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(o=r[A],o!=null&&It(t,n,A,o,r,null))}function w1(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,A=null,M=null,Q=null,ae=null;for(te in r){var ue=r[te];if(r.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":M=ue;default:o.hasOwnProperty(te)||It(t,n,te,null,o,ue)}}for(var K in o){var te=o[K];if(ue=r[K],o.hasOwnProperty(K)&&(te!=null||ue!=null))switch(K){case"type":d=te;break;case"name":f=te;break;case"checked":Q=te;break;case"defaultChecked":ae=te;break;case"value":E=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,n));break;default:te!==ue&&It(t,n,K,te,o,ue)}}Ui(t,E,A,M,Q,ae,d,f);return;case"select":te=E=A=K=null;for(d in r)if(M=r[d],r.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":te=M;default:o.hasOwnProperty(d)||It(t,n,d,null,o,M)}for(f in o)if(d=o[f],M=r[f],o.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":K=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==M&&It(t,n,f,d,o,M)}n=A,r=E,o=te,K!=null?Bi(t,!!r,K,!1):!!o!=!!r&&(n!=null?Bi(t,!!r,n,!0):Bi(t,!!r,r?[]:"",!1));return;case"textarea":te=K=null;for(A in r)if(f=r[A],r.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:It(t,n,A,null,o,f)}for(E in o)if(f=o[E],d=r[E],o.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":K=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&It(t,n,E,f,o,d)}br(t,K,te);return;case"option":for(var Ae in r)K=r[Ae],r.hasOwnProperty(Ae)&&K!=null&&!o.hasOwnProperty(Ae)&&(Ae==="selected"?t.selected=!1:It(t,n,Ae,null,o,K));for(M in o)K=o[M],te=r[M],o.hasOwnProperty(M)&&K!==te&&(K!=null||te!=null)&&(M==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":It(t,n,M,K,o,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in r)K=r[Ve],r.hasOwnProperty(Ve)&&K!=null&&!o.hasOwnProperty(Ve)&&It(t,n,Ve,null,o,K);for(Q in o)if(K=o[Q],te=r[Q],o.hasOwnProperty(Q)&&K!==te&&(K!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:It(t,n,Q,K,o,te)}return;default:if(ci(n)){for(var Dt in r)K=r[Dt],r.hasOwnProperty(Dt)&&K!==void 0&&!o.hasOwnProperty(Dt)&&yd(t,n,Dt,void 0,o,K);for(ae in o)K=o[ae],te=r[ae],!o.hasOwnProperty(ae)||K===te||K===void 0&&te===void 0||yd(t,n,ae,K,o,te);return}}for(var H in r)K=r[H],r.hasOwnProperty(H)&&K!=null&&!o.hasOwnProperty(H)&&It(t,n,H,null,o,K);for(ue in o)K=o[ue],te=r[ue],!o.hasOwnProperty(ue)||K===te||K==null&&te==null||It(t,n,ue,K,o,te)}function gy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var f=r[o],d=f.transferSize,E=f.initiatorType,A=f.duration;if(d&&A&&gy(E)){for(E=0,A=f.responseEnd,o+=1;o<r.length;o++){var M=r[o],Q=M.startTime;if(Q>A)break;var ae=M.transferSize,ue=M.initiatorType;ae&&gy(ue)&&(M=M.responseEnd,E+=ae*(M<A?1:(A-Q)/(M-Q)))}if(--o,n+=8*(d+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,Ed=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function _y(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function R1(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var vy=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,Ey=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ey<"u"?function(t){return Ey.resolve(null).then(t).catch(x1)}:vy;function x1(t){setTimeout(function(){throw t})}function Ya(t){return t==="head"}function Ty(t,n){var r=n,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(f),Qo(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")eu(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,eu(r);for(var d=r.firstChild;d;){var E=d.nextSibling,A=d.nodeName;d[Zn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=E}}else r==="body"&&eu(t.ownerDocument.body);r=f}while(r);Qo(n)}function by(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Sd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sd(r),Aa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function I1(t,n,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Zn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$i(t.nextSibling),t===null)break}return null}function D1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$i(t.nextSibling),t===null))return null;return t}function Sy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$i(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function O1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $i(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function wy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $i(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Ay(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function Ry(t,n,r){switch(n=Ac(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function eu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Aa(t)}var Wi=new Map,Ny=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oa=$.d;$.d={f:k1,r:L1,D:M1,C:j1,L:V1,m:U1,X:q1,S:B1,M:z1};function k1(){var t=oa.f(),n=_c();return t||n}function L1(t){var n=Nn(t);n!==null&&n.tag===5&&n.type==="form"?Fg(n):oa.r(t)}var Go=typeof document>"u"?null:document;function Cy(t,n,r){var o=Go;if(o&&typeof n=="string"&&n){var f=Hn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Ny.has(f)||(Ny.add(f),t={rel:t,crossOrigin:r,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),kn(n,"link",t),Xt(n),o.head.appendChild(n)))}}function M1(t){oa.D(t),Cy("dns-prefetch",t,null)}function j1(t,n){oa.C(t,n),Cy("preconnect",t,n)}function V1(t,n,r){oa.L(t,n,r);var o=Go;if(o&&t&&n){var f='link[rel="preload"][as="'+Hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Hn(r.imageSizes)+'"]')):f+='[href="'+Hn(t)+'"]';var d=f;switch(n){case"style":d=Xo(t);break;case"script":d=Yo(t)}Wi.has(d)||(t=C({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Wi.set(d,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(tu(d))||n==="script"&&o.querySelector(nu(d))||(n=o.createElement("link"),kn(n,"link",t),Xt(n),o.head.appendChild(n)))}}function U1(t,n){oa.m(t,n);var r=Go;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Hn(o)+'"][href="'+Hn(t)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Yo(t)}if(!Wi.has(d)&&(t=C({rel:"modulepreload",href:t},n),Wi.set(d,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(nu(d)))return}o=r.createElement("link"),kn(o,"link",t),Xt(o),r.head.appendChild(o)}}}function B1(t,n,r){oa.S(t,n,r);var o=Go;if(o&&t){var f=Ai(o).hoistableStyles,d=Xo(t);n=n||"default";var E=f.get(d);if(!E){var A={loading:0,preload:null};if(E=o.querySelector(tu(d)))A.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Wi.get(d))&&Nd(t,r);var M=E=o.createElement("link");Xt(M),kn(M,"link",t),M._p=new Promise(function(Q,ae){M.onload=Q,M.onerror=ae}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Nc(E,n,o)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(d,E)}}}function q1(t,n){oa.X(t,n);var r=Go;if(r&&t){var o=Ai(r).hoistableScripts,f=Yo(t),d=o.get(f);d||(d=r.querySelector(nu(f)),d||(t=C({src:t,async:!0},n),(n=Wi.get(f))&&Cd(t,n),d=r.createElement("script"),Xt(d),kn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function z1(t,n){oa.M(t,n);var r=Go;if(r&&t){var o=Ai(r).hoistableScripts,f=Yo(t),d=o.get(f);d||(d=r.querySelector(nu(f)),d||(t=C({src:t,async:!0,type:"module"},n),(n=Wi.get(f))&&Cd(t,n),d=r.createElement("script"),Xt(d),kn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function xy(t,n,r,o){var f=(f=Ke.current)?Rc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Xo(r.href),r=Ai(f).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Xo(r.href);var d=Ai(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(tu(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Wi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Wi.set(t,r),d||P1(f,t,r,E.state))),n&&o===null)throw Error(a(528,""));return E}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Yo(r),r=Ai(f).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xo(t){return'href="'+Hn(t)+'"'}function tu(t){return'link[rel="stylesheet"]['+t+"]"}function Iy(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function P1(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),kn(n,"link",r),Xt(n),t.head.appendChild(n))}function Yo(t){return'[src="'+Hn(t)+'"]'}function nu(t){return"script[async]"+t}function Dy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Hn(r.href)+'"]');if(o)return n.instance=o,Xt(o),o;var f=C({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Xt(o),kn(o,"style",f),Nc(o,r.precedence,t),n.instance=o;case"stylesheet":f=Xo(r.href);var d=t.querySelector(tu(f));if(d)return n.state.loading|=4,n.instance=d,Xt(d),d;o=Iy(r),(f=Wi.get(f))&&Nd(o,f),d=(t.ownerDocument||t).createElement("link"),Xt(d);var E=d;return E._p=new Promise(function(A,M){E.onload=A,E.onerror=M}),kn(d,"link",o),n.state.loading|=4,Nc(d,r.precedence,t),n.instance=d;case"script":return d=Yo(r.src),(f=t.querySelector(nu(d)))?(n.instance=f,Xt(f),f):(o=r,(f=Wi.get(d))&&(o=C({},r),Cd(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Xt(f),kn(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,r.precedence,t));return n.instance}function Nc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,E=0;E<o.length;E++){var A=o[E];if(A.dataset.precedence===n)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cc=null;function Oy(t,n,r){if(Cc===null){var o=new Map,f=Cc=new Map;f.set(r,o)}else f=Cc,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var d=r[f];if(!(d[Zn]||d[it]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(n)||"";E=t+E;var A=o.get(E);A?A.push(d):o.set(E,[d])}}return o}function ky(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function H1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function F1(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Xo(o.href),d=n.querySelector(tu(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,Xt(d);return}d=n.ownerDocument||n,o=Iy(o),(f=Wi.get(f))&&Nd(o,f),d=d.createElement("link"),Xt(d);var E=d;E._p=new Promise(function(A,M){E.onload=A,E.onerror=M}),kn(d,"link",o),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=xc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var xd=0;function G1(t,n){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*A1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Dc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,n.forEach(X1,t),Ic=null,xc.call(t))}function X1(t,n){if(!(n.state.loading&4)){var r=Ic.get(t);if(r)var o=r.get(null);else{r=new Map,Ic.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),o=E)}o&&r.set(null,o)}f=n.instance,E=f.getAttribute("data-precedence"),d=r.get(E)||o,d===o&&r.set(null,f),r.set(E,f),this.count++,o=xc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var iu={$$typeof:me,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Y1(t,n,r,o,f,d,E,A,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function My(t,n,r,o,f,d,E,A,M,Q,ae,ue){return t=new Y1(t,n,r,E,M,Q,ae,ue,A),n=1,d===!0&&(n|=24),d=xi(3,null,null,n),t.current=d,d.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:n},hh(d),t}function jy(t){return t?(t=wo,t):wo}function Vy(t,n,r,o,f,d){f=jy(f),o.context===null?o.context=f:o.pendingContext=f,o=ja(n),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Va(t,o,n),r!==null&&(_i(r,t,n),Ml(r,t,n))}function Uy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Id(t,n){Uy(t,n),(t=t.alternate)&&Uy(t,n)}function By(t){if(t.tag===13||t.tag===31){var n=Ir(t,67108864);n!==null&&_i(n,t,67108864),Id(t,67108864)}}function qy(t){if(t.tag===13||t.tag===31){var n=Li();n=_s(n);var r=Ir(t,n);r!==null&&_i(r,t,n),Id(t,n)}}var Oc=!0;function Q1(t,n,r,o){var f=P.T;P.T=null;var d=$.p;try{$.p=2,Dd(t,n,r,o)}finally{$.p=d,P.T=f}}function K1(t,n,r,o){var f=P.T;P.T=null;var d=$.p;try{$.p=8,Dd(t,n,r,o)}finally{$.p=d,P.T=f}}function Dd(t,n,r,o){if(Oc){var f=Od(o);if(f===null)_d(t,n,o,kc,r),Py(t,o);else if(W1(f,t,n,r,o))o.stopPropagation();else if(Py(t,o),n&4&&-1<$1.indexOf(t)){for(;f!==null;){var d=Nn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Si(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var M=1<<31-Vt(E);A.entanglements[1]|=M,E&=~M}xs(d),(_t&6)===0&&(pc=An()+500,Wl(0))}}break;case 31:case 13:A=Ir(d,2),A!==null&&_i(A,d,2),_c(),Id(d,2)}if(d=Od(o),d===null&&_d(t,n,o,kc,r),d===f)break;f=d}f!==null&&o.stopPropagation()}else _d(t,n,o,null,r)}}function Od(t){return t=Te(t),kd(t)}var kc=null;function kd(t){if(kc=null,t=en(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===31){if(t=v(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return kc=t,null}function zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case ns:return 2;case Kn:return 8;case is:case so:return 32;case mr:return 268435456;default:return 32}default:return 32}}var Ld=!1,Qa=null,Ka=null,$a=null,su=new Map,au=new Map,Wa=[],$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Py(t,n){switch(t){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":su.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(n.pointerId)}}function ru(t,n,r,o,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Nn(n),n!==null&&By(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function W1(t,n,r,o,f){switch(n){case"focusin":return Qa=ru(Qa,t,n,r,o,f),!0;case"dragenter":return Ka=ru(Ka,t,n,r,o,f),!0;case"mouseover":return $a=ru($a,t,n,r,o,f),!0;case"pointerover":var d=f.pointerId;return su.set(d,ru(su.get(d)||null,t,n,r,o,f)),!0;case"gotpointercapture":return d=f.pointerId,au.set(d,ru(au.get(d)||null,t,n,r,o,f)),!0}return!1}function Hy(t){var n=en(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,li(t.priority,function(){qy(r)});return}}else if(n===31){if(n=v(r),n!==null){t.blockedOn=n,li(t.priority,function(){qy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Od(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Sr=o,r.target.dispatchEvent(o),Sr=null}else return n=Nn(r),n!==null&&By(n),t.blockedOn=r,!1;n.shift()}return!0}function Fy(t,n,r){Lc(t)&&r.delete(n)}function Z1(){Ld=!1,Qa!==null&&Lc(Qa)&&(Qa=null),Ka!==null&&Lc(Ka)&&(Ka=null),$a!==null&&Lc($a)&&($a=null),su.forEach(Fy),au.forEach(Fy)}function Mc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Z1)))}var jc=null;function Gy(t){jc!==t&&(jc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(kd(o||r)===null)continue;break}var d=Nn(r);d!==null&&(t.splice(n,3),n-=3,Oh(d,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Qo(t){function n(M){return Mc(M,t)}Qa!==null&&Mc(Qa,t),Ka!==null&&Mc(Ka,t),$a!==null&&Mc($a,t),su.forEach(n),au.forEach(n);for(var r=0;r<Wa.length;r++){var o=Wa[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Wa.length&&(r=Wa[0],r.blockedOn===null);)Hy(r),r.blockedOn===null&&Wa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],d=r[o+1],E=f[Jt]||null;if(typeof d=="function")E||Gy(r);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Jt]||null)A=E.formAction;else if(kd(f)!==null)continue}else A=E.action;typeof A=="function"?r[o+1]=A:(r.splice(o,3),o-=3),Gy(r)}}}function Xy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Md(t){this._internalRoot=t}Vc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Li();Vy(r,o,t,n,null,null)},Vc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Vy(t.current,2,null,t,null,null),_c(),n[Mi]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var n=_r();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Wa.length&&n!==0&&n<Wa[r].priority;r++);Wa.splice(r,0,t),r===0&&Hy(t)}};var Yy=e.version;if(Yy!=="19.2.4")throw Error(a(527,Yy,"19.2.4"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(n),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var J1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Ti=Uc.inject(J1),xe=Uc}catch{}}return lu.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",f=e_,d=t_,E=n_;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=My(t,1,!1,null,null,r,o,null,f,d,E,Xy),t[Mi]=n.current,gd(t),new Md(n)},lu.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,f="",d=e_,E=t_,A=n_,M=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),n=My(t,1,!0,n,r??null,o,f,M,d,E,A,Xy),n.context=jy(null),r=n.current,o=Li(),o=_s(o),f=ja(o),f.callback=null,Va(r,f,o),r=o,n.current.lanes=r,ss(n,r),xs(n),t[Mi]=n.current,gd(t),new Vc(n)},lu.version="19.2.4",lu}var iv;function fS(){if(iv)return Ud.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=cS(),Ud.exports}var hS=fS(),Pd={exports:{}};const dS={},mS=Object.freeze(Object.defineProperty({__proto__:null,default:dS},Symbol.toStringTag,{value:"Module"})),sv=nS(mS);var av;function pS(){return av||(av=1,(function(s,e){var i=void 0,a=function(l){return i||(i=new Promise(function(c,m){var v=typeof l<"u"?l:{},T=v.onAbort;v.onAbort=function(h){m(new Error(h)),T&&T(h)},v.postRun=v.postRun||[],v.postRun.push(function(){c(v)}),s=void 0;var g;g||=typeof v<"u"?v:{};var w=typeof window=="object",C=typeof WorkerGlobalScope<"u",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";g.onRuntimeInitialized=function(){function h(F,le){switch(typeof le){case"boolean":ge(F,le?1:0);break;case"number":b(F,le);break;case"string":X(F,le,-1,-1);break;case"object":if(le===null)N(F);else if(le.length!=null){var ve=Ts(le,Es);Z(F,ve,le.length,-1),ni(ve)}else Pe(F,"Wrong API use : tried to return a value of an unknown type ("+le+").",-1);break;default:N(F)}}function _(F,le){for(var ve=[],Ne=0;Ne<F;Ne+=1){var je=Un(le+4*Ne,"i32"),st=yo(je);if(st===1||st===2)je=y(je);else if(st===3)je=os(je);else if(st===4){st=je,je=vo(st),st=u(st);for(var bn=new Uint8Array(je),hi=0;hi<je;hi+=1)bn[hi]=V[st+hi];je=bn}else je=null;ve.push(je)}return ve}function S(F,le){this.Qa=F,this.db=le,this.Oa=1,this.lb=[]}function R(F,le){if(this.db=le,le=ns(F)+1,this.eb=zi(le),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Kn(F,k,this.eb,le),this.kb=this.eb,this.Za=this.pb=null}function j(F){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),F!=null){var le=this.filename,ve="/",Ne=le;if(ve&&(ve=typeof ve=="string"?ve:oi(ve),Ne=le?zt(ve+"/"+le):ve),le=$n(!0,!0),Ne=Aa(Ne,le),F){if(typeof F=="string"){ve=Array(F.length);for(var je=0,st=F.length;je<st;++je)ve[je]=F.charCodeAt(je);F=ve}Jn(Ne,le|146),ve=ji(Ne,577),qs(ve,F,0,F.length,0),Bs(ve),Jn(Ne,le)}}this.handleError(we(this.filename,G)),this.db=Un(G,"i32"),ft(this.db),this.fb={},this.Sa={}}var G=rn(4),ie=g.cwrap,we=ie("sqlite3_open","number",["string","number"]),Oe=ie("sqlite3_close_v2","number",["number"]),Ue=ie("sqlite3_exec","number",["number","string","number","number","number"]),mt=ie("sqlite3_changes","number",["number"]),Yt=ie("sqlite3_prepare_v2","number",["number","string","number","number","number"]),xa=ie("sqlite3_sql","string",["number"]),Ss=ie("sqlite3_normalized_sql","string",["number"]),Hs=ie("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Pi=ie("sqlite3_bind_text","number",["number","number","number","number","number"]),Fs=ie("sqlite3_bind_blob","number",["number","number","number","number","number"]),wr=ie("sqlite3_bind_double","number",["number","number","number"]),Gs=ie("sqlite3_bind_int","number",["number","number","number"]),uo=ie("sqlite3_bind_parameter_index","number",["number","string"]),co=ie("sqlite3_step","number",["number"]),Xs=ie("sqlite3_errmsg","string",["number"]),Ar=ie("sqlite3_column_count","number",["number"]),fo=ie("sqlite3_data_count","number",["number"]),Ia=ie("sqlite3_column_double","number",["number","number"]),Rr=ie("sqlite3_column_text","string",["number","number"]),ho=ie("sqlite3_column_blob","number",["number","number"]),Hi=ie("sqlite3_column_bytes","number",["number","number"]),mo=ie("sqlite3_column_type","number",["number","number"]),po=ie("sqlite3_column_name","string",["number","number"]),go=ie("sqlite3_reset","number",["number"]),_o=ie("sqlite3_clear_bindings","number",["number"]),ws=ie("sqlite3_finalize","number",["number"]),Tn=ie("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),yo=ie("sqlite3_value_type","number",["number"]),vo=ie("sqlite3_value_bytes","number",["number"]),os=ie("sqlite3_value_text","string",["number"]),u=ie("sqlite3_value_blob","number",["number"]),y=ie("sqlite3_value_double","number",["number"]),b=ie("sqlite3_result_double","",["number","number"]),N=ie("sqlite3_result_null","",["number"]),X=ie("sqlite3_result_text","",["number","string","number","number"]),Z=ie("sqlite3_result_blob","",["number","number","number","number"]),ge=ie("sqlite3_result_int","",["number","number"]),Pe=ie("sqlite3_result_error","",["number","string","number"]),Pt=ie("sqlite3_aggregate_context","number",["number","number"]),ft=ie("RegisterExtensionFunctions","number",["number"]),kt=ie("sqlite3_update_hook","number",["number","number","number"]);S.prototype.bind=function(F){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(F)?this.Cb(F):F!=null&&typeof F=="object"?this.Db(F):!0},S.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var F=co(this.Qa);switch(F){case 100:return!0;case 101:return!1;default:throw this.db.handleError(F)}},S.prototype.wb=function(F){return F==null&&(F=this.Oa,this.Oa+=1),Ia(this.Qa,F)},S.prototype.Gb=function(F){if(F==null&&(F=this.Oa,this.Oa+=1),F=Rr(this.Qa,F),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(F)},S.prototype.Hb=function(F){return F==null&&(F=this.Oa,this.Oa+=1),Rr(this.Qa,F)},S.prototype.getBlob=function(F){F==null&&(F=this.Oa,this.Oa+=1);var le=Hi(this.Qa,F);F=ho(this.Qa,F);for(var ve=new Uint8Array(le),Ne=0;Ne<le;Ne+=1)ve[Ne]=V[F+Ne];return ve},S.prototype.get=function(F,le){le=le||{},F!=null&&this.bind(F)&&this.step(),F=[];for(var ve=fo(this.Qa),Ne=0;Ne<ve;Ne+=1)switch(mo(this.Qa,Ne)){case 1:var je=le.useBigInt?this.Gb(Ne):this.wb(Ne);F.push(je);break;case 2:F.push(this.wb(Ne));break;case 3:F.push(this.Hb(Ne));break;case 4:F.push(this.getBlob(Ne));break;default:F.push(null)}return F},S.prototype.getColumnNames=function(){for(var F=[],le=Ar(this.Qa),ve=0;ve<le;ve+=1)F.push(po(this.Qa,ve));return F},S.prototype.getAsObject=function(F,le){F=this.get(F,le),le=this.getColumnNames();for(var ve={},Ne=0;Ne<le.length;Ne+=1)ve[le[Ne]]=F[Ne];return ve},S.prototype.getSQL=function(){return xa(this.Qa)},S.prototype.getNormalizedSQL=function(){return Ss(this.Qa)},S.prototype.run=function(F){return F!=null&&this.bind(F),this.step(),this.reset()},S.prototype.sb=function(F,le){le==null&&(le=this.Oa,this.Oa+=1),F=is(F);var ve=Ts(F,Es);this.lb.push(ve),this.db.handleError(Pi(this.Qa,le,ve,F.length-1,0))},S.prototype.Bb=function(F,le){le==null&&(le=this.Oa,this.Oa+=1);var ve=Ts(F,Es);this.lb.push(ve),this.db.handleError(Fs(this.Qa,le,ve,F.length,0))},S.prototype.rb=function(F,le){le==null&&(le=this.Oa,this.Oa+=1),this.db.handleError((F===(F|0)?Gs:wr)(this.Qa,le,F))},S.prototype.Eb=function(F){F==null&&(F=this.Oa,this.Oa+=1),Fs(this.Qa,F,0,0,0)},S.prototype.tb=function(F,le){switch(le==null&&(le=this.Oa,this.Oa+=1),typeof F){case"string":this.sb(F,le);return;case"number":this.rb(F,le);return;case"bigint":this.sb(F.toString(),le);return;case"boolean":this.rb(F+0,le);return;case"object":if(F===null){this.Eb(le);return}if(F.length!=null){this.Bb(F,le);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+F+")."},S.prototype.Db=function(F){var le=this;return Object.keys(F).forEach(function(ve){var Ne=uo(le.Qa,ve);Ne!==0&&le.tb(F[ve],Ne)}),!0},S.prototype.Cb=function(F){for(var le=0;le<F.length;le+=1)this.tb(F[le],le+1);return!0},S.prototype.reset=function(){return this.freemem(),_o(this.Qa)===0&&go(this.Qa)===0},S.prototype.freemem=function(){for(var F;(F=this.lb.pop())!==void 0;)ni(F)},S.prototype.free=function(){this.freemem();var F=ws(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,F},R.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var F=En(),le=rn(4);Bn(G),Bn(le);try{this.db.handleError(Hs(this.db.db,this.kb,-1,G,le)),this.kb=Un(le,"i32");var ve=Un(G,"i32");return ve===0?(this.mb(),{done:!0}):(this.Za=new S(ve,this.db),this.db.fb[ve]=this.Za,{value:this.Za,done:!1})}catch(Ne){throw this.pb=Us(this.kb),this.mb(),Ne}finally{fi(F)}},R.prototype.mb=function(){ni(this.eb),this.eb=null},R.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Us(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(R.prototype[Symbol.iterator]=function(){return this}),j.prototype.run=function(F,le){if(!this.db)throw"Database closed";if(le){F=this.prepare(F,le);try{F.step()}finally{F.free()}}else this.handleError(Ue(this.db,F,0,0,G));return this},j.prototype.exec=function(F,le,ve){if(!this.db)throw"Database closed";var Ne=En(),je=null;try{var st=yn(F),bn=rn(4);for(F=[];Un(st,"i8")!==0;){Bn(G),Bn(bn),this.handleError(Hs(this.db,st,-1,G,bn));var hi=Un(G,"i32");if(st=Un(bn,"i32"),hi!==0){var ii=null;for(je=new S(hi,this),le!=null&&je.bind(le);je.step();)ii===null&&(ii={columns:je.getColumnNames(),values:[]},F.push(ii)),ii.values.push(je.get(null,ve));je.free()}}return F}catch(Ni){throw je&&je.free(),Ni}finally{fi(Ne)}},j.prototype.each=function(F,le,ve,Ne,je){typeof le=="function"&&(Ne=ve,ve=le,le=void 0),F=this.prepare(F,le);try{for(;F.step();)ve(F.getAsObject(null,je))}finally{F.free()}if(typeof Ne=="function")return Ne()},j.prototype.prepare=function(F,le){if(Bn(G),this.handleError(Yt(this.db,F,-1,G,0)),F=Un(G,"i32"),F===0)throw"Nothing to prepare";var ve=new S(F,this);return le!=null&&ve.bind(le),this.fb[F]=ve},j.prototype.iterateStatements=function(F){return new R(F,this)},j.prototype.export=function(){Object.values(this.fb).forEach(function(le){le.free()}),Object.values(this.Sa).forEach(ti),this.Sa={},this.handleError(Oe(this.db));var F=ei(this.filename);return this.handleError(we(this.filename,G)),this.db=Un(G,"i32"),ft(this.db),F},j.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(F){F.free()}),Object.values(this.Sa).forEach(ti),this.Sa={},this.Ya&&(ti(this.Ya),this.Ya=void 0),this.handleError(Oe(this.db)),Xt("/"+this.filename),this.db=null)},j.prototype.handleError=function(F){if(F===0)return null;throw F=Xs(this.db),Error(F)},j.prototype.getRowsModified=function(){return mt(this.db)},j.prototype.create_function=function(F,le){Object.prototype.hasOwnProperty.call(this.Sa,F)&&(ti(this.Sa[F]),delete this.Sa[F]);var ve=xn(function(Ne,je,st){je=_(je,st);try{var bn=le.apply(null,je)}catch(hi){Pe(Ne,hi,-1);return}h(Ne,bn)},"viii");return this.Sa[F]=ve,this.handleError(Tn(this.db,F,le.length,1,0,ve,0,0,0)),this},j.prototype.create_aggregate=function(F,le){var ve=le.init||function(){return null},Ne=le.finalize||function(ii){return ii},je=le.step;if(!je)throw"An aggregate function must have a step function in "+F;var st={};Object.hasOwnProperty.call(this.Sa,F)&&(ti(this.Sa[F]),delete this.Sa[F]),le=F+"__finalize",Object.hasOwnProperty.call(this.Sa,le)&&(ti(this.Sa[le]),delete this.Sa[le]);var bn=xn(function(ii,Ni,Eo){var As=Pt(ii,1);Object.hasOwnProperty.call(st,As)||(st[As]=ve()),Ni=_(Ni,Eo),Ni=[st[As]].concat(Ni);try{st[As]=je.apply(null,Ni)}catch(Nr){delete st[As],Pe(ii,Nr,-1)}},"viii"),hi=xn(function(ii){var Ni=Pt(ii,1);try{var Eo=Ne(st[Ni])}catch(As){delete st[Ni],Pe(ii,As,-1);return}h(ii,Eo),delete st[Ni]},"vi");return this.Sa[F]=bn,this.Sa[le]=hi,this.handleError(Tn(this.db,F,je.length-1,1,0,0,bn,hi,0)),this},j.prototype.updateHook=function(F){this.Ya&&(kt(this.db,0,0),ti(this.Ya),this.Ya=void 0),F&&(this.Ya=xn(function(le,ve,Ne,je,st){switch(ve){case 18:le="insert";break;case 23:le="update";break;case 9:le="delete";break;default:throw"unknown operationCode in updateHook callback: "+ve}if(Ne=Ne?Tt(k,Ne):"",je=je?Tt(k,je):"",st>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";F(le,Ne,je,Number(st))},"viiiij"),kt(this.db,this.Ya,0))},g.Database=j};var J={...g},W="./this.program",ne=(h,_)=>{throw _},z="",ee,he;if(D){var me=sv;z=__dirname+"/",he=h=>(h=_e(h)?new URL(h):h,me.readFileSync(h)),ee=async h=>(h=_e(h)?new URL(h):h,me.readFileSync(h,void 0)),!g.thisProgram&&1<process.argv.length&&(W=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),s.exports=g,ne=(h,_)=>{throw process.exitCode=h,_}}else(w||C)&&(C?z=self.location.href:typeof document<"u"&&document.currentScript&&(z=document.currentScript.src),z=z.startsWith("blob:")?"":z.slice(0,z.replace(/[?#].*/,"").lastIndexOf("/")+1),C&&(he=h=>{var _=new XMLHttpRequest;return _.open("GET",h,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),ee=async h=>{if(_e(h))return new Promise((S,R)=>{var j=new XMLHttpRequest;j.open("GET",h,!0),j.responseType="arraybuffer",j.onload=()=>{j.status==200||j.status==0&&j.response?S(j.response):R(j.status)},j.onerror=R,j.send(null)});var _=await fetch(h,{credentials:"same-origin"});if(_.ok)return _.arrayBuffer();throw Error(_.status+" : "+_.url)});var de=g.print||console.log.bind(console),Re=g.printErr||console.error.bind(console);Object.assign(g,J),J=null,g.thisProgram&&(W=g.thisProgram);var De=g.wasmBinary,O,I=!1,L,V,k,U,x,Me,Et,P,$,_e=h=>h.startsWith("file://");function $e(){var h=O.buffer;g.HEAP8=V=new Int8Array(h),g.HEAP16=U=new Int16Array(h),g.HEAPU8=k=new Uint8Array(h),g.HEAPU16=new Uint16Array(h),g.HEAP32=x=new Int32Array(h),g.HEAPU32=Me=new Uint32Array(h),g.HEAPF32=Et=new Float32Array(h),g.HEAPF64=$=new Float64Array(h),g.HEAP64=P=new BigInt64Array(h),g.HEAPU64=new BigUint64Array(h)}var Qe=0,B=null;function re(h){throw g.onAbort?.(h),h="Aborted("+h+")",Re(h),I=!0,new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info.")}var ye;async function Ee(h){if(!De)try{var _=await ee(h);return new Uint8Array(_)}catch{}if(h==ye&&De)h=new Uint8Array(De);else if(he)h=he(h);else throw"both async and sync fetching of the wasm failed";return h}async function ze(h,_){try{var S=await Ee(h);return await WebAssembly.instantiate(S,_)}catch(R){Re(`failed to asynchronously prepare wasm: ${R}`),re(R)}}async function Ke(h){var _=ye;if(!De&&typeof WebAssembly.instantiateStreaming=="function"&&!_e(_)&&!D)try{var S=fetch(_,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(S,h)}catch(R){Re(`wasm streaming compile failed: ${R}`),Re("falling back to ArrayBuffer instantiation")}return ze(_,h)}class Je{name="ExitStatus";constructor(_){this.message=`Program terminated with exit(${_})`,this.status=_}}var Kt=h=>{for(;0<h.length;)h.shift()(g)},Ot=[],ms=[],Ea=()=>{var h=g.preRun.shift();ms.unshift(h)};function Un(h,_="i8"){switch(_.endsWith("*")&&(_="*"),_){case"i1":return V[h];case"i8":return V[h];case"i16":return U[h>>1];case"i32":return x[h>>2];case"i64":return P[h>>3];case"float":return Et[h>>2];case"double":return $[h>>3];case"*":return Me[h>>2];default:re(`invalid type for getValue: ${_}`)}}var ps=g.noExitRuntime||!0;function Bn(h){var _="i32";switch(_.endsWith("*")&&(_="*"),_){case"i1":V[h]=0;break;case"i8":V[h]=0;break;case"i16":U[h>>1]=0;break;case"i32":x[h>>2]=0;break;case"i64":P[h>>3]=BigInt(0);break;case"float":Et[h>>2]=0;break;case"double":$[h>>3]=0;break;case"*":Me[h>>2]=0;break;default:re(`invalid type for setValue: ${_}`)}}var Ta=typeof TextDecoder<"u"?new TextDecoder:void 0,Tt=(h,_=0,S=NaN)=>{var R=_+S;for(S=_;h[S]&&!(S>=R);)++S;if(16<S-_&&h.buffer&&Ta)return Ta.decode(h.subarray(_,S));for(R="";_<S;){var j=h[_++];if(j&128){var G=h[_++]&63;if((j&224)==192)R+=String.fromCharCode((j&31)<<6|G);else{var ie=h[_++]&63;j=(j&240)==224?(j&15)<<12|G<<6|ie:(j&7)<<18|G<<12|ie<<6|h[_++]&63,65536>j?R+=String.fromCharCode(j):(j-=65536,R+=String.fromCharCode(55296|j>>10,56320|j&1023))}}else R+=String.fromCharCode(j)}return R},Us=(h,_)=>h?Tt(k,h,_):"",ba=(h,_)=>{for(var S=0,R=h.length-1;0<=R;R--){var j=h[R];j==="."?h.splice(R,1):j===".."?(h.splice(R,1),S++):S&&(h.splice(R,1),S--)}if(_)for(;S;S--)h.unshift("..");return h},zt=h=>{var _=h.charAt(0)==="/",S=h.slice(-1)==="/";return(h=ba(h.split("/").filter(R=>!!R),!_).join("/"))||_||(h="."),h&&S&&(h+="/"),(_?"/":"")+h},$t=h=>{var _=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=_[0],_=_[1],!h&&!_?".":(_&&=_.slice(0,-1),h+_)},Ei=h=>h&&h.match(/([^\/]+|\/)\/*$/)[1],Sl=()=>{if(D){var h=sv;return _=>h.randomFillSync(_)}return _=>crypto.getRandomValues(_)},dr=h=>{(dr=Sl())(h)},An=(...h)=>{for(var _="",S=!1,R=h.length-1;-1<=R&&!S;R--){if(S=0<=R?h[R]:"/",typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";_=S+"/"+_,S=S.charAt(0)==="/"}return _=ba(_.split("/").filter(j=>!!j),!S).join("/"),(S?"/":"")+_||"."},ts=[],ns=h=>{for(var _=0,S=0;S<h.length;++S){var R=h.charCodeAt(S);127>=R?_++:2047>=R?_+=2:55296<=R&&57343>=R?(_+=4,++S):_+=3}return _},Kn=(h,_,S,R)=>{if(!(0<R))return 0;var j=S;R=S+R-1;for(var G=0;G<h.length;++G){var ie=h.charCodeAt(G);if(55296<=ie&&57343>=ie){var we=h.charCodeAt(++G);ie=65536+((ie&1023)<<10)|we&1023}if(127>=ie){if(S>=R)break;_[S++]=ie}else{if(2047>=ie){if(S+1>=R)break;_[S++]=192|ie>>6}else{if(65535>=ie){if(S+2>=R)break;_[S++]=224|ie>>12}else{if(S+3>=R)break;_[S++]=240|ie>>18,_[S++]=128|ie>>12&63}_[S++]=128|ie>>6&63}_[S++]=128|ie&63}}return _[S]=0,S-j},is=(h,_)=>{var S=Array(ns(h)+1);return h=Kn(h,S,0,S.length),_&&(S.length=h),S},so=[];function mr(h,_){so[h]={input:[],output:[],cb:_},wa(h,ao)}var ao={open(h){var _=so[h.node.rdev];if(!_)throw new pe(43);h.tty=_,h.seekable=!1},close(h){h.tty.cb.fsync(h.tty)},fsync(h){h.tty.cb.fsync(h.tty)},read(h,_,S,R){if(!h.tty||!h.tty.cb.xb)throw new pe(60);for(var j=0,G=0;G<R;G++){try{var ie=h.tty.cb.xb(h.tty)}catch{throw new pe(29)}if(ie===void 0&&j===0)throw new pe(6);if(ie==null)break;j++,_[S+G]=ie}return j&&(h.node.atime=Date.now()),j},write(h,_,S,R){if(!h.tty||!h.tty.cb.qb)throw new pe(60);try{for(var j=0;j<R;j++)h.tty.cb.qb(h.tty,_[S+j])}catch{throw new pe(29)}return R&&(h.node.mtime=h.node.ctime=Date.now()),j}},ro={xb(){e:{if(!ts.length){var h=null;if(D){var _=Buffer.alloc(256),S=0,R=process.stdin.fd;try{S=me.readSync(R,_,0,256)}catch(j){if(j.toString().includes("EOF"))S=0;else throw j}0<S&&(h=_.slice(0,S).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`));if(!h){h=null;break e}ts=is(h,!0)}h=ts.shift()}return h},qb(h,_){_===null||_===10?(de(Tt(h.output)),h.output=[]):_!=0&&h.output.push(_)},fsync(h){0<h.output?.length&&(de(Tt(h.output)),h.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},Ti={qb(h,_){_===null||_===10?(Re(Tt(h.output)),h.output=[]):_!=0&&h.output.push(_)},fsync(h){0<h.output?.length&&(Re(Tt(h.output)),h.output=[])}},xe={Wa:null,Xa(){return xe.createNode(null,"/",16895,0)},createNode(h,_,S,R){if((S&61440)===24576||(S&61440)===4096)throw new pe(63);return xe.Wa||(xe.Wa={dir:{node:{Ta:xe.La.Ta,Ua:xe.La.Ua,lookup:xe.La.lookup,hb:xe.La.hb,rename:xe.La.rename,unlink:xe.La.unlink,rmdir:xe.La.rmdir,readdir:xe.La.readdir,symlink:xe.La.symlink},stream:{Va:xe.Ma.Va}},file:{node:{Ta:xe.La.Ta,Ua:xe.La.Ua},stream:{Va:xe.Ma.Va,read:xe.Ma.read,write:xe.Ma.write,ib:xe.Ma.ib,jb:xe.Ma.jb}},link:{node:{Ta:xe.La.Ta,Ua:xe.La.Ua,readlink:xe.La.readlink},stream:{}},ub:{node:{Ta:xe.La.Ta,Ua:xe.La.Ua},stream:Al}}),S=Sa(h,_,S,R),an(S.mode)?(S.La=xe.Wa.dir.node,S.Ma=xe.Wa.dir.stream,S.Na={}):(S.mode&61440)===32768?(S.La=xe.Wa.file.node,S.Ma=xe.Wa.file.stream,S.Ra=0,S.Na=null):(S.mode&61440)===40960?(S.La=xe.Wa.link.node,S.Ma=xe.Wa.link.stream):(S.mode&61440)===8192&&(S.La=xe.Wa.ub.node,S.Ma=xe.Wa.ub.stream),S.atime=S.mtime=S.ctime=Date.now(),h&&(h.Na[_]=S,h.atime=h.mtime=h.ctime=S.atime),S},Sb(h){return h.Na?h.Na.subarray?h.Na.subarray(0,h.Ra):new Uint8Array(h.Na):new Uint8Array(0)},La:{Ta(h){var _={};return _.dev=(h.mode&61440)===8192?h.id:1,_.ino=h.id,_.mode=h.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=h.rdev,an(h.mode)?_.size=4096:(h.mode&61440)===32768?_.size=h.Ra:(h.mode&61440)===40960?_.size=h.link.length:_.size=0,_.atime=new Date(h.atime),_.mtime=new Date(h.mtime),_.ctime=new Date(h.ctime),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},Ua(h,_){for(var S of["mode","atime","mtime","ctime"])_[S]!=null&&(h[S]=_[S]);_.size!==void 0&&(_=_.size,h.Ra!=_&&(_==0?(h.Na=null,h.Ra=0):(S=h.Na,h.Na=new Uint8Array(_),S&&h.Na.set(S.subarray(0,Math.min(_,h.Ra))),h.Ra=_)))},lookup(){throw xe.vb},hb(h,_,S,R){return xe.createNode(h,_,S,R)},rename(h,_,S){try{var R=Wn(_,S)}catch{}if(R){if(an(h.mode))for(var j in R.Na)throw new pe(55);gr(R)}delete h.parent.Na[h.name],_.Na[S]=h,h.name=S,_.ctime=_.mtime=h.parent.ctime=h.parent.mtime=Date.now()},unlink(h,_){delete h.Na[_],h.ctime=h.mtime=Date.now()},rmdir(h,_){var S=Wn(h,_),R;for(R in S.Na)throw new pe(55);delete h.Na[_],h.ctime=h.mtime=Date.now()},readdir(h){return[".","..",...Object.keys(h.Na)]},symlink(h,_,S){return h=xe.createNode(h,_,41471,0),h.link=S,h},readlink(h){if((h.mode&61440)!==40960)throw new pe(28);return h.link}},Ma:{read(h,_,S,R,j){var G=h.node.Na;if(j>=h.node.Ra)return 0;if(h=Math.min(h.node.Ra-j,R),8<h&&G.subarray)_.set(G.subarray(j,j+h),S);else for(R=0;R<h;R++)_[S+R]=G[j+R];return h},write(h,_,S,R,j,G){if(_.buffer===V.buffer&&(G=!1),!R)return 0;if(h=h.node,h.mtime=h.ctime=Date.now(),_.subarray&&(!h.Na||h.Na.subarray)){if(G)return h.Na=_.subarray(S,S+R),h.Ra=R;if(h.Ra===0&&j===0)return h.Na=_.slice(S,S+R),h.Ra=R;if(j+R<=h.Ra)return h.Na.set(_.subarray(S,S+R),j),R}G=j+R;var ie=h.Na?h.Na.length:0;if(ie>=G||(G=Math.max(G,ie*(1048576>ie?2:1.125)>>>0),ie!=0&&(G=Math.max(G,256)),ie=h.Na,h.Na=new Uint8Array(G),0<h.Ra&&h.Na.set(ie.subarray(0,h.Ra),0)),h.Na.subarray&&_.subarray)h.Na.set(_.subarray(S,S+R),j);else for(G=0;G<R;G++)h.Na[j+G]=_[S+G];return h.Ra=Math.max(h.Ra,j+R),R},Va(h,_,S){if(S===1?_+=h.position:S===2&&(h.node.mode&61440)===32768&&(_+=h.node.Ra),0>_)throw new pe(28);return _},ib(h,_,S,R,j){if((h.node.mode&61440)!==32768)throw new pe(43);if(h=h.node.Na,j&2||!h||h.buffer!==V.buffer){j=!0,R=65536*Math.ceil(_/65536);var G=bs(65536,R);if(G&&k.fill(0,G,G+R),R=G,!R)throw new pe(48);h&&((0<S||S+_<h.length)&&(h.subarray?h=h.subarray(S,S+_):h=Array.prototype.slice.call(h,S,S+_)),V.set(h,R))}else j=!1,R=h.byteOffset;return{Kb:R,Ab:j}},jb(h,_,S,R){return xe.Ma.write(h,_,0,R,S,!1),0}}},$n=(h,_)=>{var S=0;return h&&(S|=365),_&&(S|=146),S},Vt=null,pr={},bi=[],oo=1,mn=null,gs=!1,Gt=!0,Si={},pe=class{name="ErrnoError";constructor(h){this.Pa=h}},wi=class{gb={};node=null;get flags(){return this.gb.flags}set flags(h){this.gb.flags=h}get position(){return this.gb.position}set position(h){this.gb.position=h}},wl=class{La={};Ma={};ab=null;constructor(h,_,S,R){h||=this,this.parent=h,this.Xa=h.Xa,this.id=oo++,this.name=_,this.mode=S,this.rdev=R,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function Rn(h,_={}){if(!h)throw new pe(44);_.nb??(_.nb=!0),h.charAt(0)==="/"||(h="//"+h);var S=0;e:for(;40>S;S++){h=h.split("/").filter(we=>!!we);for(var R=Vt,j="/",G=0;G<h.length;G++){var ie=G===h.length-1;if(ie&&_.parent)break;if(h[G]!==".")if(h[G]==="..")j=$t(j),R=R.parent;else{j=zt(j+"/"+h[G]);try{R=Wn(R,h[G])}catch(we){if(we?.Pa===44&&ie&&_.Jb)return{path:j};throw we}if(!R.ab||ie&&!_.nb||(R=R.ab.root),(R.mode&61440)===40960&&(!ie||_.$a)){if(!R.La.readlink)throw new pe(52);R=R.La.readlink(R),R.charAt(0)==="/"||(R=$t(j)+"/"+R),h=R+"/"+h.slice(G+1).join("/");continue e}}}return{path:j,node:R}}throw new pe(32)}function oi(h){for(var _;;){if(h===h.parent)return h=h.Xa.zb,_?h[h.length-1]!=="/"?`${h}/${_}`:h+_:h;_=_?`${h.name}/${_}`:h.name,h=h.parent}}function ss(h,_){for(var S=0,R=0;R<_.length;R++)S=(S<<5)-S+_.charCodeAt(R)|0;return(h+S>>>0)%mn.length}function gr(h){var _=ss(h.parent.id,h.name);if(mn[_]===h)mn[_]=h.bb;else for(_=mn[_];_;){if(_.bb===h){_.bb=h.bb;break}_=_.bb}}function Wn(h,_){var S=an(h.mode)?(S=qn(h,"x"))?S:h.La.lookup?0:2:54;if(S)throw new pe(S);for(S=mn[ss(h.id,_)];S;S=S.bb){var R=S.name;if(S.parent.id===h.id&&R===_)return S}return h.La.lookup(h,_)}function Sa(h,_,S,R){return h=new wl(h,_,S,R),_=ss(h.parent.id,h.name),h.bb=mn[_],mn[_]=h}function an(h){return(h&61440)===16384}function _s(h){var _=["r","w","rw"][h&3];return h&512&&(_+="w"),_}function qn(h,_){if(Gt)return 0;if(!_.includes("r")||h.mode&292){if(_.includes("w")&&!(h.mode&146)||_.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function _r(h,_){if(!an(h.mode))return 54;try{return Wn(h,_),20}catch{}return qn(h,"wx")}function li(h,_,S){try{var R=Wn(h,_)}catch(j){return j.Pa}if(h=qn(h,"wx"))return h;if(S){if(!an(R.mode))return 54;if(R===R.parent||oi(R)==="/")return 10}else if(an(R.mode))return 31;return 0}function zn(h){if(!h)throw new pe(63);return h}function it(h){if(h=bi[h],!h)throw new pe(8);return h}function Jt(h,_=-1){if(h=Object.assign(new wi,h),_==-1)e:{for(_=0;4096>=_;_++)if(!bi[_])break e;throw new pe(33)}return h.fd=_,bi[_]=h}function Mi(h,_=-1){return h=Jt(h,_),h.Ma?.Rb?.(h),h}function ys(h,_,S){var R=h?.Ma.Ua;h=R?h:_,R??=_.La.Ua,zn(R),R(h,S)}var Al={open(h){h.Ma=pr[h.node.rdev].Ma,h.Ma.open?.(h)},Va(){throw new pe(70)}};function wa(h,_){pr[h]={Ma:_}}function yr(h,_){var S=_==="/";if(S&&Vt)throw new pe(10);if(!S&&_){var R=Rn(_,{nb:!1});if(_=R.path,R=R.node,R.ab)throw new pe(10);if(!an(R.mode))throw new pe(54)}_={type:h,Wb:{},zb:_,Ib:[]},h=h.Xa(_),h.Xa=_,_.root=h,S?Vt=h:R&&(R.ab=_,R.Xa&&R.Xa.Ib.push(_))}function Zn(h,_,S){var R=Rn(h,{parent:!0}).node;if(h=Ei(h),!h)throw new pe(28);if(h==="."||h==="..")throw new pe(20);var j=_r(R,h);if(j)throw new pe(j);if(!R.La.hb)throw new pe(63);return R.La.hb(R,h,_,S)}function Aa(h,_=438){return Zn(h,_&4095|32768,0)}function en(h,_=511){return Zn(h,_&1023|16384,0)}function Nn(h,_,S){typeof S>"u"&&(S=_,_=438),Zn(h,_|8192,S)}function Cn(h,_){if(!An(h))throw new pe(44);var S=Rn(_,{parent:!0}).node;if(!S)throw new pe(44);_=Ei(_);var R=_r(S,_);if(R)throw new pe(R);if(!S.La.symlink)throw new pe(63);S.La.symlink(S,_,h)}function Ai(h){var _=Rn(h,{parent:!0}).node;h=Ei(h);var S=Wn(_,h),R=li(_,h,!0);if(R)throw new pe(R);if(!_.La.rmdir)throw new pe(63);if(S.ab)throw new pe(10);_.La.rmdir(_,h),gr(S)}function Xt(h){var _=Rn(h,{parent:!0}).node;if(!_)throw new pe(44);h=Ei(h);var S=Wn(_,h),R=li(_,h,!1);if(R)throw new pe(R);if(!_.La.unlink)throw new pe(63);if(S.ab)throw new pe(10);_.La.unlink(_,h),gr(S)}function as(h,_){return h=Rn(h,{$a:!_}).node,zn(h.La.Ta)(h)}function Ra(h,_,S,R){ys(h,_,{mode:S&4095|_.mode&-4096,ctime:Date.now(),Fb:R})}function Jn(h,_){h=typeof h=="string"?Rn(h,{$a:!0}).node:h,Ra(null,h,_)}function Ri(h,_,S){if(an(_.mode))throw new pe(31);if((_.mode&61440)!==32768)throw new pe(28);var R=qn(_,"w");if(R)throw new pe(R);ys(h,_,{size:S,timestamp:Date.now()})}function ji(h,_,S=438){if(h==="")throw new pe(44);if(typeof _=="string"){var R={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[_];if(typeof R>"u")throw Error(`Unknown file open mode: ${_}`);_=R}if(S=_&64?S&4095|32768:0,typeof h=="object")R=h;else{var j=h.endsWith("/");h=Rn(h,{$a:!(_&131072),Jb:!0}),R=h.node,h=h.path}var G=!1;if(_&64)if(R){if(_&128)throw new pe(20)}else{if(j)throw new pe(31);R=Zn(h,S|511,0),G=!0}if(!R)throw new pe(44);if((R.mode&61440)===8192&&(_&=-513),_&65536&&!an(R.mode))throw new pe(54);if(!G&&(j=R?(R.mode&61440)===40960?32:an(R.mode)&&(_s(_)!=="r"||_&576)?31:qn(R,_s(_)):44))throw new pe(j);return _&512&&!G&&(j=R,j=typeof j=="string"?Rn(j,{$a:!0}).node:j,Ri(null,j,0)),_&=-131713,j=Jt({node:R,path:oi(R),flags:_,seekable:!0,position:0,Ma:R.Ma,Lb:[],error:!1}),j.Ma.open&&j.Ma.open(j),G&&Jn(R,S&511),!g.logReadFiles||_&1||h in Si||(Si[h]=1),j}function Bs(h){if(h.fd===null)throw new pe(8);h.ob&&(h.ob=null);try{h.Ma.close&&h.Ma.close(h)}catch(_){throw _}finally{bi[h.fd]=null}h.fd=null}function Na(h,_,S){if(h.fd===null)throw new pe(8);if(!h.seekable||!h.Ma.Va)throw new pe(70);if(S!=0&&S!=1&&S!=2)throw new pe(28);h.position=h.Ma.Va(h,_,S),h.Lb=[]}function vr(h,_,S,R,j){if(0>R||0>j)throw new pe(28);if(h.fd===null)throw new pe(8);if((h.flags&2097155)===1)throw new pe(8);if(an(h.node.mode))throw new pe(31);if(!h.Ma.read)throw new pe(28);var G=typeof j<"u";if(!G)j=h.position;else if(!h.seekable)throw new pe(70);return _=h.Ma.read(h,_,S,R,j),G||(h.position+=_),_}function qs(h,_,S,R,j){if(0>R||0>j)throw new pe(28);if(h.fd===null)throw new pe(8);if((h.flags&2097155)===0)throw new pe(8);if(an(h.node.mode))throw new pe(31);if(!h.Ma.write)throw new pe(28);h.seekable&&h.flags&1024&&Na(h,0,2);var G=typeof j<"u";if(!G)j=h.position;else if(!h.seekable)throw new pe(70);return _=h.Ma.write(h,_,S,R,j,void 0),G||(h.position+=_),_}function ei(h){var _,S=ji(h,S||0);h=as(h).size;var R=new Uint8Array(h);return vr(S,R,0,h,0),_=R,Bs(S),_}function wt(h,_,S){h=zt("/dev/"+h);var R=$n(!!_,!!S);wt.yb??(wt.yb=64);var j=wt.yb++<<8|0;wa(j,{open(G){G.seekable=!1},close(){S?.buffer?.length&&S(10)},read(G,ie,we,Oe){for(var Ue=0,mt=0;mt<Oe;mt++){try{var Yt=_()}catch{throw new pe(29)}if(Yt===void 0&&Ue===0)throw new pe(6);if(Yt==null)break;Ue++,ie[we+mt]=Yt}return Ue&&(G.node.atime=Date.now()),Ue},write(G,ie,we,Oe){for(var Ue=0;Ue<Oe;Ue++)try{S(ie[we+Ue])}catch{throw new pe(29)}return Oe&&(G.node.mtime=G.node.ctime=Date.now()),Ue}}),Nn(h,R,j)}var Ge={};function Pn(h,_,S){if(_.charAt(0)==="/")return _;if(h=h===-100?"/":it(h).path,_.length==0){if(!S)throw new pe(44);return h}return h+"/"+_}function vs(h,_){x[h>>2]=_.dev,x[h+4>>2]=_.mode,Me[h+8>>2]=_.nlink,x[h+12>>2]=_.uid,x[h+16>>2]=_.gid,x[h+20>>2]=_.rdev,P[h+24>>3]=BigInt(_.size),x[h+32>>2]=4096,x[h+36>>2]=_.blocks;var S=_.atime.getTime(),R=_.mtime.getTime(),j=_.ctime.getTime();return P[h+40>>3]=BigInt(Math.floor(S/1e3)),Me[h+48>>2]=S%1e3*1e6,P[h+56>>3]=BigInt(Math.floor(R/1e3)),Me[h+64>>2]=R%1e3*1e6,P[h+72>>3]=BigInt(Math.floor(j/1e3)),Me[h+80>>2]=j%1e3*1e6,P[h+88>>3]=BigInt(_.ino),0}var ct=void 0,Vi=()=>{var h=x[+ct>>2];return ct+=4,h},ui=0,zs=[0,31,60,91,121,152,182,213,244,274,305,335],Hn=[0,31,59,90,120,151,181,212,243,273,304,334],Ui={},Er=h=>{L=h,ps||0<ui||(g.onExit?.(h),I=!0),ne(h,new Je(h))},Tr=h=>{if(!I)try{if(h(),!(ps||0<ui))try{L=h=L,Er(h)}catch(_){_ instanceof Je||_=="unwind"||ne(1,_)}}catch(_){_ instanceof Je||_=="unwind"||ne(1,_)}},Bi={},br=()=>{if(!qi){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},_;for(_ in Bi)Bi[_]===void 0?delete h[_]:h[_]=Bi[_];var S=[];for(_ in h)S.push(`${_}=${h[_]}`);qi=S}return qi},qi,yn=h=>{var _=ns(h)+1,S=rn(_);return Kn(h,k,S,_),S},lo=(h,_,S,R)=>{var j={string:Ue=>{var mt=0;return Ue!=null&&Ue!==0&&(mt=yn(Ue)),mt},array:Ue=>{var mt=rn(Ue.length);return V.set(Ue,mt),mt}};h=g["_"+h];var G=[],ie=0;if(R)for(var we=0;we<R.length;we++){var Oe=j[S[we]];Oe?(ie===0&&(ie=En()),G[we]=Oe(R[we])):G[we]=R[we]}return S=h(...G),S=(function(Ue){return ie!==0&&fi(ie),_==="string"?Ue?Tt(k,Ue):"":_==="boolean"?!!Ue:Ue})(S)},Es=0,Ts=(h,_)=>(_=_==1?rn(h.length):zi(h.length),h.subarray||h.slice||(h=new Uint8Array(h)),k.set(h,_),_),ci,Ca=[],vn,ti=h=>{ci.delete(vn.get(h)),vn.set(h,null),Ca.push(h)},xn=(h,_)=>{if(!ci){ci=new WeakMap;var S=vn.length;if(ci)for(var R=0;R<0+S;R++){var j=vn.get(R);j&&ci.set(j,R)}}if(S=ci.get(h)||0)return S;if(Ca.length)S=Ca.pop();else{try{vn.grow(1)}catch(Oe){throw Oe instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Oe}S=vn.length-1}try{vn.set(S,h)}catch(Oe){if(!(Oe instanceof TypeError))throw Oe;if(typeof WebAssembly.Function=="function"){var G=WebAssembly.Function;R={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},j={parameters:[],results:_[0]=="v"?[]:[R[_[0]]]};for(var ie=1;ie<_.length;++ie)j.parameters.push(R[_[ie]]);_=new G(j,h)}else{R=[1],j=_.slice(0,1),_=_.slice(1),ie={i:127,p:127,j:126,f:125,d:124,e:111},R.push(96);var we=_.length;128>we?R.push(we):R.push(we%128|128,we>>7);for(G of _)R.push(ie[G]);j=="v"?R.push(0):R.push(1,ie[j]),_=[0,97,115,109,1,0,0,0,1],G=R.length,128>G?_.push(G):_.push(G%128|128,G>>7),_.push(...R),_.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),_=new WebAssembly.Module(new Uint8Array(_)),_=new WebAssembly.Instance(_,{e:{f:h}}).exports.f}vn.set(S,_)}return ci.set(h,S),S};mn=Array(4096),yr(xe,"/"),en("/tmp"),en("/home"),en("/home/web_user"),(function(){en("/dev"),wa(259,{read:()=>0,write:(R,j,G,ie)=>ie,Va:()=>0}),Nn("/dev/null",259),mr(1280,ro),mr(1536,Ti),Nn("/dev/tty",1280),Nn("/dev/tty1",1536);var h=new Uint8Array(1024),_=0,S=()=>(_===0&&(dr(h),_=h.byteLength),h[--_]);wt("random",S),wt("urandom",S),en("/dev/shm"),en("/dev/shm/tmp")})(),(function(){en("/proc");var h=en("/proc/self");en("/proc/self/fd"),yr({Xa(){var _=Sa(h,"fd",16895,73);return _.Ma={Va:xe.Ma.Va},_.La={lookup(S,R){S=+R;var j=it(S);return S={parent:null,Xa:{zb:"fake"},La:{readlink:()=>j.path},id:S+1},S.parent=S},readdir(){return Array.from(bi.entries()).filter(([,S])=>S).map(([S])=>S.toString())}},_}},"/proc/self/fd")})(),xe.vb=new pe(44),xe.vb.stack="<generic error, no stack>";var Sr={a:(h,_,S,R)=>re(`Assertion failed: ${h?Tt(k,h):""}, at: `+[_?_?Tt(k,_):"":"unknown filename",S,R?R?Tt(k,R):"":"unknown function"]),i:function(h,_){try{return h=h?Tt(k,h):"",Jn(h,_),0}catch(S){if(typeof Ge>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},L:function(h,_,S){try{if(_=_?Tt(k,_):"",_=Pn(h,_),S&-8)return-28;var R=Rn(_,{$a:!0}).node;return R?(h="",S&4&&(h+="r"),S&2&&(h+="w"),S&1&&(h+="x"),h&&qn(R,h)?-2:0):-44}catch(j){if(typeof Ge>"u"||j.name!=="ErrnoError")throw j;return-j.Pa}},j:function(h,_){try{var S=it(h);return Ra(S,S.node,_,!1),0}catch(R){if(typeof Ge>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},h:function(h){try{var _=it(h);return ys(_,_.node,{timestamp:Date.now(),Fb:!1}),0}catch(S){if(typeof Ge>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},b:function(h,_,S){ct=S;try{var R=it(h);switch(_){case 0:var j=Vi();if(0>j)break;for(;bi[j];)j++;return Mi(R,j).fd;case 1:case 2:return 0;case 3:return R.flags;case 4:return j=Vi(),R.flags|=j,0;case 12:return j=Vi(),U[j+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(G){if(typeof Ge>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},g:function(h,_){try{var S=it(h),R=S.node,j=S.Ma.Ta;h=j?S:R,j??=R.La.Ta,zn(j);var G=j(h);return vs(_,G)}catch(ie){if(typeof Ge>"u"||ie.name!=="ErrnoError")throw ie;return-ie.Pa}},H:function(h,_){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{if(isNaN(_))return 61;var S=it(h);if(0>_||(S.flags&2097155)===0)throw new pe(28);return Ri(S,S.node,_),0}catch(R){if(typeof Ge>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},G:function(h,_){try{if(_===0)return-28;var S=ns("/")+1;return _<S?-68:(Kn("/",k,h,_),S)}catch(R){if(typeof Ge>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},K:function(h,_){try{return h=h?Tt(k,h):"",vs(_,as(h,!0))}catch(S){if(typeof Ge>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},C:function(h,_,S){try{return _=_?Tt(k,_):"",_=Pn(h,_),en(_,S),0}catch(R){if(typeof Ge>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},J:function(h,_,S,R){try{_=_?Tt(k,_):"";var j=R&256;return _=Pn(h,_,R&4096),vs(S,j?as(_,!0):as(_))}catch(G){if(typeof Ge>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},x:function(h,_,S,R){ct=R;try{_=_?Tt(k,_):"",_=Pn(h,_);var j=R?Vi():0;return ji(_,S,j).fd}catch(G){if(typeof Ge>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},v:function(h,_,S,R){try{if(_=_?Tt(k,_):"",_=Pn(h,_),0>=R)return-28;var j=Rn(_).node;if(!j)throw new pe(44);if(!j.La.readlink)throw new pe(28);var G=j.La.readlink(j),ie=Math.min(R,ns(G)),we=V[S+ie];return Kn(G,k,S,R+1),V[S+ie]=we,ie}catch(Oe){if(typeof Ge>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Pa}},u:function(h){try{return h=h?Tt(k,h):"",Ai(h),0}catch(_){if(typeof Ge>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},f:function(h,_){try{return h=h?Tt(k,h):"",vs(_,as(h))}catch(S){if(typeof Ge>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},r:function(h,_,S){try{return _=_?Tt(k,_):"",_=Pn(h,_),S===0?Xt(_):S===512?Ai(_):re("Invalid flags passed to unlinkat"),0}catch(R){if(typeof Ge>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},q:function(h,_,S){try{_=_?Tt(k,_):"",_=Pn(h,_,!0);var R=Date.now(),j,G;if(S){var ie=Me[S>>2]+4294967296*x[S+4>>2],we=x[S+8>>2];we==1073741823?j=R:we==1073741822?j=null:j=1e3*ie+we/1e6,S+=16,ie=Me[S>>2]+4294967296*x[S+4>>2],we=x[S+8>>2],we==1073741823?G=R:we==1073741822?G=null:G=1e3*ie+we/1e6}else G=j=R;if((G??j)!==null){h=j;var Oe=Rn(_,{$a:!0}).node;zn(Oe.La.Ua)(Oe,{atime:h,mtime:G})}return 0}catch(Ue){if(typeof Ge>"u"||Ue.name!=="ErrnoError")throw Ue;return-Ue.Pa}},m:()=>re(""),l:()=>{ps=!1,ui=0},A:function(h,_){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h),h=new Date(1e3*h),x[_>>2]=h.getSeconds(),x[_+4>>2]=h.getMinutes(),x[_+8>>2]=h.getHours(),x[_+12>>2]=h.getDate(),x[_+16>>2]=h.getMonth(),x[_+20>>2]=h.getFullYear()-1900,x[_+24>>2]=h.getDay();var S=h.getFullYear();x[_+28>>2]=(S%4!==0||S%100===0&&S%400!==0?Hn:zs)[h.getMonth()]+h.getDate()-1|0,x[_+36>>2]=-(60*h.getTimezoneOffset()),S=new Date(h.getFullYear(),6,1).getTimezoneOffset();var R=new Date(h.getFullYear(),0,1).getTimezoneOffset();x[_+32>>2]=(S!=R&&h.getTimezoneOffset()==Math.min(R,S))|0},y:function(h,_,S,R,j,G,ie){j=-9007199254740992>j||9007199254740992<j?NaN:Number(j);try{if(isNaN(j))return 61;var we=it(R);if((_&2)!==0&&(S&2)===0&&(we.flags&2097155)!==2)throw new pe(2);if((we.flags&2097155)===1)throw new pe(2);if(!we.Ma.ib)throw new pe(43);if(!h)throw new pe(28);var Oe=we.Ma.ib(we,h,j,_,S),Ue=Oe.Kb;return x[G>>2]=Oe.Ab,Me[ie>>2]=Ue,0}catch(mt){if(typeof Ge>"u"||mt.name!=="ErrnoError")throw mt;return-mt.Pa}},z:function(h,_,S,R,j,G){G=-9007199254740992>G||9007199254740992<G?NaN:Number(G);try{var ie=it(j);if(S&2){if(S=G,(ie.node.mode&61440)!==32768)throw new pe(43);if(!(R&2)){var we=k.slice(h,h+_);ie.Ma.jb&&ie.Ma.jb(ie,we,S,_,R)}}}catch(Oe){if(typeof Ge>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Pa}},n:(h,_)=>{if(Ui[h]&&(clearTimeout(Ui[h].id),delete Ui[h]),!_)return 0;var S=setTimeout(()=>{delete Ui[h],Tr(()=>Ps(h,performance.now()))},_);return Ui[h]={id:S,Xb:_},0},B:(h,_,S,R)=>{var j=new Date().getFullYear(),G=new Date(j,0,1).getTimezoneOffset();j=new Date(j,6,1).getTimezoneOffset(),Me[h>>2]=60*Math.max(G,j),x[_>>2]=+(G!=j),_=ie=>{var we=Math.abs(ie);return`UTC${0<=ie?"-":"+"}${String(Math.floor(we/60)).padStart(2,"0")}${String(we%60).padStart(2,"0")}`},h=_(G),_=_(j),j<G?(Kn(h,k,S,17),Kn(_,k,R,17)):(Kn(h,k,R,17),Kn(_,k,S,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:h=>{var _=k.length;if(h>>>=0,2147483648<h)return!1;for(var S=1;4>=S;S*=2){var R=_*(1+.2/S);R=Math.min(R,h+100663296);e:{R=(Math.min(2147483648,65536*Math.ceil(Math.max(h,R)/65536))-O.buffer.byteLength+65535)/65536|0;try{O.grow(R),$e();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},E:(h,_)=>{var S=0;return br().forEach((R,j)=>{var G=_+S;for(j=Me[h+4*j>>2]=G,G=0;G<R.length;++G)V[j++]=R.charCodeAt(G);V[j]=0,S+=R.length+1}),0},F:(h,_)=>{var S=br();Me[h>>2]=S.length;var R=0;return S.forEach(j=>R+=j.length+1),Me[_>>2]=R,0},e:function(h){try{var _=it(h);return Bs(_),0}catch(S){if(typeof Ge>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},p:function(h,_){try{var S=it(h);return V[_]=S.tty?2:an(S.mode)?3:(S.mode&61440)===40960?7:4,U[_+2>>1]=0,P[_+8>>3]=BigInt(0),P[_+16>>3]=BigInt(0),0}catch(R){if(typeof Ge>"u"||R.name!=="ErrnoError")throw R;return R.Pa}},w:function(h,_,S,R){try{e:{var j=it(h);h=_;for(var G,ie=_=0;ie<S;ie++){var we=Me[h>>2],Oe=Me[h+4>>2];h+=8;var Ue=vr(j,V,we,Oe,G);if(0>Ue){var mt=-1;break e}if(_+=Ue,Ue<Oe)break;typeof G<"u"&&(G+=Ue)}mt=_}return Me[R>>2]=mt,0}catch(Yt){if(typeof Ge>"u"||Yt.name!=="ErrnoError")throw Yt;return Yt.Pa}},D:function(h,_,S,R){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{if(isNaN(_))return 61;var j=it(h);return Na(j,_,S),P[R>>3]=BigInt(j.position),j.ob&&_===0&&S===0&&(j.ob=null),0}catch(G){if(typeof Ge>"u"||G.name!=="ErrnoError")throw G;return G.Pa}},I:function(h){try{var _=it(h);return _.Ma?.fsync?_.Ma.fsync(_):0}catch(S){if(typeof Ge>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},t:function(h,_,S,R){try{e:{var j=it(h);h=_;for(var G,ie=_=0;ie<S;ie++){var we=Me[h>>2],Oe=Me[h+4>>2];h+=8;var Ue=qs(j,V,we,Oe,G);if(0>Ue){var mt=-1;break e}if(_+=Ue,Ue<Oe)break;typeof G<"u"&&(G+=Ue)}mt=_}return Me[R>>2]=mt,0}catch(Yt){if(typeof Ge>"u"||Yt.name!=="ErrnoError")throw Yt;return Yt.Pa}},k:Er},Te;(async function(){function h(S){return Te=S.exports,O=Te.M,$e(),vn=Te.O,Qe--,g.monitorRunDependencies?.(Qe),Qe==0&&B&&(S=B,B=null,S()),Te}Qe++,g.monitorRunDependencies?.(Qe);var _={a:Sr};return g.instantiateWasm?new Promise(S=>{g.instantiateWasm(_,(R,j)=>{h(R),S(R.exports)})}):(ye??=g.locateFile?g.locateFile("sql-wasm.wasm",z):z+"sql-wasm.wasm",h((await Ke(_)).instance))})(),g._sqlite3_free=h=>(g._sqlite3_free=Te.P)(h),g._sqlite3_value_text=h=>(g._sqlite3_value_text=Te.Q)(h),g._sqlite3_prepare_v2=(h,_,S,R,j)=>(g._sqlite3_prepare_v2=Te.R)(h,_,S,R,j),g._sqlite3_step=h=>(g._sqlite3_step=Te.S)(h),g._sqlite3_reset=h=>(g._sqlite3_reset=Te.T)(h),g._sqlite3_exec=(h,_,S,R,j)=>(g._sqlite3_exec=Te.U)(h,_,S,R,j),g._sqlite3_finalize=h=>(g._sqlite3_finalize=Te.V)(h),g._sqlite3_column_name=(h,_)=>(g._sqlite3_column_name=Te.W)(h,_),g._sqlite3_column_text=(h,_)=>(g._sqlite3_column_text=Te.X)(h,_),g._sqlite3_column_type=(h,_)=>(g._sqlite3_column_type=Te.Y)(h,_),g._sqlite3_errmsg=h=>(g._sqlite3_errmsg=Te.Z)(h),g._sqlite3_clear_bindings=h=>(g._sqlite3_clear_bindings=Te._)(h),g._sqlite3_value_blob=h=>(g._sqlite3_value_blob=Te.$)(h),g._sqlite3_value_bytes=h=>(g._sqlite3_value_bytes=Te.aa)(h),g._sqlite3_value_double=h=>(g._sqlite3_value_double=Te.ba)(h),g._sqlite3_value_int=h=>(g._sqlite3_value_int=Te.ca)(h),g._sqlite3_value_type=h=>(g._sqlite3_value_type=Te.da)(h),g._sqlite3_result_blob=(h,_,S,R)=>(g._sqlite3_result_blob=Te.ea)(h,_,S,R),g._sqlite3_result_double=(h,_)=>(g._sqlite3_result_double=Te.fa)(h,_),g._sqlite3_result_error=(h,_,S)=>(g._sqlite3_result_error=Te.ga)(h,_,S),g._sqlite3_result_int=(h,_)=>(g._sqlite3_result_int=Te.ha)(h,_),g._sqlite3_result_int64=(h,_)=>(g._sqlite3_result_int64=Te.ia)(h,_),g._sqlite3_result_null=h=>(g._sqlite3_result_null=Te.ja)(h),g._sqlite3_result_text=(h,_,S,R)=>(g._sqlite3_result_text=Te.ka)(h,_,S,R),g._sqlite3_aggregate_context=(h,_)=>(g._sqlite3_aggregate_context=Te.la)(h,_),g._sqlite3_column_count=h=>(g._sqlite3_column_count=Te.ma)(h),g._sqlite3_data_count=h=>(g._sqlite3_data_count=Te.na)(h),g._sqlite3_column_blob=(h,_)=>(g._sqlite3_column_blob=Te.oa)(h,_),g._sqlite3_column_bytes=(h,_)=>(g._sqlite3_column_bytes=Te.pa)(h,_),g._sqlite3_column_double=(h,_)=>(g._sqlite3_column_double=Te.qa)(h,_),g._sqlite3_bind_blob=(h,_,S,R,j)=>(g._sqlite3_bind_blob=Te.ra)(h,_,S,R,j),g._sqlite3_bind_double=(h,_,S)=>(g._sqlite3_bind_double=Te.sa)(h,_,S),g._sqlite3_bind_int=(h,_,S)=>(g._sqlite3_bind_int=Te.ta)(h,_,S),g._sqlite3_bind_text=(h,_,S,R,j)=>(g._sqlite3_bind_text=Te.ua)(h,_,S,R,j),g._sqlite3_bind_parameter_index=(h,_)=>(g._sqlite3_bind_parameter_index=Te.va)(h,_),g._sqlite3_sql=h=>(g._sqlite3_sql=Te.wa)(h),g._sqlite3_normalized_sql=h=>(g._sqlite3_normalized_sql=Te.xa)(h),g._sqlite3_changes=h=>(g._sqlite3_changes=Te.ya)(h),g._sqlite3_close_v2=h=>(g._sqlite3_close_v2=Te.za)(h),g._sqlite3_create_function_v2=(h,_,S,R,j,G,ie,we,Oe)=>(g._sqlite3_create_function_v2=Te.Aa)(h,_,S,R,j,G,ie,we,Oe),g._sqlite3_update_hook=(h,_,S)=>(g._sqlite3_update_hook=Te.Ba)(h,_,S),g._sqlite3_open=(h,_)=>(g._sqlite3_open=Te.Ca)(h,_);var zi=g._malloc=h=>(zi=g._malloc=Te.Da)(h),ni=g._free=h=>(ni=g._free=Te.Ea)(h);g._RegisterExtensionFunctions=h=>(g._RegisterExtensionFunctions=Te.Fa)(h);var bs=(h,_)=>(bs=Te.Ga)(h,_),Ps=(h,_)=>(Ps=Te.Ha)(h,_),fi=h=>(fi=Te.Ia)(h),rn=h=>(rn=Te.Ja)(h),En=()=>(En=Te.Ka)();g.stackSave=()=>En(),g.stackRestore=h=>fi(h),g.stackAlloc=h=>rn(h),g.cwrap=(h,_,S,R)=>{var j=!S||S.every(G=>G==="number"||G==="boolean");return _!=="string"&&j&&!R?g["_"+h]:(...G)=>lo(h,_,S,G)},g.addFunction=xn,g.removeFunction=ti,g.UTF8ToString=Us,g.ALLOC_NORMAL=Es,g.allocate=Ts,g.allocateUTF8OnStack=yn;function rs(){function h(){if(g.calledRun=!0,!I){if(!g.noFSInit&&!gs){var _,S;gs=!0,R??=g.stdin,_??=g.stdout,S??=g.stderr,R?wt("stdin",R):Cn("/dev/tty","/dev/stdin"),_?wt("stdout",null,_):Cn("/dev/tty","/dev/stdout"),S?wt("stderr",null,S):Cn("/dev/tty1","/dev/stderr"),ji("/dev/stdin",0),ji("/dev/stdout",1),ji("/dev/stderr",1)}if(Te.N(),Gt=!1,g.onRuntimeInitialized?.(),g.postRun)for(typeof g.postRun=="function"&&(g.postRun=[g.postRun]);g.postRun.length;){var R=g.postRun.shift();Ot.unshift(R)}Kt(Ot)}}if(0<Qe)B=rs;else{if(g.preRun)for(typeof g.preRun=="function"&&(g.preRun=[g.preRun]);g.preRun.length;)Ea();Kt(ms),0<Qe?B=rs:g.setStatus?(g.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>g.setStatus(""),1),h()},1)):h()}}if(g.preInit)for(typeof g.preInit=="function"&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();return rs(),v}),i)};s.exports=a,s.exports.default=a})(Pd)),Pd.exports}var gS=pS();const qE=tS(gS),_S=`
CREATE TABLE IF NOT EXISTS domains (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL,
  icon TEXT NOT NULL,
  color TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS goals (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  domain_id INTEGER NOT NULL REFERENCES domains(id),
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS quests (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  goal_id INTEGER NOT NULL REFERENCES goals(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS steps (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  quest_id INTEGER NOT NULL REFERENCES quests(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'pending',
  sort_order INTEGER NOT NULL DEFAULT 0,
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS buff_definitions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  type TEXT NOT NULL DEFAULT 'buff',
  icon TEXT NOT NULL DEFAULT '',
  duration_hours INTEGER NOT NULL DEFAULT 24,
  stat_effects TEXT NOT NULL DEFAULT '{}',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS buff_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  definition_id INTEGER NOT NULL REFERENCES buff_definitions(id) ON DELETE CASCADE,
  activated_at TEXT NOT NULL DEFAULT (datetime('now')),
  expires_at TEXT NOT NULL,
  is_active INTEGER NOT NULL DEFAULT 1
);

CREATE TABLE IF NOT EXISTS character (
  id INTEGER PRIMARY KEY CHECK (id = 1),
  name TEXT NOT NULL DEFAULT 'Adventurer',
  total_xp INTEGER NOT NULL DEFAULT 0,
  level INTEGER NOT NULL DEFAULT 1,
  title TEXT NOT NULL DEFAULT 'Novice',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS xp_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  amount INTEGER NOT NULL,
  reason TEXT NOT NULL,
  source_type TEXT NOT NULL,
  source_id INTEGER,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS planner_events (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  date TEXT NOT NULL,
  start_time TEXT,
  end_time TEXT,
  quest_id INTEGER REFERENCES quests(id) ON DELETE SET NULL,
  step_id INTEGER REFERENCES steps(id) ON DELETE SET NULL,
  is_completed INTEGER NOT NULL DEFAULT 0,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);
`,yS=`
INSERT OR IGNORE INTO domains (id, name, icon, color) VALUES
  (1, 'Health', '', '#e74c3c'),
  (2, 'Career', '', '#c8a84e'),
  (3, 'Learning', '', '#3498db'),
  (4, 'Social', '', '#e67e22'),
  (5, 'Finance', '', '#2ecc71'),
  (6, 'Creative', '', '#9b59b6'),
  (7, 'Spiritual', '', '#1abc9c'),
  (8, 'Home', '', '#95a5a6');
`,vS=`
INSERT OR IGNORE INTO character (id, name, total_xp, level, title)
VALUES (1, 'Adventurer', 0, 1, 'Novice');
`,ES="goal-game-db",rl="database",zE="main";let ri=null;function PE(){return new Promise((s,e)=>{const i=indexedDB.open(ES,1);i.onupgradeneeded=()=>{const a=i.result;a.objectStoreNames.contains(rl)||a.createObjectStore(rl)},i.onsuccess=()=>s(i.result),i.onerror=()=>e(i.error)})}async function TS(){const s=await PE();return new Promise((e,i)=>{const a=s.transaction(rl,"readonly"),c=a.objectStore(rl).get(zE);c.onsuccess=()=>e(c.result??null),c.onerror=()=>i(c.error),a.oncomplete=()=>s.close()})}async function bS(s){const e=await PE();return new Promise((i,a)=>{const l=e.transaction(rl,"readwrite");l.objectStore(rl).put(s,zE),l.oncomplete=()=>{e.close(),i()},l.onerror=()=>a(l.error)})}async function SS(){if(ri)return ri;const s=await qE({locateFile:()=>"/goal-game/sql-wasm.wasm"}),e=await TS();return e?ri=new s.Database(e):ri=new s.Database,ri.run(_S),ri.run(yS),ri.run(vS),await et(),ri}async function et(){if(!ri)return;const s=ri.export();await bS(s)}function Ie(){if(!ri)throw new Error("Database not initialized. Call getDatabase() first.");return ri}async function Vm(){return Ie().export()}async function HE(s){const e=await qE({locateFile:()=>"/goal-game/sql-wasm.wasm"});ri&&ri.close(),ri=new e.Database(s),await et()}const Hd="migration_feb2026_billing_v1";async function wS(){if(localStorage.getItem(Hd))return!1;const s=Ie(),e=s.exec("SELECT id FROM goals WHERE title = 'Bill 190 Hours - February 2026'");if(e.length>0&&e[0].values.length>0)return localStorage.setItem(Hd,"true"),!1;s.run(`
    INSERT INTO goals (domain_id, title, description, status)
    VALUES (2, 'Bill 190 Hours - February 2026', 'Target: 8 hours on weekdays, ~4.5 hours on weekends. Started with 8 hours billed.', 'active')
  `);const a=s.exec("SELECT last_insert_rowid() as id")[0].values[0][0],l=[{title:"Week 1: Feb 3-9",description:"First partial week. Target: ~41 hours (4 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-03",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-04",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-05",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-06",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-07",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-08",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 2: Feb 9-15",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-09",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-10",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-11",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-12",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-13",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-14",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-15",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 3: Feb 16-22",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-16",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-17",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-18",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-19",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-20",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-21",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-22",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 4: Feb 23-28",description:"Final partial week. Target: ~44.5 hours (5 weekdays  8 + 1 weekend day  4.5)",days:[{date:"2026-02-23",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-24",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-25",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-26",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-27",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-28",day:"Sat",hours:4.5,isWeekend:!0}]}];for(const c of l){s.run(`
      INSERT INTO quests (goal_id, title, description, priority, status)
      VALUES (?, ?, ?, 'high', 'active')
    `,[a,c.title,c.description]);const v=s.exec("SELECT last_insert_rowid() as id")[0].values[0][0];for(let T=0;T<c.days.length;T++){const g=c.days[T],w=`${g.day} ${g.date.slice(5)}: Bill ${g.hours} hours`;s.run(`
        INSERT INTO steps (quest_id, title, priority, status, sort_order)
        VALUES (?, ?, ?, 'pending', ?)
      `,[v,w,g.isWeekend?"low":"normal",T])}}return await et(),localStorage.setItem(Hd,"true"),!0}const rv="notifications_migration_v1";async function AS(){if(localStorage.getItem(rv))return;const s=Ie();try{(s.exec("PRAGMA table_info(planner_events)")[0]?.values.map(a=>a[1])||[]).includes("reminder_minutes")||s.run("ALTER TABLE planner_events ADD COLUMN reminder_minutes INTEGER DEFAULT NULL"),s.run(`
      CREATE TABLE IF NOT EXISTS notification_settings (
        id INTEGER PRIMARY KEY CHECK (id = 1),
        enabled INTEGER NOT NULL DEFAULT 0,
        default_reminder_minutes INTEGER NOT NULL DEFAULT 15,
        fcm_token TEXT,
        device_id TEXT NOT NULL,
        updated_at TEXT NOT NULL DEFAULT (datetime('now'))
      )
    `),await et(),localStorage.setItem(rv,"true"),console.log("Notifications migration completed successfully")}catch(e){throw console.error("Failed to run notifications migration:",e),e}}const ov="body_fat_goal_seed_v4";async function RS(){if(localStorage.getItem(ov))return;const s=Ie();try{const e=s.exec("SELECT id FROM goals WHERE title = 'Achieve 12% Body Fat'");if(e.length&&e[0].values.length){const g=e[0].values[0][0],w=s.exec("SELECT id FROM quests WHERE goal_id = ?",[g]);if(w.length)for(const C of w[0].values)s.run("DELETE FROM steps WHERE quest_id = ?",[C[0]]);s.run("DELETE FROM quests WHERE goal_id = ?",[g]),s.run("DELETE FROM goals WHERE id = ?",[g])}s.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[1,"Achieve 12% Body Fat","12-week transformation program starting Feb 4, 2026. From 18-19% to 12% body fat through consistent training and nutrition."]);const a=s.exec("SELECT last_insert_rowid()")[0].values[0][0],l=new Date(2026,1,4,12,0,0),c=[{title:"Week 1 - Build Foundation",desc:"Establish daily habits and set your baseline."},{title:"Week 2 - Gain Momentum",desc:"Lock in the routine. Consistency is key."},{title:"Week 3 - Stay Disciplined",desc:"Push through early challenges. Trust the process."},{title:"Week 4 - Complete Month 1",desc:"First month done! Take measurements and assess progress."},{title:"Week 5 - Intensify",desc:"Increase intensity. Your body is adapting."},{title:"Week 6 - Push Through",desc:"Mental toughness week. No excuses."},{title:"Week 7 - Halfway Point",desc:"You're halfway there! Stay focused."},{title:"Week 8 - Stay Strong",desc:"Month 2 complete. Reassess and adjust if needed."},{title:"Week 9 - Final Month Begins",desc:"Last 4 weeks. Time to lock in."},{title:"Week 10 - Home Stretch",desc:"You can see the finish line. Don't let up."},{title:"Week 11 - Almost There",desc:"One more week after this. Give it everything."},{title:"Week 12 - Finish Strong",desc:"Final week! Complete the transformation."}],m=[{dayName:"Wed",workout:"Light Cardio (20-30 min)",isGym:!1},{dayName:"Thu",workout:"Gym - Legs (Quads/Hams/Glutes)",isGym:!0},{dayName:"Fri",workout:"Gym - Upper Body",isGym:!0},{dayName:"Sat",workout:"Gym - Lower Body / Deadlifts",isGym:!0},{dayName:"Sun",workout:"Rest + Weekly Check-in",isGym:!1},{dayName:"Mon",workout:"Gym - Push (Chest/Shoulders/Triceps)",isGym:!0},{dayName:"Tue",workout:"Gym - Pull (Back/Biceps)",isGym:!0}],v=g=>{const w=g.getMonth()+1,C=g.getDate();return`${w}/${C}`};let T=new Date(l);for(let g=0;g<c.length;g++){const w=c[g],C=v(T),D=v(new Date(T.getTime()+8640*60*1e3));s.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[a,`${w.title} (${C} - ${D})`,w.desc,"high"]);const W=s.exec("SELECT last_insert_rowid()")[0].values[0][0];let ne=1;for(let z=0;z<7;z++){const ee=m[z],he=v(T);s.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[W,`${ee.dayName} ${he}: ${ee.workout}`,"normal",ne++]),s.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[W,`${ee.dayName} ${he}: Hit protein goal`,"normal",ne++]),T.setDate(T.getDate()+1)}}await et(),localStorage.setItem(ov,"true"),console.log("Body fat goal seeded successfully (v3 - starting Wed 2/4/2026)")}catch(e){throw console.error("Failed to seed body fat goal:",e),e}}const lv="daily_quests_migration_v1";async function NS(){if(localStorage.getItem(lv))return;const s=Ie();try{s.run(`
      CREATE TABLE IF NOT EXISTS daily_quests (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        date TEXT NOT NULL,
        quest_type TEXT NOT NULL,
        title TEXT NOT NULL,
        description TEXT NOT NULL,
        target_value INTEGER NOT NULL DEFAULT 1,
        current_value INTEGER NOT NULL DEFAULT 0,
        xp_reward INTEGER NOT NULL DEFAULT 25,
        is_completed INTEGER NOT NULL DEFAULT 0,
        completed_at TEXT
      )
    `),s.run(`
      CREATE TABLE IF NOT EXISTS daily_quest_bonus (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        date TEXT NOT NULL UNIQUE,
        claimed_at TEXT NOT NULL
      )
    `),s.run("CREATE INDEX IF NOT EXISTS idx_daily_quests_date ON daily_quests(date)"),await et(),localStorage.setItem(lv,"true"),console.log("Daily quests migration completed successfully")}catch(e){throw console.error("Failed to run daily quests migration:",e),e}}const uv="streak_migration_v1";async function CS(){if(localStorage.getItem(uv))return;const s=Ie();try{s.run(`
      CREATE TABLE IF NOT EXISTS streak_shields (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        quantity INTEGER NOT NULL DEFAULT 0,
        earned_at TEXT NOT NULL DEFAULT (datetime('now'))
      )
    `),s.exec("SELECT COUNT(*) FROM streak_shields")[0].values[0][0]===0&&s.run("INSERT INTO streak_shields (quantity) VALUES (3)"),s.run(`
      CREATE TABLE IF NOT EXISTS streak_freezes (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        buff_definition_id INTEGER NOT NULL,
        freeze_date TEXT NOT NULL,
        reason TEXT,
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        FOREIGN KEY (buff_definition_id) REFERENCES buff_definitions(id) ON DELETE CASCADE,
        UNIQUE(buff_definition_id, freeze_date)
      )
    `),s.run(`
      CREATE TABLE IF NOT EXISTS streak_records (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        buff_definition_id INTEGER NOT NULL UNIQUE,
        longest_streak INTEGER NOT NULL DEFAULT 0,
        last_milestone_claimed INTEGER NOT NULL DEFAULT 0,
        updated_at TEXT NOT NULL DEFAULT (datetime('now')),
        FOREIGN KEY (buff_definition_id) REFERENCES buff_definitions(id) ON DELETE CASCADE
      )
    `),s.run(`
      CREATE TABLE IF NOT EXISTS streak_shield_uses (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        buff_definition_id INTEGER NOT NULL,
        used_date TEXT NOT NULL,
        streak_saved INTEGER NOT NULL,
        used_at TEXT NOT NULL DEFAULT (datetime('now')),
        FOREIGN KEY (buff_definition_id) REFERENCES buff_definitions(id) ON DELETE CASCADE
      )
    `),s.run("CREATE INDEX IF NOT EXISTS idx_streak_freezes_date ON streak_freezes(freeze_date)"),s.run("CREATE INDEX IF NOT EXISTS idx_streak_freezes_buff ON streak_freezes(buff_definition_id)"),await et(),localStorage.setItem(uv,"true"),console.log("Streak migration completed successfully")}catch(e){throw console.error("Failed to run streak migration:",e),e}}const cv="weekly_boss_migration_v1";async function xS(){if(localStorage.getItem(cv))return;const s=Ie();try{s.run(`
      CREATE TABLE IF NOT EXISTS weekly_boss (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        week_start TEXT NOT NULL UNIQUE,
        boss_type TEXT NOT NULL,
        name TEXT NOT NULL,
        description TEXT NOT NULL,
        icon TEXT NOT NULL,
        max_hp INTEGER NOT NULL,
        current_hp INTEGER NOT NULL,
        is_defeated INTEGER NOT NULL DEFAULT 0,
        defeated_at TEXT,
        xp_reward INTEGER NOT NULL,
        bonus_shields INTEGER NOT NULL DEFAULT 0,
        created_at TEXT NOT NULL DEFAULT (datetime('now'))
      )
    `),s.run(`
      CREATE TABLE IF NOT EXISTS boss_damage_log (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        boss_id INTEGER NOT NULL,
        damage_type TEXT NOT NULL,
        damage_amount INTEGER NOT NULL,
        source_description TEXT,
        dealt_at TEXT NOT NULL DEFAULT (datetime('now')),
        FOREIGN KEY (boss_id) REFERENCES weekly_boss(id) ON DELETE CASCADE
      )
    `),s.run("CREATE INDEX IF NOT EXISTS idx_weekly_boss_week ON weekly_boss(week_start)"),s.run("CREATE INDEX IF NOT EXISTS idx_boss_damage_log_boss ON boss_damage_log(boss_id)"),await et(),localStorage.setItem(cv,"true"),console.log("Weekly boss migration completed successfully")}catch(e){throw console.error("Failed to run weekly boss migration:",e),e}}function IS(){const[s,e]=se.useState(!1),[i,a]=se.useState(null);return se.useEffect(()=>{SS().then(async()=>{await wS(),await AS(),await RS(),await NS(),await CS(),await xS(),e(!0)}).catch(l=>a(l.message))},[]),{ready:s,error:i}}function fv(){const e=Ie().exec("SELECT id, name, total_xp, level, title, created_at FROM character WHERE id = 1");if(!e.length)throw new Error("Character not found");const i=e[0].values[0];return{id:i[0],name:i[1],total_xp:i[2],level:i[3],title:i[4],created_at:i[5]}}async function DS(s){Ie().run("UPDATE character SET name = ? WHERE id = 1",[s]),await et()}function hv(s=50){const i=Ie().exec(`SELECT id, amount, reason, source_type, source_id, created_at
     FROM xp_log ORDER BY created_at DESC LIMIT ?`,[s]);return i.length?i[0].values.map(a=>({id:a[0],amount:a[1],reason:a[2],source_type:a[3],source_id:a[4],created_at:a[5]})):[]}const FE=["stamina","willpower","health","focus","charisma"],Ja=["Novice","Apprentice","Journeyman","Adept","Expert","Master","Legend","Dragonborn"],OS={normal:10,important:15,legendary:20},kS=50,LS=200,MS=5,jS=25,VS=1.8,US=50;function Um(s){return Math.floor(US*Math.pow(s,VS))}function BS(s){let e=0;for(let i=1;i<s;i++)e+=Um(i);return e}function GE(s){let e=1,i=0;for(;;){if(i+=Um(e),s<i)return e;if(e++,e>100)return 100}}function XE(s){const e=GE(s),i=BS(e),a=s-i,l=Um(e);return{current:a,needed:l,percentage:Math.min(a/l*100,100)}}function qS(s){return s>=50?Ja[7]:s>=40?Ja[6]:s>=30?Ja[5]:s>=22?Ja[4]:s>=15?Ja[3]:s>=10?Ja[2]:s>=5?Ja[1]:Ja[0]}async function zS(s,e,i,a=null){const l=Ie(),c=l.exec("SELECT total_xp, level FROM character WHERE id = 1"),m=c[0].values[0][0],v=c[0].values[0][1],T=m+s,g=GE(T),w=qS(g),C=g>v;return l.run("UPDATE character SET total_xp = ?, level = ?, title = ? WHERE id = 1",[T,g,w]),l.run("INSERT INTO xp_log (amount, reason, source_type, source_id) VALUES (?, ?, ?, ?)",[s,e,i,a]),await et(),{amount:s,newTotal:T,leveledUp:C,newLevel:g,newTitle:w}}function PS(){const[s,e]=se.useState(()=>fv()),[i,a]=se.useState(()=>hv()),[l,c]=se.useState(null),[m,v]=se.useState([]),T=se.useCallback(()=>{e(fv()),a(hv())},[]),g=se.useCallback(async(D,J,W,ne)=>{const z=await zS(D,J,W,ne??null);z.leveledUp&&c({level:z.newLevel,title:z.newTitle});const ee=Date.now();return v(he=>[...he,{id:ee,amount:D}]),setTimeout(()=>v(he=>he.filter(me=>me.id!==ee)),1500),T(),z},[T]),w=se.useCallback(()=>c(null),[]),C=se.useCallback(async D=>{await DS(D),T()},[T]);return{character:s,xpLog:i,levelUpInfo:l,xpFloats:m,grantXP:g,dismissLevelUp:w,setName:C,refresh:T}}function YE(){const e=Ie().exec("SELECT id, name, icon, color FROM domains ORDER BY id");return e.length?e[0].values.map(i=>({id:i[0],name:i[1],icon:i[2],color:i[3]})):[]}function HS(s,e){const i=Ie();let a="SELECT id, domain_id, title, description, status, created_at, completed_at FROM goals WHERE 1=1";const l=[];s&&(a+=" AND domain_id = ?",l.push(s)),e&&(a+=" AND status = ?",l.push(e)),a+=" ORDER BY created_at DESC";const c=i.exec(a,l);return c.length?c[0].values.map(m=>({id:m[0],domain_id:m[1],title:m[2],description:m[3],status:m[4],created_at:m[5],completed_at:m[6]})):[]}async function FS(s,e,i=""){const a=Ie();a.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[s,e,i]);const l=a.exec("SELECT last_insert_rowid()");return await et(),l[0].values[0][0]}async function GS(s,e){const i=Ie(),a=new Date().toISOString();i.run("UPDATE goals SET status = ?, completed_at = ? WHERE id = ?",[e,a,s]),await et()}function Bm(s,e){const i=Ie();let a="SELECT id, goal_id, title, description, priority, status, created_at, completed_at FROM quests WHERE 1=1";const l=[];s&&(a+=" AND goal_id = ?",l.push(s)),a+=" ORDER BY created_at DESC";const c=i.exec(a,l);return c.length?c[0].values.map(m=>({id:m[0],goal_id:m[1],title:m[2],description:m[3],priority:m[4],status:m[5],created_at:m[6],completed_at:m[7]})):[]}async function XS(s,e,i="",a="normal"){const l=Ie();l.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[s,e,i,a]);const c=l.exec("SELECT last_insert_rowid()");return await et(),c[0].values[0][0]}async function YS(s,e){const i=Ie(),a=new Date().toISOString();i.run("UPDATE quests SET status = ?, completed_at = ? WHERE id = ?",[e,a,s]),await et()}function qm(s){const i=Ie().exec("SELECT id, quest_id, title, priority, status, sort_order, completed_at FROM steps WHERE quest_id = ? ORDER BY sort_order, id",[s]);return i.length?i[0].values.map(a=>({id:a[0],quest_id:a[1],title:a[2],priority:a[3],status:a[4],sort_order:a[5],completed_at:a[6]})):[]}async function QS(s,e,i="normal"){const a=Ie(),c=a.exec("SELECT COALESCE(MAX(sort_order), 0) FROM steps WHERE quest_id = ?",[s])[0].values[0][0]+1;a.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[s,e,i,c]);const m=a.exec("SELECT last_insert_rowid()");return await et(),m[0].values[0][0]}async function KS(s){Ie().run("UPDATE steps SET status = 'completed', completed_at = datetime('now') WHERE id = ?",[s]),await et()}async function $S(s){Ie().run("UPDATE steps SET status = 'pending', completed_at = NULL WHERE id = ?",[s]),await et()}async function WS(s){Ie().run("DELETE FROM steps WHERE id = ?",[s]),await et()}async function ZS(s){const e=Ie();e.run("DELETE FROM steps WHERE quest_id = ?",[s]),e.run("DELETE FROM quests WHERE id = ?",[s]),await et()}async function JS(s){const e=Ie(),i=Bm(s);for(const a of i)e.run("DELETE FROM steps WHERE quest_id = ?",[a.id]);e.run("DELETE FROM quests WHERE goal_id = ?",[s]),e.run("DELETE FROM goals WHERE id = ?",[s]),await et()}function ew(s){const i=Ie().exec(`SELECT q.id, q.goal_id, q.title, q.description, q.priority, q.status, q.created_at, q.completed_at,
            d.name as domain_name, d.icon as domain_icon, d.color as domain_color, g.title as goal_title
     FROM quests q
     JOIN goals g ON q.goal_id = g.id
     JOIN domains d ON g.domain_id = d.id
     WHERE q.id = ?`,[s]);if(!i.length)return null;const a=i[0].values[0];return{id:a[0],goal_id:a[1],title:a[2],description:a[3],priority:a[4],status:a[5],created_at:a[6],completed_at:a[7],domain_name:a[8],domain_icon:a[9],domain_color:a[10],goal_title:a[11],steps:qm(s)}}function tw(s,e){const i=HS(s,e),a=YE(),l=new Map(a.map(c=>[c.id,c]));return i.map(c=>{const m=l.get(c.domain_id),v=Bm(c.id).map(T=>({...T,steps:qm(T.id),domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color,goal_title:c.title}));return{...c,quests:v,domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color}})}function nw({grantXP:s,onStepComplete:e,onQuestComplete:i,onGoalComplete:a}){const[l,c]=se.useState([]),[m]=se.useState(()=>YE()),[v,T]=se.useState(void 0),[g,w]=se.useState("active"),C=se.useCallback(()=>{c(tw(v,g))},[v,g]);se.useEffect(()=>{C()},[C]);const D=se.useCallback(async(de,Re,De)=>{await FS(de,Re,De),C()},[C]),J=se.useCallback(async(de,Re,De,O)=>{await XS(de,Re,De,O),C()},[C]),W=se.useCallback(async(de,Re,De)=>{await QS(de,Re,De),C()},[C]),ne=se.useCallback(async(de,Re,De)=>{await KS(de);const O=OS[De]||10;await s(O,"Completed step","step",de),e&&e();const I=qm(Re);if(I.every(V=>V.status==="completed")&&I.length>0){await YS(Re,"completed"),await s(kS,"Completed quest","quest",Re),i&&i();const V=ew(Re);V&&Bm(V.goal_id).every(x=>x.status==="completed")&&(await GS(V.goal_id,"completed"),await s(LS,"Completed goal","goal",V.goal_id),a&&a())}C()},[C,s,e,i,a]),z=se.useCallback(async de=>{await $S(de),C()},[C]),ee=se.useCallback(async de=>{await WS(de),C()},[C]),he=se.useCallback(async de=>{await ZS(de),C()},[C]),me=se.useCallback(async de=>{await JS(de),C()},[C]);return{goals:l,domains:m,filterDomain:v,filterStatus:g,setFilterDomain:T,setFilterStatus:w,refresh:C,createGoal:D,createQuest:J,createStep:W,completeStep:ne,uncompleteStep:z,deleteStep:ee,deleteQuest:he,deleteGoal:me}}function iw(s){const e=Ie();let i="SELECT id, name, description, type, icon, duration_hours, stat_effects, created_at FROM buff_definitions";const a=[];i+=" ORDER BY name";const l=e.exec(i,a);return l.length?l[0].values.map(c=>({id:c[0],name:c[1],description:c[2],type:c[3],icon:c[4],duration_hours:c[5],stat_effects:c[6],created_at:c[7]})):[]}async function sw(s,e,i,a,l,c){const m=Ie();m.run("INSERT INTO buff_definitions (name, description, type, icon, duration_hours, stat_effects) VALUES (?, ?, ?, ?, ?, ?)",[s,e,i,a,l,c]);const v=m.exec("SELECT last_insert_rowid()");return await et(),v[0].values[0][0]}async function aw(s){const e=Ie();e.run("DELETE FROM buff_log WHERE definition_id = ?",[s]),e.run("DELETE FROM buff_definitions WHERE id = ?",[s]),await et()}async function rw(s){const e=Ie(),i=e.exec("SELECT duration_hours FROM buff_definitions WHERE id = ?",[s]);if(!i.length)throw new Error("Buff definition not found");const a=i[0].values[0][0],l=e.exec(`SELECT id, expires_at FROM buff_log
     WHERE definition_id = ? AND is_active = 1 AND expires_at > datetime('now')
     ORDER BY expires_at DESC LIMIT 1`,[s]);if(l.length&&l[0].values.length){const g=l[0].values[0][0];e.run(`UPDATE buff_log SET expires_at = datetime(expires_at, '+' || ? || ' hours')
       WHERE id = ?`,[a,g]);const C=e.exec("SELECT expires_at FROM buff_log WHERE id = ?",[g])[0].values[0][0];return await et(),{logId:g,isStacked:!0,newExpiresAt:C}}e.run(`INSERT INTO buff_log (definition_id, expires_at)
     VALUES (?, datetime('now', '+' || ? || ' hours'))`,[s,a]);const m=e.exec("SELECT last_insert_rowid()")[0].values[0][0],T=e.exec("SELECT expires_at FROM buff_log WHERE id = ?",[m])[0].values[0][0];return await et(),{logId:m,isStacked:!1,newExpiresAt:T}}async function ow(s){Ie().run("UPDATE buff_log SET is_active = 0 WHERE id = ?",[s]),await et()}function lw(s){const i=Ie().exec(`SELECT DISTINCT date(activated_at) as d FROM buff_log
     WHERE definition_id = ? AND activated_at >= date('now', '-30 days')
     ORDER BY d DESC`,[s]);if(!i.length)return 0;let a=0;const l=new Date().toISOString().split("T")[0],c=i[0].values.map(T=>T[0]),m=new Date(Date.now()-864e5).toISOString().split("T")[0];if(!c.includes(l)&&!c.includes(m))return 0;let v=c.includes(l)?l:m;for(const T of c)if(T===v){a++;const g=new Date(v+"T00:00:00");g.setDate(g.getDate()-1),v=g.toISOString().split("T")[0]}return a}function yf(s){try{return JSON.parse(s)}catch{return{}}}async function uw(){Ie().run("UPDATE buff_log SET is_active = 0 WHERE is_active = 1 AND expires_at <= datetime('now')"),await et()}function cw(){const e=Ie().exec(`
    SELECT bl.id, bl.definition_id, bl.activated_at, bl.expires_at, bl.is_active,
           bd.name, bd.description, bd.type, bd.icon, bd.stat_effects
    FROM buff_log bl
    JOIN buff_definitions bd ON bl.definition_id = bd.id
    WHERE bl.is_active = 1 AND bl.expires_at > datetime('now')
    ORDER BY bl.activated_at DESC
  `);return e.length?e[0].values.map(i=>({id:i[0],definition_id:i[1],activated_at:i[2],expires_at:i[3],is_active:!!i[4],name:i[5],description:i[6],type:i[7],icon:i[8],stat_effects:i[9]})):[]}function fw(s){const e={stamina:10,willpower:10,health:10,focus:10,charisma:10};for(const i of s){const a=yf(i.stat_effects);for(const[l,c]of Object.entries(a))l in e&&(e[l]+=c)}return e}function hw({grantXP:s,scheduleBuffExpiry:e,cancelBuffExpiry:i,onBuffActivated:a}){const[l,c]=se.useState([]),[m,v]=se.useState([]),[T,g]=se.useState({stamina:10,willpower:10,health:10,focus:10,charisma:10}),w=se.useCallback(async()=>{await uw(),c(iw());const ne=cw();v(ne),g(fw(ne))},[]);se.useEffect(()=>{const ne=setInterval(w,6e4);return()=>clearInterval(ne)},[w]);const C=se.useCallback(async(ne,z,ee,he,me,de)=>{await sw(ne,z,ee,he,me,de),w()},[w]),D=se.useCallback(async ne=>{await aw(ne),w()},[w]),J=se.useCallback(async ne=>{const z=await rw(ne),ee=l.find(me=>me.id===ne),he=ee&&ee.stat_effects&&ee.stat_effects!=="{}"&&(()=>{try{const me=JSON.parse(ee.stat_effects);return Object.values(me).some(de=>de!==0)}catch{return!1}})();if(ee&&ee.type==="buff"&&!z.isStacked&&he){await s(MS,`Activated buff: ${ee.name}`,"buff",z.logId);const me=lw(ne);me>0&&me%7===0&&await s(jS,`7-day streak: ${ee.name}`,"streak",ne)}ee&&a&&he&&a(ee.type),ee&&e&&(z.isStacked&&i&&await i(z.logId),await e(z.logId,ee.name,ee.type,z.newExpiresAt)),w()},[w,l,s,e,i,a]),W=se.useCallback(async ne=>{i&&await i(ne),await ow(ne),w()},[w,i]);return{definitions:l,activeBuffs:m,stats:T,refresh:w,createDefinition:C,deleteDefinition:D,activateBuff:J,deactivateBuff:W}}const dw=1440*60*1e3,QE="Goal Game Backup",xu="github_gist_token",fa="github_gist_id",vf="github_last_backup";function mw(){return!!localStorage.getItem(xu)}function KE(){return!!localStorage.getItem(xu)}function Ef(){return localStorage.getItem(xu)}function pw(s){localStorage.setItem(xu,s)}function gw(){localStorage.removeItem(xu),localStorage.removeItem(fa),localStorage.removeItem(vf)}function _w(){const s=localStorage.getItem(vf);return s?Date.now()-Number(s)>dw:!0}function $E(){const s=localStorage.getItem(vf);return s?new Date(Number(s)):null}function yw(s){let e="";for(let i=0;i<s.length;i++)e+=String.fromCharCode(s[i]);return btoa(e)}function vw(s){const e=atob(s),i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}async function WE(s){try{const e=await fetch("https://api.github.com/gists?per_page=100",{headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json"}});if(!e.ok)return null;const i=await e.json();for(const a of i)if(a.description===QE)return a.id;return null}catch{return null}}async function Ew(s){const e=localStorage.getItem(fa);if(e){if((await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json"}})).ok)return e;localStorage.removeItem(fa)}const i=await WE(s);if(i)return localStorage.setItem(fa,i),i;const a=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({description:QE,public:!1,files:{"README.md":{content:`# Goal Game Backups

This gist contains automatic backups of your Goal Game data.

Backups are stored as base64-encoded database files.`}}})});if(!a.ok)throw new Error("Failed to create backup gist");const l=await a.json();return localStorage.setItem(fa,l.id),l.id}async function ZE(s){const e=Ef();if(!e)return{success:!1,error:"Not authenticated"};try{const i=await Ew(e),l=`backup-${new Date().toISOString().replace(/[:.]/g,"-")}.db.b64`,c=yw(s),m=await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:{[l]:{content:c}}})});return m.ok?(localStorage.setItem(vf,String(Date.now())),{success:!0,fileName:l}):{success:!1,error:(await m.json()).message||"Upload failed"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async function JE(){const s=Ef();if(!s)return[];let e=localStorage.getItem(fa);if(!e)if(e=await WE(s),e)localStorage.setItem(fa,e);else return[];try{const i=await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json"}});if(!i.ok)return[];const a=await i.json(),l=[];for(const[c,m]of Object.entries(a.files))c.endsWith(".db.b64")&&l.push({fileName:c,size:m.size});return l.sort((c,m)=>m.fileName.localeCompare(c.fileName))}catch{return[]}}async function Tw(s){const e=Ef();if(!e)return null;const i=localStorage.getItem(fa);if(!i)return null;try{const a=await fetch(`https://api.github.com/gists/${i}`,{headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json"}});if(!a.ok)return null;const c=(await a.json()).files[s];if(!c)return null;let m;return c.truncated?m=await(await fetch(c.raw_url,{headers:{Authorization:`Bearer ${e}`}})).text():m=c.content,vw(m)}catch{return null}}async function bw(s){try{return(await fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${s}`,Accept:"application/vnd.github+json"}})).ok}catch{return!1}}async function e0(s=7){const e=Ef();if(!e)return;const i=localStorage.getItem(fa);if(i)try{const a=await JE();if(a.length<=s)return;const l=a.slice(s),c={};for(const m of l)c[m.fileName]=null;await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:c})})}catch{}}function Sw(){const[s,e]=se.useState("idle"),[i,a]=se.useState(null),[l,c]=se.useState(""),m=se.useRef(!1);return se.useEffect(()=>{if(m.current)return;m.current=!0;const T=setTimeout(async()=>{if(mw()&&KE()){if(!_w()){a($E());return}e("backing-up"),c("Auto-backing up to GitHub...");try{const g=await Vm(),w=await ZE(g);w.success?(e("success"),c("Auto-backup complete!"),a(new Date),await e0(7),setTimeout(()=>{e("idle"),c("")},5e3)):(e("error"),c(`Auto-backup failed: ${w.error}`))}catch(g){e("error"),c(`Auto-backup failed: ${g instanceof Error?g.message:"Unknown error"}`)}}},3e3);return()=>clearTimeout(T)},[]),{status:s,lastBackup:i,message:l}}const ww=()=>{};var dv={};const t0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Aw=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],m=s[i++],v=s[i++],T=((l&7)<<18|(c&63)<<12|(m&63)<<6|v&63)-65536;e[a++]=String.fromCharCode(55296+(T>>10)),e[a++]=String.fromCharCode(56320+(T&1023))}else{const c=s[i++],m=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|m&63)}}return e.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],m=l+1<s.length,v=m?s[l+1]:0,T=l+2<s.length,g=T?s[l+2]:0,w=c>>2,C=(c&3)<<4|v>>4;let D=(v&15)<<2|g>>6,J=g&63;T||(J=64,m||(D=64)),a.push(i[w],i[C],i[D],i[J])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(t0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Aw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],v=l<s.length?i[s.charAt(l)]:0;++l;const g=l<s.length?i[s.charAt(l)]:64;++l;const C=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||v==null||g==null||C==null)throw new Rw;const D=c<<2|v>>4;if(a.push(D),g!==64){const J=v<<4&240|g>>2;if(a.push(J),C!==64){const W=g<<6&192|C;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nw=function(s){const e=t0(s);return n0.encodeByteArray(e,!0)},ef=function(s){return Nw(s).replace(/\./g,"")},Cw=function(s){try{return n0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Iw=()=>xw().__FIREBASE_DEFAULTS__,Dw=()=>{if(typeof process>"u"||typeof dv>"u")return;const s=dv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Ow=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Cw(s[1]);return e&&JSON.parse(e)},zm=()=>{try{return ww()||Iw()||Dw()||Ow()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kw=s=>zm()?.emulatorHosts?.[s],Lw=s=>{const e=kw(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},i0=()=>zm()?.config;class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Pm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jw(s){return(await fetch(s,{credentials:"include"})).ok}function Vw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ef(JSON.stringify(i)),ef(JSON.stringify(m)),""].join(".")}const pu={};function Uw(){const s={prod:[],emulator:[]};for(const e of Object.keys(pu))pu[e]?s.emulator.push(e):s.prod.push(e);return s}function Bw(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let mv=!1;function qw(s,e){if(typeof window>"u"||typeof document>"u"||!Pm(window.location.host)||pu[s]===e||pu[s]||mv)return;pu[s]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=Uw().prod.length>0;function m(){const D=document.getElementById(a);D&&D.remove()}function v(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function T(D,J){D.setAttribute("width","24"),D.setAttribute("id",J),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function g(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{mv=!0,m()},D}function w(D,J){D.setAttribute("id",J),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=Bw(a),J=i("text"),W=document.getElementById(J)||document.createElement("span"),ne=i("learnmore"),z=document.getElementById(ne)||document.createElement("a"),ee=i("preprendIcon"),he=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const me=D.element;v(me),w(z,ne);const de=g();T(he,ee),me.append(he,W,z,de),document.body.appendChild(me)}c?(W.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",J)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function zw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){const s=zm()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hw(){return!Pw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s0(){try{return typeof indexedDB=="object"}catch{return!1}}function a0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}function Fw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Gw="FirebaseError";class Wr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=Gw,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tf.prototype.create)}}class Tf{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],m=c?Xw(c,a):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new Wr(l,v,a)}}function Xw(s,e){return s.replace(Yw,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const Yw=/\{\$([^}]+)}/g;function tf(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],m=e[l];if(pv(c)&&pv(m)){if(!tf(c,m))return!1}else if(c!==m)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function pv(s){return s!==null&&typeof s=="object"}function ma(s){return s&&s._delegate?s._delegate:s}class pa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fr="[DEFAULT]";class Qw{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Mw;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($w(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(c);a===v&&m.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Kw(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kw(s){return s===Fr?void 0:s}function $w(s){return s.instantiationMode==="EAGER"}class Ww{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Qw(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(dt||(dt={}));const Zw={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},Jw=dt.INFO,eA={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},tA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=eA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r0{constructor(e){this.name=e,this._logLevel=Jw,this._logHandler=tA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const nA=(s,e)=>e.some(i=>s instanceof i);let gv,_v;function iA(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sA(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,cm=new WeakMap,l0=new WeakMap,Fd=new WeakMap,Hm=new WeakMap;function aA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",m)},c=()=>{i(ha(s.result)),l()},m=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&o0.set(i,s)}).catch(()=>{}),Hm.set(e,s),e}function rA(s){if(cm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",m),s.removeEventListener("abort",m)},c=()=>{i(),l()},m=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",m),s.addEventListener("abort",m)});cm.set(s,e)}let fm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||l0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ha(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function oA(s){fm=s(fm)}function lA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Gd(this),e,...i);return l0.set(a,e.sort?e.sort():[e]),ha(a)}:sA().includes(s)?function(...e){return s.apply(Gd(this),e),ha(o0.get(this))}:function(...e){return ha(s.apply(Gd(this),e))}}function uA(s){return typeof s=="function"?lA(s):(s instanceof IDBTransaction&&rA(s),nA(s,iA())?new Proxy(s,fm):s)}function ha(s){if(s instanceof IDBRequest)return aA(s);if(Fd.has(s))return Fd.get(s);const e=uA(s);return e!==s&&(Fd.set(s,e),Hm.set(e,s)),e}const Gd=s=>Hm.get(s);function bf(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const m=indexedDB.open(s,e),v=ha(m);return a&&m.addEventListener("upgradeneeded",T=>{a(ha(m.result),T.oldVersion,T.newVersion,ha(m.transaction),T)}),i&&m.addEventListener("blocked",T=>i(T.oldVersion,T.newVersion,T)),v.then(T=>{c&&T.addEventListener("close",()=>c()),l&&T.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),v}function Xd(s,{blocked:e}={}){const i=indexedDB.deleteDatabase(s);return e&&i.addEventListener("blocked",a=>e(a.oldVersion,a)),ha(i).then(()=>{})}const cA=["get","getKey","getAll","getAllKeys","count"],fA=["put","add","delete","clear"],Yd=new Map;function yv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=fA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||cA.includes(i)))return;const c=async function(m,...v){const T=this.transaction(m,l?"readwrite":"readonly");let g=T.store;return a&&(g=g.index(v.shift())),(await Promise.all([g[i](...v),l&&T.done]))[0]};return Yd.set(e,c),c}oA(s=>({...s,get:(e,i,a)=>yv(e,i)||s.get(e,i,a),has:(e,i)=>!!yv(e,i)||s.has(e,i)}));class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function dA(s){return s.getComponent()?.type==="VERSION"}const hm="@firebase/app",vv="0.14.7";const ga=new r0("@firebase/app"),mA="@firebase/app-compat",pA="@firebase/analytics-compat",gA="@firebase/analytics",_A="@firebase/app-check-compat",yA="@firebase/app-check",vA="@firebase/auth",EA="@firebase/auth-compat",TA="@firebase/database",bA="@firebase/data-connect",SA="@firebase/database-compat",wA="@firebase/functions",AA="@firebase/functions-compat",RA="@firebase/installations",NA="@firebase/installations-compat",CA="@firebase/messaging",xA="@firebase/messaging-compat",IA="@firebase/performance",DA="@firebase/performance-compat",OA="@firebase/remote-config",kA="@firebase/remote-config-compat",LA="@firebase/storage",MA="@firebase/storage-compat",jA="@firebase/firestore",VA="@firebase/ai",UA="@firebase/firestore-compat",BA="firebase",qA="12.8.0";const dm="[DEFAULT]",zA={[hm]:"fire-core",[mA]:"fire-core-compat",[gA]:"fire-analytics",[pA]:"fire-analytics-compat",[yA]:"fire-app-check",[_A]:"fire-app-check-compat",[vA]:"fire-auth",[EA]:"fire-auth-compat",[TA]:"fire-rtdb",[bA]:"fire-data-connect",[SA]:"fire-rtdb-compat",[wA]:"fire-fn",[AA]:"fire-fn-compat",[RA]:"fire-iid",[NA]:"fire-iid-compat",[CA]:"fire-fcm",[xA]:"fire-fcm-compat",[IA]:"fire-perf",[DA]:"fire-perf-compat",[OA]:"fire-rc",[kA]:"fire-rc-compat",[LA]:"fire-gcs",[MA]:"fire-gcs-compat",[jA]:"fire-fst",[UA]:"fire-fst-compat",[VA]:"fire-vertex","fire-js":"fire-js",[BA]:"fire-js-all"};const nf=new Map,PA=new Map,mm=new Map;function Ev(s,e){try{s.container.addComponent(e)}catch(i){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function rr(s){const e=s.name;if(mm.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,s);for(const i of nf.values())Ev(i,s);for(const i of PA.values())Ev(i,s);return!0}function Sf(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function HA(s){return s==null?!1:s.settings!==void 0}const FA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Tf("app","Firebase",FA);class GA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const XA=qA;function u0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:dm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw nr.create("bad-app-name",{appName:String(l)});if(i||(i=i0()),!i)throw nr.create("no-options");const c=nf.get(l);if(c){if(tf(i,c.options)&&tf(a,c.config))return c;throw nr.create("duplicate-app",{appName:l})}const m=new Ww(l);for(const T of mm.values())m.addComponent(T);const v=new GA(i,a,m);return nf.set(l,v),v}function c0(s=dm){const e=nf.get(s);if(!e&&s===dm&&i0())return u0();if(!e)throw nr.create("no-app",{appName:s});return e}function Ds(s,e,i){let a=zA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${a}" with version "${e}":`];l&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(m.join(" "));return}rr(new pa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const YA="firebase-heartbeat-database",QA=1,Eu="firebase-heartbeat-store";let Qd=null;function f0(){return Qd||(Qd=bf(YA,QA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Eu)}catch(i){console.warn(i)}}}}).catch(s=>{throw nr.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function KA(s){try{const i=(await f0()).transaction(Eu),a=await i.objectStore(Eu).get(h0(s));return await i.done,a}catch(e){if(e instanceof Wr)ga.warn(e.message);else{const i=nr.create("idb-get",{originalErrorMessage:e?.message});ga.warn(i.message)}}}async function Tv(s,e){try{const a=(await f0()).transaction(Eu,"readwrite");await a.objectStore(Eu).put(e,h0(s)),await a.done}catch(i){if(i instanceof Wr)ga.warn(i.message);else{const a=nr.create("idb-set",{originalErrorMessage:i?.message});ga.warn(a.message)}}}function h0(s){return`${s.name}!${s.options.appId}`}const $A=1024,WA=30;class ZA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new e2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WA){const l=t2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ga.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bv(),{heartbeatsToSend:i,unsentEntries:a}=JA(this._heartbeatsCache.heartbeats),l=ef(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ga.warn(e),""}}}function bv(){return new Date().toISOString().substring(0,10)}function JA(s,e=$A){const i=[];let a=s.slice();for(const l of s){const c=i.find(m=>m.agent===l.agent);if(c){if(c.dates.push(l.date),Sv(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Sv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class e2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s0()?a0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await KA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Sv(s){return ef(JSON.stringify({version:2,heartbeats:s})).length}function t2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function n2(s){rr(new pa("platform-logger",e=>new hA(e),"PRIVATE")),rr(new pa("heartbeat",e=>new ZA(e),"PRIVATE")),Ds(hm,vv,s),Ds(hm,vv,"esm2020"),Ds("fire-js","")}n2("");var i2="firebase",s2="12.8.0";Ds(i2,s2,"app");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,d0;(function(){var s;function e(O,I){function L(){}L.prototype=I.prototype,O.F=I.prototype,O.prototype=new L,O.prototype.constructor=O,O.D=function(V,k,U){for(var x=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)x[Me-2]=arguments[Me];return I.prototype[k].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,I,L){L||(L=0);const V=Array(16);if(typeof I=="string")for(var k=0;k<16;++k)V[k]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(k=0;k<16;++k)V[k]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=O.g[0],L=O.g[1],k=O.g[2];let U=O.g[3],x;x=I+(U^L&(k^U))+V[0]+3614090360&4294967295,I=L+(x<<7&4294967295|x>>>25),x=U+(k^I&(L^k))+V[1]+3905402710&4294967295,U=I+(x<<12&4294967295|x>>>20),x=k+(L^U&(I^L))+V[2]+606105819&4294967295,k=U+(x<<17&4294967295|x>>>15),x=L+(I^k&(U^I))+V[3]+3250441966&4294967295,L=k+(x<<22&4294967295|x>>>10),x=I+(U^L&(k^U))+V[4]+4118548399&4294967295,I=L+(x<<7&4294967295|x>>>25),x=U+(k^I&(L^k))+V[5]+1200080426&4294967295,U=I+(x<<12&4294967295|x>>>20),x=k+(L^U&(I^L))+V[6]+2821735955&4294967295,k=U+(x<<17&4294967295|x>>>15),x=L+(I^k&(U^I))+V[7]+4249261313&4294967295,L=k+(x<<22&4294967295|x>>>10),x=I+(U^L&(k^U))+V[8]+1770035416&4294967295,I=L+(x<<7&4294967295|x>>>25),x=U+(k^I&(L^k))+V[9]+2336552879&4294967295,U=I+(x<<12&4294967295|x>>>20),x=k+(L^U&(I^L))+V[10]+4294925233&4294967295,k=U+(x<<17&4294967295|x>>>15),x=L+(I^k&(U^I))+V[11]+2304563134&4294967295,L=k+(x<<22&4294967295|x>>>10),x=I+(U^L&(k^U))+V[12]+1804603682&4294967295,I=L+(x<<7&4294967295|x>>>25),x=U+(k^I&(L^k))+V[13]+4254626195&4294967295,U=I+(x<<12&4294967295|x>>>20),x=k+(L^U&(I^L))+V[14]+2792965006&4294967295,k=U+(x<<17&4294967295|x>>>15),x=L+(I^k&(U^I))+V[15]+1236535329&4294967295,L=k+(x<<22&4294967295|x>>>10),x=I+(k^U&(L^k))+V[1]+4129170786&4294967295,I=L+(x<<5&4294967295|x>>>27),x=U+(L^k&(I^L))+V[6]+3225465664&4294967295,U=I+(x<<9&4294967295|x>>>23),x=k+(I^L&(U^I))+V[11]+643717713&4294967295,k=U+(x<<14&4294967295|x>>>18),x=L+(U^I&(k^U))+V[0]+3921069994&4294967295,L=k+(x<<20&4294967295|x>>>12),x=I+(k^U&(L^k))+V[5]+3593408605&4294967295,I=L+(x<<5&4294967295|x>>>27),x=U+(L^k&(I^L))+V[10]+38016083&4294967295,U=I+(x<<9&4294967295|x>>>23),x=k+(I^L&(U^I))+V[15]+3634488961&4294967295,k=U+(x<<14&4294967295|x>>>18),x=L+(U^I&(k^U))+V[4]+3889429448&4294967295,L=k+(x<<20&4294967295|x>>>12),x=I+(k^U&(L^k))+V[9]+568446438&4294967295,I=L+(x<<5&4294967295|x>>>27),x=U+(L^k&(I^L))+V[14]+3275163606&4294967295,U=I+(x<<9&4294967295|x>>>23),x=k+(I^L&(U^I))+V[3]+4107603335&4294967295,k=U+(x<<14&4294967295|x>>>18),x=L+(U^I&(k^U))+V[8]+1163531501&4294967295,L=k+(x<<20&4294967295|x>>>12),x=I+(k^U&(L^k))+V[13]+2850285829&4294967295,I=L+(x<<5&4294967295|x>>>27),x=U+(L^k&(I^L))+V[2]+4243563512&4294967295,U=I+(x<<9&4294967295|x>>>23),x=k+(I^L&(U^I))+V[7]+1735328473&4294967295,k=U+(x<<14&4294967295|x>>>18),x=L+(U^I&(k^U))+V[12]+2368359562&4294967295,L=k+(x<<20&4294967295|x>>>12),x=I+(L^k^U)+V[5]+4294588738&4294967295,I=L+(x<<4&4294967295|x>>>28),x=U+(I^L^k)+V[8]+2272392833&4294967295,U=I+(x<<11&4294967295|x>>>21),x=k+(U^I^L)+V[11]+1839030562&4294967295,k=U+(x<<16&4294967295|x>>>16),x=L+(k^U^I)+V[14]+4259657740&4294967295,L=k+(x<<23&4294967295|x>>>9),x=I+(L^k^U)+V[1]+2763975236&4294967295,I=L+(x<<4&4294967295|x>>>28),x=U+(I^L^k)+V[4]+1272893353&4294967295,U=I+(x<<11&4294967295|x>>>21),x=k+(U^I^L)+V[7]+4139469664&4294967295,k=U+(x<<16&4294967295|x>>>16),x=L+(k^U^I)+V[10]+3200236656&4294967295,L=k+(x<<23&4294967295|x>>>9),x=I+(L^k^U)+V[13]+681279174&4294967295,I=L+(x<<4&4294967295|x>>>28),x=U+(I^L^k)+V[0]+3936430074&4294967295,U=I+(x<<11&4294967295|x>>>21),x=k+(U^I^L)+V[3]+3572445317&4294967295,k=U+(x<<16&4294967295|x>>>16),x=L+(k^U^I)+V[6]+76029189&4294967295,L=k+(x<<23&4294967295|x>>>9),x=I+(L^k^U)+V[9]+3654602809&4294967295,I=L+(x<<4&4294967295|x>>>28),x=U+(I^L^k)+V[12]+3873151461&4294967295,U=I+(x<<11&4294967295|x>>>21),x=k+(U^I^L)+V[15]+530742520&4294967295,k=U+(x<<16&4294967295|x>>>16),x=L+(k^U^I)+V[2]+3299628645&4294967295,L=k+(x<<23&4294967295|x>>>9),x=I+(k^(L|~U))+V[0]+4096336452&4294967295,I=L+(x<<6&4294967295|x>>>26),x=U+(L^(I|~k))+V[7]+1126891415&4294967295,U=I+(x<<10&4294967295|x>>>22),x=k+(I^(U|~L))+V[14]+2878612391&4294967295,k=U+(x<<15&4294967295|x>>>17),x=L+(U^(k|~I))+V[5]+4237533241&4294967295,L=k+(x<<21&4294967295|x>>>11),x=I+(k^(L|~U))+V[12]+1700485571&4294967295,I=L+(x<<6&4294967295|x>>>26),x=U+(L^(I|~k))+V[3]+2399980690&4294967295,U=I+(x<<10&4294967295|x>>>22),x=k+(I^(U|~L))+V[10]+4293915773&4294967295,k=U+(x<<15&4294967295|x>>>17),x=L+(U^(k|~I))+V[1]+2240044497&4294967295,L=k+(x<<21&4294967295|x>>>11),x=I+(k^(L|~U))+V[8]+1873313359&4294967295,I=L+(x<<6&4294967295|x>>>26),x=U+(L^(I|~k))+V[15]+4264355552&4294967295,U=I+(x<<10&4294967295|x>>>22),x=k+(I^(U|~L))+V[6]+2734768916&4294967295,k=U+(x<<15&4294967295|x>>>17),x=L+(U^(k|~I))+V[13]+1309151649&4294967295,L=k+(x<<21&4294967295|x>>>11),x=I+(k^(L|~U))+V[4]+4149444226&4294967295,I=L+(x<<6&4294967295|x>>>26),x=U+(L^(I|~k))+V[11]+3174756917&4294967295,U=I+(x<<10&4294967295|x>>>22),x=k+(I^(U|~L))+V[2]+718787259&4294967295,k=U+(x<<15&4294967295|x>>>17),x=L+(U^(k|~I))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(k+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.v=function(O,I){I===void 0&&(I=O.length);const L=I-this.blockSize,V=this.C;let k=this.h,U=0;for(;U<I;){if(k==0)for(;U<=L;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<I;)if(V[k++]=O.charCodeAt(U++),k==this.blockSize){l(this,V),k=0;break}}else for(;U<I;)if(V[k++]=O[U++],k==this.blockSize){l(this,V),k=0;break}}this.h=k,this.o+=I},a.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;I=this.o*8;for(var L=O.length-8;L<O.length;++L)O[L]=I&255,I/=256;for(this.v(O),O=Array(16),I=0,L=0;L<4;++L)for(let V=0;V<32;V+=8)O[I++]=this.g[L]>>>V&255;return O};function c(O,I){var L=v;return Object.prototype.hasOwnProperty.call(L,O)?L[O]:L[O]=I(O)}function m(O,I){this.h=I;const L=[];let V=!0;for(let k=O.length-1;k>=0;k--){const U=O[k]|0;V&&U==I||(L[k]=U,V=!1)}this.g=L}var v={};function T(O){return-128<=O&&O<128?c(O,function(I){return new m([I|0],I<0?-1:0)}):new m([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return C;if(O<0)return z(g(-O));const I=[];let L=1;for(let V=0;O>=L;V++)I[V]=O/L|0,L*=4294967296;return new m(I,0)}function w(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return z(w(O.substring(1),I));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=g(Math.pow(I,8));let V=C;for(let U=0;U<O.length;U+=8){var k=Math.min(8,O.length-U);const x=parseInt(O.substring(U,U+k),I);k<8?(k=g(Math.pow(I,k)),V=V.j(k).add(g(x))):(V=V.j(L),V=V.add(g(x)))}return V}var C=T(0),D=T(1),J=T(16777216);s=m.prototype,s.m=function(){if(ne(this))return-z(this).m();let O=0,I=1;for(let L=0;L<this.g.length;L++){const V=this.i(L);O+=(V>=0?V:4294967296+V)*I,I*=4294967296}return O},s.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(W(this))return"0";if(ne(this))return"-"+z(this).toString(O);const I=g(Math.pow(O,6));var L=this;let V="";for(;;){const k=de(L,I).g;L=ee(L,k.j(I));let U=((L.g.length>0?L.g[0]:L.h)>>>0).toString(O);if(L=k,W(L))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function W(O){if(O.h!=0)return!1;for(let I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function ne(O){return O.h==-1}s.l=function(O){return O=ee(this,O),ne(O)?-1:W(O)?0:1};function z(O){const I=O.g.length,L=[];for(let V=0;V<I;V++)L[V]=~O.g[V];return new m(L,~O.h).add(D)}s.abs=function(){return ne(this)?z(this):this},s.add=function(O){const I=Math.max(this.g.length,O.g.length),L=[];let V=0;for(let k=0;k<=I;k++){let U=V+(this.i(k)&65535)+(O.i(k)&65535),x=(U>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);V=x>>>16,U&=65535,x&=65535,L[k]=x<<16|U}return new m(L,L[L.length-1]&-2147483648?-1:0)};function ee(O,I){return O.add(z(I))}s.j=function(O){if(W(this)||W(O))return C;if(ne(this))return ne(O)?z(this).j(z(O)):z(z(this).j(O));if(ne(O))return z(this.j(z(O)));if(this.l(J)<0&&O.l(J)<0)return g(this.m()*O.m());const I=this.g.length+O.g.length,L=[];for(var V=0;V<2*I;V++)L[V]=0;for(V=0;V<this.g.length;V++)for(let k=0;k<O.g.length;k++){const U=this.i(V)>>>16,x=this.i(V)&65535,Me=O.i(k)>>>16,Et=O.i(k)&65535;L[2*V+2*k]+=x*Et,he(L,2*V+2*k),L[2*V+2*k+1]+=U*Et,he(L,2*V+2*k+1),L[2*V+2*k+1]+=x*Me,he(L,2*V+2*k+1),L[2*V+2*k+2]+=U*Me,he(L,2*V+2*k+2)}for(O=0;O<I;O++)L[O]=L[2*O+1]<<16|L[2*O];for(O=I;O<2*I;O++)L[O]=0;return new m(L,0)};function he(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function me(O,I){this.g=O,this.h=I}function de(O,I){if(W(I))throw Error("division by zero");if(W(O))return new me(C,C);if(ne(O))return I=de(z(O),I),new me(z(I.g),z(I.h));if(ne(I))return I=de(O,z(I)),new me(z(I.g),I.h);if(O.g.length>30){if(ne(O)||ne(I))throw Error("slowDivide_ only works with positive integers.");for(var L=D,V=I;V.l(O)<=0;)L=Re(L),V=Re(V);var k=De(L,1),U=De(V,1);for(V=De(V,2),L=De(L,2);!W(V);){var x=U.add(V);x.l(O)<=0&&(k=k.add(L),U=x),V=De(V,1),L=De(L,1)}return I=ee(O,k.j(I)),new me(k,I)}for(k=C;O.l(I)>=0;){for(L=Math.max(1,Math.floor(O.m()/I.m())),V=Math.ceil(Math.log(L)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=g(L),x=U.j(I);ne(x)||x.l(O)>0;)L-=V,U=g(L),x=U.j(I);W(U)&&(U=D),k=k.add(U),O=ee(O,x)}return new me(k,O)}s.B=function(O){return de(this,O).h},s.and=function(O){const I=Math.max(this.g.length,O.g.length),L=[];for(let V=0;V<I;V++)L[V]=this.i(V)&O.i(V);return new m(L,this.h&O.h)},s.or=function(O){const I=Math.max(this.g.length,O.g.length),L=[];for(let V=0;V<I;V++)L[V]=this.i(V)|O.i(V);return new m(L,this.h|O.h)},s.xor=function(O){const I=Math.max(this.g.length,O.g.length),L=[];for(let V=0;V<I;V++)L[V]=this.i(V)^O.i(V);return new m(L,this.h^O.h)};function Re(O){const I=O.g.length+1,L=[];for(let V=0;V<I;V++)L[V]=O.i(V)<<1|O.i(V-1)>>>31;return new m(L,O.h)}function De(O,I){const L=I>>5;I%=32;const V=O.g.length-L,k=[];for(let U=0;U<V;U++)k[U]=I>0?O.i(U+L)>>>I|O.i(U+L+1)<<32-I:O.i(U+L);return new m(k,O.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d0=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=g,m.fromString=w,ir=m}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m0,hu,p0,Yc,pm,g0,_0,y0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var y=0;y<u.length;++y){var b=u[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function l(u,y){if(y)e:{var b=a;u=u.split(".");for(var N=0;N<u.length-1;N++){var X=u[N];if(!(X in b))break e;b=b[X]}u=u[u.length-1],N=b[u],y=y(N),y!=N&&y!=null&&e(b,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var b=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&b.push([N,y[N]]);return b}});var c=c||{},m=this||self;function v(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function T(u,y,b){return u.call.apply(u.bind,arguments)}function g(u,y,b){return g=T,g.apply(null,arguments)}function w(u,y){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function C(u,y){function b(){}b.prototype=y.prototype,u.Z=y.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(N,X,Z){for(var ge=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ge[Pe-2]=arguments[Pe];return y.prototype[X].apply(N,ge)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function J(u){const y=u.length;if(y>0){const b=Array(y);for(let N=0;N<y;N++)b[N]=u[N];return b}return[]}function W(u,y){for(let N=1;N<arguments.length;N++){const X=arguments[N];var b=typeof X;if(b=b!="object"?b:X?Array.isArray(X)?"array":b:"null",b=="array"||b=="object"&&typeof X.length=="number"){b=u.length||0;const Z=X.length||0;u.length=b+Z;for(let ge=0;ge<Z;ge++)u[b+ge]=X[ge]}else u.push(X)}}class ne{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(u){m.setTimeout(()=>{throw u},0)}function ee(){var u=O;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class he{constructor(){this.h=this.g=null}add(y,b){const N=me.get();N.set(y,b),this.h?this.h.next=N:this.g=N,this.h=N}}var me=new ne(()=>new de,u=>u.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,De=!1,O=new he,I=()=>{const u=Promise.resolve(void 0);Re=()=>{u.then(L)}};function L(){for(var u;u=ee();){try{u.h.call(u.g)}catch(b){z(b)}var y=me;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}De=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};m.addEventListener("test",b,y),m.removeEventListener("test",b,y)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Me(u,y){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}C(Me,k),Me.prototype.init=function(u,y){const b=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(b=="mouseover"?y=u.fromElement:b=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),P=0;function $(u,y,b,N,X){this.listener=u,this.proxy=null,this.src=y,this.type=b,this.capture=!!N,this.ha=X,this.key=++P,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $e(u,y,b){for(const N in u)y.call(b,u[N],N,u)}function Qe(u,y){for(const b in u)y.call(void 0,u[b],b,u)}function B(u){const y={};for(const b in u)y[b]=u[b];return y}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(u,y){let b,N;for(let X=1;X<arguments.length;X++){N=arguments[X];for(b in N)u[b]=N[b];for(let Z=0;Z<re.length;Z++)b=re[Z],Object.prototype.hasOwnProperty.call(N,b)&&(u[b]=N[b])}}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,y,b,N,X){const Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);const ge=Ke(u,y,N,X);return ge>-1?(y=u[ge],b||(y.fa=!1)):(y=new $(y,this.src,Z,!!N,X),y.fa=b,u.push(y)),y};function ze(u,y){const b=y.type;if(b in u.g){var N=u.g[b],X=Array.prototype.indexOf.call(N,y,void 0),Z;(Z=X>=0)&&Array.prototype.splice.call(N,X,1),Z&&(_e(y),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ke(u,y,b,N){for(let X=0;X<u.length;++X){const Z=u[X];if(!Z.da&&Z.listener==y&&Z.capture==!!b&&Z.ha==N)return X}return-1}var Je="closure_lm_"+(Math.random()*1e6|0),Kt={};function Ot(u,y,b,N,X){if(Array.isArray(y)){for(let Z=0;Z<y.length;Z++)Ot(u,y[Z],b,N,X);return null}return b=ba(b),u&&u[Et]?u.J(y,b,v(N)?!!N.capture:!1,X):ms(u,y,b,!1,N,X)}function ms(u,y,b,N,X,Z){if(!y)throw Error("Invalid event type");const ge=v(X)?!!X.capture:!!X;let Pe=Tt(u);if(Pe||(u[Je]=Pe=new Ee(u)),b=Pe.add(y,b,N,ge,Z),b.proxy)return b;if(N=Ea(),b.proxy=N,N.src=u,N.listener=b,u.addEventListener)U||(X=ge),X===void 0&&(X=!1),u.addEventListener(y.toString(),N,X);else if(u.attachEvent)u.attachEvent(Bn(y.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ea(){function u(b){return y.call(u.src,u.listener,b)}const y=Ta;return u}function Un(u,y,b,N,X){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Un(u,y[Z],b,N,X);else N=v(N)?!!N.capture:!!N,b=ba(b),u&&u[Et]?(u=u.i,Z=String(y).toString(),Z in u.g&&(y=u.g[Z],b=Ke(y,b,N,X),b>-1&&(_e(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete u.g[Z],u.h--)))):u&&(u=Tt(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Ke(y,b,N,X)),(b=u>-1?y[u]:null)&&ps(b))}function ps(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Et])ze(y.i,u);else{var b=u.type,N=u.proxy;y.removeEventListener?y.removeEventListener(b,N,u.capture):y.detachEvent?y.detachEvent(Bn(b),N):y.addListener&&y.removeListener&&y.removeListener(N),(b=Tt(y))?(ze(b,u),b.h==0&&(b.src=null,y[Je]=null)):_e(u)}}}function Bn(u){return u in Kt?Kt[u]:Kt[u]="on"+u}function Ta(u,y){if(u.da)u=!0;else{y=new Me(y,this);const b=u.listener,N=u.ha||u.src;u.fa&&ps(u),u=b.call(N,y)}return u}function Tt(u){return u=u[Je],u instanceof Ee?u:null}var Us="__closure_events_fn_"+(Math.random()*1e9>>>0);function ba(u){return typeof u=="function"?u:(u[Us]||(u[Us]=function(y){return u.handleEvent(y)}),u[Us])}function zt(){V.call(this),this.i=new Ee(this),this.M=this,this.G=null}C(zt,V),zt.prototype[Et]=!0,zt.prototype.removeEventListener=function(u,y,b,N){Un(this,u,y,b,N)};function $t(u,y){var b,N=u.G;if(N)for(b=[];N;N=N.G)b.push(N);if(u=u.M,N=y.type||y,typeof y=="string")y=new k(y,u);else if(y instanceof k)y.target=y.target||u;else{var X=y;y=new k(N,u),ye(y,X)}X=!0;let Z,ge;if(b)for(ge=b.length-1;ge>=0;ge--)Z=y.g=b[ge],X=Ei(Z,N,!0,y)&&X;if(Z=y.g=u,X=Ei(Z,N,!0,y)&&X,X=Ei(Z,N,!1,y)&&X,b)for(ge=0;ge<b.length;ge++)Z=y.g=b[ge],X=Ei(Z,N,!1,y)&&X}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const b=u.g[y];for(let N=0;N<b.length;N++)_e(b[N]);delete u.g[y],u.h--}}this.G=null},zt.prototype.J=function(u,y,b,N){return this.i.add(String(u),y,!1,b,N)},zt.prototype.K=function(u,y,b,N){return this.i.add(String(u),y,!0,b,N)};function Ei(u,y,b,N){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let X=!0;for(let Z=0;Z<y.length;++Z){const ge=y[Z];if(ge&&!ge.da&&ge.capture==b){const Pe=ge.listener,Pt=ge.ha||ge.src;ge.fa&&ze(u.i,ge),X=Pe.call(Pt,N)!==!1&&X}}return X&&!N.defaultPrevented}function Sl(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:m.setTimeout(u,y||0)}function dr(u){u.g=Sl(()=>{u.g=null,u.i&&(u.i=!1,dr(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class An extends V{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:dr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){V.call(this),this.h=u,this.g={}}C(ts,V);var ns=[];function Kn(u){$e(u.g,function(y,b){this.g.hasOwnProperty(b)&&ps(y)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),Kn(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=m.JSON.stringify,so=m.JSON.parse,mr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function ao(){}function ro(){}var Ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){k.call(this,"d")}C(xe,k);function $n(){k.call(this,"c")}C($n,k);var Vt={},pr=null;function bi(){return pr=pr||new zt}Vt.Ia="serverreachability";function oo(u){k.call(this,Vt.Ia,u)}C(oo,k);function mn(u){const y=bi();$t(y,new oo(y))}Vt.STAT_EVENT="statevent";function gs(u,y){k.call(this,Vt.STAT_EVENT,u),this.stat=y}C(gs,k);function Gt(u){const y=bi();$t(y,new gs(y,u))}Vt.Ja="timingevent";function Si(u,y){k.call(this,Vt.Ja,u),this.size=y}C(Si,k);function pe(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},y)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function wl(u,y,b,N,X,Z){u.info(function(){if(u.g)if(Z){var ge="",Pe=Z.split("&");for(let ft=0;ft<Pe.length;ft++){var Pt=Pe[ft].split("=");if(Pt.length>1){const kt=Pt[0];Pt=Pt[1];const F=kt.split("_");ge=F.length>=2&&F[1]=="type"?ge+(kt+"="+Pt+"&"):ge+(kt+"=redacted&")}}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+N+") [attempt "+X+"]: "+y+`
`+b+`
`+ge})}function Rn(u,y,b,N,X,Z,ge){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+X+"]: "+y+`
`+b+`
`+Z+" "+ge})}function oi(u,y,b,N){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+gr(u,b)+(N?" "+N:"")})}function ss(u,y){u.info(function(){return"TIMEOUT: "+y})}wi.prototype.info=function(){};function gr(u,y){if(!u.g)return y;if(!y)return null;try{const Z=JSON.parse(y);if(Z){for(u=0;u<Z.length;u++)if(Array.isArray(Z[u])){var b=Z[u];if(!(b.length<2)){var N=b[1];if(Array.isArray(N)&&!(N.length<1)){var X=N[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<N.length;ge++)N[ge]=""}}}}return is(Z)}catch{return y}}var Wn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},an;function _s(){}C(_s,ao),_s.prototype.g=function(){return new XMLHttpRequest},an=new _s;function qn(u){return encodeURIComponent(String(u))}function _r(u){var y=1;u=u.split(":");const b=[];for(;y>0&&u.length;)b.push(u.shift()),y--;return u.length&&b.push(u.join(":")),b}function li(u,y,b,N){this.j=u,this.i=y,this.l=b,this.S=N||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var it={},Jt={};function Mi(u,y,b){u.M=1,u.A=Vi(wt(y)),u.u=b,u.R=!0,ys(u,null)}function ys(u,y){u.F=Date.now(),Zn(u),u.B=wt(u.A);var b=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),ci(b.i,"t",N),u.C=0,b=u.j.L,u.h=new zn,u.g=go(u.j,b?y:null,!u.u),u.P>0&&(u.O=new An(g(u.Y,u,u.g),u.P)),y=u.V,b=u.g,N=u.ba;var X="readystatechange";Array.isArray(X)||(X&&(ns[0]=X.toString()),X=ns);for(let Z=0;Z<X.length;Z++){const ge=Ot(b,X[Z],N||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=u.J?B(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),mn(),wl(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const y=this.O;y&&we(u)==3?y.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Pe=we(this.g),Pt=this.g.ya(),ft=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||Oe(this.g)))){this.K||Pe!=4||Pt==7||(Pt==8||ft<=0?mn(3):mn(2)),en(this);var y=this.g.ca();this.X=y;var b=Al(this);if(this.o=y==200,Rn(this.i,this.v,this.B,this.l,this.S,Pe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,X=this.g;if((N=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(N)){var Z=N;break t}}Z=null}if(u=Z)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,Gt(12),Cn(this),Nn(this);break e}}if(this.R){u=!0;let kt;for(;!this.K&&this.C<b.length;)if(kt=yr(this,b),kt==Jt){Pe==4&&(this.m=4,Gt(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==it){this.m=4,Gt(15),oi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,kt,null),Ai(this,kt);if(wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||b.length!=0||this.h.h||(this.m=1,Gt(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Nn(this);else if(b.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ar(ge),ge.P=!0,Gt(11))}}else oi(this.i,this.l,b,null),Ai(this,b);Pe==4&&Cn(this),this.o&&!this.K&&(Pe==4?Rr(this.j,this):(this.o=!1,Zn(this)))}else Ue(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Cn(this),Nn(this)}}}catch{}};function Al(u){if(!wa(u))return u.g.la();const y=Oe(u.g);if(y==="")return"";let b="";const N=y.length,X=we(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Nn(u),"";u.h.i=new m.TextDecoder}for(let Z=0;Z<N;Z++)u.h.h=!0,b+=u.h.i.decode(y[Z],{stream:!(X&&Z==N-1)});return y.length=0,u.h.g+=b,u.C=0,u.h.g}function wa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yr(u,y){var b=u.C,N=y.indexOf(`
`,b);return N==-1?Jt:(b=Number(y.substring(b,N)),isNaN(b)?it:(N+=1,N+b>y.length?Jt:(y=y.slice(N,N+b),u.C=N+b,y)))}li.prototype.cancel=function(){this.K=!0,Cn(this)};function Zn(u){u.T=Date.now()+u.H,Aa(u,u.H)}function Aa(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pe(g(u.aa,u),y)}function en(u){u.D&&(m.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ss(this.i,this.B),this.M!=2&&(mn(),Gt(17)),Cn(this),this.m=2,Nn(this)):Aa(this,this.T-u)};function Nn(u){u.j.I==0||u.K||Rr(u.j,u)}function Cn(u){en(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Kn(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Ai(u,y){try{var b=u.j;if(b.I!=0&&(b.g==u||Ri(b.h,u))){if(!u.L&&Ri(b.h,u)&&b.I==3){try{var N=b.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var X=N;if(X[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ia(b),Ss(b);else break e;Xs(b),Gt(18)}}else b.xa=X[1],0<b.xa-b.K&&X[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=pe(g(b.Va,b),6e3));Jn(b.h)<=1&&b.ta&&(b.ta=void 0)}else Hi(b,11)}else if((u.L||b.g==u)&&Ia(b),!x(y))for(X=b.Ba.g.parse(y),y=0;y<X.length;y++){let ft=X[y];const kt=ft[0];if(!(kt<=b.K))if(b.K=kt,ft=ft[1],b.I==2)if(ft[0]=="c"){b.M=ft[1],b.ba=ft[2];const F=ft[3];F!=null&&(b.ka=F,b.j.info("VER="+b.ka));const le=ft[4];le!=null&&(b.za=le,b.j.info("SVER="+b.za));const ve=ft[5];ve!=null&&typeof ve=="number"&&ve>0&&(N=1.5*ve,b.O=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const Ne=u.g;if(Ne){const je=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(je){var Z=N.h;Z.g||je.indexOf("spdy")==-1&&je.indexOf("quic")==-1&&je.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ji(Z,Z.h),Z.h=null))}if(N.G){const st=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;st&&(N.wa=st,ct(N.J,N.G,st))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),N=b;var ge=u;if(N.na=po(N,N.L?N.ba:null,N.W),ge.L){Bs(N.h,ge);var Pe=ge,Pt=N.O;Pt&&(Pe.H=Pt),Pe.D&&(en(Pe),Zn(Pe)),N.g=ge}else co(N);b.i.length>0&&Pi(b)}else ft[0]!="stop"&&ft[0]!="close"||Hi(b,7);else b.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Hi(b,7):xa(b):ft[0]!="noop"&&b.l&&b.l.qa(ft),b.A=0)}}mn(4)}catch{}}var Xt=class{constructor(u,y){this.g=u,this.map=y}};function as(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ra(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jn(u){return u.h?1:u.g?u.g.size:0}function Ri(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function ji(u,y){u.g?u.g.add(y):u.h=y}function Bs(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}as.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Na(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const b of u.g.values())y=y.concat(b.G);return y}return J(u.i)}var vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(u,y){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const N=u[b].indexOf("=");let X,Z=null;N>=0?(X=u[b].substring(0,N),Z=u[b].substring(N+1)):X=u[b],y(X,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ei(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof ei?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,Pn(this,u.u),this.h=u.h,vs(this,Ca(u.i)),this.m=u.m):u&&(y=String(u).match(vr))?(this.l=!1,Ge(this,y[1]||"",!0),this.o=ui(y[2]||""),this.g=ui(y[3]||"",!0),Pn(this,y[4]),this.h=ui(y[5]||"",!0),vs(this,y[6]||"",!0),this.m=ui(y[7]||"")):(this.l=!1,this.i=new qi(null,this.l))}ei.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(zs(y,Ui,!0),":");var b=this.g;return(b||y=="file")&&(u.push("//"),(y=this.o)&&u.push(zs(y,Ui,!0),"@"),u.push(qn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(zs(b,b.charAt(0)=="/"?Tr:Er,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",zs(b,br)),u.join("")},ei.prototype.resolve=function(u){const y=wt(this);let b=!!u.j;b?Ge(y,u.j):b=!!u.o,b?y.o=u.o:b=!!u.g,b?y.g=u.g:b=u.u!=null;var N=u.h;if(b)Pn(y,u.u);else if(b=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var X=y.h.lastIndexOf("/");X!=-1&&(N=y.h.slice(0,X+1)+N)}if(X=N,X==".."||X==".")N="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){N=X.lastIndexOf("/",0)==0,X=X.split("/");const Z=[];for(let ge=0;ge<X.length;){const Pe=X[ge++];Pe=="."?N&&ge==X.length&&Z.push(""):Pe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),N&&ge==X.length&&Z.push("")):(Z.push(Pe),N=!0)}N=Z.join("/")}else N=X}return b?y.h=N:b=u.i.toString()!=="",b?vs(y,Ca(u.i)):b=!!u.m,b&&(y.m=u.m),y};function wt(u){return new ei(u)}function Ge(u,y,b){u.j=b?ui(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Pn(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function vs(u,y,b){y instanceof qi?(u.i=y,ti(u.i,u.l)):(b||(y=zs(y,Bi)),u.i=new qi(y,u.l))}function ct(u,y,b){u.i.set(y,b)}function Vi(u){return ct(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zs(u,y,b){return typeof u=="string"?(u=encodeURI(u).replace(y,Hn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ui=/[#\/\?@]/g,Er=/[#\?:]/g,Tr=/[#\?]/g,Bi=/[#\?@]/g,br=/#/g;function qi(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&qs(u.i,function(y,b){u.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}s=qi.prototype,s.add=function(u,y){yn(this),this.i=null,u=vn(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(y),this.h+=1,this};function lo(u,y){yn(u),y=vn(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Es(u,y){return yn(u),y=vn(u,y),u.g.has(y)}s.forEach=function(u,y){yn(this),this.g.forEach(function(b,N){b.forEach(function(X){u.call(y,X,N,this)},this)},this)};function Ts(u,y){yn(u);let b=[];if(typeof y=="string")Es(u,y)&&(b=b.concat(u.g.get(vn(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)b=b.concat(u[y]);return b}s.set=function(u,y){return yn(this),this.i=null,u=vn(this,u),Es(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},s.get=function(u,y){return u?(u=Ts(this,u),u.length>0?String(u[0]):y):y};function ci(u,y,b){lo(u,y),b.length>0&&(u.i=null,u.g.set(vn(u,y),J(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var b=y[N];const X=qn(b);b=Ts(this,b);for(let Z=0;Z<b.length;Z++){let ge=X;b[Z]!==""&&(ge+="="+qn(b[Z])),u.push(ge)}}return this.i=u.join("&")};function Ca(u){const y=new qi;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function vn(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function ti(u,y){y&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(b,N){const X=N.toLowerCase();N!=X&&(lo(this,N),ci(this,X,b))},u)),u.j=y}function xn(u,y){const b=new wi;if(m.Image){const N=new Image;N.onload=w(Te,b,"TestLoadImage: loaded",!0,y,N),N.onerror=w(Te,b,"TestLoadImage: error",!1,y,N),N.onabort=w(Te,b,"TestLoadImage: abort",!1,y,N),N.ontimeout=w(Te,b,"TestLoadImage: timeout",!1,y,N),m.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else y(!1)}function Sr(u,y){const b=new wi,N=new AbortController,X=setTimeout(()=>{N.abort(),Te(b,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:N.signal}).then(Z=>{clearTimeout(X),Z.ok?Te(b,"TestPingServer: ok",!0,y):Te(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(X),Te(b,"TestPingServer: error",!1,y)})}function Te(u,y,b,N,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),N(b)}catch{}}function zi(){this.g=new mr}function ni(u){this.i=u.Sb||null,this.h=u.ab||!1}C(ni,ao),ni.prototype.g=function(){return new bs(this.i,this.h)};function bs(u,y){zt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(bs,zt),s=bs.prototype,s.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,rn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||m).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,rn(this)),this.g&&(this.readyState=3,rn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ps(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ps(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?fi(this):rn(this),this.readyState==3&&Ps(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fi(this))},s.Na=function(u){this.g&&(this.response=u,fi(this))},s.ga=function(){this.g&&fi(this)};function fi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,rn(u)}s.setRequestHeader=function(u,y){this.A.append(u,y)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=y.next();return u.join(`\r
`)};function rn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function En(u){let y="";return $e(u,function(b,N){y+=N,y+=":",y+=b,y+=`\r
`}),y}function rs(u,y,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=En(b),typeof u=="string"?b!=null&&qn(b):ct(u,y,b))}function h(u){zt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(h,zt);var _=/^https?$/i,S=["POST","PUT"];s=h.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,y,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():an.g(),this.g.onreadystatechange=D(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(Z){R(this,Z);return}if(u=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var X in N)b.set(X,N[X]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())b.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),X=m.FormData&&u instanceof m.FormData,!(Array.prototype.indexOf.call(S,y,void 0)>=0)||N||X||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of b)this.g.setRequestHeader(Z,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Z){R(this,Z)}};function R(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,j(u),ie(u)}function j(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,$t(this,"complete"),$t(this,"abort"),ie(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ie(this,!0)),h.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?G(this):this.Xa())},s.Xa=function(){G(this)};function G(u){if(u.h&&typeof c<"u"){if(u.v&&we(u)==4)setTimeout(u.Ca.bind(u),0);else if($t(u,"readystatechange"),we(u)==4){u.h=!1;try{const Z=u.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var N;if(N=Z===0){let ge=String(u.D).match(vr)[1]||null;!ge&&m.self&&m.self.location&&(ge=m.self.location.protocol.slice(0,-1)),N=!_.test(ge?ge.toLowerCase():"")}b=N}if(b)$t(u,"complete"),$t(u,"success");else{u.o=6;try{var X=we(u)>2?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.ca()+"]",j(u)}}finally{ie(u)}}}}function ie(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,y||$t(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function we(u){return u.g?u.g.readyState:0}s.ca=function(){try{return we(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),so(y)}};function Oe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ue(u){const y={};u=(u.g&&we(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(x(u[N]))continue;var b=_r(u[N]);const X=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=y[X]||[];y[X]=Z,Z.push(b)}Qe(y,function(N){return N.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mt(u,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||y}function Yt(u){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mt("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mt("baseRetryDelayMs",5e3,u),this.Za=mt("retryDelaySeedMs",1e4,u),this.Ta=mt("forwardChannelMaxRetries",2,u),this.va=mt("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new as(u&&u.concurrentRequestLimit),this.Ba=new zi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Yt.prototype,s.ka=8,s.I=1,s.connect=function(u,y,b,N){Gt(0),this.W=u,this.H=y||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.J=po(this,null,this.W),Pi(this)};function xa(u){if(Hs(u),u.I==3){var y=u.V++,b=wt(u.J);if(ct(b,"SID",u.M),ct(b,"RID",y),ct(b,"TYPE","terminate"),Gs(u,b),y=new li(u,u.j,y),y.M=2,y.A=Vi(wt(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&m.Image&&(new Image().src=y.A,b=!0),b||(y.g=go(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Zn(y)}mo(u)}function Ss(u){u.g&&(Ar(u),u.g.cancel(),u.g=null)}function Hs(u){Ss(u),u.v&&(m.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&m.clearTimeout(u.m),u.m=null)}function Pi(u){if(!Ra(u.h)&&!u.m){u.m=!0;var y=u.Ea;Re||I(),De||(Re(),De=!0),O.add(y,u),u.D=0}}function Fs(u,y){return Jn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pe(g(u.Ea,u,y),ho(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const X=new li(this,this.j,u);let Z=this.o;if(this.U&&(Z?(Z=B(Z),ye(Z,this.U)):Z=this.U),this.u!==null||this.R||(X.J=Z,Z=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=uo(this,X,y),b=wt(this.J),ct(b,"RID",u),ct(b,"CVER",22),this.G&&ct(b,"X-HTTP-Session-Id",this.G),Gs(this,b),Z&&(this.R?y="headers="+qn(En(Z))+"&"+y:this.u&&rs(b,this.u,Z)),ji(this.h,X),this.Ra&&ct(b,"TYPE","init"),this.S?(ct(b,"$req",y),ct(b,"SID","null"),X.U=!0,Mi(X,b,null)):Mi(X,b,y),this.I=2}}else this.I==3&&(u?wr(this,u):this.i.length==0||Ra(this.h)||wr(this))};function wr(u,y){var b;y?b=y.l:b=u.V++;const N=wt(u.J);ct(N,"SID",u.M),ct(N,"RID",b),ct(N,"AID",u.K),Gs(u,N),u.u&&u.o&&rs(N,u.u,u.o),b=new li(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),y&&(u.i=y.G.concat(u.i)),y=uo(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ji(u.h,b),Mi(b,N,y)}function Gs(u,y){u.H&&$e(u.H,function(b,N){ct(y,N,b)}),u.l&&$e({},function(b,N){ct(y,N,b)})}function uo(u,y,b){b=Math.min(u.i.length,b);const N=u.l?g(u.l.Ka,u.l,u):null;e:{var X=u.i;let Pe=-1;for(;;){const Pt=["count="+b];Pe==-1?b>0?(Pe=X[0].g,Pt.push("ofs="+Pe)):Pe=0:Pt.push("ofs="+Pe);let ft=!0;for(let kt=0;kt<b;kt++){var Z=X[kt].g;const F=X[kt].map;if(Z-=Pe,Z<0)Pe=Math.max(0,X[kt].g-100),ft=!1;else try{Z="req"+Z+"_"||"";try{var ge=F instanceof Map?F:Object.entries(F);for(const[le,ve]of ge){let Ne=ve;v(ve)&&(Ne=is(ve)),Pt.push(Z+le+"="+encodeURIComponent(Ne))}}catch(le){throw Pt.push(Z+"type="+encodeURIComponent("_badmap")),le}}catch{N&&N(F)}}if(ft){ge=Pt.join("&");break e}}ge=void 0}return u=u.i.splice(0,b),y.G=u,ge}function co(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;Re||I(),De||(Re(),De=!0),O.add(y,u),u.A=0}}function Xs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pe(g(u.Da,u),ho(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pe(g(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Ss(this),fo(this))};function Ar(u){u.B!=null&&(m.clearTimeout(u.B),u.B=null)}function fo(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=wt(u.na);ct(y,"RID","rpc"),ct(y,"SID",u.M),ct(y,"AID",u.K),ct(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&ct(y,"TO",u.ia),ct(y,"TYPE","xmlhttp"),Gs(u,y),u.u&&u.o&&rs(y,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Vi(wt(y)),b.u=null,b.R=!0,ys(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ss(this),Xs(this),Gt(19))};function Ia(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Rr(u,y){var b=null;if(u.g==y){Ia(u),Ar(u),u.g=null;var N=2}else if(Ri(u.h,y))b=y.G,Bs(u.h,y),N=1;else return;if(u.I!=0){if(y.o)if(N==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var X=u.D;N=bi(),$t(N,new Si(N,b)),Pi(u)}else co(u);else if(X=y.m,X==3||X==0&&y.X>0||!(N==1&&Fs(u,y)||N==2&&Xs(u)))switch(b&&b.length>0&&(y=u.h,y.i=y.i.concat(b)),X){case 1:Hi(u,5);break;case 4:Hi(u,10);break;case 3:Hi(u,6);break;default:Hi(u,2)}}}function ho(u,y){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*y}function Hi(u,y){if(u.j.info("Error code "+y),y==2){var b=g(u.bb,u),N=u.Ua;const X=!N;N=new ei(N||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ge(N,"https"),Vi(N),X?xn(N.toString(),b):Sr(N.toString(),b)}else Gt(2);u.I=0,u.l&&u.l.pa(y),mo(u),Hs(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function mo(u){if(u.I=0,u.ja=[],u.l){const y=Na(u.h);(y.length!=0||u.i.length!=0)&&(W(u.ja,y),W(u.ja,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.oa()}}function po(u,y,b){var N=b instanceof ei?wt(b):new ei(b);if(N.g!="")y&&(N.g=y+"."+N.g),Pn(N,N.u);else{var X=m.location;N=X.protocol,y=y?y+"."+X.hostname:X.hostname,X=+X.port;const Z=new ei(null);N&&Ge(Z,N),y&&(Z.g=y),X&&Pn(Z,X),b&&(Z.h=b),N=Z}return b=u.G,y=u.wa,b&&y&&ct(N,b,y),ct(N,"VER",u.ka),Gs(u,N),N}function go(u,y,b){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new h(new ni({ab:b})):new h(u.ma),y.Fa(u.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _o(){}s=_o.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(u,y){return new Tn(u,y)};function Tn(u,y){zt.call(this),this.g=new Yt(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!x(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new os(this)}C(Tn,zt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){xa(this.g)},Tn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=is(u),u=b);y.i.push(new Xt(y.Ya++,u)),y.I==3&&Pi(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,Tn.Z.N.call(this)};function yo(u){xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const b in y){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}C(yo,xe);function vo(){$n.call(this),this.status=1}C(vo,$n);function os(u){this.g=u}C(os,_o),os.prototype.ra=function(){$t(this.g,"a")},os.prototype.qa=function(u){$t(this.g,new yo(u))},os.prototype.pa=function(u){$t(this.g,new vo)},os.prototype.oa=function(){$t(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,y0=function(){return new ws},_0=function(){return bi()},g0=Vt,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wn.NO_ERROR=0,Wn.TIMEOUT=8,Wn.HTTP_ERROR=6,Yc=Wn,Sa.COMPLETE="complete",p0=Sa,ro.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",zt.prototype.listen=zt.prototype.J,hu=ro,h.prototype.listenOnce=h.prototype.K,h.prototype.getLastError=h.prototype.Ha,h.prototype.getLastErrorCode=h.prototype.ya,h.prototype.getStatus=h.prototype.ca,h.prototype.getResponseJson=h.prototype.La,h.prototype.getResponseText=h.prototype.la,h.prototype.send=h.prototype.ea,h.prototype.setWithCredentials=h.prototype.Fa,m0=h}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");let _l="12.8.0";function a2(s){_l=s}const Yr=new r0("@firebase/firestore");function Wo(){return Yr.logLevel}function be(s,...e){if(Yr.logLevel<=dt.DEBUG){const i=e.map(Fm);Yr.debug(`Firestore (${_l}): ${s}`,...i)}}function _a(s,...e){if(Yr.logLevel<=dt.ERROR){const i=e.map(Fm);Yr.error(`Firestore (${_l}): ${s}`,...i)}}function ol(s,...e){if(Yr.logLevel<=dt.WARN){const i=e.map(Fm);Yr.warn(`Firestore (${_l}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function qe(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,v0(s,a,i)}function v0(s,e,i){let a=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _a(a),new Error(a)}function St(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||v0(e,l,a)}function Ye(s,e){return s}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Wr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class E0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xn.UNAUTHENTICATED)))}shutdown(){}}class o2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class l2{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){St(this.o===void 0,42304);let a=this.i;const l=T=>this.i!==a?(a=this.i,i(T)):Promise.resolve();let c=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sr,e.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const T=c;e.enqueueRetryable((async()=>{await T.promise,await l(this.currentUser)}))},v=T=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((T=>v(T))),setTimeout((()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sr)}}),0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(St(typeof a.accessToken=="string",31837,{l:a}),new E0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new Xn(e)}}class u2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class c2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new u2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,HA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){St(this.o===void 0,3512);const a=c=>{c.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const m=c.token!==this.m;return this.m=c.token,be("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(St(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function h2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=h2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function ot(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Kd(l)===Kd(c)?ot(l,c):Kd(l)?1:-1}return ot(s.length,e.length)}const d2=55296,m2=57343;function Kd(s){const e=s.charCodeAt(0);return e>=d2&&e<=m2}function ll(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const Rv="__name__";class Is{constructor(e,i,a){i===void 0?i=0:i>e.length&&qe(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&qe(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Is.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Is.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return ot(e.length,i.length)}static compareSegments(e,i){const a=Is.isNumericId(e),l=Is.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Is.extractNumericId(e).compare(Is.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ir.fromString(e.substring(4,e.length-2))}}class jt extends Is{construct(e,i,a){return new jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new jt(i)}static emptyPath(){return new jt([])}}const p2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Is{construct(e,i,a){return new jn(e,i,a)}static isValidIdentifier(e){return p2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new jn([Rv])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let m=!1;for(;l<e.length;){const v=e[l];if(v==="\\"){if(l+1===e.length)throw new Se(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const T=e[l+1];if(T!=="\\"&&T!=="."&&T!=="`")throw new Se(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=T,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(a+=v,l++):(c(),l++)}if(c(),m)throw new Se(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(i)}static emptyPath(){return new jn([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(jt.fromString(e))}static fromName(e){return new Le(jt.fromString(e).popFirst(5))}static empty(){return new Le(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new jt(e.slice()))}}function T0(s,e,i){if(!i)throw new Se(ce.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function g2(s,e,i,a){if(e===!0&&a===!0)throw new Se(ce.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Nv(s){if(!Le.isDocumentKey(s))throw new Se(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Cv(s){if(Le.isDocumentKey(s))throw new Se(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function b0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function wf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":qe(12329,{type:typeof s})}function ul(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Se(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wf(s);throw new Se(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function dn(s,e){const i={typeString:s};return e&&(i.value=e),i}function Iu(s,e){if(!b0(s))throw new Se(ce.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const m=s[a];if(l&&typeof m!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&m!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new Se(ce.INVALID_ARGUMENT,i);return!0}const xv=-62135596800,Iv=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Iv);return new qt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<xv)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,qt._jsonSchema))return new qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qt._jsonSchemaVersion="firestore/timestamp/1.0",qt._jsonSchema={type:dn("string",qt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new qt(0,0))}static max(){return new Fe(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function _2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Fe.fromTimestamp(a===1e9?new qt(i+1,0):new qt(i,a));return new or(l,Le.empty(),e)}function y2(s){return new or(s.readTime,s.key,Tu)}class or{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new or(Fe.min(),Le.empty(),Tu)}static max(){return new or(Fe.max(),Le.empty(),Tu)}}function v2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Le.comparator(s.documentKey,e.documentKey),i!==0?i:ot(s.largestBatchId,e.largestBatchId))}const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yl(s){if(s.code!==ce.FAILED_PRECONDITION||s.message!==E2)throw s;be("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new fe(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof fe?i:fe.resolve(i)}catch(i){return fe.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):fe.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):fe.reject(i)}static resolve(e){return new fe(((i,a)=>{i(e)}))}static reject(e){return new fe(((i,a)=>{a(e)}))}static waitFor(e){return new fe(((i,a)=>{let l=0,c=0,m=!1;e.forEach((v=>{++l,v.next((()=>{++c,m&&c===l&&i()}),(T=>a(T)))})),m=!0,c===l&&i()}))}static or(e){let i=fe.resolve(!1);for(const a of e)i=i.next((l=>l?fe.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new fe(((a,l)=>{const c=e.length,m=new Array(c);let v=0;for(let T=0;T<c;T++){const g=T;i(e[g]).next((w=>{m[g]=w,++v,v===c&&a(m)}),(w=>l(w)))}}))}static doWhile(e,i){return new fe(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function b2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vl(s){return s.name==="IndexedDbTransactionError"}class Af{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Af.ce=-1;const Xm=-1;function Rf(s){return s==null}function sf(s){return s===0&&1/s==-1/0}function S2(s){return typeof s=="number"&&Number.isInteger(s)&&!sf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const S0="";function w2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Dv(e)),e=A2(s.get(i),e);return Dv(e)}function A2(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case S0:i+="";break;default:i+=c}}return i}function Dv(s){return s+S0+""}function Ov(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Zr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function w0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Qt{constructor(e,i){this.comparator=e,this.root=i||Ln.EMPTY}insert(e,i){return new Qt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Ln.RED,this.left=l??Ln.EMPTY,this.right=c??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Ln(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Ln.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new _n(this.comparator);return i.data=e,i}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fs{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new fs([])}unionWith(e){let i=new _n(jn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fs(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class A0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new A0("Invalid base64 string: "+c):c}})(e);return new Vn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let m=0;m<l.length;++m)c+=String.fromCharCode(l[m]);return c})(e);return new Vn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(s){if(St(!!s,39018),typeof s=="string"){let e=0;const i=R2.exec(s);if(St(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:sn(s.seconds),nanos:sn(s.nanos)}}function sn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?Vn.fromBase64String(s):Vn.fromUint8Array(s)}const R0="server_timestamp",N0="__type__",C0="__previous_value__",x0="__local_write_time__";function Ym(s){return(s?.mapValue?.fields||{})[N0]?.stringValue===R0}function Nf(s){const e=s.mapValue.fields[C0];return Ym(e)?Nf(e):e}function bu(s){const e=lr(s.mapValue.fields[x0].timestampValue);return new qt(e.seconds,e.nanos)}class N2{constructor(e,i,a,l,c,m,v,T,g,w,C){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=T,this.useFetchStreams=g,this.isUsingEmulator=w,this.apiKey=C}}const af="(default)";class Su{constructor(e,i){this.projectId=e,this.database=i||af}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}function C2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Se(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(s.options.projectId,e)}const I0="__type__",x2="__max__",zc={mapValue:{}},D0="__vector__",rf="value";function cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:D2(s)?9007199254740991:I2(s)?10:11:qe(28295,{value:s})}function js(s,e){if(s===e)return!0;const i=cr(s);if(i!==cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return bu(s).isEqual(bu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const m=lr(l.timestampValue),v=lr(c.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ur(l.bytesValue).isEqual(ur(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return sn(l.geoPointValue.latitude)===sn(c.geoPointValue.latitude)&&sn(l.geoPointValue.longitude)===sn(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return sn(l.integerValue)===sn(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const m=sn(l.doubleValue),v=sn(c.doubleValue);return m===v?sf(m)===sf(v):isNaN(m)&&isNaN(v)}return!1})(s,e);case 9:return ll(s.arrayValue.values||[],e.arrayValue.values||[],js);case 10:case 11:return(function(l,c){const m=l.mapValue.fields||{},v=c.mapValue.fields||{};if(Ov(m)!==Ov(v))return!1;for(const T in m)if(m.hasOwnProperty(T)&&(v[T]===void 0||!js(m[T],v[T])))return!1;return!0})(s,e);default:return qe(52216,{left:s})}}function wu(s,e){return(s.values||[]).find((i=>js(i,e)))!==void 0}function cl(s,e){if(s===e)return 0;const i=cr(s),a=cr(e);if(i!==a)return ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ot(s.booleanValue,e.booleanValue);case 2:return(function(c,m){const v=sn(c.integerValue||c.doubleValue),T=sn(m.integerValue||m.doubleValue);return v<T?-1:v>T?1:v===T?0:isNaN(v)?isNaN(T)?0:-1:1})(s,e);case 3:return Lv(s.timestampValue,e.timestampValue);case 4:return Lv(bu(s),bu(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,m){const v=ur(c),T=ur(m);return v.compareTo(T)})(s.bytesValue,e.bytesValue);case 7:return(function(c,m){const v=c.split("/"),T=m.split("/");for(let g=0;g<v.length&&g<T.length;g++){const w=ot(v[g],T[g]);if(w!==0)return w}return ot(v.length,T.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,m){const v=ot(sn(c.latitude),sn(m.latitude));return v!==0?v:ot(sn(c.longitude),sn(m.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Mv(s.arrayValue,e.arrayValue);case 10:return(function(c,m){const v=c.fields||{},T=m.fields||{},g=v[rf]?.arrayValue,w=T[rf]?.arrayValue,C=ot(g?.values?.length||0,w?.values?.length||0);return C!==0?C:Mv(g,w)})(s.mapValue,e.mapValue);case 11:return(function(c,m){if(c===zc.mapValue&&m===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(m===zc.mapValue)return-1;const v=c.fields||{},T=Object.keys(v),g=m.fields||{},w=Object.keys(g);T.sort(),w.sort();for(let C=0;C<T.length&&C<w.length;++C){const D=gm(T[C],w[C]);if(D!==0)return D;const J=cl(v[T[C]],g[w[C]]);if(J!==0)return J}return ot(T.length,w.length)})(s.mapValue,e.mapValue);default:throw qe(23264,{he:i})}}function Lv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ot(s,e);const i=lr(s),a=lr(e),l=ot(i.seconds,a.seconds);return l!==0?l:ot(i.nanos,a.nanos)}function Mv(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=cl(i[l],a[l]);if(c)return c}return ot(i.length,a.length)}function fl(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=lr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ur(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Le.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=_m(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const m of a)c?c=!1:l+=",",l+=`${m}:${_m(i.fields[m])}`;return l+"}"})(s.mapValue):qe(61005,{value:s})}function Qc(s){switch(cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Zr(a.fields,((c,m)=>{l+=c.length+Qc(m)})),l})(s.mapValue);default:throw qe(13486,{value:s})}}function jv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ym(s){return!!s&&"integerValue"in s}function Qm(s){return!!s&&"arrayValue"in s}function Vv(s){return!!s&&"nullValue"in s}function Uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function I2(s){return(s?.mapValue?.fields||{})[I0]?.stringValue===D0}function gu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Zr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=gu(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=gu(s.arrayValue.values[i]);return e}return{...s}}function D2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===x2}class Ji{constructor(e){this.value=e}static empty(){return new Ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(i)}setAll(e){let i=jn.emptyPath(),a={},l=[];e.forEach(((m,v)=>{if(!i.isImmediateParentOf(v)){const T=this.getFieldsMap(i);this.applyChanges(T,a,l),a={},l=[],i=v.popLast()}m?a[v.lastSegment()]=gu(m):l.push(v.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return js(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Zr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Ji(gu(this.value))}}function O0(s){const e=[];return Zr(s.fields,((i,a)=>{const l=new jn([i]);if(Kc(a)){const c=O0(a.mapValue).fields;if(c.length===0)e.push(l);else for(const m of c)e.push(l.child(m))}else e.push(l)})),new fs(e)}class Yn{constructor(e,i,a,l,c,m,v){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=m,this.documentState=v}static newInvalidDocument(e){return new Yn(e,0,Fe.min(),Fe.min(),Fe.min(),Ji.empty(),0)}static newFoundDocument(e,i,a,l){return new Yn(e,1,i,Fe.min(),a,l,0)}static newNoDocument(e,i){return new Yn(e,2,i,Fe.min(),Fe.min(),Ji.empty(),0)}static newUnknownDocument(e,i){return new Yn(e,3,i,Fe.min(),Fe.min(),Ji.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(e,i){this.position=e,this.inclusive=i}}function Bv(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],m=s.position[l];if(c.field.isKeyField()?a=Le.comparator(Le.fromName(m.referenceValue),i.key):a=cl(m,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function qv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!js(s.position[i],e.position[i]))return!1;return!0}class lf{constructor(e,i="asc"){this.field=e,this.dir=i}}function O2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class k0{}class hn extends k0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new L2(e,i,a):i==="array-contains"?new V2(e,a):i==="in"?new U2(e,a):i==="not-in"?new B2(e,a):i==="array-contains-any"?new q2(e,a):new hn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new M2(e,a):new j2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(cl(i,this.value)):i!==null&&cr(this.value)===cr(i)&&this.matchesComparison(cl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends k0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ds(e,i)}matches(e){return L0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L0(s){return s.op==="and"}function M0(s){return k2(s)&&L0(s)}function k2(s){for(const e of s.filters)if(e instanceof ds)return!1;return!0}function vm(s){if(s instanceof hn)return s.field.canonicalString()+s.op.toString()+fl(s.value);if(M0(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function j0(s,e){return s instanceof hn?(function(a,l){return l instanceof hn&&a.op===l.op&&a.field.isEqual(l.field)&&js(a.value,l.value)})(s,e):s instanceof ds?(function(a,l){return l instanceof ds&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,m,v)=>c&&j0(m,l.filters[v])),!0):!1})(s,e):void qe(19439)}function V0(s){return s instanceof hn?(function(i){return`${i.field.canonicalString()} ${i.op} ${fl(i.value)}`})(s):s instanceof ds?(function(i){return i.op.toString()+" {"+i.getFilters().map(V0).join(" ,")+"}"})(s):"Filter"}class L2 extends hn{constructor(e,i,a){super(e,i,a),this.key=Le.fromName(a.referenceValue)}matches(e){const i=Le.comparator(e.key,this.key);return this.matchesComparison(i)}}class M2 extends hn{constructor(e,i){super(e,"in",i),this.keys=U0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class j2 extends hn{constructor(e,i){super(e,"not-in",i),this.keys=U0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function U0(s,e){return(e.arrayValue?.values||[]).map((i=>Le.fromName(i.referenceValue)))}class V2 extends hn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Qm(i)&&wu(i.arrayValue,this.value)}}class U2 extends hn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&wu(this.value.arrayValue,i)}}class B2 extends hn{constructor(e,i){super(e,"not-in",i)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wu(this.value.arrayValue,i)}}class q2 extends hn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>wu(this.value.arrayValue,a)))}}class z2{constructor(e,i=null,a=[],l=[],c=null,m=null,v=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=m,this.endAt=v,this.Te=null}}function zv(s,e=null,i=[],a=[],l=null,c=null,m=null){return new z2(s,e,i,a,l,c,m)}function Km(s){const e=Ye(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>vm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Rf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>fl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>fl(a))).join(",")),e.Te=i}return e.Te}function $m(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!O2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!j0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!qv(s.startAt,e.startAt)&&qv(s.endAt,e.endAt)}function Em(s){return Le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Du{constructor(e,i=null,a=[],l=[],c=null,m="F",v=null,T=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=m,this.startAt=v,this.endAt=T,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function P2(s,e,i,a,l,c,m,v){return new Du(s,e,i,a,l,c,m,v)}function B0(s){return new Du(s)}function Pv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function H2(s){return Le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function q0(s){return s.collectionGroup!==null}function _u(s){const e=Ye(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new _n(jn.comparator);return m.filters.forEach((T=>{T.getFlattenedFilters().forEach((g=>{g.isInequality()&&(v=v.add(g.field))}))})),v})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lf(c,a))})),i.has(jn.keyField().canonicalString())||e.Ie.push(new lf(jn.keyField(),a))}return e.Ie}function Os(s){const e=Ye(s);return e.Ee||(e.Ee=F2(e,_u(s))),e.Ee}function F2(s,e){if(s.limitType==="F")return zv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lf(l.field,c)}));const i=s.endAt?new of(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new of(s.startAt.position,s.startAt.inclusive):null;return zv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Tm(s,e){const i=s.filters.concat([e]);return new Du(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function bm(s,e,i){return new Du(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Cf(s,e){return $m(Os(s),Os(e))&&s.limitType===e.limitType}function z0(s){return`${Km(Os(s))}|lt:${s.limitType}`}function Zo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>V0(l))).join(", ")}]`),Rf(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>fl(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>fl(l))).join(",")),`Target(${a})`})(Os(s))}; limitType=${s.limitType})`}function xf(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Le.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of _u(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(m,v,T){const g=Bv(m,v,T);return m.inclusive?g<=0:g<0})(a.startAt,_u(a),l)||a.endAt&&!(function(m,v,T){const g=Bv(m,v,T);return m.inclusive?g>=0:g>0})(a.endAt,_u(a),l))})(s,e)}function G2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function P0(s){return(e,i)=>{let a=!1;for(const l of _u(s)){const c=X2(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function X2(s,e,i){const a=s.field.isKeyField()?Le.comparator(e.key,i.key):(function(c,m,v){const T=m.data.field(c),g=v.data.field(c);return T!==null&&g!==null?cl(T,g):qe(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return qe(19790,{direction:s.dir})}}class Jr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return w0(this.inner)}size(){return this.innerSize}}const Y2=new Qt(Le.comparator);function ya(){return Y2}const H0=new Qt(Le.comparator);function du(...s){let e=H0;for(const i of s)e=e.insert(i.key,i);return e}function F0(s){let e=H0;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Gr(){return yu()}function G0(){return yu()}function yu(){return new Jr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Q2=new Qt(Le.comparator),K2=new _n(Le.comparator);function lt(...s){let e=K2;for(const i of s)e=e.add(i);return e}const $2=new _n(ot);function W2(){return $2}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function X0(s){return{integerValue:""+s}}function Z2(s,e){return S2(e)?X0(e):Wm(s,e)}class If{constructor(){this._=void 0}}function J2(s,e,i){return s instanceof uf?(function(l,c){const m={fields:{[N0]:{stringValue:R0},[x0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ym(c)&&(c=Nf(c)),c&&(m.fields[C0]=c),{mapValue:m}})(i,e):s instanceof Au?Q0(s,e):s instanceof Ru?K0(s,e):(function(l,c){const m=Y0(l,c),v=Hv(m)+Hv(l.Ae);return ym(m)&&ym(l.Ae)?X0(v):Wm(l.serializer,v)})(s,e)}function eR(s,e,i){return s instanceof Au?Q0(s,e):s instanceof Ru?K0(s,e):i}function Y0(s,e){return s instanceof cf?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class uf extends If{}class Au extends If{constructor(e){super(),this.elements=e}}function Q0(s,e){const i=$0(e);for(const a of s.elements)i.some((l=>js(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ru extends If{constructor(e){super(),this.elements=e}}function K0(s,e){let i=$0(e);for(const a of s.elements)i=i.filter((l=>!js(l,a)));return{arrayValue:{values:i}}}class cf extends If{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Hv(s){return sn(s.integerValue||s.doubleValue)}function $0(s){return Qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function tR(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Au&&l instanceof Au||a instanceof Ru&&l instanceof Ru?ll(a.elements,l.elements,js):a instanceof cf&&l instanceof cf?js(a.Ae,l.Ae):a instanceof uf&&l instanceof uf})(s.transform,e.transform)}class nR{constructor(e,i){this.version=e,this.transformResults=i}}class ks{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Df{}function W0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Zm(s.key,ks.none()):new Ou(s.key,s.data,ks.none());{const i=s.data,a=Ji.empty();let l=new _n(jn.comparator);for(let c of e.fields)if(!l.has(c)){let m=i.field(c);m===null&&c.length>1&&(c=c.popLast(),m=i.field(c)),m===null?a.delete(c):a.set(c,m),l=l.add(c)}return new eo(s.key,a,new fs(l.toArray()),ks.none())}}function iR(s,e,i){s instanceof Ou?(function(l,c,m){const v=l.value.clone(),T=Gv(l.fieldTransforms,c,m.transformResults);v.setAll(T),c.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(s,e,i):s instanceof eo?(function(l,c,m){if(!$c(l.precondition,c))return void c.convertToUnknownDocument(m.version);const v=Gv(l.fieldTransforms,c,m.transformResults),T=c.data;T.setAll(Z0(l)),T.setAll(v),c.convertToFoundDocument(m.version,T).setHasCommittedMutations()})(s,e,i):(function(l,c,m){c.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,i)}function vu(s,e,i,a){return s instanceof Ou?(function(c,m,v,T){if(!$c(c.precondition,m))return v;const g=c.value.clone(),w=Xv(c.fieldTransforms,T,m);return g.setAll(w),m.convertToFoundDocument(m.version,g).setHasLocalMutations(),null})(s,e,i,a):s instanceof eo?(function(c,m,v,T){if(!$c(c.precondition,m))return v;const g=Xv(c.fieldTransforms,T,m),w=m.data;return w.setAll(Z0(c)),w.setAll(g),m.convertToFoundDocument(m.version,w).setHasLocalMutations(),v===null?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((C=>C.field)))})(s,e,i,a):(function(c,m,v){return $c(c.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v})(s,e,i)}function sR(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=Y0(a.transform,l||null);c!=null&&(i===null&&(i=Ji.empty()),i.set(a.field,c))}return i||null}function Fv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ll(a,l,((c,m)=>tR(c,m)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ou extends Df{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class eo extends Df{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Gv(s,e,i){const a=new Map;St(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],m=c.transform,v=e.data.field(c.field);a.set(c.field,eR(m,v,i[l]))}return a}function Xv(s,e,i){const a=new Map;for(const l of s){const c=l.transform,m=i.data.field(l.field);a.set(l.field,J2(c,m,e))}return a}class Zm extends Df{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aR extends Df{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&iR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=vu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=vu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=G0();return this.mutations.forEach((l=>{const c=e.get(l.key),m=c.overlayedDocument;let v=this.applyToLocalView(m,c.mutatedFields);v=i.has(l.key)?null:v;const T=W0(m,v);T!==null&&a.set(l.key,T),m.isValidDocument()||m.convertToNoDocument(Fe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),lt())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((i,a)=>Fv(i,a)))&&ll(this.baseMutations,e.baseMutations,((i,a)=>Fv(i,a)))}}class Jm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){St(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Q2})();const c=e.mutations;for(let m=0;m<c.length;m++)l=l.insert(c[m].key,a[m].version);return new Jm(e,i,a,l)}}class oR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lR{constructor(e,i){this.count=e,this.unchangedNames=i}}var fn,ht;function uR(s){switch(s){case ce.OK:return qe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return qe(15467,{code:s})}}function J0(s){if(s===void 0)return _a("GRPC error has no .code"),ce.UNKNOWN;switch(s){case fn.OK:return ce.OK;case fn.CANCELLED:return ce.CANCELLED;case fn.UNKNOWN:return ce.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ce.INTERNAL;case fn.UNAVAILABLE:return ce.UNAVAILABLE;case fn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case fn.NOT_FOUND:return ce.NOT_FOUND;case fn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case fn.ABORTED:return ce.ABORTED;case fn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case fn.DATA_LOSS:return ce.DATA_LOSS;default:return qe(39323,{code:s})}}(ht=fn||(fn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function cR(){return new TextEncoder}const fR=new ir([4294967295,4294967295],0);function Yv(s){const e=cR().encode(s),i=new d0;return i.update(e),new Uint8Array(i.digest())}function Qv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ir([i,a],0),new ir([l,c],0)]}class ep{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new mu(`Invalid padding: ${i}`);if(a<0)throw new mu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new mu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ir.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(ir.fromNumber(a)));return l.compare(fR)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Yv(e),[a,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const m=this.ye(a,l,c);if(!this.we(m))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),m=new ep(c,l,i);return a.forEach((v=>m.insert(v))),m}insert(e){if(this.ge===0)return;const i=Yv(e),[a,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const m=this.ye(a,l,c);this.be(m)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Of{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Of(Fe.min(),l,new Qt(ot),ya(),lt())}}class ku{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ku(a,i,lt(),lt(),lt())}}class Wc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class eT{constructor(e,i){this.targetId=e,this.Ce=i}}class tT{constructor(e,i,a=Vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Kv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),i=lt(),a=lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:qe(38017,{changeType:c})}})),new ku(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=$v()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class hR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ya(),this.He=Pc(),this.Je=Pc(),this.Ze=new Qt(ot)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(a===0){const m=new Le(c.path);this.et(i,m,Yn.newNoDocument(m,Fe.min()))}else St(a===1,20013,{expectedCount:a});else{const m=this._t(i);if(m!==a){const v=this.ut(e),T=v?this.ct(v,e,m):1;if(T!==0){this.it(i);const g=T===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let m,v;try{m=ur(a).toUint8Array()}catch(T){if(T instanceof A0)return ol("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw T}try{v=new ep(m,l,c)}catch(T){return ol(T instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",T),null}return v.ge===0?null:v}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const m=this.Ge.ht(),v=`projects/${m.projectId}/databases/${m.database}/documents/${c.path.canonicalString()}`;e.mightContain(v)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,m)=>{const v=this.ot(m);if(v){if(c.current&&Em(v.target)){const T=new Le(v.target.path);this.It(T).has(m)||this.Et(m,T)||this.et(m,T,Yn.newNoDocument(T,e))}c.Be&&(i.set(m,c.ke()),c.Ke())}}));let a=lt();this.Je.forEach(((c,m)=>{let v=!0;m.forEachWhile((T=>{const g=this.ot(T);return!g||g.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(a=a.add(c))})),this.je.forEach(((c,m)=>m.setReadTime(e)));const l=new Of(e,i,this.Ze,this.je,a);return this.je=ya(),this.He=Pc(),this.Je=Pc(),this.Ze=new Qt(ot),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Kv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new _n(ot),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new _n(ot),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||be("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new Qt(Le.comparator)}function $v(){return new Qt(Le.comparator)}const dR={asc:"ASCENDING",desc:"DESCENDING"},mR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pR={and:"AND",or:"OR"};class gR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(s,e){return s.useProto3Json||Rf(e)?e:{value:e}}function ff(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function _R(s,e){return ff(s,e.toTimestamp())}function Ls(s){return St(!!s,49232),Fe.fromTimestamp((function(i){const a=lr(i);return new qt(a.seconds,a.nanos)})(s))}function tp(s,e){return wm(s,e).canonicalString()}function wm(s,e){const i=(function(l){return new jt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function iT(s){const e=jt.fromString(s);return St(lT(e),10190,{key:e.toString()}),e}function Am(s,e){return tp(s.databaseId,e.path)}function $d(s,e){const i=iT(e);if(i.get(1)!==s.databaseId.projectId)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Le(aT(i))}function sT(s,e){return tp(s.databaseId,e)}function yR(s){const e=iT(s);return e.length===4?jt.emptyPath():aT(e)}function Rm(s){return new jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function aT(s){return St(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Wv(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function vR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:qe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(g,w){return g.useProto3Json?(St(w===void 0||typeof w=="string",58123),Vn.fromBase64String(w||"")):(St(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Vn.fromUint8Array(w||new Uint8Array))})(s,e.targetChange.resumeToken),m=e.targetChange.cause,v=m&&(function(g){const w=g.code===void 0?ce.UNKNOWN:J0(g.code);return new Se(w,g.message||"")})(m);i=new tT(a,l,c,v||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=$d(s,a.document.name),c=Ls(a.document.updateTime),m=a.document.createTime?Ls(a.document.createTime):Fe.min(),v=new Ji({mapValue:{fields:a.document.fields}}),T=Yn.newFoundDocument(l,c,m,v),g=a.targetIds||[],w=a.removedTargetIds||[];i=new Wc(g,w,T.key,T)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=$d(s,a.document),c=a.readTime?Ls(a.readTime):Fe.min(),m=Yn.newNoDocument(l,c),v=a.removedTargetIds||[];i=new Wc([],v,m.key,m)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=$d(s,a.document),c=a.removedTargetIds||[];i=new Wc([],c,l,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,m=new lR(l,c),v=a.targetId;i=new eT(v,m)}}return i}function ER(s,e){let i;if(e instanceof Ou)i={update:Wv(s,e.key,e.value)};else if(e instanceof Zm)i={delete:Am(s,e.key)};else if(e instanceof eo)i={update:Wv(s,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof aR))return qe(16599,{dt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,m){const v=m.transform;if(v instanceof uf)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Au)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Ru)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof cf)return{fieldPath:m.field.canonicalString(),increment:v.Ae};throw qe(20930,{transform:m.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:_R(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:qe(27497)})(s,e.precondition)),i}function TR(s,e){return s&&s.length>0?(St(e!==void 0,14353),s.map((i=>(function(l,c){let m=l.updateTime?Ls(l.updateTime):Ls(c);return m.isEqual(Fe.min())&&(m=Ls(c)),new nR(m,l.transformResults||[])})(i,e)))):[]}function bR(s,e){return{documents:[sT(s,e.path)]}}function SR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sT(s,l);const c=(function(g){if(g.length!==0)return oT(ds.create(g,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const m=(function(g){if(g.length!==0)return g.map((w=>(function(D){return{field:Jo(D.field),direction:RR(D.dir)}})(w)))})(e.orderBy);m&&(i.structuredQuery.orderBy=m);const v=Sm(s,e.limit);return v!==null&&(i.structuredQuery.limit=v),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:l}}function wR(s){let e=yR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){St(a===1,65062);const w=i.from[0];w.allDescendants?l=w.collectionId:e=e.child(w.collectionId)}let c=[];i.where&&(c=(function(C){const D=rT(C);return D instanceof ds&&M0(D)?D.getFilters():[D]})(i.where));let m=[];i.orderBy&&(m=(function(C){return C.map((D=>(function(W){return new lf(el(W.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(i.orderBy));let v=null;i.limit&&(v=(function(C){let D;return D=typeof C=="object"?C.value:C,Rf(D)?null:D})(i.limit));let T=null;i.startAt&&(T=(function(C){const D=!!C.before,J=C.values||[];return new of(J,D)})(i.startAt));let g=null;return i.endAt&&(g=(function(C){const D=!C.before,J=C.values||[];return new of(J,D)})(i.endAt)),P2(e,l,m,c,v,"F",T,g)}function AR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=el(i.unaryFilter.field);return hn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=el(i.unaryFilter.field);return hn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=el(i.unaryFilter.field);return hn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=el(i.unaryFilter.field);return hn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(s):s.fieldFilter!==void 0?(function(i){return hn.create(el(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ds.create(i.compositeFilter.filters.map((a=>rT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(i.compositeFilter.op))})(s):qe(30097,{filter:s})}function RR(s){return dR[s]}function NR(s){return mR[s]}function CR(s){return pR[s]}function Jo(s){return{fieldPath:s.canonicalString()}}function el(s){return jn.fromServerFormat(s.fieldPath)}function oT(s){return s instanceof hn?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NAN"}};if(Vv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NOT_NAN"}};if(Vv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(i.field),op:NR(i.op),value:i.value}}})(s):s instanceof ds?(function(i){const a=i.getFilters().map((l=>oT(l)));return a.length===1?a[0]:{compositeFilter:{op:CR(i.op),filters:a}}})(s):qe(54877,{filter:s})}function xR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function uT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class er{constructor(e,i,a,l,c=Fe.min(),m=Fe.min(),v=Vn.EMPTY_BYTE_STRING,T=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=T}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class IR{constructor(e){this.yt=e}}function DR(s){const e=wR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(e,e.limit,"L"):e}class OR{constructor(){this.Sn=new kR}addToCollectionParentIndex(e,i){return this.Sn.add(i),fe.resolve()}getCollectionParents(e,i){return fe.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return fe.resolve()}deleteFieldIndex(e,i){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,i){return fe.resolve()}getDocumentsMatchingTarget(e,i){return fe.resolve(null)}getIndexType(e,i){return fe.resolve(0)}getFieldIndexes(e,i){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,i){return fe.resolve(or.min())}getMinOffsetFromCollectionGroup(e,i){return fe.resolve(or.min())}updateCollectionGroup(e,i,a){return fe.resolve()}updateIndexEntries(e,i){return fe.resolve()}}class kR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new _n(jt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new _n(jt.comparator)).toArray()}}const Zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class yi{static withCacheSize(e){return new yi(e,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(cT,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);class hl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new hl(0)}static ar(){return new hl(-1)}}const Jv="LruGarbageCollector",LR=1048576;function eE([s,e],[i,a]){const l=ot(s,i);return l===0?ot(e,a):l}class MR{constructor(e){this.Pr=e,this.buffer=new _n(eE),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();eE(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){be(Jv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vl(i)?be(Jv,"Ignoring IndexedDB error during garbage collection: ",i):await yl(i)}await this.Ar(3e5)}))}}class VR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return fe.resolve(Af.ce);const a=new MR(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Zv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,m,v,T,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,m=Date.now(),this.nthSequenceNumber(e,l)))).next((C=>(a=C,v=Date.now(),this.removeTargets(e,a,i)))).next((C=>(c=C,T=Date.now(),this.removeOrphanedDocuments(e,a)))).next((C=>(g=Date.now(),Wo()<=dt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-w}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${c} targets in `+(T-v)+`ms
	Removed ${C} documents in `+(g-T)+`ms
Total Duration: ${g-w}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C}))))}}function UR(s,e){return new VR(s,e)}class BR{constructor(){this.changes=new Jr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?fe.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class zR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&vu(a.mutation,l,fs.empty(),qt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,lt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=lt()){const l=Gr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let m=du();return c.forEach(((v,T)=>{m=m.insert(v,T.overlayedDocument)})),m}))))}getOverlayedDocuments(e,i){const a=Gr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,lt())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((m,v)=>{i.set(m,v)}))}))}computeViews(e,i,a,l){let c=ya();const m=yu(),v=(function(){return yu()})();return i.forEach(((T,g)=>{const w=a.get(g.key);l.has(g.key)&&(w===void 0||w.mutation instanceof eo)?c=c.insert(g.key,g):w!==void 0?(m.set(g.key,w.mutation.getFieldMask()),vu(w.mutation,g,w.mutation.getFieldMask(),qt.now())):m.set(g.key,fs.empty())})),this.recalculateAndSaveOverlays(e,c).next((T=>(T.forEach(((g,w)=>m.set(g,w))),i.forEach(((g,w)=>v.set(g,new qR(w,m.get(g)??null)))),v)))}recalculateAndSaveOverlays(e,i){const a=yu();let l=new Qt(((m,v)=>m-v)),c=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((m=>{for(const v of m)v.keys().forEach((T=>{const g=i.get(T);if(g===null)return;let w=a.get(T)||fs.empty();w=v.applyToLocalView(g,w),a.set(T,w);const C=(l.get(v.batchId)||lt()).add(T);l=l.insert(v.batchId,C)}))})).next((()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const T=v.getNext(),g=T.key,w=T.value,C=G0();w.forEach((D=>{if(!c.has(D)){const J=W0(i.get(D),a.get(D));J!==null&&C.set(D,J),c=c.add(D)}})),m.push(this.documentOverlayCache.saveOverlays(e,g,C))}return fe.waitFor(m)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return H2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):q0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const m=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):fe.resolve(Gr());let v=Tu,T=c;return m.next((g=>fe.forEach(g,((w,C)=>(v<C.largestBatchId&&(v=C.largestBatchId),c.get(w)?fe.resolve():this.remoteDocumentCache.getEntry(e,w).next((D=>{T=T.insert(w,D)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,T,g,lt()))).next((w=>({batchId:v,changes:F0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Le(i)).next((a=>{let l=du();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let m=du();return this.indexManager.getCollectionParents(e,c).next((v=>fe.forEach(v,(T=>{const g=(function(C,D){return new Du(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,T.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,a,l).next((w=>{w.forEach(((C,D)=>{m=m.insert(C,D)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((m=>{c.forEach(((T,g)=>{const w=g.getKey();m.get(w)===null&&(m=m.insert(w,Yn.newInvalidDocument(w)))}));let v=du();return m.forEach(((T,g)=>{const w=c.get(T);w!==void 0&&vu(w.mutation,g,fs.empty(),qt.now()),xf(i,g)&&(v=v.insert(T,g))})),v}))}}class PR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return fe.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ls(l.createTime)}})(i)),fe.resolve()}getNamedQuery(e,i){return fe.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:DR(l.bundledQuery),readTime:Ls(l.readTime)}})(i)),fe.resolve()}}class HR{constructor(){this.overlays=new Qt(Le.comparator),this.Lr=new Map}getOverlay(e,i){return fe.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Gr();return fe.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),fe.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),fe.resolve()}getOverlaysForCollection(e,i,a){const l=Gr(),c=i.length+1,m=new Le(i.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const T=v.getNext().value,g=T.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&T.largestBatchId>a&&l.set(T.getKey(),T)}return fe.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Qt(((g,w)=>g-w));const m=this.overlays.getIterator();for(;m.hasNext();){const g=m.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>a){let w=c.get(g.largestBatchId);w===null&&(w=Gr(),c=c.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const v=Gr(),T=c.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach(((g,w)=>v.set(g,w))),!(v.size()>=l)););return fe.resolve(v)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const m=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new oR(i,a));let c=this.Lr.get(i);c===void 0&&(c=lt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class FR{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,fe.resolve()}}class np{constructor(){this.kr=new _n(wn.Kr),this.qr=new _n(wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new wn(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new wn(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new Le(new jt([])),a=new wn(i,e),l=new wn(i,e+1),c=[];return this.qr.forEachInRange([a,l],(m=>{this.Wr(m),c.push(m.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Le(new jt([])),a=new wn(i,e),l=new wn(i,e+1);let c=lt();return this.qr.forEachInRange([a,l],(m=>{c=c.add(m.key)})),c}containsKey(e){const i=new wn(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class wn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Le.comparator(e.key,i.key)||ot(e.Hr,i.Hr)}static Ur(e,i){return ot(e.Hr,i.Hr)||Le.comparator(e.key,i.key)}}class GR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new _n(wn.Kr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new rR(c,i,a,l);this.mutationQueue.push(m);for(const v of l)this.Jr=this.Jr.add(new wn(v.key,c)),this.indexManager.addToCollectionParentIndex(e,v.key.path.popLast());return fe.resolve(m)}lookupMutationBatch(e,i){return fe.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return fe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Xm:this.Yn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new wn(i,0),l=new wn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(m=>{const v=this.Zr(m.Hr);c.push(v)})),fe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new _n(ot);return i.forEach((l=>{const c=new wn(l,0),m=new wn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,m],(v=>{a=a.add(v.Hr)}))})),fe.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Le.isDocumentKey(c)||(c=c.child(""));const m=new wn(new Le(c),0);let v=new _n(ot);return this.Jr.forEachWhile((T=>{const g=T.key.path;return!!a.isPrefixOf(g)&&(g.length===l&&(v=v.add(T.Hr)),!0)}),m),fe.resolve(this.Yr(v))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){St(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return fe.forEach(i.mutations,(l=>{const c=new wn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new wn(i,0),l=this.Jr.firstAfterOrEqual(a);return fe.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class XR{constructor(e){this.ti=e,this.docs=(function(){return new Qt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,m=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:m}),this.size+=m-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return fe.resolve(a?a.document.mutableCopy():Yn.newInvalidDocument(i))}getEntries(e,i){let a=ya();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Yn.newInvalidDocument(l))})),fe.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=ya();const m=i.path,v=new Le(m.child("__id-9223372036854775808__")),T=this.docs.getIteratorFrom(v);for(;T.hasNext();){const{key:g,value:{document:w}}=T.getNext();if(!m.isPrefixOf(g.path))break;g.path.length>m.length+1||v2(y2(w),a)<=0||(l.has(w.key)||xf(i,w))&&(c=c.insert(w.key,w.mutableCopy()))}return fe.resolve(c)}getAllFromCollectionGroup(e,i,a,l){qe(9500)}ni(e,i){return fe.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new YR(this)}getSize(e){return fe.resolve(this.size)}}class YR extends BR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),fe.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class QR{constructor(e){this.persistence=e,this.ri=new Jr((i=>Km(i)),$m),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new np,this.targetCount=0,this.oi=hl._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),fe.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new hl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,fe.resolve()}updateTargetData(e,i){return this.lr(i),fe.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((m,v)=>{v.sequenceNumber<=i&&a.get(v.targetId)===null&&(this.ri.delete(m),c.push(this.removeMatchingKeysForTargetId(e,v.targetId)),l++)})),fe.waitFor(c).next((()=>l))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return fe.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),fe.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((m=>{c.push(l.markPotentiallyOrphaned(e,m))})),fe.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),fe.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return fe.resolve(a)}containsKey(e,i){return fe.resolve(this.si.containsKey(i))}}class fT{constructor(e,i){this._i={},this.overlays={},this.ai=new Af(0),this.ui=!1,this.ui=!0,this.ci=new FR,this.referenceDelegate=e(this),this.li=new QR(this),this.indexManager=new OR,this.remoteDocumentCache=(function(l){return new XR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new IR(i),this.Pi=new PR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new HR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new GR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){be("MemoryPersistence","Starting transaction:",e);const l=new KR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return fe.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class KR extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Ri=new np,this.Ai=null}static Vi(e){return new ip(e)}get di(){if(this.Ai)return this.Ai;throw qe(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),fe.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),fe.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),fe.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,(a=>{const l=Le.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Fe.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return fe.or([()=>fe.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class hf{constructor(e,i){this.persistence=e,this.fi=new Jr((a=>w2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=UR(this,i)}static Vi(e,i){return new hf(e,i)}Ti(){}Ii(e){return fe.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return fe.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?fe.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(m=>this.wr(e,m,i).next((v=>{v||(a++,c.removeEntry(m,Fe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),fe.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),fe.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),fe.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}wr(e,i,a){return fe.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return fe.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=lt(),l=lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new sp(e,i.fromCache,a,l)}}class $R{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Hw()?8:b2(zw())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((m=>{c.result=m})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((m=>{c.result=m}))})).next((()=>{if(c.result)return;const m=new $R;return this.ys(e,i,m).next((v=>{if(c.result=v,this.As)return this.ws(e,i,m,v.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Wo()<=dt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Zo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(Wo()<=dt.DEBUG&&be("QueryEngine","Query:",Zo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Wo()<=dt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Zo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Os(i))):fe.resolve())}gs(e,i){if(Pv(i))return fe.resolve(null);let a=Os(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=bm(i,null,"F"),a=Os(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const m=lt(...c);return this.fs.getDocuments(e,m).next((v=>this.indexManager.getMinOffset(e,a).next((T=>{const g=this.bs(i,v);return this.Ss(i,g,m,T.readTime)?this.gs(e,bm(i,null,"F")):this.Ds(e,g,i,T)}))))})))))}ps(e,i,a,l){return Pv(i)||l.isEqual(Fe.min())?fe.resolve(null):this.fs.getDocuments(e,a).next((c=>{const m=this.bs(i,c);return this.Ss(i,m,a,l)?fe.resolve(null):(Wo()<=dt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Zo(i)),this.Ds(e,m,i,_2(l,Tu)).next((v=>v)))}))}bs(e,i){let a=new _n(P0(e));return i.forEach(((l,c)=>{xf(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return Wo()<=dt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Zo(i)),this.fs.getDocumentsMatchingQuery(e,i,or.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((m=>{c=c.insert(m.key,m)})),c)))}}const ap="LocalStore",ZR=3e8;class JR{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new Qt(ot),this.Fs=new Jr((c=>Km(c)),$m),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function eN(s,e,i,a){return new JR(s,e,i,a)}async function hT(s,e){const i=Ye(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const m=[],v=[];let T=lt();for(const g of l){m.push(g.batchId);for(const w of g.mutations)T=T.add(w.key)}for(const g of c){v.push(g.batchId);for(const w of g.mutations)T=T.add(w.key)}return i.localDocuments.getDocuments(a,T).next((g=>({Ns:g,removedBatchIds:m,addedBatchIds:v})))}))}))}function tN(s,e){const i=Ye(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(v,T,g,w){const C=g.batch,D=C.keys();let J=fe.resolve();return D.forEach((W=>{J=J.next((()=>w.getEntry(T,W))).next((ne=>{const z=g.docVersions.get(W);St(z!==null,48541),ne.version.compareTo(z)<0&&(C.applyToRemoteDocument(ne,g),ne.isValidDocument()&&(ne.setReadTime(g.commitVersion),w.addEntry(ne)))}))})),J.next((()=>v.mutationQueue.removeMutationBatch(T,C)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(v){let T=lt();for(let g=0;g<v.mutationResults.length;++g)v.mutationResults[g].transformResults.length>0&&(T=T.add(v.batch.mutations[g].key));return T})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function dT(s){const e=Ye(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function nN(s,e){const i=Ye(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const m=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const v=[];e.targetChanges.forEach(((w,C)=>{const D=l.get(C);if(!D)return;v.push(i.li.removeMatchingKeys(c,w.removedDocuments,C).next((()=>i.li.addMatchingKeys(c,w.addedDocuments,C))));let J=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?J=J.withResumeToken(Vn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):w.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(w.resumeToken,a)),l=l.insert(C,J),(function(ne,z,ee){return ne.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=ZR?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(D,J,w)&&v.push(i.li.updateTargetData(c,J))}));let T=ya(),g=lt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&v.push(i.persistence.referenceDelegate.updateLimboDocument(c,w))})),v.push(iN(c,m,e.documentUpdates).next((w=>{T=w.Bs,g=w.Ls}))),!a.isEqual(Fe.min())){const w=i.li.getLastRemoteSnapshotVersion(c).next((C=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));v.push(w)}return fe.waitFor(v).next((()=>m.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,T,g))).next((()=>T))})).then((c=>(i.vs=l,c)))}function iN(s,e,i){let a=lt(),l=lt();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let m=ya();return i.forEach(((v,T)=>{const g=c.get(v);T.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(v)),T.isNoDocument()&&T.version.isEqual(Fe.min())?(e.removeEntry(v,T.readTime),m=m.insert(v,T)):!g.isValidDocument()||T.version.compareTo(g.version)>0||T.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(T),m=m.insert(v,T)):be(ap,"Ignoring outdated watch update for ",v,". Current version:",g.version," Watch version:",T.version)})),{Bs:m,Ls:l}}))}function sN(s,e){const i=Ye(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function aN(s,e){const i=Ye(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,fe.resolve(l)):i.li.allocateTargetId(a).next((m=>(l=new er(e,m,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Nm(s,e,i){const a=Ye(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(m=>a.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!vl(m))throw m;be(ap,`Failed to update sequence numbers for target ${e}: ${m}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function tE(s,e,i){const a=Ye(s);let l=Fe.min(),c=lt();return a.persistence.runTransaction("Execute query","readwrite",(m=>(function(T,g,w){const C=Ye(T),D=C.Fs.get(w);return D!==void 0?fe.resolve(C.vs.get(D)):C.li.getTargetData(g,w)})(a,m,Os(e)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(m,v.targetId).next((T=>{c=T}))})).next((()=>a.Cs.getDocumentsMatchingQuery(m,e,i?l:Fe.min(),i?c:lt()))).next((v=>(rN(a,G2(e),v),{documents:v,ks:c})))))}function rN(s,e,i){let a=s.Ms.get(e)||Fe.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class nE{constructor(){this.activeTargetIds=W2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oN{constructor(){this.vo=new nE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nE,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lN{Mo(e){}shutdown(){}}const iE="ConnectivityMonitor";class sE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){be(iE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){be(iE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Cm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const Wd="RestConnection",uN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class cN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===af?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const m=Cm(),v=this.Qo(e,i.toUriEncodedString());be(Wd,`Sending RPC '${e}' ${m}:`,v,a);const T={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(T,l,c);const{host:g}=new URL(v),w=Pm(g);return this.zo(e,v,T,a,w).then((C=>(be(Wd,`Received RPC '${e}' ${m}: `,C),C)),(C=>{throw ol(Wd,`RPC '${e}' ${m} failed with error: `,C,"url: ",v,"request:",a),C}))}jo(e,i,a,l,c,m){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=uN[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class fN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Gn="WebChannelConnection",uu=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class nl extends cN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!nl.c_){const e=_0();uu(e,g0.STAT_EVENT,(i=>{i.stat===pm.PROXY?be(Gn,"STAT_EVENT: detected buffering proxy"):i.stat===pm.NOPROXY&&be(Gn,"STAT_EVENT: detected no buffering proxy")})),nl.c_=!0}}zo(e,i,a,l,c){const m=Cm();return new Promise(((v,T)=>{const g=new m0;g.setWithCredentials(!0),g.listenOnce(p0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Yc.NO_ERROR:const C=g.getResponseJson();be(Gn,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(C)),v(C);break;case Yc.TIMEOUT:be(Gn,`RPC '${e}' ${m} timed out`),T(new Se(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const D=g.getStatus();if(be(Gn,`RPC '${e}' ${m} failed with status:`,D,"response text:",g.getResponseText()),D>0){let J=g.getResponseJson();Array.isArray(J)&&(J=J[0]);const W=J?.error;if(W&&W.status&&W.message){const ne=(function(ee){const he=ee.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(he)>=0?he:ce.UNKNOWN})(W.status);T(new Se(ne,W.message))}else T(new Se(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else T(new Se(ce.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:m,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{be(Gn,`RPC '${e}' ${m} completed.`)}}));const w=JSON.stringify(l);be(Gn,`RPC '${e}' ${m} sending request:`,l),g.send(i,"POST",w,a,15)}))}T_(e,i,a){const l=Cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=this.createWebChannelTransport(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(v.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Go(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const g=c.join("");be(Gn,`Creating RPC '${e}' stream ${l}: ${g}`,v);const w=m.createWebChannel(g,v);this.I_(w);let C=!1,D=!1;const J=new fN({Ho:W=>{D?be(Gn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(C||(be(Gn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),C=!0),be(Gn,`RPC '${e}' stream ${l} sending:`,W),w.send(W))},Jo:()=>w.close()});return uu(w,hu.EventType.OPEN,(()=>{D||(be(Gn,`RPC '${e}' stream ${l} transport opened.`),J.i_())})),uu(w,hu.EventType.CLOSE,(()=>{D||(D=!0,be(Gn,`RPC '${e}' stream ${l} transport closed`),J.o_(),this.E_(w))})),uu(w,hu.EventType.ERROR,(W=>{D||(D=!0,ol(Gn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.o_(new Se(ce.UNAVAILABLE,"The operation could not be completed")))})),uu(w,hu.EventType.MESSAGE,(W=>{if(!D){const ne=W.data[0];St(!!ne,16349);const z=ne,ee=z?.error||z[0]?.error;if(ee){be(Gn,`RPC '${e}' stream ${l} received error:`,ee);const he=ee.status;let me=(function(De){const O=fn[De];if(O!==void 0)return J0(O)})(he),de=ee.message;me===void 0&&(me=ce.INTERNAL,de="Unknown error status: "+he+" with message "+ee.message),D=!0,J.o_(new Se(me,de)),w.close()}else be(Gn,`RPC '${e}' stream ${l} received:`,ne),J.__(ne)}})),nl.u_(),setTimeout((()=>{J.s_()}),0),J}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return y0()}}function hN(s){return new nl(s)}function Zd(){return typeof document<"u"?document:null}function kf(s){return new gR(s,!0)}nl.c_=!1;class mT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&be("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const aE="PersistentStream";class pT{constructor(e,i,a,l,c,m,v,T){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=T,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ce.RESOURCE_EXHAUSTED?(_a(i.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new Se(ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(aE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(be(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dN extends pT{constructor(e,i,a,l,c,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,m),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=vR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Fe.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?Fe.min():m.readTime?Ls(m.readTime):Fe.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Rm(this.serializer),i.addTarget=(function(c,m){let v;const T=m.target;if(v=Em(T)?{documents:bR(c,T)}:{query:SR(c,T).ft},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=nT(c,m.resumeToken);const g=Sm(c,m.expectedCount);g!==null&&(v.expectedCount=g)}else if(m.snapshotVersion.compareTo(Fe.min())>0){v.readTime=ff(c,m.snapshotVersion.toTimestamp());const g=Sm(c,m.expectedCount);g!==null&&(v.expectedCount=g)}return v})(this.serializer,e);const a=AR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Rm(this.serializer),i.removeTarget=e,this.K_(i)}}class mN extends pT{constructor(e,i,a,l,c,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,m),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=TR(e.writeResults,e.commitTime),a=Ls(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Rm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>ER(this.serializer,a)))};this.K_(i)}}class pN{}class gN extends pN{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Wo(e,wm(i,a),l,c,m))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ce.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,v])=>this.connection.jo(e,wm(i,a),l,m,v,c))).catch((m=>{throw m.name==="FirebaseError"?(m.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Se(ce.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function _N(s,e,i,a){return new gN(s,e,i,a)}class yN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_a(i),this.aa=!1):be("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class vN{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((m=>{a.enqueueAndForget((async()=>{to(this)&&(be(Qr,"Restarting streams for network reachability change."),await(async function(T){const g=Ye(T);g.Ea.add(4),await Lu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Va=new yN(a,l)}}async function Lf(s){if(to(s))for(const e of s.Ra)await e(!0)}async function Lu(s){for(const e of s.Ra)await e(!1)}function gT(s,e){const i=Ye(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),up(i)?lp(i):El(i).O_()&&op(i,e))}function rp(s,e){const i=Ye(s),a=El(i);i.Ia.delete(e),a.O_()&&_T(i,e),i.Ia.size===0&&(a.O_()?a.L_():to(i)&&i.Va.set("Unknown"))}function op(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}El(s).Z_(e)}function _T(s,e){s.da.$e(e),El(s).X_(e)}function lp(s){s.da=new hR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),El(s).start(),s.Va.ua()}function up(s){return to(s)&&!El(s).x_()&&s.Ia.size>0}function to(s){return Ye(s).Ea.size===0}function yT(s){s.da=void 0}async function EN(s){s.Va.set("Online")}async function TN(s){s.Ia.forEach(((e,i)=>{op(s,e)}))}async function bN(s,e){yT(s),up(s)?(s.Va.ha(e),lp(s)):s.Va.set("Unknown")}async function SN(s,e,i){if(s.Va.set("Online"),e instanceof tT&&e.state===2&&e.cause)try{await(async function(l,c){const m=c.cause;for(const v of c.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ia.delete(v),l.da.removeTarget(v))})(s,e)}catch(a){be(Qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await df(s,a)}else if(e instanceof Wc?s.da.Xe(e):e instanceof eT?s.da.st(e):s.da.tt(e),!i.isEqual(Fe.min()))try{const a=await dT(s.localStore);i.compareTo(a)>=0&&await(function(c,m){const v=c.da.Tt(m);return v.targetChanges.forEach(((T,g)=>{if(T.resumeToken.approximateByteSize()>0){const w=c.Ia.get(g);w&&c.Ia.set(g,w.withResumeToken(T.resumeToken,m))}})),v.targetMismatches.forEach(((T,g)=>{const w=c.Ia.get(T);if(!w)return;c.Ia.set(T,w.withResumeToken(Vn.EMPTY_BYTE_STRING,w.snapshotVersion)),_T(c,T);const C=new er(w.target,T,g,w.sequenceNumber);op(c,C)})),c.remoteSyncer.applyRemoteEvent(v)})(s,i)}catch(a){be(Qr,"Failed to raise snapshot:",a),await df(s,a)}}async function df(s,e,i){if(!vl(e))throw e;s.Ea.add(1),await Lu(s),s.Va.set("Offline"),i||(i=()=>dT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{be(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Lf(s)}))}function vT(s,e){return e().catch((i=>df(s,i,e)))}async function Mf(s){const e=Ye(s),i=fr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xm;for(;wN(e);)try{const l=await sN(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,AN(e,l)}catch(l){await df(e,l)}ET(e)&&TT(e)}function wN(s){return to(s)&&s.Ta.length<10}function AN(s,e){s.Ta.push(e);const i=fr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function ET(s){return to(s)&&!fr(s).x_()&&s.Ta.length>0}function TT(s){fr(s).start()}async function RN(s){fr(s).ra()}async function NN(s){const e=fr(s);for(const i of s.Ta)e.ea(i.mutations)}async function CN(s,e,i){const a=s.Ta.shift(),l=Jm.from(a,e,i);await vT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Mf(s)}async function xN(s,e){e&&fr(s).Y_&&await(async function(a,l){if((function(m){return uR(m)&&m!==ce.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await vT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mf(a)}})(s,e),ET(s)&&TT(s)}async function rE(s,e){const i=Ye(s);i.asyncQueue.verifyOperationInProgress(),be(Qr,"RemoteStore received new credentials");const a=to(i);i.Ea.add(3),await Lu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lf(i)}async function IN(s,e){const i=Ye(s);e?(i.Ea.delete(2),await Lf(i)):e||(i.Ea.add(2),await Lu(i),i.Va.set("Unknown"))}function El(s){return s.ma||(s.ma=(function(i,a,l){const c=Ye(i);return c.sa(),new dN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:EN.bind(null,s),Yo:TN.bind(null,s),t_:bN.bind(null,s),J_:SN.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),up(s)?lp(s):s.Va.set("Unknown")):(await s.ma.stop(),yT(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(i,a,l){const c=Ye(i);return c.sa(),new mN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:RN.bind(null,s),t_:xN.bind(null,s),ta:NN.bind(null,s),na:CN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Mf(s)):(await s.fa.stop(),s.Ta.length>0&&(be(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const m=Date.now()+a,v=new cp(e,i,m,l,c);return v.start(a),v}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,e){if(_a("AsyncQueue",`${e}: ${s}`),vl(s))return new Se(ce.UNAVAILABLE,`${e}: ${s}`);throw s}class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Le.comparator(i.key,a.key):(i,a)=>Le.comparator(i.key,a.key),this.keyedMap=du(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new il;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class oE{constructor(){this.ga=new Qt(Le.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):qe(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class dl{constructor(e,i,a,l,c,m,v,T,g){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=T,this.hasCachedResults=g}static fromInitialDocuments(e,i,a,l,c){const m=[];return i.forEach((v=>{m.push({type:0,doc:v})})),new dl(e,i,il.emptySet(i),m,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class DN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ON{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ye(i),c=l.queries;l.queries=lE(),c.forEach(((m,v)=>{for(const T of v.ba)T.onError(a)}))})(this,new Se(ce.ABORTED,"Firestore shutting down"))}}function lE(){return new Jr((s=>z0(s)),Cf)}async function kN(s,e){const i=Ye(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new DN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(m){const v=fp(m,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(v)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&hp(i)}async function LN(s,e){const i=Ye(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const m=c.ba.indexOf(e);m>=0&&(c.ba.splice(m,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function MN(s,e){const i=Ye(s);let a=!1;for(const l of e){const c=l.query,m=i.queries.get(c);if(m){for(const v of m.ba)v.Fa(l)&&(a=!0);m.wa=l}}a&&hp(i)}function jN(s,e,i){const a=Ye(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function hp(s){s.Ca.forEach((e=>{e.next()}))}var xm,uE;(uE=xm||(xm={})).Ma="default",uE.Cache="cache";class VN{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new dl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}class bT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class UN{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.eu=P0(e),this.tu=new il(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new oE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,m=l,v=!1;const T=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((w,C)=>{const D=l.get(w),J=xf(this.query,C)?C:null,W=!!D&&this.mutatedKeys.has(D.key),ne=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let z=!1;D&&J?D.data.isEqual(J.data)?W!==ne&&(a.track({type:3,doc:J}),z=!0):this.su(D,J)||(a.track({type:2,doc:J}),z=!0,(T&&this.eu(J,T)>0||g&&this.eu(J,g)<0)&&(v=!0)):!D&&J?(a.track({type:0,doc:J}),z=!0):D&&!J&&(a.track({type:1,doc:D}),z=!0,(T||g)&&(v=!0)),z&&(J?(m=m.add(J),c=ne?c.add(w):c.delete(w)):(m=m.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const w=this.query.limitType==="F"?m.last():m.first();m=m.delete(w.key),c=c.delete(w.key),a.track({type:1,doc:w})}return{tu:m,iu:a,Ss:v,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((w,C)=>(function(J,W){const ne=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:z})}};return ne(J)-ne(W)})(w.type,C.type)||this.eu(w.doc,C.doc))),this.ou(a),l=l??!1;const v=i&&!l?this._u():[],T=this.Ya.size===0&&this.current&&!l?1:0,g=T!==this.Xa;return this.Xa=T,m.length!==0||g?{snapshot:new dl(this.query,e.tu,c,m,e.mutatedKeys,T===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new ST(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new bT(a))})),i}cu(e){this.Za=e.ks,this.Ya=lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const dp="SyncEngine";class BN{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class qN{constructor(e){this.key=e,this.hu=!1}}class zN{constructor(e,i,a,l,c,m){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Jr((v=>z0(v)),Cf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qt(Le.comparator),this.Au=new Map,this.Vu=new np,this.du={},this.mu=new Map,this.fu=hl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PN(s,e,i=!0){const a=xT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(a,e,i,!0),l}async function HN(s,e){const i=xT(s);await wT(i,e,!0,!1)}async function wT(s,e,i,a){const l=await aN(s.localStore,Os(e)),c=l.targetId,m=s.sharedClientState.addLocalQueryTarget(c,i);let v;return a&&(v=await FN(s,e,c,m==="current",l.resumeToken)),s.isPrimaryClient&&i&&gT(s.remoteStore,l),v}async function FN(s,e,i,a,l){s.pu=(C,D,J)=>(async function(ne,z,ee,he){let me=z.view.ru(ee);me.Ss&&(me=await tE(ne.localStore,z.query,!1).then((({documents:O})=>z.view.ru(O,me))));const de=he&&he.targetChanges.get(z.targetId),Re=he&&he.targetMismatches.get(z.targetId)!=null,De=z.view.applyChanges(me,ne.isPrimaryClient,de,Re);return fE(ne,z.targetId,De.au),De.snapshot})(s,C,D,J);const c=await tE(s.localStore,e,!0),m=new UN(e,c.ks),v=m.ru(c.documents),T=ku.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),g=m.applyChanges(v,s.isPrimaryClient,T);fE(s,i,g.au);const w=new BN(e,i,m);return s.Tu.set(e,w),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),g.snapshot}async function GN(s,e,i){const a=Ye(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((m=>!Cf(m,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&rp(a.remoteStore,l.targetId),Im(a,l.targetId)})).catch(yl)):(Im(a,l.targetId),await Nm(a.localStore,l.targetId,!0))}async function XN(s,e){const i=Ye(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rp(i.remoteStore,a.targetId))}async function YN(s,e,i){const a=eC(s);try{const l=await(function(m,v){const T=Ye(m),g=qt.now(),w=v.reduce(((J,W)=>J.add(W.key)),lt());let C,D;return T.persistence.runTransaction("Locally write mutations","readwrite",(J=>{let W=ya(),ne=lt();return T.xs.getEntries(J,w).next((z=>{W=z,W.forEach(((ee,he)=>{he.isValidDocument()||(ne=ne.add(ee))}))})).next((()=>T.localDocuments.getOverlayedDocuments(J,W))).next((z=>{C=z;const ee=[];for(const he of v){const me=sR(he,C.get(he.key).overlayedDocument);me!=null&&ee.push(new eo(he.key,me,O0(me.value.mapValue),ks.exists(!0)))}return T.mutationQueue.addMutationBatch(J,g,ee,v)})).next((z=>{D=z;const ee=z.applyToLocalDocumentSet(C,ne);return T.documentOverlayCache.saveOverlays(J,z.batchId,ee)}))})).then((()=>({batchId:D.batchId,changes:F0(C)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(m,v,T){let g=m.du[m.currentUser.toKey()];g||(g=new Qt(ot)),g=g.insert(v,T),m.du[m.currentUser.toKey()]=g})(a,l.batchId,i),await Mu(a,l.changes),await Mf(a.remoteStore)}catch(l){const c=fp(l,"Failed to persist write");i.reject(c)}}async function AT(s,e){const i=Ye(s);try{const a=await nN(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const m=i.Au.get(c);m&&(St(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?St(m.hu,14607):l.removedDocuments.size>0&&(St(m.hu,42227),m.hu=!1))})),await Mu(i,a,e)}catch(a){await yl(a)}}function cE(s,e,i){const a=Ye(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,m)=>{const v=m.view.va(e);v.snapshot&&l.push(v.snapshot)})),(function(m,v){const T=Ye(m);T.onlineState=v;let g=!1;T.queries.forEach(((w,C)=>{for(const D of C.ba)D.va(v)&&(g=!0)})),g&&hp(T)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function QN(s,e,i){const a=Ye(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let m=new Qt(Le.comparator);m=m.insert(c,Yn.newNoDocument(c,Fe.min()));const v=lt().add(c),T=new Of(Fe.min(),new Map,new Qt(ot),m,v);await AT(a,T),a.Ru=a.Ru.remove(c),a.Au.delete(e),mp(a)}else await Nm(a.localStore,e,!1).then((()=>Im(a,e,i))).catch(yl)}async function KN(s,e){const i=Ye(s),a=e.batch.batchId;try{const l=await tN(i.localStore,e);NT(i,a,null),RT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Mu(i,l)}catch(l){await yl(l)}}async function $N(s,e,i){const a=Ye(s);try{const l=await(function(m,v){const T=Ye(m);return T.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let w;return T.mutationQueue.lookupMutationBatch(g,v).next((C=>(St(C!==null,37113),w=C.keys(),T.mutationQueue.removeMutationBatch(g,C)))).next((()=>T.mutationQueue.performConsistencyCheck(g))).next((()=>T.documentOverlayCache.removeOverlaysForBatchId(g,w,v))).next((()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w))).next((()=>T.localDocuments.getDocuments(g,w)))}))})(a.localStore,e);NT(a,e,i),RT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Mu(a,l)}catch(l){await yl(l)}}function RT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function NT(s,e,i){const a=Ye(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||CT(s,a)}))}function CT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(rp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),mp(s))}function fE(s,e,i){for(const a of i)a instanceof bT?(s.Vu.addReference(a.key,e),WN(s,a)):a instanceof ST?(be(dp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||CT(s,a.key)):qe(19791,{wu:a})}function WN(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(be(dp,"New document in limbo: "+i),s.Eu.add(a),mp(s))}function mp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Le(jt.fromString(e)),a=s.fu.next();s.Au.set(a,new qN(i)),s.Ru=s.Ru.insert(i,a),gT(s.remoteStore,new er(Os(B0(i.path)),a,"TargetPurposeLimboResolution",Af.ce))}}async function Mu(s,e,i){const a=Ye(s),l=[],c=[],m=[];a.Tu.isEmpty()||(a.Tu.forEach(((v,T)=>{m.push(a.pu(T,e,i).then((g=>{if((g||i)&&a.isPrimaryClient){const w=g?!g.fromCache:i?.targetChanges.get(T.targetId)?.current;a.sharedClientState.updateQueryState(T.targetId,w?"current":"not-current")}if(g){l.push(g);const w=sp.Es(T.targetId,g);c.push(w)}})))})),await Promise.all(m),a.Pu.J_(l),await(async function(T,g){const w=Ye(T);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>fe.forEach(g,(D=>fe.forEach(D.Ts,(J=>w.persistence.referenceDelegate.addReference(C,D.targetId,J))).next((()=>fe.forEach(D.Is,(J=>w.persistence.referenceDelegate.removeReference(C,D.targetId,J)))))))))}catch(C){if(!vl(C))throw C;be(ap,"Failed to update sequence numbers: "+C)}for(const C of g){const D=C.targetId;if(!C.fromCache){const J=w.vs.get(D),W=J.snapshotVersion,ne=J.withLastLimboFreeSnapshotVersion(W);w.vs=w.vs.insert(D,ne)}}})(a.localStore,c))}async function ZN(s,e){const i=Ye(s);if(!i.currentUser.isEqual(e)){be(dp,"User change. New user:",e.toKey());const a=await hT(i.localStore,e);i.currentUser=e,(function(c,m){c.mu.forEach((v=>{v.forEach((T=>{T.reject(new Se(ce.CANCELLED,m))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Mu(i,a.Ns)}}function JN(s,e){const i=Ye(s),a=i.Au.get(e);if(a&&a.hu)return lt().add(a.key);{let l=lt();const c=i.Iu.get(e);if(!c)return l;for(const m of c){const v=i.Tu.get(m);l=l.unionWith(v.view.nu)}return l}}function xT(s){const e=Ye(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QN.bind(null,e),e.Pu.J_=MN.bind(null,e.eventManager),e.Pu.yu=jN.bind(null,e.eventManager),e}function eC(s){const e=Ye(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$N.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return eN(this.persistence,new WR,e.initialUser,this.serializer)}Cu(e){return new fT(ip.Vi,this.serializer)}Du(e){return new oN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class tC extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){St(this.persistence.referenceDelegate instanceof hf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new fT((a=>hf.Vi(a,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZN.bind(null,this.syncEngine),await IN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ON})()}createDatastore(e){const i=kf(e.databaseInfo.databaseId),a=hN(e.databaseInfo);return _N(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,m,v){return new vN(a,l,c,m,v)})(this.localStore,this.datastore,e.asyncQueue,(i=>cE(this.syncEngine,i,0)),(function(){return sE.v()?new sE:new lN})())}createSyncEngine(e,i){return(function(l,c,m,v,T,g,w){const C=new zN(l,c,m,v,T,g);return w&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ye(i);be(Qr,"RemoteStore shutting down."),a.Ea.add(5),await Lu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class nC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_a("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const hr="FirestoreClient";class iC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Xn.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async m=>{be(hr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(a,(m=>(be(hr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),be(hr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await hT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function hE(s,e){s.asyncQueue.verifyOperationInProgress();const i=await sC(s);be(hr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>rE(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>rE(e.remoteStore,l))),s._onlineComponents=e}async function sC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){be(hr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ce.FAILED_PRECONDITION||l.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ol("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new mf)}}else be(hr,"Using default OfflineComponentProvider"),await Jd(s,new tC(void 0));return s._offlineComponents}async function IT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(be(hr,"Using user provided OnlineComponentProvider"),await hE(s,s._uninitializedComponentsProvider._online)):(be(hr,"Using default OnlineComponentProvider"),await hE(s,new Dm))),s._onlineComponents}function aC(s){return IT(s).then((e=>e.syncEngine))}async function rC(s){const e=await IT(s),i=e.eventManager;return i.onListen=PN.bind(null,e.syncEngine),i.onUnlisten=GN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=HN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=XN.bind(null,e.syncEngine),i}function oC(s,e,i={}){const a=new sr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,m,v,T,g){const w=new nC({next:D=>{w.Nu(),m.enqueueAndForget((()=>LN(c,C))),D.fromCache&&T.source==="server"?g.reject(new Se(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(D)},error:D=>g.reject(D)}),C=new VN(v,w,{includeMetadataChanges:!0,Ka:!0});return kN(c,C)})(await rC(s),s.asyncQueue,e,i,a))),a.promise}function lC(s,e){const i=new sr;return s.asyncQueue.enqueueAndForget((async()=>YN(await aC(s),e,i))),i.promise}function DT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const uC="ComponentProvider",dE=new Map;function cC(s,e,i,a,l){return new N2(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,DT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const OT="firestore.googleapis.com",mE=!0;class pE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=mE}else this.host=e.host,this.ssl=e.ssl??mE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LR)throw new Se(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new r2;switch(a.type){case"firstParty":return new c2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Se(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=dE.get(i);a&&(be(uC,"Removing Datastore"),dE.delete(i),a.terminate())})(this),Promise.resolve()}}function fC(s,e,i,a={}){s=ul(s,jf);const l=Pm(e),c=s._getSettings(),m={...c,emulatorOptions:s._getEmulatorOptions()},v=`${e}:${i}`;l&&(jw(`https://${v}`),qw("Firestore",!0)),c.host!==OT&&c.host!==v&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T={...c,host:v,ssl:l,emulatorOptions:a};if(!tf(T,m)&&(s._setSettings(T),a.mockUserToken)){let g,w;if(typeof a.mockUserToken=="string")g=a.mockUserToken,w=Xn.MOCK_USER;else{g=Vw(a.mockUserToken,s._app?.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new Se(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Xn(C)}s._authCredentials=new o2(new E0(g,w))}}class Tl{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Tl(this.firestore,e,this._query)}}class gn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}toJSON(){return{type:gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Iu(i,gn._jsonSchema))return new gn(e,a||null,new Le(jt.fromString(i.referencePath)))}}gn._jsonSchemaVersion="firestore/documentReference/1.0",gn._jsonSchema={type:dn("string",gn._jsonSchemaVersion),referencePath:dn("string")};class ar extends Tl{constructor(e,i,a){super(e,i,B0(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Le(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function hC(s,e,...i){if(s=ma(s),T0("collection","path",e),s instanceof jf){const a=jt.fromString(e,...i);return Cv(a),new ar(s,null,a)}{if(!(s instanceof gn||s instanceof ar))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(jt.fromString(e,...i));return Cv(a),new ar(s.firestore,null,a)}}function no(s,e,...i){if(s=ma(s),arguments.length===1&&(e=Gm.newId()),T0("doc","path",e),s instanceof jf){const a=jt.fromString(e,...i);return Nv(a),new gn(s,null,new Le(a))}{if(!(s instanceof gn||s instanceof ar))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(jt.fromString(e,...i));return Nv(a),new gn(s.firestore,s instanceof ar?s.converter:null,new Le(a))}}const gE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const a=Zd();a&&be(gE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;be(gE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,_a("INTERNAL UNHANDLED ERROR: ",yE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=cp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&qe(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function yE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Vf extends jf{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new _E,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function dC(s,e){const i=typeof s=="object"?s:c0(),a=typeof s=="string"?s:af,l=Sf(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Lw("firestore");c&&fC(l,...c)}return l}function kT(s){if(s._terminated)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mC(s),s._firestoreClient}function mC(s){const e=s._freezeSettings(),i=cC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new iC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(Vn.fromBase64String(e))}catch(i){throw new Se(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new es(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:dn("string",es._jsonSchemaVersion),bytes:dn("string")};class LT{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Se(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class MT{constructor(e){this._methodName=e}}class Ms{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Se(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Se(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ms._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Ms._jsonSchema))return new Ms(e.latitude,e.longitude)}}Ms._jsonSchemaVersion="firestore/geoPoint/1.0",Ms._jsonSchema={type:dn("string",Ms._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class hs{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new hs(e.vectorValues);throw new Se(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hs._jsonSchemaVersion="firestore/vectorValue/1.0",hs._jsonSchema={type:dn("string",hs._jsonSchemaVersion),vectorValues:dn("object")};const pC=/^__.*__$/;class gC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ou(e,this.data,i,this.fieldTransforms)}}function jT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{dataSource:s})}}class pp{constructor(e,i,a,l,c,m){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=m||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new pp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jT(this.dataSource)&&pC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class _C{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||kf(e)}createContext(e,i,a,l=!1){return new pp({dataSource:e,methodName:i,targetDoc:a,path:jn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VT(s){const e=s._freezeSettings(),i=kf(s._databaseId);return new _C(s._databaseId,!!e.ignoreUndefinedProperties,i)}function yC(s,e,i,a,l,c={}){const m=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);qT("Data must be an object, but it was:",m,a);const v=UT(a,m);let T,g;if(c.merge)T=new fs(m.fieldMask),g=m.fieldTransforms;else if(c.mergeFields){const w=[];for(const C of c.mergeFields){const D=Uf(e,C,i);if(!m.contains(D))throw new Se(ce.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);bC(w,D)||w.push(D)}T=new fs(w),g=m.fieldTransforms.filter((C=>T.covers(C.field)))}else T=null,g=m.fieldTransforms;return new gC(new Ji(v),T,g)}function vC(s,e,i,a=!1){return gp(i,s.createContext(a?4:3,e))}function gp(s,e){if(BT(s=ma(s)))return qT("Unsupported field value:",e,s),UT(s,e);if(s instanceof MT)return(function(a,l){if(!jT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let m=0;for(const v of a){let T=gp(v,l.childContextForArray(m));T==null&&(T={nullValue:"NULL_VALUE"}),c.push(T),m++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=ma(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Z2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=qt.fromDate(a);return{timestampValue:ff(l.serializer,c)}}if(a instanceof qt){const c=new qt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ff(l.serializer,c)}}if(a instanceof Ms)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof es)return{bytesValue:nT(l.serializer,a._byteString)};if(a instanceof gn){const c=l.databaseId,m=a.firestore._databaseId;if(!m.isEqual(c))throw l.createError(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof hs)return(function(m,v){const T=m instanceof hs?m.toArray():m;return{mapValue:{fields:{[I0]:{stringValue:D0},[rf]:{arrayValue:{values:T.map((w=>{if(typeof w!="number")throw v.createError("VectorValues must only contain numeric values.");return Wm(v.serializer,w)}))}}}}}})(a,l);if(uT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${wf(a)}`)})(s,e)}function UT(s,e){const i={};return w0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(s,((a,l)=>{const c=gp(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function BT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof qt||s instanceof Ms||s instanceof es||s instanceof gn||s instanceof MT||s instanceof hs||uT(s))}function qT(s,e,i){if(!BT(i)||!b0(i)){const a=wf(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Uf(s,e,i){if((e=ma(e))instanceof LT)return e._internalPath;if(typeof e=="string")return TC(s,e);throw pf("Field path arguments must be of type string or ",s,!1,void 0,i)}const EC=new RegExp("[~\\*/\\[\\]]");function TC(s,e,i){if(e.search(EC)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new LT(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function pf(s,e,i,a,l){const c=a&&!a.isEmpty(),m=l!==void 0;let v=`Function ${e}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let T="";return(c||m)&&(T+=" (found",c&&(T+=` in field ${a}`),m&&(T+=` in document ${l}`),T+=")"),new Se(ce.INVALID_ARGUMENT,v+s+T)}function bC(s,e){return s.some((i=>i.isEqual(e)))}class SC{convertValue(e,i="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Zr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[rf].arrayValue?.values?.map((a=>sn(a.doubleValue)));return new hs(i)}convertGeoPoint(e){return new Ms(sn(e.latitude),sn(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Nf(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const i=lr(e);return new qt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=jt.fromString(e);St(lT(a),9688,{name:e});const l=new Su(a.get(1),a.get(3)),c=new Le(a.popFirst(5));return l.isEqual(i)||_a(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class wC extends SC{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,i)}}const vE="@firebase/firestore",EE="4.10.0";class zT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Uf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AC extends zT{data(){return super.data()}}function RC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Se(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class NC extends _p{}function CC(s,e,...i){let a=[];e instanceof _p&&a.push(e),a=a.concat(i),(function(c){const m=c.filter((T=>T instanceof yp)).length,v=c.filter((T=>T instanceof Bf)).length;if(m>1||m>0&&v>0)throw new Se(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Bf extends NC{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Bf(e,i,a)}_apply(e){const i=this._parse(e);return PT(e._query,i),new Tl(e.firestore,e.converter,Tm(e._query,i))}_parse(e){const i=VT(e.firestore);return(function(c,m,v,T,g,w,C){let D;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){SE(C,w);const W=[];for(const ne of C)W.push(bE(T,c,ne));D={arrayValue:{values:W}}}else D=bE(T,c,C)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||SE(C,w),D=vC(v,m,C,w==="in"||w==="not-in");return hn.create(g,w,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function TE(s,e,i){const a=e,l=Uf("where",s);return Bf._create(l,a,i)}class yp extends _p{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new yp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ds.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let m=l;const v=c.getFlattenedFilters();for(const T of v)PT(m,T),m=Tm(m,T)})(e._query,i),new Tl(e.firestore,e.converter,Tm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bE(s,e,i){if(typeof(i=ma(i))=="string"){if(i==="")throw new Se(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q0(e)&&i.indexOf("/")!==-1)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(jt.fromString(i));if(!Le.isDocumentKey(a))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return jv(s,new Le(a))}if(i instanceof gn)return jv(s,i._key);throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(i)}.`)}function SE(s,e){if(!Array.isArray(s)||s.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PT(s,e){const i=(function(l,c){for(const m of l)for(const v of m.getFlattenedFilters())if(c.indexOf(v.op)>=0)return v.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function xC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Fc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sl extends zT{constructor(e,i,a,l,c,m){super(e,i,a,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Uf("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sl._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sl._jsonSchemaVersion="firestore/documentSnapshot/1.0",sl._jsonSchema={type:dn("string",sl._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Zc extends sl{data(e={}){return super.data(e)}}class al{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Fc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new Fc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Se(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((v=>{const T=new Zc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Fc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:T,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>c||v.type!==3)).map((v=>{const T=new Zc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Fc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,w=-1;return v.type!==0&&(g=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),w=m.indexOf(v.doc.key)),{type:IC(v.type),doc:T,oldIndex:g,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:s})}}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:dn("string",al._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};function DC(s){s=ul(s,Tl);const e=ul(s.firestore,Vf),i=kT(e),a=new wC(e);return RC(s._query),oC(i,s._query).then((l=>new al(e,a,s,l)))}function vp(s,e,i){s=ul(s,gn);const a=ul(s.firestore,Vf),l=xC(s.converter,e),c=VT(a);return HT(a,[yC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ks.none())])}function qf(s){return HT(ul(s.firestore,Vf),[new Zm(s._key,ks.none())])}function HT(s,e){const i=kT(s);return lC(i,e)}(function(e,i=!0){a2(XA),rr(new pa("firestore",((a,{instanceIdentifier:l,options:c})=>{const m=a.getProvider("app").getImmediate(),v=new Vf(new l2(a.getProvider("auth-internal")),new f2(m,a.getProvider("app-check-internal")),C2(m,l),m);return c={useFetchStreams:i,...c},v._setSettings(c),v}),"PUBLIC").setMultipleInstances(!0)),Ds(vE,EE,e),Ds(vE,EE,"esm2020")})();const FT="@firebase/installations",Ep="0.6.19";const GT=1e4,XT=`w:${Ep}`,YT="FIS_v2",OC="https://firebaseinstallations.googleapis.com/v1",kC=3600*1e3,LC="installations",MC="Installations";const jC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Kr=new Tf(LC,MC,jC);function QT(s){return s instanceof Wr&&s.code.includes("request-failed")}function KT({projectId:s}){return`${OC}/projects/${s}/installations`}function $T(s){return{token:s.token,requestStatus:2,expiresIn:UC(s.expiresIn),creationTime:Date.now()}}async function WT(s,e){const a=(await e.json()).error;return Kr.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function ZT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function VC(s,{refreshToken:e}){const i=ZT(s);return i.append("Authorization",BC(e)),i}async function JT(s){const e=await s();return e.status>=500&&e.status<600?s():e}function UC(s){return Number(s.replace("s","000"))}function BC(s){return`${YT} ${s}`}async function qC({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const a=KT(s),l=ZT(s),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={fid:i,authVersion:YT,appId:s.appId,sdkVersion:XT},v={method:"POST",headers:l,body:JSON.stringify(m)},T=await JT(()=>fetch(a,v));if(T.ok){const g=await T.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:$T(g.authToken)}}else throw await WT("Create Installation",T)}function eb(s){return new Promise(e=>{setTimeout(e,s)})}function zC(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const PC=/^[cdef][\w-]{21}$/,Om="";function HC(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=FC(s);return PC.test(i)?i:Om}catch{return Om}}function FC(s){return zC(s).substr(0,22)}function zf(s){return`${s.appName}!${s.appId}`}const tb=new Map;function nb(s,e){const i=zf(s);ib(i,e),GC(i,e)}function ib(s,e){const i=tb.get(s);if(i)for(const a of i)a(e)}function GC(s,e){const i=XC();i&&i.postMessage({key:s,fid:e}),YC()}let Xr=null;function XC(){return!Xr&&"BroadcastChannel"in self&&(Xr=new BroadcastChannel("[Firebase] FID Change"),Xr.onmessage=s=>{ib(s.data.key,s.data.fid)}),Xr}function YC(){tb.size===0&&Xr&&(Xr.close(),Xr=null)}const QC="firebase-installations-database",KC=1,$r="firebase-installations-store";let em=null;function Tp(){return em||(em=bf(QC,KC,{upgrade:(s,e)=>{e===0&&s.createObjectStore($r)}})),em}async function gf(s,e){const i=zf(s),l=(await Tp()).transaction($r,"readwrite"),c=l.objectStore($r),m=await c.get(i);return await c.put(e,i),await l.done,(!m||m.fid!==e.fid)&&nb(s,e.fid),e}async function sb(s){const e=zf(s),a=(await Tp()).transaction($r,"readwrite");await a.objectStore($r).delete(e),await a.done}async function Pf(s,e){const i=zf(s),l=(await Tp()).transaction($r,"readwrite"),c=l.objectStore($r),m=await c.get(i),v=e(m);return v===void 0?await c.delete(i):await c.put(v,i),await l.done,v&&(!m||m.fid!==v.fid)&&nb(s,v.fid),v}async function bp(s){let e;const i=await Pf(s.appConfig,a=>{const l=$C(a),c=WC(s,l);return e=c.registrationPromise,c.installationEntry});return i.fid===Om?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function $C(s){const e=s||{fid:HC(),registrationStatus:0};return ab(e)}function WC(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Kr.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=ZC(s,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JC(s)}:{installationEntry:e}}async function ZC(s,e){try{const i=await qC(s,e);return gf(s.appConfig,i)}catch(i){throw QT(i)&&i.customData.serverCode===409?await sb(s.appConfig):await gf(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function JC(s){let e=await wE(s.appConfig);for(;e.registrationStatus===1;)await eb(100),e=await wE(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await bp(s);return a||i}return e}function wE(s){return Pf(s,e=>{if(!e)throw Kr.create("installation-not-found");return ab(e)})}function ab(s){return ex(s)?{fid:s.fid,registrationStatus:0}:s}function ex(s){return s.registrationStatus===1&&s.registrationTime+GT<Date.now()}async function tx({appConfig:s,heartbeatServiceProvider:e},i){const a=nx(s,i),l=VC(s,i),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={installation:{sdkVersion:XT,appId:s.appId}},v={method:"POST",headers:l,body:JSON.stringify(m)},T=await JT(()=>fetch(a,v));if(T.ok){const g=await T.json();return $T(g)}else throw await WT("Generate Auth Token",T)}function nx(s,{fid:e}){return`${KT(s)}/${e}/authTokens:generate`}async function Sp(s,e=!1){let i;const a=await Pf(s.appConfig,c=>{if(!rb(c))throw Kr.create("not-registered");const m=c.authToken;if(!e&&ax(m))return c;if(m.requestStatus===1)return i=ix(s,e),c;{if(!navigator.onLine)throw Kr.create("app-offline");const v=ox(c);return i=sx(s,v),v}});return i?await i:a.authToken}async function ix(s,e){let i=await AE(s.appConfig);for(;i.authToken.requestStatus===1;)await eb(100),i=await AE(s.appConfig);const a=i.authToken;return a.requestStatus===0?Sp(s,e):a}function AE(s){return Pf(s,e=>{if(!rb(e))throw Kr.create("not-registered");const i=e.authToken;return lx(i)?{...e,authToken:{requestStatus:0}}:e})}async function sx(s,e){try{const i=await tx(s,e),a={...e,authToken:i};return await gf(s.appConfig,a),i}catch(i){if(QT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await sb(s.appConfig);else{const a={...e,authToken:{requestStatus:0}};await gf(s.appConfig,a)}throw i}}function rb(s){return s!==void 0&&s.registrationStatus===2}function ax(s){return s.requestStatus===2&&!rx(s)}function rx(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+kC}function ox(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function lx(s){return s.requestStatus===1&&s.requestTime+GT<Date.now()}async function ux(s){const e=s,{installationEntry:i,registrationPromise:a}=await bp(e);return a?a.catch(console.error):Sp(e).catch(console.error),i.fid}async function cx(s,e=!1){const i=s;return await fx(i),(await Sp(i,e)).token}async function fx(s){const{registrationPromise:e}=await bp(s);e&&await e}function hx(s){if(!s||!s.options)throw tm("App Configuration");if(!s.name)throw tm("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw tm(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function tm(s){return Kr.create("missing-app-config-values",{valueName:s})}const ob="installations",dx="installations-internal",mx=s=>{const e=s.getProvider("app").getImmediate(),i=hx(e),a=Sf(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},px=s=>{const e=s.getProvider("app").getImmediate(),i=Sf(e,ob).getImmediate();return{getId:()=>ux(i),getToken:l=>cx(i,l)}};function gx(){rr(new pa(ob,mx,"PUBLIC")),rr(new pa(dx,px,"PRIVATE"))}gx();Ds(FT,Ep);Ds(FT,Ep,"esm2020");const _x="/firebase-messaging-sw.js",yx="/firebase-cloud-messaging-push-scope",lb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vx="https://fcmregistrations.googleapis.com/v1",ub="google.c.a.c_id",Ex="google.c.a.c_l",Tx="google.c.a.ts",bx="google.c.a.e",RE=1e4;var NE;(function(s){s[s.DATA_MESSAGE=1]="DATA_MESSAGE",s[s.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(NE||(NE={}));var Nu;(function(s){s.PUSH_RECEIVED="push-received",s.NOTIFICATION_CLICKED="notification-clicked"})(Nu||(Nu={}));function ua(s){const e=new Uint8Array(s);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sx(s){const e="=".repeat((4-s.length%4)%4),i=(s+e).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(i),l=new Uint8Array(a.length);for(let c=0;c<a.length;++c)l[c]=a.charCodeAt(c);return l}const nm="fcm_token_details_db",wx=5,CE="fcm_token_object_Store";async function Ax(s){if("databases"in indexedDB&&!(await indexedDB.databases()).map(c=>c.name).includes(nm))return null;let e=null;return(await bf(nm,wx,{upgrade:async(a,l,c,m)=>{if(l<2||!a.objectStoreNames.contains(CE))return;const v=m.objectStore(CE),T=await v.index("fcmSenderId").get(s);if(await v.clear(),!!T){if(l===2){const g=T;if(!g.auth||!g.p256dh||!g.endpoint)return;e={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:ua(g.vapidKey)}}}else if(l===3){const g=T;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ua(g.auth),p256dh:ua(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ua(g.vapidKey)}}}else if(l===4){const g=T;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ua(g.auth),p256dh:ua(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ua(g.vapidKey)}}}}}})).close(),await Xd(nm),await Xd("fcm_vapid_details_db"),await Xd("undefined"),Rx(e)?e:null}function Rx(s){if(!s||!s.subscriptionOptions)return!1;const{subscriptionOptions:e}=s;return typeof s.createTime=="number"&&s.createTime>0&&typeof s.token=="string"&&s.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const Nx="firebase-messaging-database",Cx=1,Cu="firebase-messaging-store";let im=null;function cb(){return im||(im=bf(Nx,Cx,{upgrade:(s,e)=>{e===0&&s.createObjectStore(Cu)}})),im}async function xx(s){const e=fb(s),a=await(await cb()).transaction(Cu).objectStore(Cu).get(e);if(a)return a;{const l=await Ax(s.appConfig.senderId);if(l)return await wp(s,l),l}}async function wp(s,e){const i=fb(s),l=(await cb()).transaction(Cu,"readwrite");return await l.objectStore(Cu).put(e,i),await l.done,e}function fb({appConfig:s}){return s.appId}const Ix={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Qn=new Tf("messaging","Messaging",Ix);async function Dx(s,e){const i=await Rp(s),a=hb(e),l={method:"POST",headers:i,body:JSON.stringify(a)};let c;try{c=await(await fetch(Ap(s.appConfig),l)).json()}catch(m){throw Qn.create("token-subscribe-failed",{errorInfo:m?.toString()})}if(c.error){const m=c.error.message;throw Qn.create("token-subscribe-failed",{errorInfo:m})}if(!c.token)throw Qn.create("token-subscribe-no-token");return c.token}async function Ox(s,e){const i=await Rp(s),a=hb(e.subscriptionOptions),l={method:"PATCH",headers:i,body:JSON.stringify(a)};let c;try{c=await(await fetch(`${Ap(s.appConfig)}/${e.token}`,l)).json()}catch(m){throw Qn.create("token-update-failed",{errorInfo:m?.toString()})}if(c.error){const m=c.error.message;throw Qn.create("token-update-failed",{errorInfo:m})}if(!c.token)throw Qn.create("token-update-no-token");return c.token}async function kx(s,e){const a={method:"DELETE",headers:await Rp(s)};try{const c=await(await fetch(`${Ap(s.appConfig)}/${e}`,a)).json();if(c.error){const m=c.error.message;throw Qn.create("token-unsubscribe-failed",{errorInfo:m})}}catch(l){throw Qn.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function Ap({projectId:s}){return`${vx}/projects/${s}/registrations`}async function Rp({appConfig:s,installations:e}){const i=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function hb({p256dh:s,auth:e,endpoint:i,vapidKey:a}){const l={web:{endpoint:i,auth:e,p256dh:s}};return a!==lb&&(l.web.applicationPubKey=a),l}const Lx=10080*60*1e3;async function Mx(s){const e=await Vx(s.swRegistration,s.vapidKey),i={vapidKey:s.vapidKey,swScope:s.swRegistration.scope,endpoint:e.endpoint,auth:ua(e.getKey("auth")),p256dh:ua(e.getKey("p256dh"))},a=await xx(s.firebaseDependencies);if(a){if(Ux(a.subscriptionOptions,i))return Date.now()>=a.createTime+Lx?jx(s,{token:a.token,createTime:Date.now(),subscriptionOptions:i}):a.token;try{await kx(s.firebaseDependencies,a.token)}catch(l){console.warn(l)}return xE(s.firebaseDependencies,i)}else return xE(s.firebaseDependencies,i)}async function jx(s,e){try{const i=await Ox(s.firebaseDependencies,e),a={...e,token:i,createTime:Date.now()};return await wp(s.firebaseDependencies,a),i}catch(i){throw i}}async function xE(s,e){const a={token:await Dx(s,e),createTime:Date.now(),subscriptionOptions:e};return await wp(s,a),a.token}async function Vx(s,e){const i=await s.pushManager.getSubscription();return i||s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sx(e)})}function Ux(s,e){const i=e.vapidKey===s.vapidKey,a=e.endpoint===s.endpoint,l=e.auth===s.auth,c=e.p256dh===s.p256dh;return i&&a&&l&&c}function IE(s){const e={from:s.from,collapseKey:s.collapse_key,messageId:s.fcmMessageId};return Bx(e,s),qx(e,s),zx(e,s),e}function Bx(s,e){if(!e.notification)return;s.notification={};const i=e.notification.title;i&&(s.notification.title=i);const a=e.notification.body;a&&(s.notification.body=a);const l=e.notification.image;l&&(s.notification.image=l);const c=e.notification.icon;c&&(s.notification.icon=c)}function qx(s,e){e.data&&(s.data=e.data)}function zx(s,e){if(!e.fcmOptions&&!e.notification?.click_action)return;s.fcmOptions={};const i=e.fcmOptions?.link??e.notification?.click_action;i&&(s.fcmOptions.link=i);const a=e.fcmOptions?.analytics_label;a&&(s.fcmOptions.analyticsLabel=a)}function Px(s){return typeof s=="object"&&!!s&&ub in s}function Hx(s){if(!s||!s.options)throw sm("App Configuration Object");if(!s.name)throw sm("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=s;for(const a of e)if(!i[a])throw sm(a);return{appName:s.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function sm(s){return Qn.create("missing-app-config-values",{valueName:s})}class Fx{constructor(e,i,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=Hx(e);this.firebaseDependencies={app:e,appConfig:l,installations:i,analyticsProvider:a}}_delete(){return Promise.resolve()}}async function Gx(s){try{s.swRegistration=await navigator.serviceWorker.register(_x,{scope:yx}),s.swRegistration.update().catch(()=>{}),await Xx(s.swRegistration)}catch(e){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function Xx(s){return new Promise((e,i)=>{const a=setTimeout(()=>i(new Error(`Service worker not registered after ${RE} ms`)),RE),l=s.installing||s.waiting;s.active?(clearTimeout(a),e()):l?l.onstatechange=c=>{c.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(a),e())}:(clearTimeout(a),i(new Error("No incoming service worker found.")))})}async function Yx(s,e){if(!e&&!s.swRegistration&&await Gx(s),!(!e&&s.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");s.swRegistration=e}}async function Qx(s,e){e?s.vapidKey=e:s.vapidKey||(s.vapidKey=lb)}async function db(s,e){if(!navigator)throw Qn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Qn.create("permission-blocked");return await Qx(s,e?.vapidKey),await Yx(s,e?.serviceWorkerRegistration),Mx(s)}async function Kx(s,e,i){const a=$x(e);(await s.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:i[ub],message_name:i[Ex],message_time:i[Tx],message_device_time:Math.floor(Date.now()/1e3)})}function $x(s){switch(s){case Nu.NOTIFICATION_CLICKED:return"notification_open";case Nu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function Wx(s,e){const i=e.data;if(!i.isFirebaseMessaging)return;s.onMessageHandler&&i.messageType===Nu.PUSH_RECEIVED&&(typeof s.onMessageHandler=="function"?s.onMessageHandler(IE(i)):s.onMessageHandler.next(IE(i)));const a=i.data;Px(a)&&a[bx]==="1"&&await Kx(s,i.messageType,a)}const DE="@firebase/messaging",OE="0.12.23";const Zx=s=>{const e=new Fx(s.getProvider("app").getImmediate(),s.getProvider("installations-internal").getImmediate(),s.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>Wx(e,i)),e},Jx=s=>{const e=s.getProvider("messaging").getImmediate();return{getToken:a=>db(e,a)}};function eI(){rr(new pa("messaging",Zx,"PUBLIC")),rr(new pa("messaging-internal",Jx,"PRIVATE")),Ds(DE,OE),Ds(DE,OE,"esm2020")}async function mb(){try{await a0()}catch{return!1}return typeof window<"u"&&s0()&&Fw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function tI(s,e){if(!navigator)throw Qn.create("only-available-in-window");return s.onMessageHandler=e,()=>{s.onMessageHandler=null}}function nI(s=c0()){return mb().then(e=>{if(!e)throw Qn.create("unsupported-browser")},e=>{throw Qn.create("indexed-db-unsupported")}),Sf(ma(s),"messaging").getImmediate()}async function iI(s,e){return s=ma(s),db(s,e)}function sI(s,e){return s=ma(s),tI(s,e)}eI();const Jc={apiKey:"AIzaSyA3dJLU8Xw6vcqXtOhVbuI5aO_ImdT8upg",authDomain:"goal-game-7ad53.firebaseapp.com",projectId:"goal-game-7ad53",storageBucket:"goal-game-7ad53.firebasestorage.app",messagingSenderId:"86507800050",appId:"1:86507800050:web:f7674a55bc2291686f976b"},pb="BLD2XB0Bh-Y2EwwHU1YimB6-tzKQNrGh-bzoZHXbSWlvQt1mg6K5c7EJWfBIDrGY0cQJXO4LNrKD9MjlZhMsb3c";let am=null,rm=null,Gc=null;function Vs(){return!!(Jc.apiKey&&Jc.projectId&&Jc.messagingSenderId&&pb)}function gb(){if(!am){if(!Vs())throw new Error("Firebase is not configured. Please add your Firebase config to .env file.");am=u0(Jc)}return am}function io(){return rm||(rm=dC(gb())),rm}async function _b(){return Gc||(await mb()?(Gc=nI(gb()),Gc):(console.warn("Firebase Messaging is not supported in this browser"),null))}function va(){let s=localStorage.getItem("goal-game-device-id");return s||(s=crypto.randomUUID(),localStorage.setItem("goal-game-device-id",s)),s}const ml="scheduled_notifications",yb="fcm_tokens";async function aI(s,e,i,a,l,c){if(!Vs())return console.warn("Firebase not configured, skipping notification scheduling"),null;const m=io(),v=va(),T=new Date(`${i}T${a}`),g=new Date(T.getTime()-l*60*1e3);if(g<=new Date)return console.warn("Notification trigger time is in the past, skipping"),null;const w=`${v}_event_${s}`,C={id:w,eventId:s,eventTitle:e,eventDate:i,eventTime:a,triggerAt:g.toISOString(),fcmToken:c,deviceId:v,status:"pending",createdAt:new Date().toISOString(),notificationType:"event"};try{return await vp(no(m,ml,w),C),w}catch(D){return console.error("Failed to schedule notification:",D),null}}async function rI(s,e,i,a,l){if(!Vs())return console.warn("Firebase not configured, skipping notification scheduling"),null;const c=io(),m=va(),v=a.includes("Z")||a.includes("+")?a:a.replace(" ","T")+"Z",T=new Date(v);if(T<=new Date)return console.warn("Buff expiry time is in the past, skipping notification"),null;const g=`${m}_buff_${s}`,w={id:g,buffLogId:s,buffName:e,buffType:i,triggerAt:T.toISOString(),fcmToken:l,deviceId:m,status:"pending",createdAt:new Date().toISOString(),notificationType:"buff_expiry"};try{return await vp(no(c,ml,g),w),g}catch(C){return console.error("Failed to schedule buff expiry notification:",C),null}}async function oI(s){if(!Vs())return;const e=io(),a=`${va()}_buff_${s}`;try{await qf(no(e,ml,a))}catch(l){console.error("Failed to cancel buff expiry notification:",l)}}async function lI(s){if(!Vs())return;const e=io(),a=`${va()}_event_${s}`;try{await qf(no(e,ml,a))}catch(l){console.error("Failed to cancel notification:",l)}}async function uI(){if(!Vs())return;const s=io(),e=va();try{const i=CC(hC(s,ml),TE("deviceId","==",e),TE("status","==","pending")),l=(await DC(i)).docs.map(c=>qf(no(s,ml,c.id)));await Promise.all(l)}catch(i){console.error("Failed to cancel all notifications:",i)}}async function cI(s){if(!Vs())return;const e=io(),i=va();try{await vp(no(e,yb,i),{token:s,deviceId:i,updatedAt:new Date().toISOString(),platform:navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")?"ios":navigator.userAgent.includes("Android")?"android":"web"})}catch(a){console.error("Failed to save FCM token:",a)}}async function fI(){if(!Vs())return;const s=io(),e=va();try{await qf(no(s,yb,e))}catch(i){console.error("Failed to delete FCM token:",i)}}function hI(){return"Notification"in window?Notification.permission:"unsupported"}function Np(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}function Cp(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function xp(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function dI(){return Cp()&&!xp()?!1:Np()}async function mI(){if(!Vs())return{success:!1,token:null,error:"Firebase is not configured"};if(!Np())return{success:!1,token:null,error:"Notifications are not supported in this browser"};if(Cp()&&!xp())return{success:!1,token:null,error:"On iOS, you must add this app to your home screen first, then enable notifications"};try{if(await Notification.requestPermission()!=="granted")return{success:!1,token:null,error:"Notification permission was denied"};const e=await _b();if(!e)return{success:!1,token:null,error:"Failed to initialize Firebase Messaging"};const i=await navigator.serviceWorker.ready,a=await iI(e,{vapidKey:pb,serviceWorkerRegistration:i});return a?(await cI(a),{success:!0,token:a}):{success:!1,token:null,error:"Failed to get FCM token"}}catch(s){return console.error("Error requesting notification permission:",s),{success:!1,token:null,error:s instanceof Error?s.message:"Unknown error occurred"}}}async function pI(){try{await fI(),await uI()}catch(s){console.error("Error disabling notifications:",s)}}function gI(s){let e=null;return _b().then(i=>{i&&(e=sI(i,a=>{if(console.log("Foreground message received:",a),s(a),a.notification){const{title:l,body:c}=a.notification;l&&new Notification(l,{body:c||"",icon:"/goal-game/icons/icon-192.png",badge:"/goal-game/icons/icon-192.png",tag:a.data?.eventId||"goal-game-notification"})}}))}),()=>{e&&e()}}function vb(){const s=Ie(),e=va(),i=s.exec("SELECT enabled, default_reminder_minutes, fcm_token, device_id FROM notification_settings WHERE id = 1");if(i.length===0||i[0].values.length===0)return s.run("INSERT OR REPLACE INTO notification_settings (id, enabled, default_reminder_minutes, fcm_token, device_id) VALUES (1, 0, 15, NULL, ?)",[e]),{enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:e};const a=i[0].values[0];return{enabled:!!a[0],defaultReminderMinutes:a[1],fcmToken:a[2],deviceId:a[3]}}async function om(s){const e=Ie(),i=va(),l={...vb(),...s};e.run(`UPDATE notification_settings SET
      enabled = ?,
      default_reminder_minutes = ?,
      fcm_token = ?,
      device_id = ?,
      updated_at = datetime('now')
    WHERE id = 1`,[l.enabled?1:0,l.defaultReminderMinutes,l.fcmToken,i]),await et()}function Eb(){const[s,e]=se.useState({enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:""}),[i,a]=se.useState("default"),[l,c]=se.useState(!1),[m,v]=se.useState(null),T=Np(),g=Vs(),w=dI(),C=Cp(),D=xp();se.useEffect(()=>{try{const de=vb();e(de),a(hI())}catch(de){console.error("Failed to load notification settings:",de)}},[]),se.useEffect(()=>!s.enabled||!s.fcmToken?void 0:gI(Re=>{console.log("Notification received in foreground:",Re)}),[s.enabled,s.fcmToken]);const J=se.useCallback(async()=>{c(!0),v(null);try{const de=await mI();return de.success?(await om({enabled:!0,fcmToken:de.token}),e(Re=>({...Re,enabled:!0,fcmToken:de.token})),a("granted"),!0):(v(de.error||"Failed to enable notifications"),!1)}catch(de){const Re=de instanceof Error?de.message:"Unknown error";return v(Re),!1}finally{c(!1)}},[]),W=se.useCallback(async()=>{c(!0),v(null);try{await pI(),await om({enabled:!1,fcmToken:null}),e(de=>({...de,enabled:!1,fcmToken:null}))}catch(de){const Re=de instanceof Error?de.message:"Unknown error";v(Re)}finally{c(!1)}},[]),ne=se.useCallback(async de=>{await om({defaultReminderMinutes:de}),e(Re=>({...Re,defaultReminderMinutes:de}))},[]),z=se.useCallback(async(de,Re,De,O,I)=>{!s.enabled||!s.fcmToken||await aI(de,Re,De,O,I,s.fcmToken)},[s.enabled,s.fcmToken]),ee=se.useCallback(async de=>{await lI(de)},[]),he=se.useCallback(async(de,Re,De,O)=>{!s.enabled||!s.fcmToken||await rI(de,Re,De,O,s.fcmToken)},[s.enabled,s.fcmToken]),me=se.useCallback(async de=>{await oI(de)},[]);return{settings:s,permissionState:i,isSupported:T,isConfigured:g,canEnable:w,isIOS:C,isStandalone:D,loading:l,error:m,enableNotifications:J,disableNotificationsHandler:W,setDefaultReminderMinutes:ne,scheduleEventReminder:z,cancelEventReminder:ee,scheduleBuffExpiry:he,cancelBuffExpiry:me}}const _I=[{type:"activate_buffs",title:"Habit Builder",description:"Activate {target} buff(s) today",targetRange:[2,4],xpReward:25},{type:"complete_steps",title:"Step by Step",description:"Complete {target} quest step(s) today",targetRange:[3,7],xpReward:30},{type:"no_debuffs",title:"Clean Slate",description:"Avoid activating any debuffs today",targetRange:[1,1],xpReward:40},{type:"gym_session",title:"Iron Warrior",description:"Complete a gym workout today",targetRange:[1,1],xpReward:35},{type:"early_start",title:"Early Bird",description:"Complete a habit before 8 AM",targetRange:[1,1],xpReward:30},{type:"activate_specific",title:"Wellness Warrior",description:"Activate a health-related buff",targetRange:[1,1],xpReward:20}],kE=50;function bl(){return new Date().toISOString().split("T")[0]}function LE(s){const e=Ie(),i=s||bl(),a=e.exec(`SELECT id, date, quest_type, title, description, target_value, current_value, xp_reward, is_completed, completed_at
     FROM daily_quests WHERE date = ? ORDER BY id`,[i]);return a.length?a[0].values.map(l=>({id:l[0],date:l[1],quest_type:l[2],title:l[3],description:l[4],target_value:l[5],current_value:l[6],xp_reward:l[7],is_completed:!!l[8],completed_at:l[9]})):[]}function yI(s){const e=Ie(),i=bl(),a=e.exec("SELECT id FROM daily_quest_bonus WHERE date = ?",[i]);return a.length>0&&a[0].values.length>0}async function vI(s){const e=Ie(),i=bl();e.run("INSERT OR IGNORE INTO daily_quest_bonus (date, claimed_at) VALUES (?, datetime('now'))",[i]),await et()}async function EI(){const s=Ie(),e=bl(),i=LE(e);if(i.length>0)return i;const l=[..._I].sort(()=>Math.random()-.5).slice(0,3);for(const c of l){const m=c.targetRange[0]===c.targetRange[1]?c.targetRange[0]:Math.floor(Math.random()*(c.targetRange[1]-c.targetRange[0]+1))+c.targetRange[0],v=c.description.replace("{target}",m.toString());s.run(`INSERT INTO daily_quests (date, quest_type, title, description, target_value, xp_reward)
       VALUES (?, ?, ?, ?, ?, ?)`,[e,c.type,c.title,v,m,c.xpReward])}return await et(),LE(e)}async function Tb(s,e=1,i){const a=Ie(),l=i||bl(),c=a.exec(`SELECT id, current_value, target_value, is_completed FROM daily_quests
     WHERE date = ? AND quest_type = ? AND is_completed = 0`,[l,s]);if(!c.length||!c[0].values.length)return null;const m=c[0].values[0][0],v=c[0].values[0][1],T=c[0].values[0][2],g=v+e,w=g>=T;a.run(`UPDATE daily_quests SET current_value = ?, is_completed = ?, completed_at = ?
     WHERE id = ?`,[g,w?1:0,w?new Date().toISOString():null,m]),await et();const C=a.exec(`SELECT id, date, quest_type, title, description, target_value, current_value, xp_reward, is_completed, completed_at
     FROM daily_quests WHERE id = ?`,[m]);if(!C.length)return null;const D=C[0].values[0];return{id:D[0],date:D[1],quest_type:D[2],title:D[3],description:D[4],target_value:D[5],current_value:D[6],xp_reward:D[7],is_completed:!!D[8],completed_at:D[9]}}async function TI(s){const e=Ie(),i=bl();(e.exec(`SELECT COUNT(*) FROM buff_log bl
     JOIN buff_definitions bd ON bl.definition_id = bd.id
     WHERE bd.type = 'debuff' AND date(bl.activated_at) = ?`,[i])[0]?.values[0]?.[0]||0)===0&&await Tb("no_debuffs",1,i)}function bI({grantXP:s}){const[e,i]=se.useState([]),[a,l]=se.useState(!1),[c,m]=se.useState(!0),v=se.useCallback(async()=>{const W=await EI();i(W),l(yI()),m(!1)},[]);se.useEffect(()=>{v()},[v]),se.useEffect(()=>{const ne=setInterval(()=>{const z=new Date().toISOString().split("T")[0];e.length>0&&e[0].date!==z&&v()},6e4);return()=>clearInterval(ne)},[e,v]);const T=se.useCallback(async(W,ne=1)=>{const z=await Tb(W,ne);return z?.is_completed&&await s(z.xp_reward,`Daily Quest: ${z.title}`,"daily_quest",z.id),await v(),z},[s,v]),g=se.useCallback(async()=>!e.every(ne=>ne.is_completed)||a?!1:(await vI(),await s(kE,"Daily Quest Bonus: All quests completed!","daily_quest_bonus"),l(!0),!0),[e,a,s]),w=se.useCallback(async()=>{await TI(),await v()},[v]),C=e.every(W=>W.is_completed),D=e.filter(W=>W.is_completed).length,J=e.filter(W=>W.is_completed).reduce((W,ne)=>W+ne.xp_reward,0);return{quests:e,loading:c,allCompleted:C,completedCount:D,bonusClaimed:a,bonusXp:kE,totalXpEarned:J,refresh:v,updateProgress:T,claimBonus:g,checkNoDebuffs:w}}const bb=[{days:3,title:"Getting Started",bonusXp:15,icon:""},{days:7,title:"One Week Strong",bonusXp:50,icon:""},{days:14,title:"Two Week Warrior",bonusXp:75,icon:""},{days:21,title:"Habit Forming",bonusXp:100,icon:""},{days:30,title:"Monthly Master",bonusXp:150,icon:""},{days:60,title:"Two Month Champion",bonusXp:250,icon:""},{days:90,title:"Quarterly Legend",bonusXp:400,icon:""},{days:180,title:"Half Year Hero",bonusXp:750,icon:""},{days:365,title:"Annual Achiever",bonusXp:1500,icon:""}];function SI(s){return bb.filter(e=>e.days<=s)}function wI(s){const e=SI(s);return e.length>0?e[e.length-1]:null}function Sb(){return new Date().toISOString().split("T")[0]}function AI(){const s=new Date;return s.setDate(s.getDate()-1),s.toISOString().split("T")[0]}function wb(s){const e=Ie(),i=Sb(),a=AI(),l=e.exec(`SELECT DISTINCT date(activated_at) as d FROM buff_log
     WHERE definition_id = ? AND activated_at >= date('now', '-400 days')
     ORDER BY d DESC`,[s]),c=l.length?l[0].values.map(z=>z[0]):[],m=e.exec(`SELECT freeze_date FROM streak_freezes
     WHERE buff_definition_id = ? AND freeze_date >= date('now', '-400 days')`,[s]),v=m.length?m[0].values.map(z=>z[0]):[],T=e.exec(`SELECT used_date FROM streak_shield_uses
     WHERE buff_definition_id = ? AND used_date >= date('now', '-400 days')`,[s]),g=T.length?T[0].values.map(z=>z[0]):[];let w=0;const C=new Set([...c,...v,...g]);let D=i;if(!C.has(i))if(C.has(a))D=a;else if(v.includes(i))D=i;else return{buffDefinitionId:s,currentStreak:0,longestStreak:ME(s),lastActivatedDate:c[0]||null,isAtRisk:c.length>0&&c[0]===a,shieldActive:!1};for(;C.has(D);){w++;const z=new Date(D+"T12:00:00");z.setDate(z.getDate()-1),D=z.toISOString().split("T")[0]}const J=!c.includes(i)&&!v.includes(i)&&c.includes(a),W=g.includes(i),ne=ME(s);return w>ne&&RI(s,w),{buffDefinitionId:s,currentStreak:w,longestStreak:Math.max(w,ne),lastActivatedDate:c[0]||null,isAtRisk:J,shieldActive:W}}function ME(s){const i=Ie().exec("SELECT longest_streak FROM streak_records WHERE buff_definition_id = ?",[s]);return i.length&&i[0].values.length?i[0].values[0][0]:0}async function RI(s,e){Ie().run(`INSERT INTO streak_records (buff_definition_id, longest_streak, updated_at)
     VALUES (?, ?, datetime('now'))
     ON CONFLICT(buff_definition_id) DO UPDATE SET
       longest_streak = MAX(longest_streak, excluded.longest_streak),
       updated_at = datetime('now')`,[s,e]),await et()}function Ab(){const e=Ie().exec("SELECT SUM(quantity) FROM streak_shields");return e.length&&e[0].values.length&&e[0].values[0][0]||0}async function NI(s){Ie().run("INSERT INTO streak_shields (quantity) VALUES (?)",[s]),await et()}async function CI(s){const e=Ie(),i=Sb();if(Ab()<=0)return!1;const l=e.exec("SELECT id FROM streak_shield_uses WHERE buff_definition_id = ? AND used_date = ?",[s,i]);if(l.length&&l[0].values.length)return!1;const c=wb(s);return e.run(`UPDATE streak_shields SET quantity = quantity - 1
     WHERE id = (SELECT id FROM streak_shields WHERE quantity > 0 ORDER BY earned_at LIMIT 1)`),e.run(`INSERT INTO streak_shield_uses (buff_definition_id, used_date, streak_saved)
     VALUES (?, ?, ?)`,[s,i,c.currentStreak]),e.run("DELETE FROM streak_shields WHERE quantity <= 0"),await et(),!0}function xI(s){const i=Ie().exec(`SELECT id, buff_definition_id, freeze_date, reason, created_at
     FROM streak_freezes WHERE buff_definition_id = ? AND freeze_date >= date('now')
     ORDER BY freeze_date`,[s]);return i.length?i[0].values.map(a=>({id:a[0],buff_definition_id:a[1],freeze_date:a[2],reason:a[3],created_at:a[4]})):[]}async function II(s,e,i){Ie().run(`INSERT OR IGNORE INTO streak_freezes (buff_definition_id, freeze_date, reason)
     VALUES (?, ?, ?)`,[s,e,i||null]),await et()}async function DI(s){Ie().run("DELETE FROM streak_freezes WHERE id = ?",[s]),await et()}function OI(s){const i=Ie().exec("SELECT last_milestone_claimed FROM streak_records WHERE buff_definition_id = ?",[s]);return i.length&&i[0].values.length?i[0].values[0][0]:0}async function kI(s,e){Ie().run(`INSERT INTO streak_records (buff_definition_id, longest_streak, last_milestone_claimed, updated_at)
     VALUES (?, 0, ?, datetime('now'))
     ON CONFLICT(buff_definition_id) DO UPDATE SET
       last_milestone_claimed = ?,
       updated_at = datetime('now')`,[s,e,e]),await et()}function jE(s,e){const i=OI(s);return bb.filter(a=>a.days<=e&&a.days>i)}function LI(){const e=Ie().exec("SELECT DISTINCT definition_id FROM buff_log WHERE definition_id IN (SELECT id FROM buff_definitions WHERE type = ?)",["buff"]),i=new Map;if(!e.length)return i;for(const a of e[0].values){const l=a[0];i.set(l,wb(l))}return i}function MI({grantXP:s}){const[e,i]=se.useState(new Map),[a,l]=se.useState(0),[c,m]=se.useState(!0),v=se.useCallback(()=>{i(LI()),l(Ab()),m(!1)},[]);se.useEffect(()=>{v()},[v]);const T=se.useCallback(z=>e.get(z)||{buffDefinitionId:z,currentStreak:0,longestStreak:0,lastActivatedDate:null,isAtRisk:!1,shieldActive:!1},[e]),g=se.useCallback(async z=>{const ee=await CI(z);return ee&&v(),ee},[v]),w=se.useCallback(async(z,ee,he)=>{await II(z,ee,he),v()},[v]),C=se.useCallback(async z=>{await DI(z),v()},[v]),D=se.useCallback(z=>xI(z),[]),J=se.useCallback(async z=>{const ee=T(z),he=jE(z,ee.currentStreak);for(const me of he)await s(me.bonusXp,`Streak Milestone: ${me.title} (${me.days} days)`,"streak_milestone",z),await kI(z,me.days);return v(),he},[T,s,v]),W=se.useCallback(z=>{const ee=T(z);return jE(z,ee.currentStreak)},[T]),ne=se.useCallback(async z=>{await NI(z),v()},[v]);return{streakInfos:e,shieldCount:a,loading:c,refresh:v,getStreakForBuff:T,useShield:g,addFreeze:w,removeFreeze:C,getFreezes:D,claimMilestones:J,getUnclaimedMilestones:W,addShields:ne}}const VE=[{type:"procrastination_dragon",name:"Procrastination Dragon",description:"A lazy beast that feeds on delayed tasks and broken promises.",icon:"",hpRange:[400,500],xpReward:200,bonusShields:1,difficulty:"medium"},{type:"distraction_demon",name:"Distraction Demon",description:"A cunning fiend that lures you away from your goals with endless diversions.",icon:"",hpRange:[350,450],xpReward:175,bonusShields:1,difficulty:"medium"},{type:"sloth_specter",name:"Sloth Specter",description:"A ghostly presence that drains your energy and willpower.",icon:"",hpRange:[300,400],xpReward:150,bonusShields:0,difficulty:"easy"},{type:"chaos_chimera",name:"Chaos Chimera",description:"A multi-headed monster representing disorganization and scattered focus.",icon:"",hpRange:[500,600],xpReward:250,bonusShields:2,difficulty:"hard"},{type:"anxiety_wyrm",name:"Anxiety Wyrm",description:"A serpentine creature that coils around your mind with worry and doubt.",icon:"",hpRange:[450,550],xpReward:225,bonusShields:1,difficulty:"hard"},{type:"comfort_zone_golem",name:"Comfort Zone Golem",description:"A stubborn construct that blocks the path to growth and change.",icon:"",hpRange:[350,450],xpReward:175,bonusShields:1,difficulty:"medium"}],tl={step_completed:10,buff_activated:25,quest_completed:50,goal_completed:100,daily_quest_completed:15};function _f(s=new Date){const e=new Date(s),i=e.getDay(),a=e.getDate()-i+(i===0?-6:1);return e.setDate(a),e.toISOString().split("T")[0]}function jI(s){const e=new Date(s+"T12:00:00");return e.setDate(e.getDate()+6),e.toISOString().split("T")[0]}function UE(){const s=Ie(),e=_f(),i=s.exec(`SELECT id, week_start, boss_type, name, description, icon, max_hp, current_hp,
            is_defeated, defeated_at, xp_reward, bonus_shields, created_at
     FROM weekly_boss WHERE week_start = ?`,[e]);if(!i.length||!i[0].values.length)return null;const a=i[0].values[0];return Rb(a)}function VI(s){const i=Ie().exec(`SELECT id, week_start, boss_type, name, description, icon, max_hp, current_hp,
            is_defeated, defeated_at, xp_reward, bonus_shields, created_at
     FROM weekly_boss WHERE id = ?`,[s]);return!i.length||!i[0].values.length?null:Rb(i[0].values[0])}async function UI(){const s=Ie(),e=_f(),i=UE();if(i)return i;const a=VE[Math.floor(Math.random()*VE.length)],l=Math.floor(Math.random()*(a.hpRange[1]-a.hpRange[0]+1))+a.hpRange[0];return s.run(`INSERT INTO weekly_boss (week_start, boss_type, name, description, icon, max_hp, current_hp, xp_reward, bonus_shields)
     VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,[e,a.type,a.name,a.description,a.icon,l,l,a.xpReward,a.bonusShields]),await et(),UE()}async function BI(s,e,i,a){const l=Ie(),c=VI(s);if(!c||c.is_defeated)return{newHp:c?.current_hp||0,isDefeated:c?.is_defeated||!1};const m=Math.max(0,c.current_hp-i),v=m===0;return l.run(`UPDATE weekly_boss SET current_hp = ?, is_defeated = ?, defeated_at = ?
     WHERE id = ?`,[m,v?1:0,v?new Date().toISOString():null,s]),l.run(`INSERT INTO boss_damage_log (boss_id, damage_type, damage_amount, source_description)
     VALUES (?, ?, ?, ?)`,[s,e,i,a||null]),await et(),{newHp:m,isDefeated:v}}function qI(){const e=Ie().exec("SELECT COUNT(*) FROM weekly_boss WHERE is_defeated = 1");return e.length&&e[0].values.length?e[0].values[0][0]:0}function Rb(s){return{id:s[0],week_start:s[1],boss_type:s[2],name:s[3],description:s[4],icon:s[5],max_hp:s[6],current_hp:s[7],is_defeated:!!s[8],defeated_at:s[9],xp_reward:s[10],bonus_shields:s[11],created_at:s[12]}}function zI({grantXP:s,addShields:e}){const[i,a]=se.useState(null),[l,c]=se.useState(!0),[m,v]=se.useState(!1),T=se.useCallback(async()=>{const z=await UI();a(z),c(!1)},[]);se.useEffect(()=>{T()},[T]),se.useEffect(()=>{const ee=setInterval(()=>{const he=_f();i&&i.week_start!==he&&T()},6e4);return()=>clearInterval(ee)},[i,T]);const g=se.useCallback(async(z,ee)=>{if(!i||i.is_defeated)return;const he=tl[z],me=await BI(i.id,z,he,ee);return a(de=>de?{...de,current_hp:me.newHp,is_defeated:me.isDefeated}:null),me.isDefeated&&!i.is_defeated&&(v(!0),await s(i.xp_reward,`Defeated ${i.name}!`,"boss",i.id),i.bonus_shields>0&&e&&await e(i.bonus_shields)),me},[i,s,e]),w=se.useCallback(()=>{v(!1)},[]),C=i?.week_start||_f(),D=jI(C),J=i?Math.round(i.current_hp/i.max_hp*100):100,W=i?i.max_hp-i.current_hp:0,ne=qI();return{boss:i,loading:l,justDefeated:m,weekStart:C,weekEnd:D,hpPercentage:J,damageDealt:W,totalDefeated:ne,refresh:T,dealDamage:g,dismissDefeatNotification:w}}const PI="_appShell_1hrux_1",HI="_sidebar_1hrux_13",FI="_sidebarLogo_1hrux_41",GI="_logoTitle_1hrux_51",XI="_logoSubtitle_1hrux_67",YI="_sidebarNav_1hrux_81",QI="_navItem_1hrux_97",KI="_navItemActive_1hrux_147",$I="_navIcon_1hrux_179",WI="_header_1hrux_193",ZI="_headerLeft_1hrux_227",JI="_characterName_1hrux_239",eD="_levelBadge_1hrux_253",tD="_headerXP_1hrux_283",nD="_headerRight_1hrux_291",iD="_main_1hrux_305",sD="_xpFloat_1hrux_323",Mn={appShell:PI,sidebar:HI,sidebarLogo:FI,logoTitle:GI,logoSubtitle:XI,sidebarNav:YI,navItem:QI,navItemActive:KI,navIcon:$I,header:WI,headerLeft:ZI,characterName:JI,levelBadge:eD,headerXP:tD,headerRight:nD,main:iD,xpFloat:sD},aD=[{id:"character",label:"Character",icon:""},{id:"quests",label:"Quest Log",icon:""},{id:"buffs",label:"Buffs",icon:""}];function rD({activeTab:s,onTabChange:e}){return p.jsxs("aside",{className:Mn.sidebar,children:[p.jsxs("div",{className:Mn.sidebarLogo,children:[p.jsx("div",{className:Mn.logoTitle,children:"GOAL GAME"}),p.jsx("div",{className:Mn.logoSubtitle,children:"Life Management RPG"})]}),p.jsx("nav",{className:Mn.sidebarNav,children:aD.map(i=>p.jsxs("button",{className:`${Mn.navItem} ${s===i.id?Mn.navItemActive:""}`,onClick:()=>e(i.id),children:[p.jsx("span",{className:Mn.navIcon,children:i.icon}),i.label]},i.id))})]})}const oD="_progressContainer_1jr5p_1",lD="_progressLabel_1jr5p_9",uD="_track_1jr5p_33",cD="_fill_1jr5p_53",fD="_fillGold_1jr5p_67",hD="_fillGreen_1jr5p_77",dD="_fillBlue_1jr5p_85",mD="_shimmer_1jr5p_93",pD="_trackLarge_1jr5p_117",la={progressContainer:oD,progressLabel:lD,track:uD,fill:cD,fillGold:fD,fillGreen:hD,fillBlue:dD,shimmer:mD,trackLarge:pD};function km({value:s,max:e,label:i,showValue:a=!0,color:l="gold",size:c="normal",shimmer:m=!1,className:v}){const T=e>0?Math.min(s/e*100,100):0,g=l==="gold"?la.fillGold:l==="green"?la.fillGreen:la.fillBlue,w=[la.track,c==="large"&&la.trackLarge].filter(Boolean).join(" ");return p.jsxs("div",{className:`${la.progressContainer} ${v||""}`,children:[(i||a)&&p.jsxs("div",{className:la.progressLabel,children:[i&&p.jsx("span",{children:i}),a&&p.jsxs("span",{children:[s," / ",e]})]}),p.jsx("div",{className:w,children:p.jsx("div",{className:[g,la.fill,m&&la.shimmer].filter(Boolean).join(" "),style:{width:`${T}%`}})})]})}function gD({character:s}){const e=XE(s.total_xp);return p.jsxs("header",{className:Mn.header,children:[p.jsxs("div",{className:Mn.headerLeft,children:[p.jsx("span",{className:Mn.characterName,children:s.name}),p.jsxs("span",{className:Mn.levelBadge,children:["Lv. ",s.level,"  ",s.title]})]}),p.jsx("div",{className:Mn.headerRight,children:p.jsx("div",{className:Mn.headerXP,children:p.jsx(km,{value:e.current,max:e.needed,label:"XP",shimmer:!0})})})]})}const _D="_levelUpOverlay_dig0a_1",yD="_levelUpContent_dig0a_23",vD="_levelUpIcon_dig0a_33",ED="_levelUpTitle_dig0a_47",TD="_levelUpLevel_dig0a_65",bD="_levelUpTitleName_dig0a_79",SD="_dismissText_dig0a_95",Hr={levelUpOverlay:_D,levelUpContent:yD,levelUpIcon:vD,levelUpTitle:ED,levelUpLevel:TD,levelUpTitleName:bD,dismissText:SD};function wD({level:s,title:e,onDismiss:i}){return se.useEffect(()=>{const a=setTimeout(i,5e3),l=c=>{(c.key==="Escape"||c.key==="Enter"||c.key===" ")&&i()};return window.addEventListener("keydown",l),()=>{clearTimeout(a),window.removeEventListener("keydown",l)}},[i]),p.jsx("div",{className:Hr.levelUpOverlay,onClick:i,children:p.jsxs("div",{className:Hr.levelUpContent,children:[p.jsx("span",{className:Hr.levelUpIcon,children:""}),p.jsx("div",{className:Hr.levelUpTitle,children:"LEVEL UP"}),p.jsxs("div",{className:Hr.levelUpLevel,children:["Level ",s]}),p.jsx("div",{className:Hr.levelUpTitleName,children:e}),p.jsx("div",{className:Hr.dismissText,children:"Click or press any key to continue"})]})})}const AD="_panel_zw35t_1",RD="_panelHeader_zw35t_69",ND="_panelGlow_zw35t_93",lm={panel:AD,panelHeader:RD,panelGlow:ND};function vi({children:s,header:e,glow:i,className:a,style:l}){const c=[lm.panel,i&&lm.panelGlow,a].filter(Boolean).join(" ");return p.jsxs("div",{className:c,style:l,children:[e&&p.jsx("div",{className:lm.panelHeader,children:e}),s]})}const CD="_button_vi3e3_1",xD="_primary_vi3e3_61",ID="_danger_vi3e3_83",DD="_small_vi3e3_103",OD="_ghost_vi3e3_113",kD="_fullWidth_vi3e3_133",Xc={button:CD,primary:xD,danger:ID,small:DD,ghost:OD,fullWidth:kD};function vt({variant:s="default",size:e="normal",fullWidth:i,children:a,className:l,...c}){const m=[Xc.button,s!=="default"&&Xc[s],e==="small"&&Xc.small,i&&Xc.fullWidth,l].filter(Boolean).join(" ");return p.jsx("button",{className:m,...c,children:a})}const LD="_inputGroup_1helv_1",MD="_label_1helv_13",jD="_input_1helv_1",VD="_select_1helv_31",UD="_textarea_1helv_31",da={inputGroup:LD,label:MD,input:jD,select:VD,textarea:UD};function pl({label:s,className:e,...i}){return p.jsxs("div",{className:da.inputGroup,children:[s&&p.jsx("label",{className:da.label,children:s}),p.jsx("input",{className:`${da.input} ${e||""}`,...i})]})}function tr({label:s,children:e,className:i,...a}){return p.jsxs("div",{className:da.inputGroup,children:[s&&p.jsx("label",{className:da.label,children:s}),p.jsx("select",{className:`${da.select} ${i||""}`,...a,children:e})]})}function Lm({label:s,className:e,...i}){return p.jsxs("div",{className:da.inputGroup,children:[s&&p.jsx("label",{className:da.label,children:s}),p.jsx("textarea",{className:`${da.textarea} ${e||""}`,...i})]})}const BD=[{minLevel:50,tier:7},{minLevel:40,tier:6},{minLevel:30,tier:5},{minLevel:22,tier:4},{minLevel:15,tier:3},{minLevel:10,tier:2},{minLevel:5,tier:1},{minLevel:1,tier:0}];function qD(s){for(const{minLevel:e,tier:i}of BD)if(s>=e)return i;return 0}function cu(s){if(s<5)return 0;const a=(s-5)/25;return Math.min(Math.pow(a,.7),1)}const fu={stamina:"#2ecc71",willpower:"#9b59b6",health:"#e74c3c",focus:"#3498db",charisma:"#e67e22"},Nb={0:{primary:"#8b7355",secondary:"#6b5344",accent:"#a08060",skin:"#e8c4a0",hair:"#4a3728"},1:{primary:"#8b4513",secondary:"#654321",accent:"#cd853f",skin:"#e8c4a0",hair:"#4a3728"},2:{primary:"#708090",secondary:"#4a5568",accent:"#a0aec0",skin:"#e8c4a0",hair:"#4a3728"},3:{primary:"#5a6672",secondary:"#3d4852",accent:"#8892a0",skin:"#e8c4a0",hair:"#4a3728"},4:{primary:"#b8860b",secondary:"#8b6914",accent:"#daa520",skin:"#e8c4a0",hair:"#4a3728"},5:{primary:"#ffd700",secondary:"#b8860b",accent:"#ffed4a",skin:"#e8c4a0",hair:"#4a3728",glow:"#ffd700"},6:{primary:"#e6e6fa",secondary:"#9370db",accent:"#dda0dd",skin:"#e8c4a0",hair:"#4a3728",glow:"#9370db"},7:{primary:"#8b0000",secondary:"#4a0000",accent:"#ff4500",skin:"#e8c4a0",hair:"#ffd700",glow:"#ff4500",crown:"#ffd700"}},gl=64;function ca(s,e,i,a,l=1){s.fillStyle=a,s.fillRect(e,i,l,l)}function Ct(s,e,i,a,l,c){s.fillStyle=c,s.fillRect(e,i,a,l)}function zD({ctx:s,palette:e}){Ct(s,27,7,10,4,e.hair),Ct(s,28,8,8,8,e.skin),Ct(s,28,7,8,2,e.hair),ca(s,30,11,"#2c3e50"),ca(s,33,11,"#2c3e50")}function PD({ctx:s,palette:e,tier:i}){Ct(s,26,16,12,16,e.primary),Ct(s,31,18,2,12,e.secondary),i>=2&&(Ct(s,24,16,3,4,e.accent),Ct(s,37,16,3,4,e.accent)),i>=1&&(Ct(s,26,28,12,2,e.secondary),ca(s,31,28,e.accent,2)),i>=3&&(Ct(s,28,18,8,6,e.accent),Ct(s,30,19,4,4,e.secondary))}function HD({ctx:s,palette:e,tier:i}){Ct(s,22,18,4,12,e.primary),Ct(s,22,30,4,3,e.skin),Ct(s,38,18,4,12,e.primary),Ct(s,38,30,4,3,e.skin),i>=2&&(Ct(s,22,18,4,3,e.accent),Ct(s,38,18,4,3,e.accent)),i>=4&&(Ct(s,21,28,5,5,e.accent),Ct(s,38,28,5,5,e.accent))}function FD({ctx:s,palette:e,tier:i}){Ct(s,27,32,5,14,i>=3?e.secondary:e.primary),Ct(s,26,46,6,4,e.secondary),Ct(s,32,32,5,14,i>=3?e.secondary:e.primary),Ct(s,32,46,6,4,e.secondary),i>=2&&(Ct(s,26,46,6,2,e.accent),Ct(s,32,46,6,2,e.accent))}function GD({ctx:s,palette:e,tier:i}){if(i<3)return;const l={3:"#8b0000",4:"#4a0082",5:"#1a1a2e",6:"#4a0082",7:"#8b0000"}[i]||e.secondary;s.fillStyle=l,s.beginPath(),s.moveTo(24,16),s.lineTo(40,16),s.lineTo(42,48),s.lineTo(22,48),s.closePath(),s.fill(),s.fillStyle=e.accent,s.fillRect(22,16,2,32),s.fillRect(40,16,2,32)}function XD({ctx:s,palette:e,tier:i}){if(i<2)return;const a=28,l=8;i===2?Ct(s,a-1,l-2,10,3,e.secondary):i>=3&&i<7&&(Ct(s,a-2,l-3,12,5,e.accent),Ct(s,a,l+2,8,2,"#1a1a2e"),i>=4&&Ct(s,a+3,l-6,2,4,"#e74c3c"))}function YD({ctx:s,palette:e}){const i="crown"in e?e.crown:"#ffd700",a=28,l=8;Ct(s,a-2,l-4,12,3,i),ca(s,a-1,l-6,i,2),ca(s,a+3,l-7,i,2),ca(s,a+7,l-6,i,2),ca(s,a,l-5,"#e74c3c"),ca(s,a+4,l-6,"#3498db"),ca(s,a+8,l-5,"#2ecc71")}function QD({ctx:s}){const e="#8b0000",i="#ff4500";s.fillStyle=e,s.beginPath(),s.moveTo(22,20),s.lineTo(8,10),s.lineTo(6,16),s.lineTo(10,24),s.lineTo(14,32),s.lineTo(20,36),s.lineTo(22,28),s.closePath(),s.fill(),s.fillStyle=i,s.beginPath(),s.moveTo(20,22),s.lineTo(12,14),s.lineTo(12,20),s.lineTo(16,28),s.closePath(),s.fill(),s.fillStyle=e,s.beginPath(),s.moveTo(42,20),s.lineTo(56,10),s.lineTo(58,16),s.lineTo(54,24),s.lineTo(50,32),s.lineTo(44,36),s.lineTo(42,28),s.closePath(),s.fill(),s.fillStyle=i,s.beginPath(),s.moveTo(44,22),s.lineTo(52,14),s.lineTo(52,20),s.lineTo(48,28),s.closePath(),s.fill()}function KD(s,e){if(e<5)return;const i=Nb[e],a="glow"in i?i.glow:"#ffd700",l=s.createRadialGradient(32,32,10,32,32,40);l.addColorStop(0,`${a}40`),l.addColorStop(.5,`${a}20`),l.addColorStop(1,`${a}00`),s.fillStyle=l,s.fillRect(0,0,gl,gl)}function $D(s,e){const i=Math.max(0,Math.min(7,e)),a=Nb[i];s.clearRect(0,0,gl,gl),s.imageSmoothingEnabled=!1;const l={ctx:s,palette:a,tier:i};KD(s,i),i>=7&&QD(l),i>=3&&GD(l),FD(l),PD(l),HD(l),zD(l),i>=7?YD(l):i>=2&&XD(l)}const WD="_spriteContainer_1vkdq_3",ZD="_spriteCanvas_1vkdq_25",JD="_auraStamina_1vkdq_79",e4="_auraWillpower_1vkdq_81",t4="_auraHealth_1vkdq_83",n4="_auraFocus_1vkdq_85",i4="_auraCharisma_1vkdq_87",s4="_auraLayer_1vkdq_99",Zi={spriteContainer:WD,spriteCanvas:ZD,auraStamina:JD,auraWillpower:e4,auraHealth:t4,auraFocus:n4,auraCharisma:i4,auraLayer:s4};function a4({level:s,stats:e}){const i=se.useRef(null),a=qD(s);se.useEffect(()=>{const m=i.current;if(!m)return;const v=m.getContext("2d");v&&$D(v,a)},[a]);const l={stamina:cu(e.stamina),willpower:cu(e.willpower),health:cu(e.health),focus:cu(e.focus),charisma:cu(e.charisma)},c={"--aura-stamina-intensity":l.stamina,"--aura-stamina-color":fu.stamina,"--aura-willpower-intensity":l.willpower,"--aura-willpower-color":fu.willpower,"--aura-health-intensity":l.health,"--aura-health-color":fu.health,"--aura-focus-intensity":l.focus,"--aura-focus-color":fu.focus,"--aura-charisma-intensity":l.charisma,"--aura-charisma-color":fu.charisma};return p.jsxs("div",{className:Zi.spriteContainer,style:c,children:[l.stamina>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraStamina}`}),l.willpower>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraWillpower}`}),l.health>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraHealth}`}),l.focus>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraFocus}`}),l.charisma>0&&p.jsx("div",{className:`${Zi.auraLayer} ${Zi.auraCharisma}`}),p.jsx("canvas",{ref:i,width:gl,height:gl,className:Zi.spriteCanvas})]})}const r4="_characterGrid_1vnpd_1",o4="_characterMain_1vnpd_13",l4="_characterSide_1vnpd_25",u4="_profileSection_1vnpd_37",c4="_characterNameDisplay_1vnpd_61",f4="_characterTitleDisplay_1vnpd_75",h4="_xpSection_1vnpd_89",d4="_totalXP_1vnpd_97",m4="_statsGrid_1vnpd_113",p4="_statRow_1vnpd_125",g4="_statName_1vnpd_137",_4="_statBar_1vnpd_157",y4="_statValue_1vnpd_165",v4="_buffsList_1vnpd_185",E4="_activeBuff_1vnpd_197",T4="_buffType_1vnpd_219",b4="_debuffType_1vnpd_229",S4="_buffIcon_1vnpd_239",w4="_buffInfo_1vnpd_247",A4="_buffName_1vnpd_255",R4="_buffTimer_1vnpd_265",N4="_emptyState_1vnpd_275",C4="_nameEditRow_1vnpd_291",x4="_xpLogList_1vnpd_307",I4="_xpLogEntry_1vnpd_323",D4="_xpLogReason_1vnpd_343",O4="_xpLogAmount_1vnpd_351",k4="_negative_1vnpd_363",Nt={characterGrid:r4,characterMain:o4,characterSide:l4,profileSection:u4,characterNameDisplay:c4,characterTitleDisplay:f4,xpSection:h4,totalXP:d4,statsGrid:m4,statRow:p4,statName:g4,statBar:_4,statValue:y4,buffsList:v4,activeBuff:E4,buffType:T4,debuffType:b4,buffIcon:S4,buffInfo:w4,buffName:A4,buffTimer:R4,emptyState:N4,nameEditRow:C4,xpLogList:x4,xpLogEntry:I4,xpLogReason:D4,xpLogAmount:O4,negative:k4},L4={stamina:"green",willpower:"blue",health:"gold",focus:"blue",charisma:"gold"};function M4({character:s,stats:e,activeBuffs:i,xpLog:a,onNameChange:l}){const c=XE(s.total_xp),[m,v]=se.useState(!1),[T,g]=se.useState(s.name),[w,C]=se.useState(!1),D=()=>{T.trim()&&(l(T.trim()),v(!1))};function J(W){const ne=new Date,ee=new Date(W+"Z").getTime()-ne.getTime();if(ee<=0)return"Expired";const he=Math.floor(ee/36e5),me=Math.floor(ee%36e5/6e4);return he>0?`${he}h ${me}m remaining`:`${me}m remaining`}return p.jsxs("div",{className:Nt.characterGrid,children:[p.jsxs("div",{className:Nt.characterMain,children:[p.jsx(vi,{children:p.jsxs("div",{className:Nt.profileSection,children:[p.jsx(a4,{level:s.level,stats:e}),m?p.jsxs("div",{className:Nt.nameEditRow,children:[p.jsx(pl,{value:T,onChange:W=>g(W.target.value),onKeyDown:W=>W.key==="Enter"&&D(),autoFocus:!0}),p.jsx(vt,{size:"small",variant:"primary",onClick:D,children:"Save"}),p.jsx(vt,{size:"small",onClick:()=>v(!1),children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Nt.characterNameDisplay,children:s.name}),p.jsx(vt,{size:"small",variant:"ghost",onClick:()=>v(!0),children:"Rename"})]}),p.jsxs("div",{className:Nt.characterTitleDisplay,children:["Level ",s.level,"  ",s.title]}),p.jsxs("div",{className:Nt.xpSection,children:[p.jsx(km,{value:c.current,max:c.needed,label:"Experience",size:"large",shimmer:!0}),p.jsxs("div",{className:Nt.totalXP,children:[s.total_xp," Total XP"]})]})]})}),p.jsx(vi,{header:"Stats",children:p.jsx("div",{className:Nt.statsGrid,children:FE.map(W=>p.jsxs("div",{className:Nt.statRow,children:[p.jsx("span",{className:Nt.statName,children:W}),p.jsx("div",{className:Nt.statBar,children:p.jsx(km,{value:e[W],max:30,showValue:!1,color:L4[W]||"gold"})}),p.jsx("span",{className:Nt.statValue,children:e[W]})]},W))})})]}),p.jsxs("div",{className:Nt.characterSide,children:[p.jsx(vi,{header:"Active Effects",children:i.length===0?p.jsx("div",{className:Nt.emptyState,children:"No active buffs or debuffs"}):p.jsx("div",{className:Nt.buffsList,children:i.map(W=>{const ne=yf(W.stat_effects),z=Object.entries(ne).map(([ee,he])=>`${he>0?"+":""}${he} ${ee}`).join(", ");return p.jsxs("div",{className:`${Nt.activeBuff} ${W.type==="buff"?Nt.buffType:Nt.debuffType}`,children:[p.jsx("span",{className:Nt.buffIcon,children:W.icon}),p.jsxs("div",{className:Nt.buffInfo,children:[p.jsx("div",{className:Nt.buffName,children:W.name}),p.jsxs("div",{className:Nt.buffTimer,children:[J(W.expires_at),z&&`  ${z}`]})]})]},W.id)})})}),p.jsx(vt,{size:"small",variant:"ghost",onClick:()=>C(!w),style:{width:"100%",marginTop:8},children:w?"Hide XP History":"Show XP History"}),w&&p.jsx(vi,{header:"XP History",style:{marginTop:8},children:a.length===0?p.jsx("div",{className:Nt.emptyState,children:"No XP earned yet. Complete steps to earn XP!"}):p.jsx("div",{className:Nt.xpLogList,children:a.slice(0,20).map(W=>p.jsxs("div",{className:Nt.xpLogEntry,children:[p.jsx("span",{className:Nt.xpLogReason,children:W.reason}),p.jsxs("span",{className:`${Nt.xpLogAmount} ${W.amount<0?Nt.negative:""}`,children:[W.amount>0?"+":"",W.amount," XP"]})]},W.id))})})]})]})}const j4="_overlay_15bjw_1",V4="_modal_15bjw_25",U4="_modalHeader_15bjw_97",B4="_modalTitle_15bjw_111",q4="_closeButton_15bjw_123",z4="_modalActions_15bjw_153",Ko={overlay:j4,modal:V4,modalHeader:U4,modalTitle:B4,closeButton:q4,modalActions:z4};function Mm({open:s,onClose:e,title:i,children:a,actions:l}){return se.useEffect(()=>{if(!s)return;const c=m=>{m.key==="Escape"&&e()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[s,e]),s?p.jsx("div",{className:Ko.overlay,onClick:e,children:p.jsxs("div",{className:Ko.modal,onClick:c=>c.stopPropagation(),children:[i&&p.jsxs("div",{className:Ko.modalHeader,children:[p.jsx("h3",{className:Ko.modalTitle,children:i}),p.jsx("button",{className:Ko.closeButton,onClick:e,children:""})]}),a,l&&p.jsx("div",{className:Ko.modalActions,children:l})]})}):null}const P4="_checkbox_543u2_1",H4="_box_543u2_17",F4="_checked_543u2_53",G4="_checkmark_543u2_63",X4="_checkboxLabel_543u2_75",Y4="_hidden_543u2_99",$o={checkbox:P4,box:H4,checked:F4,checkmark:G4,checkboxLabel:X4,hidden:Y4};function Q4({checked:s,onChange:e,label:i,className:a}){const l=[$o.checkbox,s&&$o.checked,a].filter(Boolean).join(" ");return p.jsxs("label",{className:l,onClick:c=>c.stopPropagation(),children:[p.jsx("input",{type:"checkbox",className:$o.hidden,checked:s,onChange:c=>e(c.target.checked)}),p.jsx("span",{className:$o.box,children:s&&p.jsx("span",{className:$o.checkmark,children:""})}),i&&p.jsx("span",{className:$o.checkboxLabel,children:i})]})}const K4="_questLog_1dd70_1",$4="_questToolbar_1dd70_13",W4="_questFilters_1dd70_27",Z4="_goalSection_1dd70_39",J4="_goalHeader_1dd70_47",e3="_goalDomainIcon_1dd70_61",t3="_goalTitle_1dd70_69",n3="_goalDomain_1dd70_61",i3="_questsList_1dd70_99",s3="_questCard_1dd70_115",a3="_questCardHeader_1dd70_139",r3="_questPriority_1dd70_157",o3="_normal_1dd70_171",l3="_important_1dd70_173",u3="_legendary_1dd70_175",c3="_questTitle_1dd70_179",f3="_questCompleted_1dd70_191",h3="_questMeta_1dd70_201",d3="_questStepCount_1dd70_217",m3="_expandIcon_1dd70_233",p3="_expanded_1dd70_245",g3="_stepsSection_1dd70_255",_3="_stepsList_1dd70_265",y3="_stepItem_1dd70_279",v3="_stepPriorityDot_1dd70_305",E3="_stepTitle_1dd70_319",T3="_stepActions_1dd70_329",b3="_addStepRow_1dd70_347",S3="_addStepInput_1dd70_359",w3="_formGrid_1dd70_369",A3="_formRow_1dd70_381",R3="_emptyState_1dd70_399",bt={questLog:K4,questToolbar:$4,questFilters:W4,goalSection:Z4,goalHeader:J4,goalDomainIcon:e3,goalTitle:t3,goalDomain:n3,questsList:i3,questCard:s3,questCardHeader:a3,questPriority:r3,normal:o3,important:l3,legendary:u3,questTitle:c3,questCompleted:f3,questMeta:h3,questStepCount:d3,expandIcon:m3,expanded:p3,stepsSection:g3,stepsList:_3,stepItem:y3,stepPriorityDot:v3,stepTitle:E3,stepActions:T3,addStepRow:b3,addStepInput:S3,formGrid:w3,formRow:A3,emptyState:R3};function N3({quest:s,onCreateStep:e,onCompleteStep:i,onUncompleteStep:a,onDeleteStep:l,onDeleteQuest:c}){const[m,v]=se.useState(!1),[T,g]=se.useState(""),[w,C]=se.useState("normal"),D=s.steps.filter(ee=>ee.status==="completed").length,J=s.steps.length,W=s.status==="completed",ne=()=>{T.trim()&&(e(s.id,T.trim(),w),g(""),C("normal"))},z=ee=>ee==="legendary"?"var(--priority-legendary)":ee==="important"?"var(--priority-important)":"var(--priority-normal)";return p.jsxs("div",{className:`${bt.questCard} ${W?bt.questCompleted:""}`,children:[p.jsxs("div",{className:bt.questCardHeader,onClick:()=>v(!m),children:[p.jsx("div",{className:`${bt.questPriority} ${bt[s.priority]}`}),p.jsx("span",{className:bt.questTitle,children:s.title}),p.jsxs("span",{className:bt.questMeta,children:[p.jsxs("span",{className:bt.questStepCount,children:[D,"/",J]}),p.jsx(vt,{size:"small",variant:"danger",onClick:ee=>{ee.stopPropagation(),c(s.id)},children:""})]}),p.jsx("span",{className:`${bt.expandIcon} ${m?bt.expanded:""}`,children:""})]}),m&&p.jsxs("div",{className:bt.stepsSection,children:[p.jsx("div",{className:bt.stepsList,children:s.steps.map(ee=>p.jsxs("div",{className:bt.stepItem,children:[p.jsx("div",{className:bt.stepPriorityDot,style:{background:z(ee.priority)}}),p.jsx(Q4,{checked:ee.status==="completed",onChange:he=>{he?i(ee.id,s.id,ee.priority):a(ee.id)},label:ee.title}),p.jsx("div",{className:bt.stepActions,children:p.jsx(vt,{size:"small",variant:"danger",onClick:()=>l(ee.id),children:""})})]},ee.id))}),!W&&p.jsxs("div",{className:bt.addStepRow,children:[p.jsx("div",{className:bt.addStepInput,children:p.jsx(pl,{value:T,onChange:ee=>g(ee.target.value),placeholder:"Add a step...",onKeyDown:ee=>ee.key==="Enter"&&ne()})}),p.jsxs(tr,{value:w,onChange:ee=>C(ee.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important"}),p.jsx("option",{value:"legendary",children:"Legendary"})]}),p.jsx(vt,{variant:"primary",onClick:ne,children:"Add"})]})]})]})}function C3({goals:s,domains:e,filterDomain:i,filterStatus:a,onFilterDomain:l,onFilterStatus:c,onCreateGoal:m,onCreateQuest:v,onCreateStep:T,onCompleteStep:g,onUncompleteStep:w,onDeleteStep:C,onDeleteQuest:D,onDeleteGoal:J}){const[W,ne]=se.useState(!1),[z,ee]=se.useState(null),[he,me]=se.useState(""),[de,Re]=se.useState(""),[De,O]=se.useState(1),[I,L]=se.useState(""),[V,k]=se.useState(""),[U,x]=se.useState("normal"),Me=()=>{he.trim()&&(m(De,he.trim(),de.trim()),me(""),Re(""),ne(!1))},Et=()=>{!I.trim()||z===null||(v(z,I.trim(),V.trim(),U),L(""),k(""),x("normal"),ee(null))};return p.jsxs("div",{className:bt.questLog,children:[p.jsxs("div",{className:bt.questToolbar,children:[p.jsxs("div",{className:bt.questFilters,children:[p.jsxs(tr,{value:i??"",onChange:P=>l(P.target.value?Number(P.target.value):void 0),children:[p.jsx("option",{value:"",children:"All Domains"}),e.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))]}),p.jsxs(tr,{value:a??"",onChange:P=>c(P.target.value||void 0),children:[p.jsx("option",{value:"",children:"All Status"}),p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"completed",children:"Completed"})]})]}),p.jsx(vt,{variant:"primary",onClick:()=>ne(!0),children:"+ New Goal"})]}),s.length===0?p.jsx(vi,{children:p.jsx("div",{className:bt.emptyState,children:"No goals yet. Create your first goal to begin your adventure!"})}):s.map(P=>p.jsx(vi,{children:p.jsxs("div",{className:bt.goalSection,children:[p.jsxs("div",{className:bt.goalHeader,children:[p.jsx("span",{className:bt.goalDomainIcon,children:P.domain_icon}),p.jsx("span",{className:bt.goalTitle,children:P.title}),p.jsx("span",{className:bt.goalDomain,children:P.domain_name}),p.jsx(vt,{size:"small",variant:"primary",onClick:()=>ee(P.id),children:"+ Quest"}),p.jsx(vt,{size:"small",variant:"danger",onClick:()=>J(P.id),children:""})]}),P.quests.length===0?p.jsx("div",{className:bt.emptyState,children:"No quests yet. Add a quest to this goal."}):p.jsx("div",{className:bt.questsList,children:P.quests.map($=>p.jsx(N3,{quest:$,onCreateStep:T,onCompleteStep:g,onUncompleteStep:w,onDeleteStep:C,onDeleteQuest:D},$.id))})]})},P.id)),p.jsx(Mm,{open:W,onClose:()=>ne(!1),title:"New Goal",actions:p.jsxs(p.Fragment,{children:[p.jsx(vt,{onClick:()=>ne(!1),children:"Cancel"}),p.jsx(vt,{variant:"primary",onClick:Me,children:"Create Goal"})]}),children:p.jsxs("div",{className:bt.formGrid,children:[p.jsx(tr,{label:"Domain",value:De,onChange:P=>O(Number(P.target.value)),children:e.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))}),p.jsx(pl,{label:"Goal Title",value:he,onChange:P=>me(P.target.value),placeholder:"e.g., Get in shape",onKeyDown:P=>P.key==="Enter"&&Me()}),p.jsx(Lm,{label:"Description (optional)",value:de,onChange:P=>Re(P.target.value),placeholder:"Describe your goal..."})]})}),p.jsx(Mm,{open:z!==null,onClose:()=>ee(null),title:"New Quest",actions:p.jsxs(p.Fragment,{children:[p.jsx(vt,{onClick:()=>ee(null),children:"Cancel"}),p.jsx(vt,{variant:"primary",onClick:Et,children:"Create Quest"})]}),children:p.jsxs("div",{className:bt.formGrid,children:[p.jsx(pl,{label:"Quest Title",value:I,onChange:P=>L(P.target.value),placeholder:"e.g., Run 5K",onKeyDown:P=>P.key==="Enter"&&Et()}),p.jsx(Lm,{label:"Description (optional)",value:V,onChange:P=>k(P.target.value),placeholder:"Describe this quest..."}),p.jsxs(tr,{label:"Priority",value:U,onChange:P=>x(P.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important (1.5x XP)"}),p.jsx("option",{value:"legendary",children:"Legendary (2x XP)"})]})]})})]})}const x3="_buffTracker_10dzk_1",I3="_buffToolbar_10dzk_13",D3="_buffGrid_10dzk_33",O3="_buffSection_10dzk_45",k3="_buffCard_10dzk_59",L3="_buffCardIcon_10dzk_89",M3="_buffCardInfo_10dzk_99",j3="_buffCardName_10dzk_107",V3="_buffCardDesc_10dzk_119",U3="_buffCardMeta_10dzk_131",B3="_buffCardActions_10dzk_141",q3="_buffTypeBadge_10dzk_155",z3="_buffTypeBuff_10dzk_175",P3="_buffTypeDebuff_10dzk_187",H3="_activeSection_10dzk_201",F3="_activeBuffItem_10dzk_213",G3="_isBuff_10dzk_229",X3="_isDebuff_10dzk_241",Y3="_activeBuffIcon_10dzk_253",Q3="_activeBuffInfo_10dzk_261",K3="_activeBuffName_10dzk_269",$3="_activeBuffTimer_10dzk_277",W3="_activeBuffEffects_10dzk_287",Z3="_formGrid_10dzk_299",J3="_formRow_10dzk_311",eO="_statEffectRow_10dzk_329",tO="_statEffectLabel_10dzk_341",nO="_statEffectInput_10dzk_355",iO="_divider_10dzk_363",sO="_emptyState_10dzk_375",aO="_streakBadge_10dzk_391",rO="_atRisk_10dzk_421",oO="_shieldActive_10dzk_435",lO="_streakIcon_10dzk_447",uO="_streakCount_10dzk_455",cO="_streakLabel_10dzk_463",fO="_shieldInventory_10dzk_483",hO="_shieldIcon_10dzk_505",dO="_shieldInfo_10dzk_513",mO="_shieldTitle_10dzk_521",pO="_shieldDesc_10dzk_533",gO="_shieldCount_10dzk_543",_O="_milestoneBadge_10dzk_563",yO="_milestoneIcon_10dzk_589",vO="_claimMilestone_10dzk_619",Be={buffTracker:x3,buffToolbar:I3,buffGrid:D3,buffSection:O3,buffCard:k3,buffCardIcon:L3,buffCardInfo:M3,buffCardName:j3,buffCardDesc:V3,buffCardMeta:U3,buffCardActions:B3,buffTypeBadge:q3,buffTypeBuff:z3,buffTypeDebuff:P3,activeSection:H3,activeBuffItem:F3,isBuff:G3,isDebuff:X3,activeBuffIcon:Y3,activeBuffInfo:Q3,activeBuffName:K3,activeBuffTimer:$3,activeBuffEffects:W3,formGrid:Z3,formRow:J3,statEffectRow:eO,statEffectLabel:tO,statEffectInput:nO,divider:iO,emptyState:sO,streakBadge:aO,atRisk:rO,shieldActive:oO,streakIcon:lO,streakCount:uO,streakLabel:cO,shieldInventory:fO,shieldIcon:hO,shieldInfo:dO,shieldTitle:mO,shieldDesc:pO,shieldCount:gO,milestoneBadge:_O,milestoneIcon:yO,claimMilestone:vO},um=[{name:"Morning Exercise",description:"Worked out in the morning",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2,willpower:1}},{name:"Cardio / Running",description:"Ran, cycled, swam, or did sustained cardio",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2}},{name:"Strength Training",description:"Lifted weights or did resistance training",type:"buff",icon:"",duration:24,stats:{stamina:2,health:1,willpower:2}},{name:"Yoga / Stretching",description:"Did yoga, stretching, or mobility work",type:"buff",icon:"",duration:24,stats:{health:2,focus:1,willpower:1}},{name:"8 Hours Sleep",description:"Got a full night of quality sleep",type:"buff",icon:"",duration:24,stats:{health:2,focus:2,stamina:1,willpower:1}},{name:"Meditation",description:"Practiced mindfulness or meditation",type:"buff",icon:"",duration:24,stats:{willpower:3,focus:2}},{name:"Healthy Meal",description:"Ate a balanced, nutritious meal",type:"buff",icon:"",duration:24,stats:{health:3,stamina:1}},{name:"Drank Enough Water",description:"Hit daily water intake goal",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Read 30+ Minutes",description:"Read a book, article, or educational material",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:1}},{name:"Studied / Learned",description:"Studied a course, skill, or new subject",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2}},{name:"Deep Work Session",description:"Focused work with no distractions for 90+ min",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2,stamina:1}},{name:"Journaling",description:"Wrote in journal or reflected on the day",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Cold Shower",description:"Took a cold shower or ice bath",type:"buff",icon:"",duration:24,stats:{willpower:3,stamina:1}},{name:"No Phone First Hour",description:"Avoided phone for first hour after waking",type:"buff",icon:"",duration:24,stats:{focus:2,willpower:2}},{name:"Socialised",description:"Had meaningful social interaction",type:"buff",icon:"",duration:24,stats:{charisma:3,willpower:1}},{name:"Helped Someone",description:"Did something kind or helpful for another person",type:"buff",icon:"",duration:24,stats:{charisma:2,willpower:1}},{name:"Creative Time",description:"Spent time on a creative pursuit",type:"buff",icon:"",duration:24,stats:{focus:2,charisma:1,willpower:1}},{name:"Sunlight / Nature",description:"Spent 20+ minutes outdoors in natural light",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Gratitude Practice",description:"Practiced gratitude  wrote or reflected on 3+",type:"buff",icon:"",duration:24,stats:{willpower:2,charisma:1}},{name:"Meal Prep",description:"Prepared healthy meals in advance",type:"buff",icon:"",duration:48,stats:{health:2,willpower:1,stamina:1}},{name:"Cleaned / Organised",description:"Cleaned home, desk, or organised belongings",type:"buff",icon:"",duration:24,stats:{focus:1,willpower:2}},{name:"Financial Check-In",description:"Reviewed budget, tracked expenses, or saved",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Junk Food",description:"Ate fast food, excessive sugar, or processed food",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-1}},{name:"Skipped Exercise",description:"Had planned to exercise but didn't",type:"debuff",icon:"",duration:24,stats:{stamina:-2,willpower:-2}},{name:"Poor Sleep",description:"Got less than 6 hours or very poor quality",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,stamina:-1,willpower:-1}},{name:"Doomscrolling",description:"Mindlessly scrolled social media for 30+ min",type:"debuff",icon:"",duration:24,stats:{focus:-3,willpower:-2}},{name:"Excessive Gaming",description:"Played video games for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-2,stamina:-1}},{name:"Binge Watching",description:"Watched TV/streaming for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-1,stamina:-1}},{name:"Alcohol",description:"Drank alcohol",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,willpower:-1}},{name:"Smoking / Vaping",description:"Smoked cigarettes or vaped",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-2}},{name:"Excessive Caffeine",description:"Had too much coffee or energy drinks",type:"debuff",icon:"",duration:24,stats:{health:-1,focus:-1,stamina:-1}},{name:"Procrastinated",description:"Avoided important tasks most of the day",type:"debuff",icon:"",duration:24,stats:{willpower:-3,focus:-2}},{name:"Skipped Meals",description:"Skipped a meal or barely ate",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-2,focus:-1}},{name:"Stayed Up Too Late",description:"Went to bed much later than planned",type:"debuff",icon:"",duration:24,stats:{health:-1,willpower:-2,stamina:-1}},{name:"Impulse Spending",description:"Made unnecessary or impulse purchases",type:"debuff",icon:"",duration:24,stats:{willpower:-2}},{name:"Negative Self-Talk",description:"Caught in self-criticism or negative thought loops",type:"debuff",icon:"",duration:24,stats:{willpower:-2,charisma:-2}},{name:"Social Isolation",description:"Avoided people or cancelled social plans",type:"debuff",icon:"",duration:24,stats:{charisma:-3,willpower:-1}},{name:"Sugary Drinks",description:"Had soda, energy drinks, or sugary beverages",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-1}},{name:"Lost Temper",description:"Got angry or had an emotional outburst",type:"debuff",icon:"",duration:24,stats:{charisma:-2,willpower:-2}}],EO=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function TO(s){const e=Math.round(s*60);if(e<60)return`${e}m`;const i=Math.floor(e/60),a=e%60;return a===0?`${i}h`:`${i}h ${a}m`}function bO({definitions:s,activeBuffs:e,onCreateDefinition:i,onDeleteDefinition:a,onActivateBuff:l,onDeactivateBuff:c,streakInfos:m,shieldCount:v=0,onUseShield:T,getUnclaimedMilestones:g,onClaimMilestones:w}){const[C,D]=se.useState(!1),[J,W]=se.useState(""),[ne,z]=se.useState(""),[ee,he]=se.useState("buff"),[me,de]=se.useState(""),[Re,De]=se.useState(1440),[O,I]=se.useState({}),L=$=>{if($==="")return;const _e=um[Number($)];_e&&(W(_e.name),z(_e.description),he(_e.type),de(_e.icon),De(_e.duration*60),I({..._e.stats}))},V=()=>{W(""),z(""),he("buff"),de(""),De(1440),I({})},k=()=>{if(!J.trim())return;const $=Object.fromEntries(Object.entries(O).filter(([,$e])=>$e!==0)),_e=Re/60;i(J.trim(),ne.trim(),ee,me,_e,JSON.stringify($)),V(),D(!1)};function U($){const _e=new Date,Qe=new Date($+"Z").getTime()-_e.getTime();if(Qe<=0)return"Expired";const B=Math.floor(Qe/36e5),re=Math.floor(Qe%36e5/6e4);return B>0?`${B}h ${re}m`:`${re}m`}const x=s.filter($=>$.type==="buff"),Me=s.filter($=>$.type==="debuff"),Et=um.map(($,_e)=>({...$,index:_e})).filter($=>$.type==="buff"),P=um.map(($,_e)=>({...$,index:_e})).filter($=>$.type==="debuff");return p.jsxs("div",{className:Be.buffTracker,children:[p.jsxs("div",{className:Be.buffToolbar,children:[p.jsx("div",{}),p.jsx(vt,{variant:"primary",onClick:()=>{V(),D(!0)},children:"+ New Buff/Debuff"})]}),p.jsxs("div",{className:Be.shieldInventory,children:[p.jsx("span",{className:Be.shieldIcon,children:""}),p.jsxs("div",{className:Be.shieldInfo,children:[p.jsx("div",{className:Be.shieldTitle,children:"Streak Shields"}),p.jsx("div",{className:Be.shieldDesc,children:"Protects a streak if you miss a day"})]}),p.jsx("span",{className:Be.shieldCount,children:v})]}),e.length>0&&p.jsx(vi,{header:"Active Effects",glow:!0,children:p.jsx("div",{className:Be.activeSection,children:e.map($=>{const _e=yf($.stat_effects),$e=Object.entries(_e).map(([Qe,B])=>`${B>0?"+":""}${B} ${Qe}`).join(", ");return p.jsxs("div",{className:`${Be.activeBuffItem} ${$.type==="buff"?Be.isBuff:Be.isDebuff}`,children:[p.jsx("span",{className:Be.activeBuffIcon,children:$.icon}),p.jsxs("div",{className:Be.activeBuffInfo,children:[p.jsx("div",{className:Be.activeBuffName,children:$.name}),p.jsxs("div",{className:Be.activeBuffTimer,children:[U($.expires_at)," remaining"]}),$e&&p.jsx("div",{className:Be.activeBuffEffects,children:$e})]}),p.jsx(vt,{size:"small",variant:"danger",onClick:()=>c($.id),children:"Remove"})]},$.id)})})}),p.jsxs("div",{className:Be.buffGrid,children:[p.jsx(vi,{header:"Buffs (Positive Habits)",children:x.length===0?p.jsx("div",{className:Be.emptyState,children:"No buffs defined yet"}):p.jsx("div",{className:Be.buffSection,children:x.map($=>p.jsx(BE,{definition:$,onActivate:l,onDelete:a,streakInfo:m?.get($.id),shieldCount:v,onUseShield:T,unclaimedMilestones:g?.($.id)||[],onClaimMilestones:w},$.id))})}),p.jsx(vi,{header:"Debuffs (Negative Habits)",children:Me.length===0?p.jsx("div",{className:Be.emptyState,children:"No debuffs defined yet"}):p.jsx("div",{className:Be.buffSection,children:Me.map($=>p.jsx(BE,{definition:$,onActivate:l,onDelete:a},$.id))})})]}),p.jsx(Mm,{open:C,onClose:()=>D(!1),title:"New Buff / Debuff",actions:p.jsxs(p.Fragment,{children:[p.jsx(vt,{onClick:()=>D(!1),children:"Cancel"}),p.jsx(vt,{variant:"primary",onClick:k,children:"Create"})]}),children:p.jsxs("div",{className:Be.formGrid,children:[p.jsxs(tr,{label:"Quick Select  Common Habits",value:"",onChange:$=>L($.target.value),children:[p.jsx("option",{value:"",children:" Choose a preset to auto-fill "}),p.jsx("optgroup",{label:"Buffs (Positive Habits)",children:Et.map($=>p.jsxs("option",{value:$.index,children:[$.icon," ",$.name]},$.index))}),p.jsx("optgroup",{label:"Debuffs (Negative Habits)",children:P.map($=>p.jsxs("option",{value:$.index,children:[$.icon," ",$.name]},$.index))})]}),p.jsx("div",{className:Be.divider}),p.jsxs("div",{className:Be.formRow,children:[p.jsx(pl,{label:"Name",value:J,onChange:$=>W($.target.value),placeholder:"e.g., Morning Exercise"}),p.jsxs(tr,{label:"Type",value:ee,onChange:$=>he($.target.value),children:[p.jsx("option",{value:"buff",children:"Buff (Positive)"}),p.jsx("option",{value:"debuff",children:"Debuff (Negative)"})]})]}),p.jsx(Lm,{label:"Description",value:ne,onChange:$=>z($.target.value),placeholder:"Describe this habit..."}),p.jsxs("div",{className:Be.formRow,children:[p.jsx(tr,{label:"Icon",value:me,onChange:$=>de($.target.value),children:EO.map($=>p.jsx("option",{value:$,children:$},$))}),p.jsx(pl,{label:"Duration (minutes)",type:"number",value:Re,onChange:$=>De(Number($.target.value)),min:1,max:10080})]}),p.jsxs("div",{children:[p.jsx("label",{className:Be.statEffectLabel,style:{display:"block",marginBottom:8,fontFamily:"var(--font-heading)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"var(--text-secondary)"},children:"Stat Effects"}),FE.map($=>p.jsxs("div",{className:Be.statEffectRow,children:[p.jsx("span",{className:Be.statEffectLabel,children:$}),p.jsx("input",{type:"number",className:Be.statEffectInput,value:O[$]||0,onChange:_e=>I({...O,[$]:Number(_e.target.value)}),style:{padding:"4px 8px",background:"var(--bg-dark)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",fontFamily:"var(--font-body)"}})]},$))]})]})})]})}function BE({definition:s,onActivate:e,onDelete:i,streakInfo:a,shieldCount:l=0,onUseShield:c,unclaimedMilestones:m=[],onClaimMilestones:v}){const T=yf(s.stat_effects),g=Object.entries(T).map(([z,ee])=>`${ee>0?"+":""}${ee} ${z}`).join(", "),w=a?wI(a.currentStreak):null,C=a&&a.currentStreak>0,D=a?.isAtRisk&&!a?.shieldActive,J=a?.shieldActive,W=async()=>{c&&a&&await c(s.id)},ne=async()=>{v&&await v(s.id)};return p.jsxs("div",{className:Be.buffCard,children:[p.jsx("span",{className:Be.buffCardIcon,children:s.icon}),p.jsxs("div",{className:Be.buffCardInfo,children:[p.jsxs("div",{className:Be.buffCardName,children:[s.name,w&&p.jsxs("span",{className:Be.milestoneBadge,children:[p.jsx("span",{className:Be.milestoneIcon,children:w.icon}),w.title]})]}),s.description&&p.jsx("div",{className:Be.buffCardDesc,children:s.description}),p.jsxs("div",{className:Be.buffCardMeta,children:[p.jsx("span",{className:`${Be.buffTypeBadge} ${s.type==="buff"?Be.buffTypeBuff:Be.buffTypeDebuff}`,children:s.type})," ",TO(s.duration_hours),g&&`  ${g}`]}),s.type==="buff"&&C&&p.jsxs("div",{className:`${Be.streakBadge} ${D?Be.atRisk:""} ${J?Be.shieldActive:""}`,children:[p.jsx("span",{className:Be.streakIcon,children:J?"":""}),p.jsx("span",{className:Be.streakCount,children:a.currentStreak}),p.jsxs("span",{className:Be.streakLabel,children:["day streak",D&&" (at risk!)",J&&" (protected)"]})]}),D&&l>0&&c&&p.jsx(vt,{size:"small",variant:"ghost",onClick:W,style:{marginTop:6},children:" Use Shield"}),m.length>0&&v&&p.jsxs(vt,{size:"small",variant:"primary",onClick:ne,className:Be.claimMilestone,children:[" Claim ",m.length," Milestone",m.length>1?"s":"","!"]})]}),p.jsxs("div",{className:Be.buffCardActions,children:[p.jsx(vt,{size:"small",variant:"primary",onClick:()=>e(s.id),children:"Activate"}),p.jsx(vt,{size:"small",variant:"danger",onClick:()=>i(s.id),children:"Delete"})]})]})}const SO="_container_e9q7r_1",wO="_title_e9q7r_17",AO="_status_e9q7r_33",RO="_indicator_e9q7r_49",NO="_connected_e9q7r_61",CO="_disconnected_e9q7r_71",xO="_lastBackup_e9q7r_79",IO="_statusMessage_e9q7r_91",DO="_actions_e9q7r_121",OO="_button_e9q7r_135",kO="_buttonSecondary_e9q7r_167 _button_e9q7r_135",LO="_buttonDanger_e9q7r_187 _button_e9q7r_135",MO="_backupList_e9q7r_209",jO="_backupItem_e9q7r_233",VO="_backupName_e9q7r_255",UO="_backupDate_e9q7r_269",BO="_restoreButton_e9q7r_279",qO="_noBackups_e9q7r_307",zO="_tokenInputContainer_e9q7r_321",PO="_tokenHelp_e9q7r_329",HO="_tokenInput_e9q7r_321",FO="_tokenActions_e9q7r_393",yt={container:SO,title:wO,status:AO,indicator:RO,connected:NO,disconnected:CO,lastBackup:xO,statusMessage:IO,actions:DO,button:OO,buttonSecondary:kO,buttonDanger:LO,backupList:MO,backupItem:jO,backupName:VO,backupDate:UO,restoreButton:BO,noBackups:qO,tokenInputContainer:zO,tokenHelp:PO,tokenInput:HO,tokenActions:FO};function GO(){const[s,e]=se.useState(!1),[i,a]=se.useState(!0),[l,c]=se.useState(null),[m,v]=se.useState(""),[T,g]=se.useState([]),[w,C]=se.useState(!1),[D,J]=se.useState(""),[W,ne]=se.useState(!1),[z,ee]=se.useState(!1),[he,me]=se.useState(""),de=se.useCallback(()=>{e(KE()),c($E())},[]);se.useEffect(()=>{de(),a(!1)},[de]);const Re=async()=>{if(!D.trim()){v("Please enter a GitHub token");return}v("Verifying token..."),await bw(D.trim())?(pw(D.trim()),e(!0),ne(!1),J(""),v("Connected to GitHub!")):v("Invalid token. Please check and try again.")},De=()=>{gw(),e(!1),c(null),v("Disconnected"),g([])},O=async()=>{v("Backing up...");try{const U=await Vm(),x=await ZE(U);x.success?(v(`Backup saved: ${x.fileName}`),c(new Date),await e0(7)):v(`Backup failed: ${x.error}`)}catch(U){v(`Backup failed: ${U instanceof Error?U.message:"Unknown error"}`)}},I=async()=>{if(C(!w),!w){v("Loading backups...");const U=await JE();g(U),v("")}},L=()=>{const U=he.trim();if(!U){v("Please enter a gist ID");return}const x=U.match(/([a-f0-9]{32})/i);x?(localStorage.setItem("github_gist_id",x[1]),v('Gist ID set! Click "Restore from Backup" to see backups.'),ee(!1),me("")):v("Invalid gist ID. Paste the gist URL or ID.")},V=async U=>{if(confirm(`Restore from "${U}"? This will replace all current data.`)){v("Restoring...");try{const x=await Tw(U);x?(await HE(x),v("Restored successfully! Refreshing..."),setTimeout(()=>window.location.reload(),1500)):v("Failed to download backup")}catch(x){v(`Restore failed: ${x instanceof Error?x.message:"Unknown error"}`)}}},k=U=>{const x=U.match(/backup-(\d{4})-(\d{2})-(\d{2})T(\d{2})-(\d{2})/);if(x){const[,Me,Et,P,$,_e]=x;return`${Me}-${Et}-${P} ${$}:${_e}`}return U};return i?p.jsx("div",{className:yt.container,children:"Loading..."}):p.jsxs("div",{className:yt.container,children:[p.jsx("h3",{className:yt.title,children:"Cloud Backup (GitHub)"}),p.jsxs("div",{className:yt.status,children:[p.jsx("span",{className:`${yt.indicator} ${s?yt.connected:yt.disconnected}`}),p.jsx("span",{children:s?"Connected to GitHub":"Not connected"})]}),l&&p.jsxs("p",{className:yt.lastBackup,children:["Last backup: ",l.toLocaleString()]}),m&&p.jsx("p",{className:yt.statusMessage,children:m}),p.jsx("div",{className:yt.actions,children:s?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:O,className:yt.button,children:"Backup Now"}),p.jsx("button",{onClick:I,className:yt.buttonSecondary,children:w?"Hide Backups":"Restore from Backup"}),p.jsx("button",{onClick:()=>ee(!z),className:yt.buttonSecondary,children:z?"Cancel":"Link Existing Gist"}),p.jsx("button",{onClick:De,className:yt.buttonDanger,children:"Disconnect"}),z&&p.jsxs("div",{className:yt.tokenInputContainer,children:[p.jsx("p",{className:yt.tokenHelp,children:"Paste your gist URL or ID to restore from an existing backup:"}),p.jsx("input",{type:"text",value:he,onChange:U=>me(U.target.value),placeholder:"https://gist.github.com/user/abc123... or just abc123...",className:yt.tokenInput}),p.jsx("button",{onClick:L,className:yt.button,children:"Link Gist"})]})]}):p.jsx(p.Fragment,{children:W?p.jsxs("div",{className:yt.tokenInputContainer,children:[p.jsxs("p",{className:yt.tokenHelp,children:["Create a token at ",p.jsx("a",{href:"https://github.com/settings/tokens/new?description=Goal%20Game%20Backup&scopes=gist",target:"_blank",rel:"noopener noreferrer",children:"GitHub Settings"})," with ",p.jsx("strong",{children:"gist"})," scope."]}),p.jsx("input",{type:"password",value:D,onChange:U=>J(U.target.value),placeholder:"Paste your GitHub token",className:yt.tokenInput}),p.jsxs("div",{className:yt.tokenActions,children:[p.jsx("button",{onClick:Re,className:yt.button,children:"Save Token"}),p.jsx("button",{onClick:()=>{ne(!1),J("")},className:yt.buttonSecondary,children:"Cancel"})]})]}):p.jsx("button",{onClick:()=>ne(!0),className:yt.button,children:"Connect GitHub"})})}),w&&T.length>0&&p.jsxs("div",{className:yt.backupList,children:[p.jsx("h4",{children:"Available Backups (Last 7 kept)"}),T.map(U=>p.jsxs("div",{className:yt.backupItem,children:[p.jsx("span",{className:yt.backupName,children:k(U.fileName)}),p.jsxs("span",{className:yt.backupDate,children:[Math.round(U.size/1024)," KB"]}),p.jsx("button",{onClick:()=>V(U.fileName),className:yt.restoreButton,children:"Restore"})]},U.fileName))]}),w&&T.length===0&&p.jsx("p",{className:yt.noBackups,children:"No backups found"})]})}const XO=[{value:null,label:"No reminder"},{value:0,label:"At event time"},{value:5,label:"5 minutes before"},{value:10,label:"10 minutes before"},{value:15,label:"15 minutes before"},{value:30,label:"30 minutes before"},{value:60,label:"1 hour before"}],YO="_settingsPanel_zjhn0_1",QO="_settingsTitle_zjhn0_9",KO="_settingsDescription_zjhn0_23",$O="_settingRow_zjhn0_35",WO="_settingLabel_zjhn0_59",ZO="_iosInstructions_zjhn0_71",JO="_iosTitle_zjhn0_87",e6="_iosText_zjhn0_99",t6="_iosList_zjhn0_111",n6="_deniedMessage_zjhn0_135",i6="_errorMessage_zjhn0_137",s6="_statusIndicator_zjhn0_169",a6="_statusDot_zjhn0_187",r6="_reminderSelect_zjhn0_251",o6="_debugInfo_zjhn0_317",l6="_debugLabel_zjhn0_335",u6="_debugToken_zjhn0_349",c6="_debugError_zjhn0_363",Mt={settingsPanel:YO,settingsTitle:QO,settingsDescription:KO,settingRow:$O,settingLabel:WO,iosInstructions:ZO,iosTitle:JO,iosText:e6,iosList:t6,deniedMessage:n6,errorMessage:i6,statusIndicator:s6,statusDot:a6,reminderSelect:r6,debugInfo:o6,debugLabel:l6,debugToken:u6,debugError:c6};function f6(){const{settings:s,permissionState:e,isSupported:i,isConfigured:a,canEnable:l,isIOS:c,isStandalone:m,loading:v,error:T,enableNotifications:g,disableNotificationsHandler:w,setDefaultReminderMinutes:C}=Eb();return a?i?p.jsxs(vi,{className:Mt.settingsPanel,children:[p.jsx("h3",{className:Mt.settingsTitle,children:"Push Notifications"}),c&&!m&&p.jsxs("div",{className:Mt.iosInstructions,children:[p.jsx("p",{className:Mt.iosTitle,children:"iOS Setup Required"}),p.jsx("p",{className:Mt.iosText,children:"To receive push notifications on iOS, you need to add this app to your home screen first:"}),p.jsxs("ol",{className:Mt.iosList,children:[p.jsx("li",{children:"Tap the Share button in Safari"}),p.jsx("li",{children:'Select "Add to Home Screen"'}),p.jsx("li",{children:"Open the app from your home screen"}),p.jsx("li",{children:"Then enable notifications here"})]})]}),e==="denied"&&p.jsx("div",{className:Mt.deniedMessage,children:p.jsx("p",{children:"Notifications are blocked. Please enable them in your browser settings."})}),T&&p.jsx("div",{className:Mt.errorMessage,children:p.jsx("p",{children:T})}),p.jsxs("div",{className:Mt.settingRow,children:[p.jsx("span",{className:Mt.settingLabel,children:"Event Reminders"}),s.enabled?p.jsx(vt,{variant:"danger",size:"small",onClick:w,disabled:v,children:v?"Disabling...":"Disable"}):p.jsx(vt,{variant:"primary",size:"small",onClick:g,disabled:v||!l||e==="denied",children:v?"Enabling...":"Enable"})]}),s.enabled&&p.jsxs("div",{className:Mt.settingRow,children:[p.jsx("span",{className:Mt.settingLabel,children:"Default Reminder"}),p.jsx("select",{className:Mt.reminderSelect,value:s.defaultReminderMinutes,onChange:D=>C(Number(D.target.value)),children:XO.filter(D=>D.value!==null).map(D=>p.jsx("option",{value:D.value,children:D.label},D.value))})]}),s.enabled&&p.jsxs("div",{className:Mt.statusIndicator,children:[p.jsx("span",{className:Mt.statusDot}),"Notifications enabled"]}),s.enabled&&p.jsxs("div",{className:Mt.debugInfo,children:[p.jsx("p",{className:Mt.debugLabel,children:"Token Status:"}),s.fcmToken?p.jsxs("p",{className:Mt.debugToken,children:[s.fcmToken.substring(0,20),"...",s.fcmToken.substring(s.fcmToken.length-10)]}):p.jsx("p",{className:Mt.debugError,children:"No token - notifications will not work!"}),p.jsxs("p",{className:Mt.debugLabel,children:["Device ID: ",s.deviceId.substring(0,8),"..."]})]}),s.enabled&&!s.fcmToken&&p.jsx("div",{className:Mt.errorMessage,children:p.jsx("p",{children:"Token missing! Try: Disable  Wait 5 sec  Re-enable"})})]}):p.jsxs(vi,{className:Mt.settingsPanel,children:[p.jsx("h3",{className:Mt.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:Mt.settingsDescription,children:"Push notifications are not supported in this browser."})]}):p.jsxs(vi,{className:Mt.settingsPanel,children:[p.jsx("h3",{className:Mt.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:Mt.settingsDescription,children:"Push notifications are not configured. To enable them, add your Firebase configuration to the .env file."})]})}const h6="_dailyQuestsPanel_rygmp_1",d6="_questsList_rygmp_55",m6="_questItem_rygmp_67",p6="_completed_rygmp_89",g6="_questItemHeader_rygmp_99",_6="_questCheckbox_rygmp_111",y6="_questInfo_rygmp_149",v6="_questTitleRow_rygmp_159",E6="_questName_rygmp_173",T6="_questXp_rygmp_193",b6="_questDescription_rygmp_223",S6="_progressContainer_rygmp_235",w6="_progressBar_rygmp_247",A6="_progressFill_rygmp_263",R6="_progressText_rygmp_285",N6="_bonusSection_rygmp_303",C6="_available_rygmp_321",x6="_claimed_rygmp_329",I6="_bonusTitle_rygmp_349",D6="_bonusDescription_rygmp_371",O6="_bonusXp_rygmp_383",k6="_claimButton_rygmp_403",L6="_loading_rygmp_413",M6="_emptyState_rygmp_429",Ft={dailyQuestsPanel:h6,questsList:d6,questItem:m6,completed:p6,questItemHeader:g6,questCheckbox:_6,questInfo:y6,questTitleRow:v6,questName:E6,questXp:T6,questDescription:b6,progressContainer:S6,progressBar:w6,progressFill:A6,progressText:R6,bonusSection:N6,available:C6,claimed:x6,bonusTitle:I6,bonusDescription:D6,bonusXp:O6,claimButton:k6,loading:L6,emptyState:M6};function j6({quests:s,loading:e,allCompleted:i,completedCount:a,bonusClaimed:l,bonusXp:c,onClaimBonus:m}){const[v,T]=se.useState(!1),g=e?"Daily Quests (Loading...)":`Daily Quests (${a}/${s.length})${i&&!l?" - Bonus Ready!":""}`;return p.jsxs("div",{className:Ft.dailyQuestsPanel,children:[p.jsx(vt,{size:"small",variant:i&&!l?"primary":void 0,onClick:()=>T(!v),style:{width:"100%",marginBottom:v?8:0},children:v?"Hide Daily Quests":g}),v&&p.jsx(vi,{glow:i&&!l,children:e?p.jsx("div",{className:Ft.loading,children:"Loading daily quests..."}):s.length===0?p.jsx("div",{className:Ft.emptyState,children:"No daily quests available"}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Ft.questsList,children:s.map(w=>p.jsx(V6,{quest:w},w.id))}),p.jsxs("div",{className:`${Ft.bonusSection} ${i&&!l?Ft.available:l?Ft.claimed:""}`,children:[p.jsx("div",{className:Ft.bonusTitle,children:l?"Bonus Claimed!":"Complete All Quests"}),p.jsx("div",{className:Ft.bonusDescription,children:l?"Great work! See you tomorrow.":"Finish all 3 quests to earn a bonus"}),p.jsxs("div",{className:Ft.bonusXp,children:["+",c," XP"]}),i&&!l&&p.jsx(vt,{className:Ft.claimButton,size:"small",onClick:m,children:"Claim Bonus"})]})]})})]})}function V6({quest:s}){const e=Math.min(s.current_value/s.target_value*100,100);return p.jsxs("div",{className:`${Ft.questItem} ${s.is_completed?Ft.completed:""}`,children:[p.jsxs("div",{className:Ft.questItemHeader,children:[p.jsx("div",{className:Ft.questCheckbox,children:s.is_completed&&p.jsx("span",{children:""})}),p.jsxs("div",{className:Ft.questInfo,children:[p.jsxs("div",{className:Ft.questTitleRow,children:[p.jsx("span",{className:Ft.questName,children:s.title}),p.jsxs("span",{className:Ft.questXp,children:["+",s.xp_reward," XP"]})]}),p.jsx("div",{className:Ft.questDescription,children:s.description})]})]}),p.jsxs("div",{className:Ft.progressContainer,children:[p.jsx("div",{className:Ft.progressBar,children:p.jsx("div",{className:Ft.progressFill,style:{width:`${e}%`}})}),p.jsxs("span",{className:Ft.progressText,children:[s.current_value,"/",s.target_value]})]})]})}const U6="_bossPanel_la2se_1",B6="_bossButton_la2se_9",q6="_bossContent_la2se_17",z6="_bossHeader_la2se_25",P6="_bossIcon_la2se_39",H6="_defeated_la2se_49",F6="_bossInfo_la2se_57",G6="_bossName_la2se_65",X6="_bossDescription_la2se_89",Y6="_bossStatus_la2se_101",Q6="_bossReward_la2se_109",K6="_hpSection_la2se_135",$6="_hpLabel_la2se_143",W6="_hpTitle_la2se_157",Z6="_hpValue_la2se_171",J6="_hpBar_la2se_181",ek="_hpFill_la2se_199",tk="_low_la2se_237",nk="_damageStats_la2se_255",ik="_damageStat_la2se_255",sk="_damageStatValue_la2se_283",ak="_damageStatLabel_la2se_295",rk="_damageGuide_la2se_309",ok="_damageGuideTitle_la2se_323",lk="_damageGuideList_la2se_339",uk="_damageGuideItem_la2se_353",ck="_damageGuideAmount_la2se_365",fk="_defeatedBanner_la2se_377",hk="_defeatedTitle_la2se_395",dk="_defeatedText_la2se_409",mk="_defeatedRewards_la2se_419",pk="_weekInfo_la2se_433",gk="_loading_la2se_449",He={bossPanel:U6,bossButton:B6,bossContent:q6,bossHeader:z6,bossIcon:P6,defeated:H6,bossInfo:F6,bossName:G6,bossDescription:X6,bossStatus:Y6,bossReward:Q6,hpSection:K6,hpLabel:$6,hpTitle:W6,hpValue:Z6,hpBar:J6,hpFill:ek,low:tk,damageStats:nk,damageStat:ik,damageStatValue:sk,damageStatLabel:ak,damageGuide:rk,damageGuideTitle:ok,damageGuideList:lk,damageGuideItem:uk,damageGuideAmount:ck,defeatedBanner:fk,defeatedTitle:hk,defeatedText:dk,defeatedRewards:mk,weekInfo:pk,loading:gk};function _k({boss:s,loading:e,weekStart:i,weekEnd:a,hpPercentage:l,damageDealt:c,totalDefeated:m}){const[v,T]=se.useState(!1),g=C=>new Date(C+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),w=e?"Weekly Boss (Loading...)":s?.is_defeated?`Weekly Boss - ${s.name} DEFEATED!`:`Weekly Boss - ${s?.name} (${s?.current_hp}/${s?.max_hp} HP)`;return p.jsxs("div",{className:He.bossPanel,children:[p.jsx(vt,{size:"small",variant:s?.is_defeated?"primary":void 0,onClick:()=>T(!v),className:He.bossButton,children:v?"Hide Weekly Boss":w}),v&&p.jsx(vi,{className:He.bossContent,glow:s?.is_defeated,children:e?p.jsx("div",{className:He.loading,children:"Summoning this week's boss..."}):s?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:He.bossHeader,children:[p.jsx("span",{className:`${He.bossIcon} ${s.is_defeated?He.defeated:""}`,children:s.icon}),p.jsxs("div",{className:He.bossInfo,children:[p.jsx("div",{className:`${He.bossName} ${s.is_defeated?He.defeated:""}`,children:s.name}),p.jsx("div",{className:He.bossDescription,children:s.description})]}),p.jsxs("div",{className:He.bossStatus,children:[p.jsxs("div",{className:He.bossReward,children:["+",s.xp_reward," XP"]}),s.bonus_shields>0&&p.jsxs("div",{className:He.bossReward,children:["+",s.bonus_shields," Shield",s.bonus_shields>1?"s":""]})]})]}),s.is_defeated&&p.jsxs("div",{className:He.defeatedBanner,children:[p.jsx("div",{className:He.defeatedTitle,children:"Victory!"}),p.jsxs("div",{className:He.defeatedText,children:["You defeated ",s.name," this week!"]}),p.jsxs("div",{className:He.defeatedRewards,children:["Rewards: +",s.xp_reward," XP",s.bonus_shields>0&&`, +${s.bonus_shields} Streak Shield${s.bonus_shields>1?"s":""}`]})]}),!s.is_defeated&&p.jsxs("div",{className:He.hpSection,children:[p.jsxs("div",{className:He.hpLabel,children:[p.jsx("span",{className:He.hpTitle,children:"Boss HP"}),p.jsxs("span",{className:He.hpValue,children:[s.current_hp," / ",s.max_hp]})]}),p.jsx("div",{className:He.hpBar,children:p.jsx("div",{className:`${He.hpFill} ${l<30?He.low:""}`,style:{width:`${l}%`}})})]}),p.jsxs("div",{className:He.damageStats,children:[p.jsxs("div",{className:He.damageStat,children:[p.jsx("div",{className:He.damageStatValue,children:c}),p.jsx("div",{className:He.damageStatLabel,children:"Damage Dealt"})]}),p.jsxs("div",{className:He.damageStat,children:[p.jsx("div",{className:He.damageStatValue,children:m}),p.jsx("div",{className:He.damageStatLabel,children:"Bosses Defeated"})]})]}),!s.is_defeated&&p.jsxs("div",{className:He.damageGuide,children:[p.jsx("div",{className:He.damageGuideTitle,children:"How to Deal Damage"}),p.jsxs("div",{className:He.damageGuideList,children:[p.jsxs("div",{className:He.damageGuideItem,children:[p.jsx("span",{children:"Complete Step"}),p.jsxs("span",{className:He.damageGuideAmount,children:["-",tl.step_completed," HP"]})]}),p.jsxs("div",{className:He.damageGuideItem,children:[p.jsx("span",{children:"Activate Buff"}),p.jsxs("span",{className:He.damageGuideAmount,children:["-",tl.buff_activated," HP"]})]}),p.jsxs("div",{className:He.damageGuideItem,children:[p.jsx("span",{children:"Complete Quest"}),p.jsxs("span",{className:He.damageGuideAmount,children:["-",tl.quest_completed," HP"]})]}),p.jsxs("div",{className:He.damageGuideItem,children:[p.jsx("span",{children:"Complete Goal"}),p.jsxs("span",{className:He.damageGuideAmount,children:["-",tl.goal_completed," HP"]})]}),p.jsxs("div",{className:He.damageGuideItem,children:[p.jsx("span",{children:"Daily Quest"}),p.jsxs("span",{className:He.damageGuideAmount,children:["-",tl.daily_quest_completed," HP"]})]})]})]}),p.jsxs("div",{className:He.weekInfo,children:["Week of ",g(i)," - ",g(a)]})]}):p.jsx("div",{className:He.loading,children:"No boss found"})})]})}const yk="_guideButton_1u1py_1",vk="_guideOverlay_1u1py_71",Ek="_guideContainer_1u1py_95",Tk="_guideHeader_1u1py_159",bk="_guideTitle_1u1py_177",Sk="_closeButton_1u1py_191",wk="_guideContent_1u1py_229",Ak="_table_1u1py_335",Rk="_tocList_1u1py_393",Nk="_tocItem_1u1py_411",ai={guideButton:yk,guideOverlay:vk,guideContainer:Ek,guideHeader:Tk,guideTitle:bk,closeButton:Sk,guideContent:wk,table:Ak,tocList:Rk,tocItem:Nk};function Ck(){const[s,e]=se.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:ai.guideButton,onClick:()=>e(!0),title:"Open Guide",children:"?"}),s&&p.jsx(xk,{onClose:()=>e(!1)})]})}function xk({onClose:s}){const e=se.useRef(null);se.useEffect(()=>{const a=l=>{l.key==="Escape"&&s()};return window.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",a),document.body.style.overflow=""}},[s]);const i=a=>{e.current?.querySelector(`#${a}`)?.scrollIntoView({behavior:"smooth"})};return p.jsx("div",{className:ai.guideOverlay,onClick:s,children:p.jsxs("div",{className:ai.guideContainer,onClick:a=>a.stopPropagation(),ref:e,children:[p.jsxs("div",{className:ai.guideHeader,children:[p.jsx("span",{className:ai.guideTitle,children:"Adventurer's Guide"}),p.jsx("button",{className:ai.closeButton,onClick:s,children:"Close"})]}),p.jsx("ul",{className:ai.tocList,children:["overview","character","quests","buffs","xp","levels","stats","tips","data"].map(a=>p.jsx("li",{className:ai.tocItem,onClick:()=>i(`guide-${a}`),children:a==="xp"?"XP System":a==="data"?"Save Data":a.charAt(0).toUpperCase()+a.slice(1)},a))}),p.jsxs("div",{className:ai.guideContent,children:[p.jsx("h2",{id:"guide-overview",children:"Overview"}),p.jsxs("p",{children:["Goal Game turns your real-life goals into an RPG adventure. You create ",p.jsx("strong",{children:"Goals"})," (big-picture ambitions), break them into ",p.jsx("strong",{children:"Quests"})," (projects), and then into ",p.jsx("strong",{children:"Steps"})," (individual tasks). Completing steps earns ",p.jsx("strong",{children:"XP"}),", which levels up your character."]}),p.jsxs("p",{children:["Track daily habits as ",p.jsx("strong",{children:"Buffs"})," (positive) and ",p.jsx("strong",{children:"Debuffs"})," (negative) that affect your character's stats."]}),p.jsx("h2",{id:"guide-character",children:"Character Screen"}),p.jsx("p",{children:"Your character screen shows your current progress at a glance."}),p.jsx("h3",{children:"What you'll see"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Name"}),`  Tap "Rename" to change your character's name.`]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Level & Title"}),'  Your current level and rank title (e.g., "Novice", "Adept"). Titles change automatically as you level up.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP Bar"}),"  Shows progress toward your next level. The numbers show current XP in this level / XP needed for next level."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Total XP"}),"  Your lifetime XP earned across all activities."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Stats"}),"  Five attributes (Stamina, Willpower, Health, Focus, Charisma) that start at 10 and change based on your active buffs/debuffs."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Active Effects"}),"  Currently active buffs (green pulse) and debuffs (red throb) with time remaining."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP History"}),"  A log of your most recent XP gains showing what you earned and why."]})]}),p.jsx("h2",{id:"guide-quests",children:"Quest Log"}),p.jsx("p",{children:"This is where you organize everything you want to accomplish."}),p.jsx("h3",{children:"Hierarchy"}),p.jsx("p",{children:"Life is organized in three layers:"}),p.jsxs("ol",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Goals"}),'  Big-picture ambitions tied to a life domain. Example: "Get fit" in the Health domain.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Quests"}),'  Specific projects within a goal. Example: "Run a 5K" under "Get fit".']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Steps"}),'  Individual actionable tasks within a quest. Example: "Run 1 mile without stopping" inside "Run a 5K".']})]}),p.jsx("h3",{children:"Domains"}),p.jsx("p",{children:"Every goal belongs to one of eight life domains:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Icon"}),p.jsx("th",{children:"Domain"}),p.jsx("th",{children:"Examples"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Fitness, diet, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Career"}),p.jsx("td",{children:"Work projects, promotions, skills"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Learning"}),p.jsx("td",{children:"Courses, reading, certifications"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Social"}),p.jsx("td",{children:"Relationships, networking, community"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Finance"}),p.jsx("td",{children:"Saving, investing, budgeting"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Creative"}),p.jsx("td",{children:"Art, music, writing, hobbies"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Spiritual"}),p.jsx("td",{children:"Meditation, mindfulness, gratitude"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Home"}),p.jsx("td",{children:"Cleaning, organizing, repairs"})]})]})]}),p.jsx("h3",{children:"Priority Levels"}),p.jsx("p",{children:"Quests and steps can have a priority that affects XP rewards:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Priority"}),p.jsx("th",{children:"Color"}),p.jsx("th",{children:"Step XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Normal"}),p.jsx("td",{children:"Gray"}),p.jsx("td",{children:"10 XP"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Important"}),p.jsx("td",{children:"Gold"}),p.jsx("td",{children:"15 XP (1.5x)"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Legendary"}),p.jsx("td",{children:"Orange"}),p.jsx("td",{children:"20 XP (2x)"})]})]})]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Goal"}),"  pick a domain, give it a title."]}),p.jsxs("li",{children:["Inside a goal, tap ",p.jsx("strong",{children:"+ Quest"}),"  name the project, choose priority."]}),p.jsx("li",{children:'Tap a quest to expand it, then type steps in the "Add a step" field at the bottom.'}),p.jsx("li",{children:"Check off steps to earn XP. When all steps are done, the quest auto-completes for bonus XP. When all quests in a goal are done, the goal auto-completes for even more bonus XP."})]}),p.jsx("h3",{children:"Filters"}),p.jsx("p",{children:"Use the dropdowns at the top to filter by domain or status (Active / Completed / All)."}),p.jsx("h2",{id:"guide-buffs",children:"Buffs & Debuffs"}),p.jsx("p",{children:"Buffs and debuffs represent daily habits that affect your character."}),p.jsx("h3",{children:"Buffs (Positive Habits)"}),p.jsxs("p",{children:["Things you ",p.jsx("em",{children:"want"})," to do every day. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Morning Exercise  +2 Stamina, +1 Health"}),p.jsx("li",{children:" Meditation  +2 Willpower, +1 Focus"}),p.jsx("li",{children:" 8 Hours Sleep  +1 Health, +1 Focus, +1 Stamina"}),p.jsx("li",{children:" Read 30 Minutes  +2 Focus"})]}),p.jsxs("p",{children:["Activating a buff earns ",p.jsx("strong",{children:"5 XP"})," and applies its stat effects for the duration you set (e.g., 24 hours). After that, the buff expires and you need to activate it again the next day."]}),p.jsx("h3",{children:"Debuffs (Negative Habits)"}),p.jsxs("p",{children:["Things you want to be ",p.jsx("em",{children:"honest about tracking"}),". There is no XP penalty  this is for self-awareness. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Junk Food  -1 Health, -1 Stamina"}),p.jsx("li",{children:" Doomscrolling  -2 Focus, -1 Willpower"}),p.jsx("li",{children:" Alcohol  -1 Health, -1 Focus"})]}),p.jsx("p",{children:"Debuffs still affect your stats while active, shown as red on your character screen."}),p.jsx("h3",{children:"Streaks"}),p.jsxs("p",{children:["Activate the same buff on consecutive days to build a streak. Every ",p.jsx("strong",{children:"7-day streak"})," earns a bonus ",p.jsx("strong",{children:"25 XP"}),"."]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Buff/Debuff"})," to define a habit template."]}),p.jsx("li",{children:"Choose a name, type (buff or debuff), icon, duration in hours, and stat effects (positive numbers for buffs, negative for debuffs)."}),p.jsxs("li",{children:["Once created, it appears in the Buffs or Debuffs column. Tap ",p.jsx("strong",{children:"Activate"})," each day you do the habit."]}),p.jsx("li",{children:"Active effects appear at the top with a countdown timer and are reflected on your Character screen stats."})]}),p.jsx("h3",{children:"Expiry"}),p.jsxs("p",{children:["Buffs and debuffs expire automatically after their duration. The app checks every 60 seconds. You can also manually remove an active effect by tapping ",p.jsx("strong",{children:"Remove"}),"."]}),p.jsx("h2",{id:"guide-xp",children:"XP System"}),p.jsx("p",{children:"Everything you do earns experience points:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Action"}),p.jsx("th",{children:"XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a normal step"}),p.jsx("td",{children:"+10"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete an important step"}),p.jsx("td",{children:"+15"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a legendary step"}),p.jsx("td",{children:"+20"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a quest (all steps done)"}),p.jsx("td",{children:"+50 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a goal (all quests done)"}),p.jsx("td",{children:"+200 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Activate a buff (daily habit)"}),p.jsx("td",{children:"+5"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"7-day streak on any buff"}),p.jsx("td",{children:"+25 bonus"})]})]})]}),p.jsx("h2",{id:"guide-levels",children:"Levels & Titles"}),p.jsxs("p",{children:["XP needed per level increases as you grow. The formula is ",p.jsx("code",{children:"50  level^1.8"}),"."]}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Level"}),p.jsx("th",{children:"Title"}),p.jsx("th",{children:"Approx. Timeline"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"14"}),p.jsx("td",{children:"Novice"}),p.jsx("td",{children:"Starting out"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"59"}),p.jsx("td",{children:"Apprentice"}),p.jsx("td",{children:"~12 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1014"}),p.jsx("td",{children:"Journeyman"}),p.jsx("td",{children:"~34 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1521"}),p.jsx("td",{children:"Adept"}),p.jsx("td",{children:"~12 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2229"}),p.jsx("td",{children:"Expert"}),p.jsx("td",{children:"~24 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3039"}),p.jsx("td",{children:"Master"}),p.jsx("td",{children:"~48 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4049"}),p.jsx("td",{children:"Legend"}),p.jsx("td",{children:"~812 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"50+"}),p.jsx("td",{children:"Dragonborn"}),p.jsx("td",{children:"~1 year+"})]})]})]}),p.jsx("p",{children:"When you level up, a golden overlay appears announcing your new level and title."}),p.jsx("h2",{id:"guide-stats",children:"Stats"}),p.jsxs("p",{children:["Your character has five stats, all starting at ",p.jsx("strong",{children:"10"}),":"]}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Stat"}),p.jsx("th",{children:"Represents"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Stamina"}),p.jsx("td",{children:"Physical energy, endurance, exercise habits"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Willpower"}),p.jsx("td",{children:"Discipline, self-control, mental toughness"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Physical wellbeing, nutrition, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Focus"}),p.jsx("td",{children:"Concentration, productivity, mental clarity"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Charisma"}),p.jsx("td",{children:"Social skills, confidence, communication"})]})]})]}),p.jsx("p",{children:"Stats are modified by active buffs and debuffs. They serve as a mirror of your current lifestyle  high Focus means you've been studying and avoiding distractions; low Health means you've been eating junk food or skipping sleep."}),p.jsx("h2",{id:"guide-tips",children:"Tips"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Start small."})," Create one goal with one quest and a few steps. Don't overload yourself on day one."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Be honest with debuffs."})," There's no punishment  tracking negative habits helps you see patterns."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use priorities wisely."}),' Reserve "Legendary" for truly difficult or impactful tasks.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Build streaks."})," The 7-day streak bonus compounds  maintaining 3 daily buffs earns 75 bonus XP per week on top of the daily 5 XP each."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Check your character screen daily."})," Your stats tell you how balanced your life is."]})]}),p.jsx("h2",{id:"guide-data",children:"Saving & Data"}),p.jsx("p",{children:"All your data is stored locally on this device in the browser's database. It persists across sessions  closing and reopening the app keeps everything."}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Export Save"}),"  Downloads your entire database as a .db file. Use this for backups."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Import Save"}),"  Loads a previously exported .db file, replacing all current data. Use this to restore a backup or transfer data between devices."]})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Important:"})," Clearing your browser/app data will erase your progress. Export a backup regularly."]}),p.jsx("h3",{children:"Keyboard Shortcuts (Desktop)"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Key"}),p.jsx("th",{children:"Action"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"1"}),p.jsx("td",{children:"Character screen"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2"}),p.jsx("td",{children:"Quest Log"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3"}),p.jsx("td",{children:"Buffs"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Esc"}),p.jsx("td",{children:"Close any open modal/popup"})]})]})]})]})]})})}function Ik(){const{ready:s,error:e}=IS(),[i,a]=se.useState("character");return s?p.jsx(Dk,{activeTab:i,setActiveTab:a}):p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0f",color:"#c8a84e",fontFamily:"Cinzel, serif",fontSize:"1.2rem"},children:e?`Error: ${e}`:"Loading database..."})}function Dk({activeTab:s,setActiveTab:e}){const i=PS(),a=MI({grantXP:i.grantXP}),l=zI({grantXP:i.grantXP,addShields:a.addShields}),c=bI({grantXP:i.grantXP}),m=nw({grantXP:i.grantXP,onStepComplete:()=>{c.updateProgress("complete_steps",1),l.dealDamage("step_completed","Completed a step")},onQuestComplete:()=>{l.dealDamage("quest_completed","Completed a quest")},onGoalComplete:()=>{l.dealDamage("goal_completed","Completed a goal")}}),v=Eb(),T=hw({grantXP:i.grantXP,scheduleBuffExpiry:v.scheduleBuffExpiry,cancelBuffExpiry:v.cancelBuffExpiry,onBuffActivated:z=>{c.updateProgress("activate_buffs",1),new Date().getHours()<8&&c.updateProgress("early_start",1),z==="buff"&&(c.updateProgress("activate_specific",1),l.dealDamage("buff_activated","Activated a buff")),a.refresh()}}),g=Sw(),[w,C]=se.useState(!1),[D,J]=se.useState(!1);se.useEffect(()=>{i.refresh(),s==="quests"&&m.refresh(),s==="buffs"&&(T.refresh(),a.refresh())},[s]),se.useEffect(()=>{m.refresh(),T.refresh(),a.refresh(),c.checkNoDebuffs()},[]),se.useEffect(()=>{const z=ee=>{ee.target instanceof HTMLInputElement||ee.target instanceof HTMLTextAreaElement||ee.target instanceof HTMLSelectElement||(ee.key==="1"&&e("character"),ee.key==="2"&&e("quests"),ee.key==="3"&&e("buffs"))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e]);const W=se.useCallback(async()=>{const z=await Vm(),ee=new Blob([new Uint8Array(z)],{type:"application/octet-stream"}),he=URL.createObjectURL(ee),me=document.createElement("a");me.href=he,me.download=`goal-game-backup-${new Date().toISOString().split("T")[0]}.db`,me.click(),URL.revokeObjectURL(he)},[]),ne=se.useCallback(async()=>{const z=document.createElement("input");z.type="file",z.accept=".db",z.onchange=async()=>{const ee=z.files?.[0];if(!ee)return;const he=await ee.arrayBuffer();await HE(new Uint8Array(he)),window.location.reload()},z.click()},[]);return p.jsxs("div",{className:Mn.appShell,children:[p.jsx(rD,{activeTab:s,onTabChange:e}),p.jsx(gD,{character:i.character}),p.jsxs("main",{className:Mn.main,children:[s==="character"&&p.jsxs(p.Fragment,{children:[p.jsx(j6,{quests:c.quests,loading:c.loading,allCompleted:c.allCompleted,completedCount:c.completedCount,bonusClaimed:c.bonusClaimed,bonusXp:c.bonusXp,totalXpEarned:c.totalXpEarned,onClaimBonus:async()=>{await c.claimBonus();for(const z of c.quests)z.is_completed&&l.dealDamage("daily_quest_completed",`Daily Quest: ${z.title}`)}}),p.jsx(_k,{boss:l.boss,loading:l.loading,weekStart:l.weekStart,weekEnd:l.weekEnd,hpPercentage:l.hpPercentage,damageDealt:l.damageDealt,totalDefeated:l.totalDefeated}),p.jsx(M4,{character:i.character,stats:T.stats,activeBuffs:T.activeBuffs,xpLog:i.xpLog,onNameChange:i.setName})]}),s==="quests"&&p.jsx(C3,{goals:m.goals,domains:m.domains,filterDomain:m.filterDomain,filterStatus:m.filterStatus,onFilterDomain:z=>{m.setFilterDomain(z)},onFilterStatus:z=>{m.setFilterStatus(z)},onCreateGoal:m.createGoal,onCreateQuest:m.createQuest,onCreateStep:m.createStep,onCompleteStep:m.completeStep,onUncompleteStep:m.uncompleteStep,onDeleteStep:m.deleteStep,onDeleteQuest:m.deleteQuest,onDeleteGoal:m.deleteGoal}),s==="buffs"&&p.jsx(bO,{definitions:T.definitions,activeBuffs:T.activeBuffs,onCreateDefinition:T.createDefinition,onDeleteDefinition:T.deleteDefinition,onActivateBuff:T.activateBuff,onDeactivateBuff:T.deactivateBuff,streakInfos:a.streakInfos,shieldCount:a.shieldCount,onUseShield:a.useShield,getUnclaimedMilestones:a.getUnclaimedMilestones,onClaimMilestones:a.claimMilestones}),p.jsxs("div",{style:{marginTop:40,paddingTop:20,borderTop:"1px solid var(--border-color)"},children:[D&&p.jsx(f6,{}),w&&p.jsx(GO,{}),p.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center",flexWrap:"wrap"},children:[p.jsx(vt,{size:"small",variant:"ghost",onClick:()=>J(!D),children:D?"Hide Notifications":"Notifications"}),p.jsx(vt,{size:"small",variant:"ghost",onClick:()=>C(!w),children:w?"Hide Cloud Backup":"Cloud Backup"}),p.jsx(vt,{size:"small",variant:"ghost",onClick:W,children:"Export Save"}),p.jsx(vt,{size:"small",variant:"ghost",onClick:ne,children:"Import Save"})]})]})]}),i.xpFloats.map(z=>p.jsxs("div",{className:Mn.xpFloat,children:["+",z.amount," XP"]},z.id)),i.levelUpInfo&&p.jsx(wD,{level:i.levelUpInfo.level,title:i.levelUpInfo.title,onDismiss:i.dismissLevelUp}),p.jsx(Ck,{}),g.message&&p.jsx("div",{style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",padding:"10px 20px",background:g.status==="error"?"rgba(231, 76, 60, 0.9)":"rgba(46, 204, 113, 0.9)",color:"#fff",borderRadius:8,fontSize:"0.9rem",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:g.message})]})}hS.createRoot(document.getElementById("root")).render(p.jsx(se.StrictMode,{children:p.jsx(Ik,{})}));
