(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Y1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Q1(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var i=function r(){var l=!1;try{l=this instanceof r}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(r){var l=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(i,r,l.get?l:{enumerable:!0,get:function(){return a[r]}})}),i}var kd={exports:{}},au={};var K_;function X1(){if(K_)return au;K_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var m=null;if(c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),"key"in l){c={};for(var v in l)v!=="key"&&(c[v]=l[v])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:m,ref:l!==void 0?l:null,props:c}}return au.Fragment=t,au.jsx=i,au.jsxs=i,au}var $_;function K1(){return $_||($_=1,kd.exports=X1()),kd.exports}var p=K1(),Ld={exports:{}},He={};var W_;function $1(){if(W_)return He;W_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.iterator;function $(B){return B===null||typeof B!="object"?null:(B=M&&B[M]||B["@@iterator"],typeof B=="function"?B:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,X={};function ee(B,ae,pe){this.props=B,this.context=ae,this.refs=X,this.updater=pe||J}ee.prototype.isReactComponent={},ee.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},ee.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function de(){}de.prototype=ee.prototype;function ge(B,ae,pe){this.props=B,this.context=ae,this.refs=X,this.updater=pe||J}var _e=ge.prototype=new de;_e.constructor=ge,ne(_e,ee.prototype),_e.isPureReactComponent=!0;var xe=Array.isArray;function Me(){}var O={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(B,ae,pe){var Ee=pe.ref;return{$$typeof:a,type:B,key:ae,ref:Ee!==void 0?Ee:null,props:pe}}function U(B,ae){return k(B.type,ae,B.props)}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===a}function x(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return ae[pe]})}var C=/\/+/g;function ye(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?x(""+B.key):ae.toString(36)}function lt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Me,Me):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function P(B,ae,pe,Ee,Be){var Ye=typeof B;(Ye==="undefined"||Ye==="boolean")&&(B=null);var Ke=!1;if(B===null)Ke=!0;else switch(Ye){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch(B.$$typeof){case a:case t:Ke=!0;break;case R:return Ke=B._init,P(Ke(B._payload),ae,pe,Ee,Be)}}if(Ke)return Be=Be(B),Ke=Ee===""?"."+ye(B,0):Ee,xe(Be)?(pe="",Ke!=null&&(pe=Ke.replace(C,"$&/")+"/"),P(Be,ae,pe,"",function(da){return da})):Be!=null&&(j(Be)&&(Be=U(Be,pe+(Be.key==null||B&&B.key===Be.key?"":(""+Be.key).replace(C,"$&/")+"/")+Ke)),ae.push(Be)),1;Ke=0;var Xt=Ee===""?".":Ee+":";if(xe(B))for(var Ot=0;Ot<B.length;Ot++)Ee=B[Ot],Ye=Xt+ye(Ee,Ot),Ke+=P(Ee,ae,pe,Ye,Be);else if(Ot=$(B),typeof Ot=="function")for(B=Ot.call(B),Ot=0;!(Ee=B.next()).done;)Ee=Ee.value,Ye=Xt+ye(Ee,Ot++),Ke+=P(Ee,ae,pe,Ye,Be);else if(Ye==="object"){if(typeof B.then=="function")return P(lt(B),ae,pe,Ee,Be);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function fe(B,ae,pe){if(B==null)return B;var Ee=[],Be=0;return P(B,Ee,"","",function(Ye){return ae.call(pe,Ye,Be++)}),Ee}function Ce(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var et=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},We={map:fe,forEach:function(B,ae,pe){fe(B,function(){ae.apply(this,arguments)},pe)},count:function(B){var ae=0;return fe(B,function(){ae++}),ae},toArray:function(B){return fe(B,function(ae){return ae})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return He.Activity=D,He.Children=We,He.Component=ee,He.Fragment=i,He.Profiler=l,He.PureComponent=ge,He.StrictMode=r,He.Suspense=E,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,He.__COMPILER_RUNTIME={__proto__:null,c:function(B){return O.H.useMemoCache(B)}},He.cache=function(B){return function(){return B.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(B,ae,pe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Ee=ne({},B.props),Be=B.key;if(ae!=null)for(Ye in ae.key!==void 0&&(Be=""+ae.key),ae)!I.call(ae,Ye)||Ye==="key"||Ye==="__self"||Ye==="__source"||Ye==="ref"&&ae.ref===void 0||(Ee[Ye]=ae[Ye]);var Ye=arguments.length-2;if(Ye===1)Ee.children=pe;else if(1<Ye){for(var Ke=Array(Ye),Xt=0;Xt<Ye;Xt++)Ke[Xt]=arguments[Xt+2];Ee.children=Ke}return k(B.type,Be,Ee)},He.createContext=function(B){return B={$$typeof:m,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:c,_context:B},B},He.createElement=function(B,ae,pe){var Ee,Be={},Ye=null;if(ae!=null)for(Ee in ae.key!==void 0&&(Ye=""+ae.key),ae)I.call(ae,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Be[Ee]=ae[Ee]);var Ke=arguments.length-2;if(Ke===1)Be.children=pe;else if(1<Ke){for(var Xt=Array(Ke),Ot=0;Ot<Ke;Ot++)Xt[Ot]=arguments[Ot+2];Be.children=Xt}if(B&&B.defaultProps)for(Ee in Ke=B.defaultProps,Ke)Be[Ee]===void 0&&(Be[Ee]=Ke[Ee]);return k(B,Ye,Be)},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:v,render:B}},He.isValidElement=j,He.lazy=function(B){return{$$typeof:R,_payload:{_status:-1,_result:B},_init:Ce}},He.memo=function(B,ae){return{$$typeof:g,type:B,compare:ae===void 0?null:ae}},He.startTransition=function(B){var ae=O.T,pe={};O.T=pe;try{var Ee=B(),Be=O.S;Be!==null&&Be(pe,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(Me,et)}catch(Ye){et(Ye)}finally{ae!==null&&pe.types!==null&&(ae.types=pe.types),O.T=ae}},He.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},He.use=function(B){return O.H.use(B)},He.useActionState=function(B,ae,pe){return O.H.useActionState(B,ae,pe)},He.useCallback=function(B,ae){return O.H.useCallback(B,ae)},He.useContext=function(B){return O.H.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B,ae){return O.H.useDeferredValue(B,ae)},He.useEffect=function(B,ae){return O.H.useEffect(B,ae)},He.useEffectEvent=function(B){return O.H.useEffectEvent(B)},He.useId=function(){return O.H.useId()},He.useImperativeHandle=function(B,ae,pe){return O.H.useImperativeHandle(B,ae,pe)},He.useInsertionEffect=function(B,ae){return O.H.useInsertionEffect(B,ae)},He.useLayoutEffect=function(B,ae){return O.H.useLayoutEffect(B,ae)},He.useMemo=function(B,ae){return O.H.useMemo(B,ae)},He.useOptimistic=function(B,ae){return O.H.useOptimistic(B,ae)},He.useReducer=function(B,ae,pe){return O.H.useReducer(B,ae,pe)},He.useRef=function(B){return O.H.useRef(B)},He.useState=function(B){return O.H.useState(B)},He.useSyncExternalStore=function(B,ae,pe){return O.H.useSyncExternalStore(B,ae,pe)},He.useTransition=function(){return O.H.useTransition()},He.version="19.2.4",He}var Z_;function Lm(){return Z_||(Z_=1,Ld.exports=$1()),Ld.exports}var re=Lm(),Vd={exports:{}},su={},Ud={exports:{}},Bd={};var J_;function W1(){return J_||(J_=1,(function(a){function t(P,fe){var Ce=P.length;P.push(fe);e:for(;0<Ce;){var et=Ce-1>>>1,We=P[et];if(0<l(We,fe))P[et]=fe,P[Ce]=We,Ce=et;else break e}}function i(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var fe=P[0],Ce=P.pop();if(Ce!==fe){P[0]=Ce;e:for(var et=0,We=P.length,B=We>>>1;et<B;){var ae=2*(et+1)-1,pe=P[ae],Ee=ae+1,Be=P[Ee];if(0>l(pe,Ce))Ee<We&&0>l(Be,pe)?(P[et]=Be,P[Ee]=Ce,et=Ee):(P[et]=pe,P[ae]=Ce,et=ae);else if(Ee<We&&0>l(Be,Ce))P[et]=Be,P[Ee]=Ce,et=Ee;else break e}}return fe}function l(P,fe){var Ce=P.sortIndex-fe.sortIndex;return Ce!==0?Ce:P.id-fe.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var m=Date,v=m.now();a.unstable_now=function(){return m.now()-v}}var E=[],g=[],R=1,D=null,M=3,$=!1,J=!1,ne=!1,X=!1,ee=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function _e(P){for(var fe=i(g);fe!==null;){if(fe.callback===null)r(g);else if(fe.startTime<=P)r(g),fe.sortIndex=fe.expirationTime,t(E,fe);else break;fe=i(g)}}function xe(P){if(ne=!1,_e(P),!J)if(i(E)!==null)J=!0,Me||(Me=!0,x());else{var fe=i(g);fe!==null&&lt(xe,fe.startTime-P)}}var Me=!1,O=-1,I=5,k=-1;function U(){return X?!0:!(a.unstable_now()-k<I)}function j(){if(X=!1,Me){var P=a.unstable_now();k=P;var fe=!0;try{e:{J=!1,ne&&(ne=!1,de(O),O=-1),$=!0;var Ce=M;try{t:{for(_e(P),D=i(E);D!==null&&!(D.expirationTime>P&&U());){var et=D.callback;if(typeof et=="function"){D.callback=null,M=D.priorityLevel;var We=et(D.expirationTime<=P);if(P=a.unstable_now(),typeof We=="function"){D.callback=We,_e(P),fe=!0;break t}D===i(E)&&r(E),_e(P)}else r(E);D=i(E)}if(D!==null)fe=!0;else{var B=i(g);B!==null&&lt(xe,B.startTime-P),fe=!1}}break e}finally{D=null,M=Ce,$=!1}fe=void 0}}finally{fe?x():Me=!1}}}var x;if(typeof ge=="function")x=function(){ge(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ye=C.port2;C.port1.onmessage=j,x=function(){ye.postMessage(null)}}else x=function(){ee(j,0)};function lt(P,fe){O=ee(function(){P(a.unstable_now())},fe)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(P){switch(M){case 1:case 2:case 3:var fe=3;break;default:fe=M}var Ce=M;M=fe;try{return P()}finally{M=Ce}},a.unstable_requestPaint=function(){X=!0},a.unstable_runWithPriority=function(P,fe){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Ce=M;M=P;try{return fe()}finally{M=Ce}},a.unstable_scheduleCallback=function(P,fe,Ce){var et=a.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?et+Ce:et):Ce=et,P){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=Ce+We,P={id:R++,callback:fe,priorityLevel:P,startTime:Ce,expirationTime:We,sortIndex:-1},Ce>et?(P.sortIndex=Ce,t(g,P),i(E)===null&&P===i(g)&&(ne?(de(O),O=-1):ne=!0,lt(xe,Ce-et))):(P.sortIndex=We,t(E,P),J||$||(J=!0,Me||(Me=!0,x()))),P},a.unstable_shouldYield=U,a.unstable_wrapCallback=function(P){var fe=M;return function(){var Ce=M;M=fe;try{return P.apply(this,arguments)}finally{M=Ce}}}})(Bd)),Bd}var ev;function Z1(){return ev||(ev=1,Ud.exports=W1()),Ud.exports}var qd={exports:{}},Hn={};var tv;function J1(){if(tv)return Hn;tv=1;var a=Lm();function t(E){var g="https://react.dev/errors/"+E;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)g+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+E+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,g,R){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:D==null?null:""+D,children:E,containerInfo:g,implementation:R}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(E,g){if(E==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(E,g){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(E,g,null,R)},Hn.flushSync=function(E){var g=m.T,R=r.p;try{if(m.T=null,r.p=2,E)return E()}finally{m.T=g,r.p=R,r.d.f()}},Hn.preconnect=function(E,g){typeof E=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(E,g))},Hn.prefetchDNS=function(E){typeof E=="string"&&r.d.D(E)},Hn.preinit=function(E,g){if(typeof E=="string"&&g&&typeof g.as=="string"){var R=g.as,D=v(R,g.crossOrigin),M=typeof g.integrity=="string"?g.integrity:void 0,$=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;R==="style"?r.d.S(E,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:D,integrity:M,fetchPriority:$}):R==="script"&&r.d.X(E,{crossOrigin:D,integrity:M,fetchPriority:$,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Hn.preinitModule=function(E,g){if(typeof E=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var R=v(g.as,g.crossOrigin);r.d.M(E,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(E)},Hn.preload=function(E,g){if(typeof E=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var R=g.as,D=v(R,g.crossOrigin);r.d.L(E,R,{crossOrigin:D,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Hn.preloadModule=function(E,g){if(typeof E=="string")if(g){var R=v(g.as,g.crossOrigin);r.d.m(E,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(E)},Hn.requestFormReset=function(E){r.d.r(E)},Hn.unstable_batchedUpdates=function(E,g){return E(g)},Hn.useFormState=function(E,g,R){return m.H.useFormState(E,g,R)},Hn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Hn.version="19.2.4",Hn}var nv;function eS(){if(nv)return qd.exports;nv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),qd.exports=J1(),qd.exports}var iv;function tS(){if(iv)return su;iv=1;var a=Z1(),t=Lm(),i=eS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function E(e){if(c(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return E(f),e;if(d===o)return E(f),n;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=f,o=d;else{for(var b=!1,w=f.child;w;){if(w===s){b=!0,s=f,o=d;break}if(w===o){b=!0,o=f,s=d;break}w=w.sibling}if(!b){for(w=d.child;w;){if(w===s){b=!0,s=d,o=f;break}if(w===o){b=!0,o=d,s=f;break}w=w.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function R(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=R(e),n!==null)return n;e=e.sibling}return null}var D=Object.assign,M=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case ee:return"Profiler";case X:return"StrictMode";case xe:return"Suspense";case Me:return"SuspenseList";case k:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ge:return e.displayName||"Context";case de:return(e._context.displayName||"Context")+".Consumer";case _e:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:ye(e.type)||"Memo";case I:n=e._payload,e=e._init;try{return ye(e(n))}catch{}}return null}var lt=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},et=[],We=-1;function B(e){return{current:e}}function ae(e){0>We||(e.current=et[We],et[We]=null,We--)}function pe(e,n){We++,et[We]=e.current,e.current=n}var Ee=B(null),Be=B(null),Ye=B(null),Ke=B(null);function Xt(e,n){switch(pe(Ye,n),pe(Be,e),pe(Ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?__(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=__(n),e=v_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(Ee),pe(Ee,e)}function Ot(){ae(Ee),ae(Be),ae(Ye)}function da(e){e.memoizedState!==null&&pe(Ke,e);var n=Ee.current,s=v_(n,e.type);n!==s&&(pe(Be,e),pe(Ee,s))}function Es(e){Be.current===e&&(ae(Ee),ae(Be)),Ke.current===e&&(ae(Ke),eu._currentValue=Ce)}var Vn,ma;function Un(e){if(Vn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Vn=n&&n[1]||"",ma=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+e+ma}var bs=!1;function Et(e,n){if(!e||bs)return"";bs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Z){var K=Z}Reflect.construct(e,[],le)}else{try{le.call()}catch(Z){K=Z}e.call(le.prototype)}}else{try{throw Error()}catch(Z){K=Z}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),b=d[0],w=d[1];if(b&&w){var L=b.split(`
`),Q=w.split(`
`);for(f=o=0;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(o===L.length||f===Q.length)for(o=L.length-1,f=Q.length-1;1<=o&&0<=f&&L[o]!==Q[f];)f--;for(;1<=o&&0<=f;o--,f--)if(L[o]!==Q[f]){if(o!==1||f!==1)do if(o--,f--,0>f||L[o]!==Q[f]){var ie=`
`+L[o].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=o&&0<=f);break}}}finally{bs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Un(s):""}function Ua(e,n){switch(e.tag){case 26:case 27:case 5:return Un(e.type);case 16:return Un("Lazy");case 13:return e.child!==n&&n!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Et(e.type,!1);case 11:return Et(e.type.render,!1);case 1:return Et(e.type,!0);case 31:return Un("Activity");default:return""}}function Ts(e){try{var n="",s=null;do n+=Ua(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var qt=Object.prototype.hasOwnProperty,Kt=a.unstable_scheduleCallback,_i=a.unstable_cancelCallback,El=a.unstable_shouldYield,dr=a.unstable_requestPaint,wn=a.unstable_now,ea=a.unstable_getCurrentPriorityLevel,ta=a.unstable_ImmediatePriority,Xn=a.unstable_UserBlockingPriority,na=a.unstable_NormalPriority,ao=a.unstable_LowPriority,mr=a.unstable_IdlePriority,so=a.log,ro=a.unstable_setDisableYieldValue,vi=null,De=null;function Kn(e){if(typeof so=="function"&&ro(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(vi,e)}catch{}}var Lt=Math.clz32?Math.clz32:oo,pr=Math.log,Ei=Math.LN2;function oo(e){return e>>>=0,e===0?32:31-(pr(e)/Ei|0)|0}var dn=256,pa=262144,Ft=4194304;function bi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function he(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~d,o!==0?f=bi(o):(b&=w,b!==0?f=bi(b):s||(s=w&~e,s!==0&&(f=bi(s))))):(w=o&~d,w!==0?f=bi(w):b!==0?f=bi(b):s||(s=o&~e,s!==0&&(f=bi(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function Ti(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var e=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ia(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gr(e,n,s,o,f,d){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,L=e.expirationTimes,Q=e.hiddenUpdates;for(s=b&~s;0<s;){var ie=31-Lt(s),le=1<<ie;w[ie]=0,L[ie]=-1;var K=Q[ie];if(K!==null)for(Q[ie]=null,ie=0;ie<K.length;ie++){var Z=K[ie];Z!==null&&(Z.lane&=-536870913)}s&=~le}o!==0&&$n(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~n))}function $n(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Lt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Ss(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Lt(s),f=1<<o;f&n|e[o]&n&&(e[o]|=n),s&=~f}}function an(e,n){var s=n&-n;return s=(s&42)!==0?1:ga(s),(s&(e.suspendedLanes|n))!==0?0:s}function ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yr(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function oi(e,n){var s=fe.p;try{return fe.p=e,n()}finally{fe.p=s}}var qn=Math.random().toString(36).slice(2),tt="__reactFiber$"+qn,Zt="__reactProps$"+qn,Mi="__reactContainer$"+qn,ya="__reactEvents$"+qn,Tl="__reactListeners$"+qn,ws="__reactHandles$"+qn,_r="__reactResources$"+qn,Wn="__reactMarker$"+qn;function As(e){delete e[tt],delete e[Zt],delete e[ya],delete e[Tl],delete e[ws]}function Jt(e){var n=e[tt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Mi]||s[tt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=R_(e);e!==null;){if(s=e[tt])return s;e=R_(e)}return n}e=s,s=e.parentNode}return null}function Rn(e){if(e=e[tt]||e[Mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Nn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Si(e){var n=e[_r];return n||(n=e[_r]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Gt(e){e[Wn]=!0}var aa=new Set,Rs={};function Zn(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(Rs[e]=n,e=0;e<n.length;e++)aa.add(n[e])}var ki=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ba={},Ns={};function vr(e){return qt.call(Ns,e)?!0:qt.call(Ba,e)?!1:ki.test(e)?Ns[e]=!0:(Ba[e]=!0,!1)}function qa(e,n,s){if(vr(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Jn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function St(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pn(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _a(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){s=""+b,d.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ut(e){if(!e._valueTracker){var n=Pn(e)?"checked":"value";e._valueTracker=_a(e,n,""+e[n])}}function Li(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Pn(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pa=/[\n"\\]/g;function zn(e){return e.replace(Pa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vi(e,n,s,o,f,d,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?br(e,b,ze(n)):s!=null?br(e,b,ze(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+ze(w):e.removeAttribute("name")}function Er(e,n,s,o,f,d,b,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){ut(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,w||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),ut(e)}function br(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ui(e,n,s,o){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Tr(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function Bi(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(lt(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),ut(e)}function yn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function va(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lo.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ea(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&va(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&va(e,d,n[d])}function ui(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_n=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return _n.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Sr=null;function be(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,ti=null;function ba(e){var n=Rn(e);if(n&&(e=n.stateNode)){var s=e[Zt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Vi(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+zn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var f=o[Zt]||null;if(!f)throw Error(r(90));Vi(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Li(o)}break e;case"textarea":Tr(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ui(e,!!s.multiple,n,!1)}}}var za=!1;function ci(e,n,s){if(za)return e(n,s);za=!0;try{var o=e(n);return o}finally{if(za=!1,(qi!==null||ti!==null)&&(mc(),qi&&(n=qi,e=ti,ti=qi=null,ba(n),e)))for(n=0;n<e.length;n++)ba(e[n])}}function sn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Zt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(vn)try{var h={};Object.defineProperty(h,"passive",{get:function(){sa=!0}}),window.addEventListener("test",h,h),window.removeEventListener("test",h,h)}catch{sa=!1}var y=null,S=null,A=null;function V(){if(A)return A;var e,n=S,s=n.length,o,f="value"in y?y.value:y.textContent,d=f.length;for(e=0;e<s&&n[e]===f[e];e++);var b=s-e;for(o=1;o<=b&&n[s-o]===f[d-o];o++);return A=f.slice(e,1<o?1-o:void 0)}function F(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function te(){return!0}function we(){return!1}function Ie(e){function n(s,o,f,d,b){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?te:we,this.isPropagationStopped=we,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=te)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=te)},persist:function(){},isPersistent:te}),n}var Ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mt=Ie(Ve),Yt=D({},Ve,{view:0,detail:0}),xs=Ie(Yt),Ta,Ha,Pi,Fa=D({},Yt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(Ta=e.screenX-Pi.screenX,Ha=e.screenY-Pi.screenY):Ha=Ta=0,Pi=e),Ta)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),wr=Ie(Fa),Ga=D({},Fa,{dataTransfer:0}),uo=Ie(Ga),co=D({},Yt,{relatedTarget:0}),Ya=Ie(co),Ar=D({},Ve,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=Ie(Ar),Ds=D({},Ve,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rr=Ie(Ds),ho=D({},Ve,{data:0}),zi=Ie(ho),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=go[e])?!!n[e]:!1}function Sa(){return yo}var En=D({},Yt,{key:function(e){if(e.key){var n=mo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=F(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?po[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(e){return e.type==="keypress"?F(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?F(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_o=Ie(En),vo=D({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ra=Ie(vo),u=D({},Yt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),_=Ie(u),T=D({},Ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Ie(T),G=D({},Fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Ie(G),me=D({},Ve,{newState:0,oldState:0}),qe=Ie(me),Pt=[9,13,27,32],ct=vn&&"CompositionEvent"in window,jt=null;vn&&"documentMode"in document&&(jt=document.documentMode);var H=vn&&"TextEvent"in window&&!jt,oe=vn&&(!ct||jt&&8<jt&&11>=jt),ve=" ",Re=!1;function ke(e,n){switch(e){case"keyup":return Pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function fi(e,n){switch(e){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(Re=!0,ve);case"textInput":return e=n.data,e===ve&&Re?null:e;default:return null}}function ni(e,n){if(bn)return e==="compositionend"||!ct&&ke(e,n)?(e=V(),A=S=y=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oe&&n.locale!=="ko"?null:n.data;default:return null}}var Ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ai[e.type]:n==="textarea"}function wa(e,n,s,o){qi?ti?ti.push(o):ti=[o]:qi=o,n=bc(n,"onChange"),0<n.length&&(s=new mt("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Nr=null,Sl=null;function vT(e){h_(e,0)}function ju(e){var n=Nn(e);if(Li(n))return e}function Ip(e,n){if(e==="change")return n}var Op=!1;if(vn){var zf;if(vn){var Hf="oninput"in document;if(!Hf){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Hf=typeof jp.oninput=="function"}zf=Hf}else zf=!1;Op=zf&&(!document.documentMode||9<document.documentMode)}function Mp(){Nr&&(Nr.detachEvent("onpropertychange",kp),Sl=Nr=null)}function kp(e){if(e.propertyName==="value"&&ju(Sl)){var n=[];wa(n,Sl,e,be(e)),ci(vT,n)}}function ET(e,n,s){e==="focusin"?(Mp(),Nr=n,Sl=s,Nr.attachEvent("onpropertychange",kp)):e==="focusout"&&Mp()}function bT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ju(Sl)}function TT(e,n){if(e==="click")return ju(n)}function ST(e,n){if(e==="input"||e==="change")return ju(n)}function wT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ri=typeof Object.is=="function"?Object.is:wT;function wl(e,n){if(Ri(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!qt.call(n,f)||!Ri(e[f],n[f]))return!1}return!0}function Lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vp(e,n){var s=Lp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lp(s)}}function Up(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Up(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Ff(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var AT=vn&&"documentMode"in document&&11>=document.documentMode,bo=null,Gf=null,Al=null,Yf=!1;function qp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yf||bo==null||bo!==li(o)||(o=bo,"selectionStart"in o&&Ff(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Al&&wl(Al,o)||(Al=o,o=bc(Gf,"onSelect"),0<o.length&&(n=new mt("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=bo)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var To={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Qf={},Pp={};vn&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function xr(e){if(Qf[e])return Qf[e];if(!To[e])return e;var n=To[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pp)return Qf[e]=n[s];return e}var zp=xr("animationend"),Hp=xr("animationiteration"),Fp=xr("animationstart"),RT=xr("transitionrun"),NT=xr("transitionstart"),CT=xr("transitioncancel"),Gp=xr("transitionend"),Yp=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function oa(e,n){Yp.set(e,n),Zn(n,[e])}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hi=[],So=0,Kf=0;function ku(){for(var e=So,n=Kf=So=0;n<e;){var s=Hi[n];Hi[n++]=null;var o=Hi[n];Hi[n++]=null;var f=Hi[n];Hi[n++]=null;var d=Hi[n];if(Hi[n++]=null,o!==null&&f!==null){var b=o.pending;b===null?f.next=f:(f.next=b.next,b.next=f),o.pending=f}d!==0&&Qp(s,f,d)}}function Lu(e,n,s,o){Hi[So++]=e,Hi[So++]=n,Hi[So++]=s,Hi[So++]=o,Kf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $f(e,n,s,o){return Lu(e,n,s,o),Vu(e)}function Dr(e,n){return Lu(e,null,null,n),Vu(e)}function Qp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-Lt(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=s|536870912),d):null}function Vu(e){if(50<Ql)throw Ql=0,sd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wo={};function xT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,n,s,o){return new xT(e,n,s,o)}function Wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qa(e,n){var s=e.alternate;return s===null?(s=Ni(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Xp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uu(e,n,s,o,f,d){var b=0;if(o=e,typeof e=="function")Wf(e)&&(b=1);else if(typeof e=="string")b=M1(e,s,Ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case k:return e=Ni(31,s,n,f),e.elementType=k,e.lanes=d,e;case ne:return Ir(s.children,f,d,n);case X:b=8,f|=24;break;case ee:return e=Ni(12,s,n,f|2),e.elementType=ee,e.lanes=d,e;case xe:return e=Ni(13,s,n,f),e.elementType=xe,e.lanes=d,e;case Me:return e=Ni(19,s,n,f),e.elementType=Me,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:b=10;break e;case de:b=9;break e;case _e:b=11;break e;case O:b=14;break e;case I:b=16,o=null;break e}b=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Ni(b,s,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function Ir(e,n,s,o){return e=Ni(7,e,o,n),e.lanes=s,e}function Zf(e,n,s){return e=Ni(6,e,null,n),e.lanes=s,e}function Kp(e){var n=Ni(18,null,null,0);return n.stateNode=e,n}function Jf(e,n,s){return n=Ni(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $p=new WeakMap;function Fi(e,n){if(typeof e=="object"&&e!==null){var s=$p.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ts(n)},$p.set(e,n),n)}return{value:e,source:n,stack:Ts(n)}}var Ao=[],Ro=0,Bu=null,Rl=0,Gi=[],Yi=0,Is=null,Aa=1,Ra="";function Xa(e,n){Ao[Ro++]=Rl,Ao[Ro++]=Bu,Bu=e,Rl=n}function Wp(e,n,s){Gi[Yi++]=Aa,Gi[Yi++]=Ra,Gi[Yi++]=Is,Is=e;var o=Aa;e=Ra;var f=32-Lt(o)-1;o&=~(1<<f),s+=1;var d=32-Lt(n)+f;if(30<d){var b=f-f%5;d=(o&(1<<b)-1).toString(32),o>>=b,f-=b,Aa=1<<32-Lt(n)+f|s<<f|o,Ra=d+e}else Aa=1<<d|s<<f|o,Ra=e}function eh(e){e.return!==null&&(Xa(e,1),Wp(e,1,0))}function th(e){for(;e===Bu;)Bu=Ao[--Ro],Ao[Ro]=null,Rl=Ao[--Ro],Ao[Ro]=null;for(;e===Is;)Is=Gi[--Yi],Gi[Yi]=null,Ra=Gi[--Yi],Gi[Yi]=null,Aa=Gi[--Yi],Gi[Yi]=null}function Zp(e,n){Gi[Yi++]=Aa,Gi[Yi++]=Ra,Gi[Yi++]=Is,Aa=n.id,Ra=n.overflow,Is=e}var xn=null,Vt=null,ot=!1,Os=null,Qi=!1,nh=Error(r(519));function js(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(Fi(n,e)),nh}function Jp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[tt]=e,n[Zt]=o,s){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(s=0;s<Kl.length;s++)Je(Kl[s],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":Je("invalid",n),Er(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Je("invalid",n);break;case"textarea":Je("invalid",n),Bi(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||g_(n.textContent,s)?(o.popover!=null&&(Je("beforetoggle",n),Je("toggle",n)),o.onScroll!=null&&Je("scroll",n),o.onScrollEnd!=null&&Je("scrollend",n),o.onClick!=null&&(n.onclick=Cn),n=!0):n=!1,n||js(e,!0)}function eg(e){for(xn=e.return;xn;)switch(xn.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:xn=xn.return}}function No(e){if(e!==xn)return!1;if(!ot)return eg(e),ot=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ed(e.type,e.memoizedProps)),s=!s),s&&Vt&&js(e),eg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Vt=A_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Vt=A_(e)}else n===27?(n=Vt,Qs(e.type)?(e=Ad,Ad=null,Vt=e):Vt=n):Vt=xn?Ki(e.stateNode.nextSibling):null;return!0}function Or(){Vt=xn=null,ot=!1}function ih(){var e=Os;return e!==null&&(pi===null?pi=e:pi.push.apply(pi,e),Os=null),e}function Nl(e){Os===null?Os=[e]:Os.push(e)}var ah=B(null),jr=null,Ka=null;function Ms(e,n,s){pe(ah,n._currentValue),n._currentValue=s}function $a(e){e._currentValue=ah.current,ae(ah)}function sh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function rh(e,n,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var L=0;L<n.length;L++)if(w.context===n[L]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),sh(d.return,s,e),o||(b=null);break e}d=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=s,d=b.alternate,d!==null&&(d.lanes|=s),sh(b,s,e),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===e){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Co(e,n,s,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var w=f.type;Ri(f.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(f===Ke.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(eu):e=[eu])}f=f.return}e!==null&&rh(n,e,s,o),n.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!Ri(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){jr=e,Ka=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dn(e){return tg(jr,e)}function Pu(e,n){return jr===null&&Mr(e),tg(e,n)}function tg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ka===null){if(e===null)throw Error(r(308));Ka=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ka=Ka.next=n;return s}var DT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},IT=a.unstable_scheduleCallback,OT=a.unstable_NormalPriority,rn={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new DT,data:new Map,refCount:0}}function Cl(e){e.refCount--,e.refCount===0&&IT(OT,function(){e.controller.abort()})}var xl=null,lh=0,xo=0,Do=null;function jT(e,n){if(xl===null){var s=xl=[];lh=0,xo=fd(),Do={status:"pending",value:void 0,then:function(o){s.push(o)}}}return lh++,n.then(ng,ng),n}function ng(){if(--lh===0&&xl!==null){Do!==null&&(Do.status="fulfilled");var e=xl;xl=null,xo=0,Do=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function MT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var ig=P.S;P.S=function(e,n){qy=wn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jT(e,n),ig!==null&&ig(e,n)};var kr=B(null);function uh(){var e=kr.current;return e!==null?e:Mt.pooledCache}function zu(e,n){n===null?pe(kr,kr.current):pe(kr,n.pool)}function ag(){var e=uh();return e===null?null:{parent:rn._currentValue,pool:e}}var Io=Error(r(460)),ch=Error(r(474)),Hu=Error(r(542)),Fu={then:function(){}};function sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Cn,Cn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lg(e),e;default:if(typeof n.status=="string")n.then(Cn,Cn);else{if(e=Mt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lg(e),e}throw Vr=n,Io}}function Lr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vr=s,Io):s}}var Vr=null;function og(){if(Vr===null)throw Error(r(459));var e=Vr;return Vr=null,e}function lg(e){if(e===Io||e===Hu)throw Error(r(483))}var Oo=null,Dl=0;function Gu(e){var n=Dl;return Dl+=1,Oo===null&&(Oo=[]),rg(Oo,e,n)}function Il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Yu(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ug(e){function n(z,q){if(e){var Y=z.deletions;Y===null?(z.deletions=[q],z.flags|=16):Y.push(q)}}function s(z,q){if(!e)return null;for(;q!==null;)n(z,q),q=q.sibling;return null}function o(z){for(var q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function f(z,q){return z=Qa(z,q),z.index=0,z.sibling=null,z}function d(z,q,Y){return z.index=Y,e?(Y=z.alternate,Y!==null?(Y=Y.index,Y<q?(z.flags|=67108866,q):Y):(z.flags|=67108866,q)):(z.flags|=1048576,q)}function b(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function w(z,q,Y,se){return q===null||q.tag!==6?(q=Zf(Y,z.mode,se),q.return=z,q):(q=f(q,Y),q.return=z,q)}function L(z,q,Y,se){var Oe=Y.type;return Oe===ne?ie(z,q,Y.props.children,se,Y.key):q!==null&&(q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&Lr(Oe)===q.type)?(q=f(q,Y.props),Il(q,Y),q.return=z,q):(q=Uu(Y.type,Y.key,Y.props,null,z.mode,se),Il(q,Y),q.return=z,q)}function Q(z,q,Y,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=Jf(Y,z.mode,se),q.return=z,q):(q=f(q,Y.children||[]),q.return=z,q)}function ie(z,q,Y,se,Oe){return q===null||q.tag!==7?(q=Ir(Y,z.mode,se,Oe),q.return=z,q):(q=f(q,Y),q.return=z,q)}function le(z,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Zf(""+q,z.mode,Y),q.return=z,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return Y=Uu(q.type,q.key,q.props,null,z.mode,Y),Il(Y,q),Y.return=z,Y;case J:return q=Jf(q,z.mode,Y),q.return=z,q;case I:return q=Lr(q),le(z,q,Y)}if(lt(q)||x(q))return q=Ir(q,z.mode,Y,null),q.return=z,q;if(typeof q.then=="function")return le(z,Gu(q),Y);if(q.$$typeof===ge)return le(z,Pu(z,q),Y);Yu(z,q)}return null}function K(z,q,Y,se){var Oe=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Oe!==null?null:w(z,q,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return Y.key===Oe?L(z,q,Y,se):null;case J:return Y.key===Oe?Q(z,q,Y,se):null;case I:return Y=Lr(Y),K(z,q,Y,se)}if(lt(Y)||x(Y))return Oe!==null?null:ie(z,q,Y,se,null);if(typeof Y.then=="function")return K(z,q,Gu(Y),se);if(Y.$$typeof===ge)return K(z,q,Pu(z,Y),se);Yu(z,Y)}return null}function Z(z,q,Y,se,Oe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return z=z.get(Y)||null,w(q,z,""+se,Oe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case $:return z=z.get(se.key===null?Y:se.key)||null,L(q,z,se,Oe);case J:return z=z.get(se.key===null?Y:se.key)||null,Q(q,z,se,Oe);case I:return se=Lr(se),Z(z,q,Y,se,Oe)}if(lt(se)||x(se))return z=z.get(Y)||null,ie(q,z,se,Oe,null);if(typeof se.then=="function")return Z(z,q,Y,Gu(se),Oe);if(se.$$typeof===ge)return Z(z,q,Y,Pu(q,se),Oe);Yu(q,se)}return null}function Ae(z,q,Y,se){for(var Oe=null,pt=null,Ne=q,Xe=q=0,at=null;Ne!==null&&Xe<Y.length;Xe++){Ne.index>Xe?(at=Ne,Ne=null):at=Ne.sibling;var gt=K(z,Ne,Y[Xe],se);if(gt===null){Ne===null&&(Ne=at);break}e&&Ne&&gt.alternate===null&&n(z,Ne),q=d(gt,q,Xe),pt===null?Oe=gt:pt.sibling=gt,pt=gt,Ne=at}if(Xe===Y.length)return s(z,Ne),ot&&Xa(z,Xe),Oe;if(Ne===null){for(;Xe<Y.length;Xe++)Ne=le(z,Y[Xe],se),Ne!==null&&(q=d(Ne,q,Xe),pt===null?Oe=Ne:pt.sibling=Ne,pt=Ne);return ot&&Xa(z,Xe),Oe}for(Ne=o(Ne);Xe<Y.length;Xe++)at=Z(Ne,z,Xe,Y[Xe],se),at!==null&&(e&&at.alternate!==null&&Ne.delete(at.key===null?Xe:at.key),q=d(at,q,Xe),pt===null?Oe=at:pt.sibling=at,pt=at);return e&&Ne.forEach(function(Zs){return n(z,Zs)}),ot&&Xa(z,Xe),Oe}function Le(z,q,Y,se){if(Y==null)throw Error(r(151));for(var Oe=null,pt=null,Ne=q,Xe=q=0,at=null,gt=Y.next();Ne!==null&&!gt.done;Xe++,gt=Y.next()){Ne.index>Xe?(at=Ne,Ne=null):at=Ne.sibling;var Zs=K(z,Ne,gt.value,se);if(Zs===null){Ne===null&&(Ne=at);break}e&&Ne&&Zs.alternate===null&&n(z,Ne),q=d(Zs,q,Xe),pt===null?Oe=Zs:pt.sibling=Zs,pt=Zs,Ne=at}if(gt.done)return s(z,Ne),ot&&Xa(z,Xe),Oe;if(Ne===null){for(;!gt.done;Xe++,gt=Y.next())gt=le(z,gt.value,se),gt!==null&&(q=d(gt,q,Xe),pt===null?Oe=gt:pt.sibling=gt,pt=gt);return ot&&Xa(z,Xe),Oe}for(Ne=o(Ne);!gt.done;Xe++,gt=Y.next())gt=Z(Ne,z,Xe,gt.value,se),gt!==null&&(e&&gt.alternate!==null&&Ne.delete(gt.key===null?Xe:gt.key),q=d(gt,q,Xe),pt===null?Oe=gt:pt.sibling=gt,pt=gt);return e&&Ne.forEach(function(G1){return n(z,G1)}),ot&&Xa(z,Xe),Oe}function Dt(z,q,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===ne&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:e:{for(var Oe=Y.key;q!==null;){if(q.key===Oe){if(Oe=Y.type,Oe===ne){if(q.tag===7){s(z,q.sibling),se=f(q,Y.props.children),se.return=z,z=se;break e}}else if(q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&Lr(Oe)===q.type){s(z,q.sibling),se=f(q,Y.props),Il(se,Y),se.return=z,z=se;break e}s(z,q);break}else n(z,q);q=q.sibling}Y.type===ne?(se=Ir(Y.props.children,z.mode,se,Y.key),se.return=z,z=se):(se=Uu(Y.type,Y.key,Y.props,null,z.mode,se),Il(se,Y),se.return=z,z=se)}return b(z);case J:e:{for(Oe=Y.key;q!==null;){if(q.key===Oe)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){s(z,q.sibling),se=f(q,Y.children||[]),se.return=z,z=se;break e}else{s(z,q);break}else n(z,q);q=q.sibling}se=Jf(Y,z.mode,se),se.return=z,z=se}return b(z);case I:return Y=Lr(Y),Dt(z,q,Y,se)}if(lt(Y))return Ae(z,q,Y,se);if(x(Y)){if(Oe=x(Y),typeof Oe!="function")throw Error(r(150));return Y=Oe.call(Y),Le(z,q,Y,se)}if(typeof Y.then=="function")return Dt(z,q,Gu(Y),se);if(Y.$$typeof===ge)return Dt(z,q,Pu(z,Y),se);Yu(z,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(s(z,q.sibling),se=f(q,Y),se.return=z,z=se):(s(z,q),se=Zf(Y,z.mode,se),se.return=z,z=se),b(z)):s(z,q)}return function(z,q,Y,se){try{Dl=0;var Oe=Dt(z,q,Y,se);return Oo=null,Oe}catch(Ne){if(Ne===Io||Ne===Hu)throw Ne;var pt=Ni(29,Ne,null,z.mode);return pt.lanes=se,pt.return=z,pt}}}var Ur=ug(!0),cg=ug(!1),ks=!1;function fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(yt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Vu(e),Qp(e,null,s),n}return Lu(e,o,n,s),Vu(e)}function Ol(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ss(e,s)}}function dh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var mh=!1;function jl(){if(mh){var e=Do;if(e!==null)throw e}}function Ml(e,n,s,o){mh=!1;var f=e.updateQueue;ks=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var L=w,Q=L.next;L.next=null,b===null?d=Q:b.next=Q,b=L;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,w=ie.lastBaseUpdate,w!==b&&(w===null?ie.firstBaseUpdate=Q:w.next=Q,ie.lastBaseUpdate=L))}if(d!==null){var le=f.baseState;b=0,ie=Q=L=null,w=d;do{var K=w.lane&-536870913,Z=K!==w.lane;if(Z?(it&K)===K:(o&K)===K){K!==0&&K===xo&&(mh=!0),ie!==null&&(ie=ie.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=e,Le=w;K=n;var Dt=s;switch(Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){le=Ae.call(Dt,le,K);break e}le=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,K=typeof Ae=="function"?Ae.call(Dt,le,K):Ae,K==null)break e;le=D({},le,K);break e;case 2:ks=!0}}K=w.callback,K!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ie===null?(Q=ie=Z,L=le):ie=ie.next=Z,b|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ie===null&&(L=le),f.baseState=L,f.firstBaseUpdate=Q,f.lastBaseUpdate=ie,d===null&&(f.shared.lanes=0),zs|=b,e.lanes=b,e.memoizedState=le}}function fg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function hg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)fg(s[e],n)}var jo=B(null),Qu=B(0);function dg(e,n){e=ss,pe(Qu,e),pe(jo,n),ss=e|n.baseLanes}function ph(){pe(Qu,ss),pe(jo,jo.current)}function gh(){ss=Qu.current,ae(jo),ae(Qu)}var Ci=B(null),Xi=null;function Us(e){var n=e.alternate;pe(en,en.current&1),pe(Ci,e),Xi===null&&(n===null||jo.current!==null||n.memoizedState!==null)&&(Xi=e)}function yh(e){pe(en,en.current),pe(Ci,e),Xi===null&&(Xi=e)}function mg(e){e.tag===22?(pe(en,en.current),pe(Ci,e),Xi===null&&(Xi=e)):Bs()}function Bs(){pe(en,en.current),pe(Ci,Ci.current)}function xi(e){ae(Ci),Xi===e&&(Xi=null),ae(en)}var en=B(0);function Xu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sd(s)||wd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wa=0,Qe=null,Ct=null,on=null,Ku=!1,Mo=!1,Br=!1,$u=0,kl=0,ko=null,kT=0;function $t(){throw Error(r(321))}function _h(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ri(e[s],n[s]))return!1;return!0}function vh(e,n,s,o,f,d){return Wa=d,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Wg:Mh,Br=!1,d=s(o,f),Br=!1,Mo&&(d=gg(n,s,o,f)),pg(e),d}function pg(e){P.H=Ul;var n=Ct!==null&&Ct.next!==null;if(Wa=0,on=Ct=Qe=null,Ku=!1,kl=0,ko=null,n)throw Error(r(300));e===null||ln||(e=e.dependencies,e!==null&&qu(e)&&(ln=!0))}function gg(e,n,s,o){Qe=e;var f=0;do{if(Mo&&(ko=null),kl=0,Mo=!1,25<=f)throw Error(r(301));if(f+=1,on=Ct=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=Zg,d=n(s,o)}while(Mo);return d}function LT(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Ll(n):n,e=e.useState()[0],(Ct!==null?Ct.memoizedState:null)!==e&&(Qe.flags|=1024),n}function Eh(){var e=$u!==0;return $u=0,e}function bh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Th(e){if(Ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ku=!1}Wa=0,on=Ct=Qe=null,Mo=!1,kl=$u=0,ko=null}function ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Qe.memoizedState=on=e:on=on.next=e,on}function tn(){if(Ct===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var n=on===null?Qe.memoizedState:on.next;if(n!==null)on=n,Ct=e;else{if(e===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},on===null?Qe.memoizedState=on=e:on=on.next=e}return on}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var n=kl;return kl+=1,ko===null&&(ko=[]),e=rg(ko,e,n),n=Qe,(on===null?n.memoizedState:on.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Wg:Mh),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===ge)return Dn(e)}throw Error(r(438,String(e)))}function Sh(e){var n=null,s=Qe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Qe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Wu(),Qe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=U;return n.index++,s}function Za(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=tn();return wh(n,Ct,e)}function wh(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var w=b=null,L=null,Q=n,ie=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(it&le)===le:(Wa&le)===le){var K=Q.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===xo&&(ie=!0);else if((Wa&K)===K){Q=Q.next,K===xo&&(ie=!0);continue}else le={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(w=L=le,b=d):L=L.next=le,Qe.lanes|=K,zs|=K;le=Q.action,Br&&s(d,le),d=Q.hasEagerState?Q.eagerState:s(d,le)}else K={lane:le,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(w=L=K,b=d):L=L.next=K,Qe.lanes|=le,zs|=le;Q=Q.next}while(Q!==null&&Q!==n);if(L===null?b=d:L.next=w,!Ri(d,e.memoizedState)&&(ln=!0,ie&&(s=Do,s!==null)))throw s;e.memoizedState=d,e.baseState=b,e.baseQueue=L,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ah(e){var n=tn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var b=f=f.next;do d=e(d,b.action),b=b.next;while(b!==f);Ri(d,n.memoizedState)||(ln=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function yg(e,n,s){var o=Qe,f=tn(),d=ot;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var b=!Ri((Ct||f).memoizedState,s);if(b&&(f.memoizedState=s,ln=!0),f=f.queue,Ch(Eg.bind(null,o,f,e),[e]),f.getSnapshot!==n||b||on!==null&&on.memoizedState.tag&1){if(o.flags|=2048,Lo(9,{destroy:void 0},vg.bind(null,o,f,s,n),null),Mt===null)throw Error(r(349));d||(Wa&127)!==0||_g(o,n,s)}return s}function _g(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Qe.updateQueue,n===null?(n=Wu(),Qe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function vg(e,n,s,o){n.value=s,n.getSnapshot=o,bg(n)&&Tg(e)}function Eg(e,n,s){return s(function(){bg(n)&&Tg(e)})}function bg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ri(e,s)}catch{return!0}}function Tg(e){var n=Dr(e,2);n!==null&&gi(n,e,2)}function Rh(e){var n=ii();if(typeof e=="function"){var s=e;if(e=s(),Br){Kn(!0);try{s()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:e},n}function Sg(e,n,s,o){return e.baseState=s,wh(e,Ct,typeof o=="function"?o:Za)}function VT(e,n,s,o,f){if(nc(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};P.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,wg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function wg(e,n){var s=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=P.T,b={};P.T=b;try{var w=s(f,o),L=P.S;L!==null&&L(b,w),Ag(e,n,w)}catch(Q){Nh(e,n,Q)}finally{d!==null&&b.types!==null&&(d.types=b.types),P.T=d}}else try{d=s(f,o),Ag(e,n,d)}catch(Q){Nh(e,n,Q)}}function Ag(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Rg(e,n,o)},function(o){return Nh(e,n,o)}):Rg(e,n,s)}function Rg(e,n,s){n.status="fulfilled",n.value=s,Ng(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,wg(e,s)))}function Nh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ng(n),n=n.next;while(n!==o)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cg(e,n){return n}function xg(e,n){if(ot){var s=Mt.formState;if(s!==null){e:{var o=Qe;if(ot){if(Vt){t:{for(var f=Vt,d=Qi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ki(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Vt=Ki(f.nextSibling),o=f.data==="F!";break e}}js(o)}o=!1}o&&(n=s[0])}}return s=ii(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},s.queue=o,s=Xg.bind(null,Qe,o),o.dispatch=s,o=Rh(!1),d=jh.bind(null,Qe,!1,o.queue),o=ii(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,s=VT.bind(null,Qe,f,d,s),f.dispatch=s,o.memoizedState=e,[n,s,!1]}function Dg(e){var n=tn();return Ig(n,Ct,e)}function Ig(e,n,s){if(n=wh(e,n,Cg)[0],e=Ju(Za)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ll(n)}catch(b){throw b===Io?Hu:b}else o=n;n=tn();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(Qe.flags|=2048,Lo(9,{destroy:void 0},UT.bind(null,f,s),null)),[o,d,e]}function UT(e,n){e.action=n}function Og(e){var n=tn(),s=Ct;if(s!==null)return Ig(n,s,e);tn(),n=n.memoizedState,s=tn();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Lo(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Qe.updateQueue,n===null&&(n=Wu(),Qe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function jg(){return tn().memoizedState}function ec(e,n,s,o){var f=ii();Qe.flags|=e,f.memoizedState=Lo(1|n,{destroy:void 0},s,o===void 0?null:o)}function tc(e,n,s,o){var f=tn();o=o===void 0?null:o;var d=f.memoizedState.inst;Ct!==null&&o!==null&&_h(o,Ct.memoizedState.deps)?f.memoizedState=Lo(n,d,s,o):(Qe.flags|=e,f.memoizedState=Lo(1|n,d,s,o))}function Mg(e,n){ec(8390656,8,e,n)}function Ch(e,n){tc(2048,8,e,n)}function BT(e){Qe.flags|=4;var n=Qe.updateQueue;if(n===null)n=Wu(),Qe.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function kg(e){var n=tn().memoizedState;return BT({ref:n,nextImpl:e}),function(){if((yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Lg(e,n){return tc(4,2,e,n)}function Vg(e,n){return tc(4,4,e,n)}function Ug(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bg(e,n,s){s=s!=null?s.concat([e]):null,tc(4,4,Ug.bind(null,n,e),s)}function xh(){}function qg(e,n){var s=tn();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&_h(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Pg(e,n){var s=tn();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&_h(n,o[1]))return o[0];if(o=e(),Br){Kn(!0);try{e()}finally{Kn(!1)}}return s.memoizedState=[o,n],o}function Dh(e,n,s){return s===void 0||(Wa&1073741824)!==0&&(it&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=zy(),Qe.lanes|=e,zs|=e,s)}function zg(e,n,s,o){return Ri(s,n)?s:jo.current!==null?(e=Dh(e,s,o),Ri(e,n)||(ln=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(it&261930)===0?(ln=!0,e.memoizedState=s):(e=zy(),Qe.lanes|=e,zs|=e,n)}function Hg(e,n,s,o,f){var d=fe.p;fe.p=d!==0&&8>d?d:8;var b=P.T,w={};P.T=w,jh(e,!1,n,s);try{var L=f(),Q=P.S;if(Q!==null&&Q(w,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=MT(L,o);Vl(e,n,ie,Oi(e))}else Vl(e,n,o,Oi(e))}catch(le){Vl(e,n,{then:function(){},status:"rejected",reason:le},Oi())}finally{fe.p=d,b!==null&&w.types!==null&&(b.types=w.types),P.T=b}}function qT(){}function Ih(e,n,s,o){if(e.tag!==5)throw Error(r(476));var f=Fg(e).queue;Hg(e,f,n,Ce,s===null?qT:function(){return Gg(e),s(o)})}function Fg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:Ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Gg(e){var n=Fg(e);n.next===null&&(n=e.alternate.memoizedState),Vl(e,n.next.queue,{},Oi())}function Oh(){return Dn(eu)}function Yg(){return tn().memoizedState}function Qg(){return tn().memoizedState}function PT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Oi();e=Ls(s);var o=Vs(n,e,s);o!==null&&(gi(o,n,s),Ol(o,n,s)),n={cache:oh()},e.payload=n;return}n=n.return}}function zT(e,n,s){var o=Oi();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},nc(e)?Kg(n,s):(s=$f(e,n,s,o),s!==null&&(gi(s,e,o),$g(s,n,o)))}function Xg(e,n,s){var o=Oi();Vl(e,n,s,o)}function Vl(e,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(nc(e))Kg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,w=d(b,s);if(f.hasEagerState=!0,f.eagerState=w,Ri(w,b))return Lu(e,n,f,0),Mt===null&&ku(),!1}catch{}if(s=$f(e,n,f,o),s!==null)return gi(s,e,o),$g(s,n,o),!0}return!1}function jh(e,n,s,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(n)throw Error(r(479))}else n=$f(e,s,o,2),n!==null&&gi(n,e,2)}function nc(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function Kg(e,n){Mo=Ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function $g(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ss(e,s)}}var Ul={readContext:Dn,use:Zu,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};Ul.useEffectEvent=$t;var Wg={readContext:Dn,use:Zu,useCallback:function(e,n){return ii().memoizedState=[e,n===void 0?null:n],e},useContext:Dn,useEffect:Mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ec(4194308,4,Ug.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ec(4194308,4,e,n)},useInsertionEffect:function(e,n){ec(4,2,e,n)},useMemo:function(e,n){var s=ii();n=n===void 0?null:n;var o=e();if(Br){Kn(!0);try{e()}finally{Kn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=ii();if(s!==void 0){var f=s(n);if(Br){Kn(!0);try{s(n)}finally{Kn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=zT.bind(null,Qe,e),[o.memoizedState,e]},useRef:function(e){var n=ii();return e={current:e},n.memoizedState=e},useState:function(e){e=Rh(e);var n=e.queue,s=Xg.bind(null,Qe,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:xh,useDeferredValue:function(e,n){var s=ii();return Dh(s,e,n)},useTransition:function(){var e=Rh(!1);return e=Hg.bind(null,Qe,e.queue,!0,!1),ii().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Qe,f=ii();if(ot){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Mt===null)throw Error(r(349));(it&127)!==0||_g(o,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,Mg(Eg.bind(null,o,d,e),[e]),o.flags|=2048,Lo(9,{destroy:void 0},vg.bind(null,o,d,s,n),null),s},useId:function(){var e=ii(),n=Mt.identifierPrefix;if(ot){var s=Ra,o=Aa;s=(o&~(1<<32-Lt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=$u++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=kT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Oh,useFormState:xg,useActionState:xg,useOptimistic:function(e){var n=ii();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=jh.bind(null,Qe,!0,s),s.dispatch=n,[e,n]},useMemoCache:Sh,useCacheRefresh:function(){return ii().memoizedState=PT.bind(null,Qe)},useEffectEvent:function(e){var n=ii(),s={impl:e};return n.memoizedState=s,function(){if((yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Mh={readContext:Dn,use:Zu,useCallback:qg,useContext:Dn,useEffect:Ch,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Vg,useMemo:Pg,useReducer:Ju,useRef:jg,useState:function(){return Ju(Za)},useDebugValue:xh,useDeferredValue:function(e,n){var s=tn();return zg(s,Ct.memoizedState,e,n)},useTransition:function(){var e=Ju(Za)[0],n=tn().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:Oh,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var s=tn();return Sg(s,Ct,e,n)},useMemoCache:Sh,useCacheRefresh:Qg};Mh.useEffectEvent=kg;var Zg={readContext:Dn,use:Zu,useCallback:qg,useContext:Dn,useEffect:Ch,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Vg,useMemo:Pg,useReducer:Ah,useRef:jg,useState:function(){return Ah(Za)},useDebugValue:xh,useDeferredValue:function(e,n){var s=tn();return Ct===null?Dh(s,e,n):zg(s,Ct.memoizedState,e,n)},useTransition:function(){var e=Ah(Za)[0],n=tn().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:Oh,useFormState:Og,useActionState:Og,useOptimistic:function(e,n){var s=tn();return Ct!==null?Sg(s,Ct,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:Qg};Zg.useEffectEvent=kg;function kh(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:D({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Lh={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Oi(),f=Ls(o);f.payload=n,s!=null&&(f.callback=s),n=Vs(e,f,o),n!==null&&(gi(n,e,o),Ol(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Oi(),f=Ls(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Vs(e,f,o),n!==null&&(gi(n,e,o),Ol(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Oi(),o=Ls(s);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,s),n!==null&&(gi(n,e,s),Ol(n,e,s))}};function Jg(e,n,s,o,f,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,b):n.prototype&&n.prototype.isPureReactComponent?!wl(s,o)||!wl(f,d):!0}function ey(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Lh.enqueueReplaceState(n,n.state,null)}function qr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=D({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}function ty(e){Mu(e)}function ny(e){console.error(e)}function iy(e){Mu(e)}function ic(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vh(e,n,s){return s=Ls(s),s.tag=3,s.payload={element:null},s.callback=function(){ic(e,n)},s}function sy(e){return e=Ls(e),e.tag=3,e}function ry(e,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){ay(n,s,o)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){ay(n,s,o),typeof f!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function HT(e,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Co(n,s,f,!0),s=Ci.current,s!==null){switch(s.tag){case 31:case 13:return Xi===null?pc():s.alternate===null&&Wt===0&&(Wt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Fu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ld(e,o,f)),!1;case 22:return s.flags|=65536,o===Fu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ld(e,o,f)),!1}throw Error(r(435,s.tag))}return ld(e,o,f),pc(),!1}if(ot)return n=Ci.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==nh&&(e=Error(r(422),{cause:o}),Nl(Fi(e,s)))):(o!==nh&&(n=Error(r(423),{cause:o}),Nl(Fi(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Fi(o,s),f=Vh(e.stateNode,o,f),dh(e,f),Wt!==4&&(Wt=2)),!1;var d=Error(r(520),{cause:o});if(d=Fi(d,s),Yl===null?Yl=[d]:Yl.push(d),Wt!==4&&(Wt=2),n===null)return!0;o=Fi(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Vh(s.stateNode,o,e),dh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hs===null||!Hs.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=sy(f),ry(f,e,s,o),dh(s,f),!1}s=s.return}while(s!==null);return!1}var Uh=Error(r(461)),ln=!1;function In(e,n,s,o){n.child=e===null?cg(n,null,s,o):Ur(n,e.child,s,o)}function oy(e,n,s,o,f){s=s.render;var d=n.ref;if("ref"in o){var b={};for(var w in o)w!=="ref"&&(b[w]=o[w])}else b=o;return Mr(n),o=vh(e,n,s,b,d,f),w=Eh(),e!==null&&!ln?(bh(e,n,f),Ja(e,n,f)):(ot&&w&&eh(n),n.flags|=1,In(e,n,o,f),n.child)}function ly(e,n,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,uy(e,n,d,o,f)):(e=Uu(s.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Yh(e,f)){var b=d.memoizedProps;if(s=s.compare,s=s!==null?s:wl,s(b,o)&&e.ref===n.ref)return Ja(e,n,f)}return n.flags|=1,e=Qa(d,o),e.ref=n.ref,e.return=n,n.child=e}function uy(e,n,s,o,f){if(e!==null){var d=e.memoizedProps;if(wl(d,o)&&e.ref===n.ref)if(ln=!1,n.pendingProps=o=d,Yh(e,f))(e.flags&131072)!==0&&(ln=!0);else return n.lanes=e.lanes,Ja(e,n,f)}return Bh(e,n,s,o,f)}function cy(e,n,s,o){var f=o.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,n.child=null;return fy(e,n,d,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,d!==null?d.cachePool:null),d!==null?dg(n,d):ph(),mg(n);else return o=n.lanes=536870912,fy(e,n,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(zu(n,d.cachePool),dg(n,d),Bs(),n.memoizedState=null):(e!==null&&zu(n,null),ph(),Bs());return In(e,n,f,s),n.child}function Bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(e,n,s,o,f){var d=uh();return d=d===null?null:{parent:rn._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&zu(n,null),ph(),mg(n),e!==null&&Co(e,n,o,!0),n.childLanes=f,null}function ac(e,n){return n=rc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,s){return Ur(n,e.child,null,s),e=ac(n,n.pendingProps),e.flags|=2,xi(n),n.memoizedState=null,e}function FT(e,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ot){if(o.mode==="hidden")return e=ac(n,o),n.lanes=536870912,Bl(null,e);if(yh(n),(e=Vt)?(e=w_(e,Qi),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Aa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},s=Kp(e),s.return=n,n.child=s,xn=n,Vt=null)):e=null,e===null)throw js(n);return n.lanes=536870912,null}return ac(n,o)}var d=e.memoizedState;if(d!==null){var b=d.dehydrated;if(yh(n),f)if(n.flags&256)n.flags&=-257,n=hy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(ln||Co(e,n,s,!1),f=(s&e.childLanes)!==0,ln||f){if(o=Mt,o!==null&&(b=an(o,s),b!==0&&b!==d.retryLane))throw d.retryLane=b,Dr(e,b),gi(o,e,b),Uh;pc(),n=hy(e,n,s)}else e=d.treeContext,Vt=Ki(b.nextSibling),xn=n,ot=!0,Os=null,Qi=!1,e!==null&&Zp(n,e),n=ac(n,o),n.flags|=4096;return n}return e=Qa(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function sc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Bh(e,n,s,o,f){return Mr(n),s=vh(e,n,s,o,void 0,f),o=Eh(),e!==null&&!ln?(bh(e,n,f),Ja(e,n,f)):(ot&&o&&eh(n),n.flags|=1,In(e,n,s,f),n.child)}function dy(e,n,s,o,f,d){return Mr(n),n.updateQueue=null,s=gg(n,o,s,f),pg(e),o=Eh(),e!==null&&!ln?(bh(e,n,d),Ja(e,n,d)):(ot&&o&&eh(n),n.flags|=1,In(e,n,s,d),n.child)}function my(e,n,s,o,f){if(Mr(n),n.stateNode===null){var d=wo,b=s.contextType;typeof b=="object"&&b!==null&&(d=Dn(b)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},fh(n),b=s.contextType,d.context=typeof b=="object"&&b!==null?Dn(b):wo,d.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(kh(n,s,b,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Lh.enqueueReplaceState(d,d.state,null),Ml(n,o,d,f),jl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var w=n.memoizedProps,L=qr(s,w);d.props=L;var Q=d.context,ie=s.contextType;b=wo,typeof ie=="object"&&ie!==null&&(b=Dn(ie));var le=s.getDerivedStateFromProps;ie=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,ie||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Q!==b)&&ey(n,d,o,b),ks=!1;var K=n.memoizedState;d.state=K,Ml(n,o,d,f),jl(),Q=n.memoizedState,w||K!==Q||ks?(typeof le=="function"&&(kh(n,s,le,o),Q=n.memoizedState),(L=ks||Jg(n,s,L,o,K,Q,b))?(ie||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Q),d.props=o,d.state=Q,d.context=b,o=L):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,hh(e,n),b=n.memoizedProps,ie=qr(s,b),d.props=ie,le=n.pendingProps,K=d.context,Q=s.contextType,L=wo,typeof Q=="object"&&Q!==null&&(L=Dn(Q)),w=s.getDerivedStateFromProps,(Q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==le||K!==L)&&ey(n,d,o,L),ks=!1,K=n.memoizedState,d.state=K,Ml(n,o,d,f),jl();var Z=n.memoizedState;b!==le||K!==Z||ks||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof w=="function"&&(kh(n,s,w,o),Z=n.memoizedState),(ie=ks||Jg(n,s,ie,o,K,Z,L)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Z,L),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Z,L)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Z),d.props=o,d.state=Z,d.context=L,o=ie):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,sc(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Ur(n,e.child,null,f),n.child=Ur(n,null,s,f)):In(e,n,s,f),n.memoizedState=d.state,e=n.child):e=Ja(e,n,f),e}function py(e,n,s,o){return Or(),n.flags|=256,In(e,n,s,o),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(e){return{baseLanes:e,cachePool:ag()}}function zh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Ii),e}function gy(e,n,s){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(en.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(ot){if(f?Us(n):Bs(),(e=Vt)?(e=w_(e,Qi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Aa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},s=Kp(e),s.return=n,n.child=s,xn=n,Vt=null)):e=null,e===null)throw js(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var w=o.children;return o=o.fallback,f?(Bs(),f=n.mode,w=rc({mode:"hidden",children:w},f),o=Ir(o,f,s,null),w.return=n,o.return=n,w.sibling=o,n.child=w,o=n.child,o.memoizedState=Ph(s),o.childLanes=zh(e,b,s),n.memoizedState=qh,Bl(null,o)):(Us(n),Hh(n,w))}var L=e.memoizedState;if(L!==null&&(w=L.dehydrated,w!==null)){if(d)n.flags&256?(Us(n),n.flags&=-257,n=Fh(e,n,s)):n.memoizedState!==null?(Bs(),n.child=e.child,n.flags|=128,n=null):(Bs(),w=o.fallback,f=n.mode,o=rc({mode:"visible",children:o.children},f),w=Ir(w,f,s,null),w.flags|=2,o.return=n,w.return=n,o.sibling=w,n.child=o,Ur(n,e.child,null,s),o=n.child,o.memoizedState=Ph(s),o.childLanes=zh(e,b,s),n.memoizedState=qh,n=Bl(null,o));else if(Us(n),wd(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Q=b.dgst;b=Q,o=Error(r(419)),o.stack="",o.digest=b,Nl({value:o,source:null,stack:null}),n=Fh(e,n,s)}else if(ln||Co(e,n,s,!1),b=(s&e.childLanes)!==0,ln||b){if(b=Mt,b!==null&&(o=an(b,s),o!==0&&o!==L.retryLane))throw L.retryLane=o,Dr(e,o),gi(b,e,o),Uh;Sd(w)||pc(),n=Fh(e,n,s)}else Sd(w)?(n.flags|=192,n.child=e.child,n=null):(e=L.treeContext,Vt=Ki(w.nextSibling),xn=n,ot=!0,Os=null,Qi=!1,e!==null&&Zp(n,e),n=Hh(n,o.children),n.flags|=4096);return n}return f?(Bs(),w=o.fallback,f=n.mode,L=e.child,Q=L.sibling,o=Qa(L,{mode:"hidden",children:o.children}),o.subtreeFlags=L.subtreeFlags&65011712,Q!==null?w=Qa(Q,w):(w=Ir(w,f,s,null),w.flags|=2),w.return=n,o.return=n,o.sibling=w,n.child=o,Bl(null,o),o=n.child,w=e.child.memoizedState,w===null?w=Ph(s):(f=w.cachePool,f!==null?(L=rn._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=ag(),w={baseLanes:w.baseLanes|s,cachePool:f}),o.memoizedState=w,o.childLanes=zh(e,b,s),n.memoizedState=qh,Bl(e.child,o)):(Us(n),s=e.child,e=s.sibling,s=Qa(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=s,n.memoizedState=null,s)}function Hh(e,n){return n=rc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function rc(e,n){return e=Ni(22,e,null,n),e.lanes=0,e}function Fh(e,n,s){return Ur(n,e.child,null,s),e=Hh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),sh(e.return,n,s)}function Gh(e,n,s,o,f,d){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:d}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=s,b.tailMode=f,b.treeForkCount=d)}function _y(e,n,s){var o=n.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var b=en.current,w=(b&2)!==0;if(w?(b=b&1|2,n.flags|=128):b&=1,pe(en,b),In(e,n,o,s),o=ot?Rl:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yy(e,s,n);else if(e.tag===19)yy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Xu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Gh(n,!1,f,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Xu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Gh(n,!0,s,null,d,o);break;case"together":Gh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ja(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Co(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Qa(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qa(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Yh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function GT(e,n,s){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Ms(n,rn,e.memoizedState.cache),Or();break;case 27:case 5:da(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(s&n.child.childLanes)!==0?gy(e,n,s):(Us(n),e=Ja(e,n,s),e!==null?e.sibling:null);Us(n);break;case 19:var f=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Co(e,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return _y(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),pe(en,en.current),o)break;return null;case 22:return n.lanes=0,cy(e,n,s,n.pendingProps);case 24:Ms(n,rn,e.memoizedState.cache)}return Ja(e,n,s)}function vy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ln=!0;else{if(!Yh(e,s)&&(n.flags&128)===0)return ln=!1,GT(e,n,s);ln=(e.flags&131072)!==0}else ln=!1,ot&&(n.flags&1048576)!==0&&Wp(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Lr(n.elementType),n.type=e,typeof e=="function")Wf(e)?(o=qr(e,o),n.tag=1,n=my(null,n,e,o,s)):(n.tag=0,n=Bh(null,n,e,o,s));else{if(e!=null){var f=e.$$typeof;if(f===_e){n.tag=11,n=oy(null,n,e,o,s);break e}else if(f===O){n.tag=14,n=ly(null,n,e,o,s);break e}}throw n=ye(e)||e,Error(r(306,n,""))}}return n;case 0:return Bh(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=qr(o,n.pendingProps),my(e,n,o,f,s);case 3:e:{if(Xt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,hh(e,n),Ml(n,o,null,s);var b=n.memoizedState;if(o=b.cache,Ms(n,rn,o),o!==d.cache&&rh(n,[rn],s,!0),jl(),o=b.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=py(e,n,o,s);break e}else if(o!==f){f=Fi(Error(r(424)),n),Nl(f),n=py(e,n,o,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Vt=Ki(e.firstChild),xn=n,ot=!0,Os=null,Qi=!0,s=cg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Or(),o===f){n=Ja(e,n,s);break e}In(e,n,o,s)}n=n.child}return n;case 26:return sc(e,n),e===null?(s=D_(n.type,null,n.pendingProps,null))?n.memoizedState=s:ot||(s=n.type,e=n.pendingProps,o=Tc(Ye.current).createElement(s),o[tt]=n,o[Zt]=e,On(o,s,e),Gt(o),n.stateNode=o):n.memoizedState=D_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return da(n),e===null&&ot&&(o=n.stateNode=N_(n.type,n.pendingProps,Ye.current),xn=n,Qi=!0,f=Vt,Qs(n.type)?(Ad=f,Vt=Ki(o.firstChild)):Vt=f),In(e,n,n.pendingProps.children,s),sc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ot&&((f=o=Vt)&&(o=b1(o,n.type,n.pendingProps,Qi),o!==null?(n.stateNode=o,xn=n,Vt=Ki(o.firstChild),Qi=!1,f=!0):f=!1),f||js(n)),da(n),f=n.type,d=n.pendingProps,b=e!==null?e.memoizedProps:null,o=d.children,Ed(f,d)?o=null:b!==null&&Ed(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=vh(e,n,LT,null,null,s),eu._currentValue=f),sc(e,n),In(e,n,o,s),n.child;case 6:return e===null&&ot&&((e=s=Vt)&&(s=T1(s,n.pendingProps,Qi),s!==null?(n.stateNode=s,xn=n,Vt=null,e=!0):e=!1),e||js(n)),null;case 13:return gy(e,n,s);case 4:return Xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ur(n,null,o,s):In(e,n,o,s),n.child;case 11:return oy(e,n,n.type,n.pendingProps,s);case 7:return In(e,n,n.pendingProps,s),n.child;case 8:return In(e,n,n.pendingProps.children,s),n.child;case 12:return In(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),In(e,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Mr(n),f=Dn(f),o=o(f),n.flags|=1,In(e,n,o,s),n.child;case 14:return ly(e,n,n.type,n.pendingProps,s);case 15:return uy(e,n,n.type,n.pendingProps,s);case 19:return _y(e,n,s);case 31:return FT(e,n,s);case 22:return cy(e,n,s,n.pendingProps);case 24:return Mr(n),o=Dn(rn),e===null?(f=uh(),f===null&&(f=Mt,d=oh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:o,cache:f},fh(n),Ms(n,rn,f)):((e.lanes&s)!==0&&(hh(e,n),Ml(n,null,null,s),jl()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ms(n,rn,o)):(o=d.cache,Ms(n,rn,o),o!==f.cache&&rh(n,[rn],s,!0))),In(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function es(e){e.flags|=4}function Qh(e,n,s,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw Vr=Fu,ch}else e.flags&=-16777217}function Ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!k_(n))if(Yy())e.flags|=8192;else throw Vr=Fu,ch}function oc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?An():536870912,e.lanes|=n,qo|=n)}function ql(e,n){if(!ot)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function YT(e,n,s){var o=n.pendingProps;switch(th(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(n),null;case 1:return Ut(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$a(rn),Ot(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(No(n)?es(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ih())),Ut(n),null;case 26:var f=n.type,d=n.memoizedState;return e===null?(es(n),d!==null?(Ut(n),Ey(n,d)):(Ut(n),Qh(n,f,null,o,s))):d?d!==e.memoizedState?(es(n),Ut(n),Ey(n,d)):(Ut(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&es(n),Ut(n),Qh(n,f,e,o,s)),null;case 27:if(Es(n),s=Ye.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Ut(n),null}e=Ee.current,No(n)?Jp(n):(e=N_(f,o,s),n.stateNode=e,es(n))}return Ut(n),null;case 5:if(Es(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Ut(n),null}if(d=Ee.current,No(n))Jp(n);else{var b=Tc(Ye.current);switch(d){case 1:d=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=b.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?b.createElement(f,{is:o.is}):b.createElement(f)}}d[tt]=n,d[Zt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=d;e:switch(On(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&es(n)}}return Ut(n),Qh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ye.current,No(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,f=xn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[tt]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||g_(e.nodeValue,s)),e||js(n,!0)}else e=Tc(e).createTextNode(o),e[tt]=n,n.stateNode=e}return Ut(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=No(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[tt]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ut(n),e=!1}else s=ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(xi(n),n):(xi(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Ut(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=No(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[tt]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ut(n),f=!1}else f=ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(xi(n),n):(xi(n),null)}return xi(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),oc(n,n.updateQueue),Ut(n),null);case 4:return Ot(),e===null&&pd(n.stateNode.containerInfo),Ut(n),null;case 10:return $a(n.type),Ut(n),null;case 19:if(ae(en),o=n.memoizedState,o===null)return Ut(n),null;if(f=(n.flags&128)!==0,d=o.rendering,d===null)if(f)ql(o,!1);else{if(Wt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Xu(e),d!==null){for(n.flags|=128,ql(o,!1),e=d.updateQueue,n.updateQueue=e,oc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Xp(s,e),s=s.sibling;return pe(en,en.current&1|2),ot&&Xa(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&wn()>hc&&(n.flags|=128,f=!0,ql(o,!1),n.lanes=4194304)}else{if(!f)if(e=Xu(d),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,oc(n,e),ql(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ot)return Ut(n),null}else 2*wn()-o.renderingStartTime>hc&&s!==536870912&&(n.flags|=128,f=!0,ql(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(e=o.last,e!==null?e.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=wn(),e.sibling=null,s=en.current,pe(en,f?s&1|2:s&1),ot&&Xa(n,o.treeForkCount),e):(Ut(n),null);case 22:case 23:return xi(n),gh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Ut(n),n.subtreeFlags&6&&(n.flags|=8192)):Ut(n),s=n.updateQueue,s!==null&&oc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&ae(kr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$a(rn),Ut(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function QT(e,n){switch(th(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $a(rn),Ot(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Es(n),null;case 31:if(n.memoizedState!==null){if(xi(n),n.alternate===null)throw Error(r(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ae(en),null;case 4:return Ot(),null;case 10:return $a(n.type),null;case 22:case 23:return xi(n),gh(),e!==null&&ae(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $a(rn),null;case 25:return null;default:return null}}function by(e,n){switch(th(n),n.tag){case 3:$a(rn),Ot();break;case 26:case 27:case 5:Es(n);break;case 4:Ot();break;case 31:n.memoizedState!==null&&xi(n);break;case 13:xi(n);break;case 19:ae(en);break;case 10:$a(n.type);break;case 22:case 23:xi(n),gh(),e!==null&&ae(kr);break;case 24:$a(rn)}}function Pl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,b=s.inst;o=d(),b.destroy=o}s=s.next}while(s!==f)}}catch(w){At(n,n.return,w)}}function qs(e,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var b=o.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=n;var L=s,Q=w;try{Q()}catch(ie){At(f,L,ie)}}}o=o.next}while(o!==d)}}catch(ie){At(n,n.return,ie)}}function Ty(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{hg(n,s)}catch(o){At(e,e.return,o)}}}function Sy(e,n,s){s.props=qr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){At(e,n,o)}}function zl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){At(e,n,f)}}function Na(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){At(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){At(e,n,f)}else s.current=null}function wy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){At(e,e.return,f)}}function Xh(e,n,s){try{var o=e.stateNode;p1(o,e.type,s,n),o[Zt]=n}catch(f){At(e,e.return,f)}}function Ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $h(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Cn));else if(o!==4&&(o===27&&Qs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for($h(e,n,s),e=e.sibling;e!==null;)$h(e,n,s),e=e.sibling}function lc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Qs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(lc(e,n,s),e=e.sibling;e!==null;)lc(e,n,s),e=e.sibling}function Ry(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);On(n,o,s),n[tt]=e,n[Zt]=s}catch(d){At(e,e.return,d)}}var ts=!1,un=!1,Wh=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function XT(e,n){if(e=e.containerInfo,_d=xc,e=Bp(e),Ff(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var b=0,w=-1,L=-1,Q=0,ie=0,le=e,K=null;t:for(;;){for(var Z;le!==s||f!==0&&le.nodeType!==3||(w=b+f),le!==d||o!==0&&le.nodeType!==3||(L=b+o),le.nodeType===3&&(b+=le.nodeValue.length),(Z=le.firstChild)!==null;)K=le,le=Z;for(;;){if(le===e)break t;if(K===s&&++Q===f&&(w=b),K===d&&++ie===o&&(L=b),(Z=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=Z}s=w===-1||L===-1?null:{start:w,end:L}}else s=null}s=s||{start:0,end:0}}else s=null;for(vd={focusedElem:e,selectionRange:s},xc=!1,Tn=n;Tn!==null;)if(n=Tn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Tn=e;else for(;Tn!==null;){switch(n=Tn,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)f=e[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Ae=qr(s.type,f);e=o.getSnapshotBeforeUpdate(Ae,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Le){At(s,s.return,Le)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Td(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Tn=e;break}Tn=n.return}}function Cy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:is(e,s),o&4&&Pl(5,s);break;case 1:if(is(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(b){At(s,s.return,b)}else{var f=qr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){At(s,s.return,b)}}o&64&&Ty(s),o&512&&zl(s,s.return);break;case 3:if(is(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{hg(e,n)}catch(b){At(s,s.return,b)}}break;case 27:n===null&&o&4&&Ry(s);case 26:case 5:is(e,s),n===null&&o&4&&wy(s),o&512&&zl(s,s.return);break;case 12:is(e,s);break;case 31:is(e,s),o&4&&Iy(e,s);break;case 13:is(e,s),o&4&&Oy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=i1.bind(null,s),S1(e,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||un,f=ts;var d=un;ts=o,(un=n)&&!d?as(e,s,(s.subtreeFlags&8772)!==0):is(e,s),ts=f,un=d}break;case 30:break;default:is(e,s)}}function xy(e){var n=e.alternate;n!==null&&(e.alternate=null,xy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&As(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zt=null,hi=!1;function ns(e,n,s){for(s=s.child;s!==null;)Dy(e,n,s),s=s.sibling}function Dy(e,n,s){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(vi,s)}catch{}switch(s.tag){case 26:un||Na(s,n),ns(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:un||Na(s,n);var o=zt,f=hi;Qs(s.type)&&(zt=s.stateNode,hi=!1),ns(e,n,s),Wl(s.stateNode),zt=o,hi=f;break;case 5:un||Na(s,n);case 6:if(o=zt,f=hi,zt=null,ns(e,n,s),zt=o,hi=f,zt!==null)if(hi)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(s.stateNode)}catch(d){At(s,n,d)}else try{zt.removeChild(s.stateNode)}catch(d){At(s,n,d)}break;case 18:zt!==null&&(hi?(e=zt,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xo(e)):T_(zt,s.stateNode));break;case 4:o=zt,f=hi,zt=s.stateNode.containerInfo,hi=!0,ns(e,n,s),zt=o,hi=f;break;case 0:case 11:case 14:case 15:qs(2,s,n),un||qs(4,s,n),ns(e,n,s);break;case 1:un||(Na(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Sy(s,n,o)),ns(e,n,s);break;case 21:ns(e,n,s);break;case 22:un=(o=un)||s.memoizedState!==null,ns(e,n,s),un=o;break;default:ns(e,n,s)}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xo(e)}catch(s){At(n,n.return,s)}}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xo(e)}catch(s){At(n,n.return,s)}}function KT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ny),n;default:throw Error(r(435,e.tag))}}function uc(e,n){var s=KT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=a1.bind(null,e,o);o.then(f,f)}})}function di(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,b=n,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Qs(w.type)){zt=w.stateNode,hi=!1;break e}break;case 5:zt=w.stateNode,hi=!1;break e;case 3:case 4:zt=w.stateNode.containerInfo,hi=!0;break e}w=w.return}if(zt===null)throw Error(r(160));Dy(d,b,f),zt=null,hi=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,e),n=n.sibling}var la=null;function jy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:di(n,e),mi(e),o&4&&(qs(3,e,e.return),Pl(3,e),qs(5,e,e.return));break;case 1:di(n,e),mi(e),o&512&&(un||s===null||Na(s,s.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=la;if(di(n,e),mi(e),o&512&&(un||s===null||Na(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Wn]||d[tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),On(d,o,s),d[tt]=e,Gt(d),o=d;break e;case"link":var b=j_("link","href",f).get(o+(s.href||""));if(b){for(var w=0;w<b.length;w++)if(d=b[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(w,1);break t}}d=f.createElement(o),On(d,o,s),f.head.appendChild(d);break;case"meta":if(b=j_("meta","content",f).get(o+(s.content||""))){for(w=0;w<b.length;w++)if(d=b[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(w,1);break t}}d=f.createElement(o),On(d,o,s),f.head.appendChild(d);break;default:throw Error(r(468,o))}d[tt]=e,Gt(d),o=d}e.stateNode=o}else M_(f,e.type,e.stateNode);else e.stateNode=O_(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?M_(f,e.type,e.stateNode):O_(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xh(e,e.memoizedProps,s.memoizedProps)}break;case 27:di(n,e),mi(e),o&512&&(un||s===null||Na(s,s.return)),s!==null&&o&4&&Xh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(di(n,e),mi(e),o&512&&(un||s===null||Na(s,s.return)),e.flags&32){f=e.stateNode;try{yn(f,"")}catch(Ae){At(e,e.return,Ae)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Xh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(Wh=!0);break;case 6:if(di(n,e),mi(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(Ae){At(e,e.return,Ae)}}break;case 3:if(Ac=null,f=la,la=Sc(n.containerInfo),di(n,e),la=f,mi(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xo(n.containerInfo)}catch(Ae){At(e,e.return,Ae)}Wh&&(Wh=!1,My(e));break;case 4:o=la,la=Sc(e.stateNode.containerInfo),di(n,e),mi(e),la=o;break;case 12:di(n,e),mi(e);break;case 31:di(n,e),mi(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 13:di(n,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(fc=wn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 22:f=e.memoizedState!==null;var L=s!==null&&s.memoizedState!==null,Q=ts,ie=un;if(ts=Q||f,un=ie||L,di(n,e),un=ie,ts=Q,mi(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||L||ts||un||Pr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){L=s=n;try{if(d=L.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=L.stateNode;var le=L.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Ae){At(L,L.return,Ae)}}}else if(n.tag===6){if(s===null){L=n;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(Ae){At(L,L.return,Ae)}}}else if(n.tag===18){if(s===null){L=n;try{var Z=L.stateNode;f?S_(Z,!0):S_(L.stateNode,!1)}catch(Ae){At(L,L.return,Ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,uc(e,s))));break;case 19:di(n,e),mi(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 30:break;case 21:break;default:di(n,e),mi(e)}}function mi(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Ay(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=Kh(e);lc(e,d,f);break;case 5:var b=s.stateNode;s.flags&32&&(yn(b,""),s.flags&=-33);var w=Kh(e);lc(e,w,b);break;case 3:case 4:var L=s.stateNode.containerInfo,Q=Kh(e);$h(e,Q,L);break;default:throw Error(r(161))}}catch(ie){At(e,e.return,ie)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Pr(n);break;case 1:Na(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Sy(n,n.return,s),Pr(n);break;case 27:Wl(n.stateNode);case 26:case 5:Na(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function as(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:as(f,d,s),Pl(4,d);break;case 1:if(as(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){At(o,o.return,Q)}if(o=d,f=o.updateQueue,f!==null){var w=o.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)fg(L[f],w)}catch(Q){At(o,o.return,Q)}}s&&b&64&&Ty(d),zl(d,d.return);break;case 27:Ry(d);case 26:case 5:as(f,d,s),s&&o===null&&b&4&&wy(d),zl(d,d.return);break;case 12:as(f,d,s);break;case 31:as(f,d,s),s&&b&4&&Iy(f,d);break;case 13:as(f,d,s),s&&b&4&&Oy(f,d);break;case 22:d.memoizedState===null&&as(f,d,s),zl(d,d.return);break;case 30:break;default:as(f,d,s)}n=n.sibling}}function Zh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Cl(s))}function Jh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e))}function ua(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(e,n,s,o),n=n.sibling}function ky(e,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ua(e,n,s,o),f&2048&&Pl(9,n);break;case 1:ua(e,n,s,o);break;case 3:ua(e,n,s,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e)));break;case 12:if(f&2048){ua(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,b=d.id,w=d.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){At(n,n.return,L)}}else ua(e,n,s,o);break;case 31:ua(e,n,s,o);break;case 13:ua(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?ua(e,n,s,o):Hl(e,n):d._visibility&2?ua(e,n,s,o):(d._visibility|=2,Vo(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Zh(b,n);break;case 24:ua(e,n,s,o),f&2048&&Jh(n.alternate,n);break;default:ua(e,n,s,o)}}function Vo(e,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,b=n,w=s,L=o,Q=b.flags;switch(b.tag){case 0:case 11:case 15:Vo(d,b,w,L,f),Pl(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?Vo(d,b,w,L,f):Hl(d,b):(ie._visibility|=2,Vo(d,b,w,L,f)),f&&Q&2048&&Zh(b.alternate,b);break;case 24:Vo(d,b,w,L,f),f&&Q&2048&&Jh(b.alternate,b);break;default:Vo(d,b,w,L,f)}n=n.sibling}}function Hl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,f=o.flags;switch(o.tag){case 22:Hl(s,o),f&2048&&Zh(o.alternate,o);break;case 24:Hl(s,o),f&2048&&Jh(o.alternate,o);break;default:Hl(s,o)}n=n.sibling}}var Fl=8192;function Uo(e,n,s){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)Ly(e,n,s),e=e.sibling}function Ly(e,n,s){switch(e.tag){case 26:Uo(e,n,s),e.flags&Fl&&e.memoizedState!==null&&k1(s,la,e.memoizedState,e.memoizedProps);break;case 5:Uo(e,n,s);break;case 3:case 4:var o=la;la=Sc(e.stateNode.containerInfo),Uo(e,n,s),la=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Fl,Fl=16777216,Uo(e,n,s),Fl=o):Uo(e,n,s));break;default:Uo(e,n,s)}}function Vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Tn=o,By(o,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&qs(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cc(e)):Gl(e);break;default:Gl(e)}}function cc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Tn=o,By(o,e)}Vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qs(8,n,n.return),cc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,cc(n));break;default:cc(n)}e=e.sibling}}function By(e,n){for(;Tn!==null;){var s=Tn;switch(s.tag){case 0:case 11:case 15:qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Tn=o;else e:for(s=e;Tn!==null;){o=Tn;var f=o.sibling,d=o.return;if(xy(o),o===s){Tn=null;break e}if(f!==null){f.return=d,Tn=f;break e}Tn=d}}}var $T={getCacheForType:function(e){var n=Dn(rn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Dn(rn).controller.signal}},WT=typeof WeakMap=="function"?WeakMap:Map,yt=0,Mt=null,Ze=null,it=0,wt=0,Di=null,Ps=!1,Bo=!1,ed=!1,ss=0,Wt=0,zs=0,zr=0,td=0,Ii=0,qo=0,Yl=null,pi=null,nd=!1,fc=0,qy=0,hc=1/0,dc=null,Hs=null,mn=0,Fs=null,Po=null,rs=0,id=0,ad=null,Py=null,Ql=0,sd=null;function Oi(){return(yt&2)!==0&&it!==0?it&-it:P.T!==null?fd():yr()}function zy(){if(Ii===0)if((it&536870912)===0||ot){var e=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),Ii=e}else Ii=536870912;return e=Ci.current,e!==null&&(e.flags|=32),Ii}function gi(e,n,s){(e===Mt&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&(zo(e,0),Gs(e,it,Ii,!1)),ia(e,s),((yt&2)===0||e!==Mt)&&(e===Mt&&((yt&2)===0&&(zr|=s),Wt===4&&Gs(e,it,Ii,!1)),Ca(e))}function Hy(e,n,s){if((yt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ti(e,n),f=o?e1(e,n):od(e,n,!0),d=o;do{if(f===0){Bo&&!o&&Gs(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!ZT(s)){f=od(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var w=e;f=Yl;var L=w.current.memoizedState.isDehydrated;if(L&&(zo(w,b).flags|=256),b=od(w,b,!1),b!==2){if(ed&&!L){w.errorRecoveryDisabledLanes|=d,zr|=d,f=4;break e}d=pi,pi=f,d!==null&&(pi===null?pi=d:pi.push.apply(pi,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){zo(e,0),Gs(e,n,0,!0);break}e:{switch(o=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Ii,!Ps);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(f=fc+300-wn(),10<f)){if(Gs(o,n,Ii,!Ps),he(o,0,!0)!==0)break e;rs=n,o.timeoutHandle=E_(Fy.bind(null,o,s,pi,dc,nd,n,Ii,zr,qo,Ps,d,"Throttled",-0,0),f);break e}Fy(o,s,pi,dc,nd,n,Ii,zr,qo,Ps,d,null,-0,0)}}break}while(!0);Ca(e)}function Fy(e,n,s,o,f,d,b,w,L,Q,ie,le,K,Z){if(e.timeoutHandle=-1,le=n.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Ly(n,d,le);var Ae=(d&62914560)===d?fc-wn():(d&4194048)===d?qy-wn():0;if(Ae=L1(le,Ae),Ae!==null){rs=d,e.cancelPendingCommit=Ae(Zy.bind(null,e,n,d,s,o,f,b,w,L,ie,le,null,K,Z)),Gs(e,d,b,!Q);return}}Zy(e,n,d,s,o,f,b,w,L)}function ZT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!Ri(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(e,n,s,o){n&=~td,n&=~zr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-Lt(f),b=1<<d;o[d]=-1,f&=~b}s!==0&&$n(e,s,n)}function mc(){return(yt&6)===0?(Xl(0),!1):!0}function rd(){if(Ze!==null){if(wt===0)var e=Ze.return;else e=Ze,Ka=jr=null,Th(e),Oo=null,Dl=0,e=Ze;for(;e!==null;)by(e.alternate,e),e=e.return;Ze=null}}function zo(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,_1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rs=0,rd(),Mt=e,Ze=s=Qa(e.current,null),it=n,wt=0,Di=null,Ps=!1,Bo=Ti(e,n),ed=!1,qo=Ii=td=zr=zs=Wt=0,pi=Yl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-Lt(o),d=1<<f;n|=e[f],o&=~d}return ss=n,ku(),s}function Gy(e,n){Qe=null,P.H=Ul,n===Io||n===Hu?(n=og(),wt=3):n===ch?(n=og(),wt=4):wt=n===Uh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Di=n,Ze===null&&(Wt=1,ic(e,Fi(n,e.current)))}function Yy(){var e=Ci.current;return e===null?!0:(it&4194048)===it?Xi===null:(it&62914560)===it||(it&536870912)!==0?e===Xi:!1}function Qy(){var e=P.H;return P.H=Ul,e===null?Ul:e}function Xy(){var e=P.A;return P.A=$T,e}function pc(){Wt=4,Ps||(it&4194048)!==it&&Ci.current!==null||(Bo=!0),(zs&134217727)===0&&(zr&134217727)===0||Mt===null||Gs(Mt,it,Ii,!1)}function od(e,n,s){var o=yt;yt|=2;var f=Qy(),d=Xy();(Mt!==e||it!==n)&&(dc=null,zo(e,n)),n=!1;var b=Wt;e:do try{if(wt!==0&&Ze!==null){var w=Ze,L=Di;switch(wt){case 8:rd(),b=6;break e;case 3:case 2:case 9:case 6:Ci.current===null&&(n=!0);var Q=wt;if(wt=0,Di=null,Ho(e,w,L,Q),s&&Bo){b=0;break e}break;default:Q=wt,wt=0,Di=null,Ho(e,w,L,Q)}}JT(),b=Wt;break}catch(ie){Gy(e,ie)}while(!0);return n&&e.shellSuspendCounter++,Ka=jr=null,yt=o,P.H=f,P.A=d,Ze===null&&(Mt=null,it=0,ku()),b}function JT(){for(;Ze!==null;)Ky(Ze)}function e1(e,n){var s=yt;yt|=2;var o=Qy(),f=Xy();Mt!==e||it!==n?(dc=null,hc=wn()+500,zo(e,n)):Bo=Ti(e,n);e:do try{if(wt!==0&&Ze!==null){n=Ze;var d=Di;t:switch(wt){case 1:wt=0,Di=null,Ho(e,n,d,1);break;case 2:case 9:if(sg(d)){wt=0,Di=null,$y(n);break}n=function(){wt!==2&&wt!==9||Mt!==e||(wt=7),Ca(e)},d.then(n,n);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:sg(d)?(wt=0,Di=null,$y(n)):(wt=0,Di=null,Ho(e,n,d,7));break;case 5:var b=null;switch(Ze.tag){case 26:b=Ze.memoizedState;case 5:case 27:var w=Ze;if(b?k_(b):w.stateNode.complete){wt=0,Di=null;var L=w.sibling;if(L!==null)Ze=L;else{var Q=w.return;Q!==null?(Ze=Q,gc(Q)):Ze=null}break t}}wt=0,Di=null,Ho(e,n,d,5);break;case 6:wt=0,Di=null,Ho(e,n,d,6);break;case 8:rd(),Wt=6;break e;default:throw Error(r(462))}}t1();break}catch(ie){Gy(e,ie)}while(!0);return Ka=jr=null,P.H=o,P.A=f,yt=s,Ze!==null?0:(Mt=null,it=0,ku(),Wt)}function t1(){for(;Ze!==null&&!El();)Ky(Ze)}function Ky(e){var n=vy(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?gc(e):Ze=n}function $y(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=dy(s,n,n.pendingProps,n.type,void 0,it);break;case 11:n=dy(s,n,n.pendingProps,n.type.render,n.ref,it);break;case 5:Th(n);default:by(s,n),n=Ze=Xp(n,ss),n=vy(s,n,ss)}e.memoizedProps=e.pendingProps,n===null?gc(e):Ze=n}function Ho(e,n,s,o){Ka=jr=null,Th(n),Oo=null,Dl=0;var f=n.return;try{if(HT(e,f,n,s,it)){Wt=1,ic(e,Fi(s,e.current)),Ze=null;return}}catch(d){if(f!==null)throw Ze=f,d;Wt=1,ic(e,Fi(s,e.current)),Ze=null;return}n.flags&32768?(ot||o===1?e=!0:Bo||(it&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=Ci.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,e)):gc(n)}function gc(e){var n=e;do{if((n.flags&32768)!==0){Wy(n,Ps);return}e=n.return;var s=YT(n.alternate,n,ss);if(s!==null){Ze=s;return}if(n=n.sibling,n!==null){Ze=n;return}Ze=n=e}while(n!==null);Wt===0&&(Wt=5)}function Wy(e,n){do{var s=QT(e.alternate,e);if(s!==null){s.flags&=32767,Ze=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ze=e;return}Ze=e=s}while(e!==null);Wt=6,Ze=null}function Zy(e,n,s,o,f,d,b,w,L){e.cancelPendingCommit=null;do yc();while(mn!==0);if((yt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Kf,gr(e,s,d,b,w,L),e===Mt&&(Ze=Mt=null,it=0),Po=n,Fs=e,rs=s,id=d,ad=f,Py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,s1(na,function(){return i_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,f=fe.p,fe.p=2,b=yt,yt|=4;try{XT(e,n,s)}finally{yt=b,fe.p=f,P.T=o}}mn=1,Jy(),e_(),t_()}}function Jy(){if(mn===1){mn=0;var e=Fs,n=Po,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var o=fe.p;fe.p=2;var f=yt;yt|=4;try{jy(n,e);var d=vd,b=Bp(e.containerInfo),w=d.focusedElem,L=d.selectionRange;if(b!==w&&w&&w.ownerDocument&&Up(w.ownerDocument.documentElement,w)){if(L!==null&&Ff(w)){var Q=L.start,ie=L.end;if(ie===void 0&&(ie=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(ie,w.value.length);else{var le=w.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var Z=K.getSelection(),Ae=w.textContent.length,Le=Math.min(L.start,Ae),Dt=L.end===void 0?Le:Math.min(L.end,Ae);!Z.extend&&Le>Dt&&(b=Dt,Dt=Le,Le=b);var z=Vp(w,Le),q=Vp(w,Dt);if(z&&q&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var Y=le.createRange();Y.setStart(z.node,z.offset),Z.removeAllRanges(),Le>Dt?(Z.addRange(Y),Z.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),Z.addRange(Y))}}}}for(le=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&le.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<le.length;w++){var se=le[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}xc=!!_d,vd=_d=null}finally{yt=f,fe.p=o,P.T=s}}e.current=n,mn=2}}function e_(){if(mn===2){mn=0;var e=Fs,n=Po,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var o=fe.p;fe.p=2;var f=yt;yt|=4;try{Cy(e,n.alternate,n)}finally{yt=f,fe.p=o,P.T=s}}mn=3}}function t_(){if(mn===4||mn===3){mn=0,dr();var e=Fs,n=Po,s=rs,o=Py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mn=5:(mn=0,Po=Fs=null,n_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Hs=null),Bn(s),n=n.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(vi,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=P.T,f=fe.p,fe.p=2,P.T=null;try{for(var d=e.onRecoverableError,b=0;b<o.length;b++){var w=o[b];d(w.value,{componentStack:w.stack})}}finally{P.T=n,fe.p=f}}(rs&3)!==0&&yc(),Ca(e),f=e.pendingLanes,(s&261930)!==0&&(f&42)!==0?e===sd?Ql++:(Ql=0,sd=e):Ql=0,Xl(0)}}function n_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Cl(n)))}function yc(){return Jy(),e_(),t_(),i_()}function i_(){if(mn!==5)return!1;var e=Fs,n=id;id=0;var s=Bn(rs),o=P.T,f=fe.p;try{fe.p=32>s?32:s,P.T=null,s=ad,ad=null;var d=Fs,b=rs;if(mn=0,Po=Fs=null,rs=0,(yt&6)!==0)throw Error(r(331));var w=yt;if(yt|=4,Uy(d.current),ky(d,d.current,b,s),yt=w,Xl(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(vi,d)}catch{}return!0}finally{fe.p=f,P.T=o,n_(e,n)}}function a_(e,n,s){n=Fi(s,n),n=Vh(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(ia(e,2),Ca(e))}function At(e,n,s){if(e.tag===3)a_(e,e,s);else for(;n!==null;){if(n.tag===3){a_(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){e=Fi(s,e),s=sy(2),o=Vs(n,s,2),o!==null&&(ry(s,o,n,e),ia(o,2),Ca(o));break}}n=n.return}}function ld(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new WT;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(ed=!0,f.add(s),e=n1.bind(null,e,n,s),n.then(e,e))}function n1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Mt===e&&(it&s)===s&&(Wt===4||Wt===3&&(it&62914560)===it&&300>wn()-fc?(yt&2)===0&&zo(e,0):td|=s,qo===it&&(qo=0)),Ca(e)}function s_(e,n){n===0&&(n=An()),e=Dr(e,n),e!==null&&(ia(e,n),Ca(e))}function i1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),s_(e,s)}function a1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),s_(e,s)}function s1(e,n){return Kt(e,n)}var _c=null,Fo=null,ud=!1,vc=!1,cd=!1,Ys=0;function Ca(e){e!==Fo&&e.next===null&&(Fo===null?_c=Fo=e:Fo=Fo.next=e),vc=!0,ud||(ud=!0,o1())}function Xl(e,n){if(!cd&&vc){cd=!0;do for(var s=!1,o=_c;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var b=o.suspendedLanes,w=o.pingedLanes;d=(1<<31-Lt(42|e)+1)-1,d&=f&~(b&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,u_(o,d))}else d=it,d=he(o,o===Mt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Ti(o,d)||(s=!0,u_(o,d));o=o.next}while(s);cd=!1}}function r1(){r_()}function r_(){vc=ud=!1;var e=0;Ys!==0&&y1()&&(e=Ys);for(var n=wn(),s=null,o=_c;o!==null;){var f=o.next,d=o_(o,n);d===0?(o.next=null,s===null?_c=f:s.next=f,f===null&&(Fo=s)):(s=o,(e!==0||(d&3)!==0)&&(vc=!0)),o=f}mn!==0&&mn!==5||Xl(e),Ys!==0&&(Ys=0)}function o_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-Lt(d),w=1<<b,L=f[b];L===-1?((w&s)===0||(w&o)!==0)&&(f[b]=bl(w,n)):L<=n&&(e.expiredLanes|=w),d&=~w}if(n=Mt,s=it,s=he(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&_i(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ti(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&_i(o),Bn(s)){case 2:case 8:s=Xn;break;case 32:s=na;break;case 268435456:s=mr;break;default:s=na}return o=l_.bind(null,e),s=Kt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&_i(o),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,n){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(yc()&&e.callbackNode!==s)return null;var o=it;return o=he(e,e===Mt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hy(e,o,n),o_(e,wn()),e.callbackNode!=null&&e.callbackNode===s?l_.bind(null,e):null)}function u_(e,n){if(yc())return null;Hy(e,n,!0)}function o1(){v1(function(){(yt&6)!==0?Kt(ta,r1):r_()})}function fd(){if(Ys===0){var e=xo;e===0&&(e=dn,dn<<=1,(dn&261888)===0&&(dn=256)),Ys=e}return Ys}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function f_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function l1(e,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var d=c_((f[Zt]||null).action),b=o.submitter;b&&(n=(n=b[Zt]||null)?c_(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var w=new mt("action","action",null,o,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var L=b?f_(f,b):new FormData(f);Ih(s,{pending:!0,data:L,method:f.method,action:d},null,L)}}else typeof d=="function"&&(w.preventDefault(),L=b?f_(f,b):new FormData(f),Ih(s,{pending:!0,data:L,method:f.method,action:d},d,L))},currentTarget:f}]})}}for(var hd=0;hd<Xf.length;hd++){var dd=Xf[hd],u1=dd.toLowerCase(),c1=dd[0].toUpperCase()+dd.slice(1);oa(u1,"on"+c1)}oa(zp,"onAnimationEnd"),oa(Hp,"onAnimationIteration"),oa(Fp,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(RT,"onTransitionRun"),oa(NT,"onTransitionStart"),oa(CT,"onTransitionCancel"),oa(Gp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function h_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var b=o.length-1;0<=b;b--){var w=o[b],L=w.instance,Q=w.currentTarget;if(w=w.listener,L!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=Q;try{d(f)}catch(ie){Mu(ie)}f.currentTarget=null,d=L}else for(b=0;b<o.length;b++){if(w=o[b],L=w.instance,Q=w.currentTarget,w=w.listener,L!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=Q;try{d(f)}catch(ie){Mu(ie)}f.currentTarget=null,d=L}}}}function Je(e,n){var s=n[ya];s===void 0&&(s=n[ya]=new Set);var o=e+"__bubble";s.has(o)||(d_(n,e,2,!1),s.add(o))}function md(e,n,s){var o=0;n&&(o|=4),d_(s,e,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[Ec]){e[Ec]=!0,aa.forEach(function(s){s!=="selectionchange"&&(f1.has(s)||md(s,!1,e),md(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,md("selectionchange",!1,n))}}function d_(e,n,s,o){switch(z_(n)){case 2:var f=B1;break;case 8:f=q1;break;default:f=Dd}s=f.bind(null,n,s,e),f=void 0,!sa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function gd(e,n,s,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var w=o.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=o.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Jt(w),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){o=d=b;continue e}w=w.parentNode}}o=o.return}ci(function(){var Q=d,ie=be(s),le=[];e:{var K=Yp.get(e);if(K!==void 0){var Z=mt,Ae=e;switch(e){case"keypress":if(F(s)===0)break e;case"keydown":case"keyup":Z=_o;break;case"focusin":Ae="focus",Z=Ya;break;case"focusout":Ae="blur",Z=Ya;break;case"beforeblur":case"afterblur":Z=Ya;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case zp:case Hp:case Fp:Z=fo;break;case Gp:Z=N;break;case"scroll":case"scrollend":Z=xs;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=Rr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ra;break;case"toggle":case"beforetoggle":Z=qe}var Le=(n&4)!==0,Dt=!Le&&(e==="scroll"||e==="scrollend"),z=Le?K!==null?K+"Capture":null:K;Le=[];for(var q=Q,Y;q!==null;){var se=q;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||z===null||(se=sn(q,z),se!=null&&Le.push($l(q,se,Y))),Dt)break;q=q.return}0<Le.length&&(K=new Z(K,Ae,null,s,ie),le.push({event:K,listeners:Le}))}}if((n&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",K&&s!==Sr&&(Ae=s.relatedTarget||s.fromElement)&&(Jt(Ae)||Ae[Mi]))break e;if((Z||K)&&(K=ie.window===ie?ie:(K=ie.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(Ae=s.relatedTarget||s.toElement,Z=Q,Ae=Ae?Jt(Ae):null,Ae!==null&&(Dt=c(Ae),Le=Ae.tag,Ae!==Dt||Le!==5&&Le!==27&&Le!==6)&&(Ae=null)):(Z=null,Ae=Q),Z!==Ae)){if(Le=wr,se="onMouseLeave",z="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Le=ra,se="onPointerLeave",z="onPointerEnter",q="pointer"),Dt=Z==null?K:Nn(Z),Y=Ae==null?K:Nn(Ae),K=new Le(se,q+"leave",Z,s,ie),K.target=Dt,K.relatedTarget=Y,se=null,Jt(ie)===Q&&(Le=new Le(z,q+"enter",Ae,s,ie),Le.target=Y,Le.relatedTarget=Dt,se=Le),Dt=se,Z&&Ae)t:{for(Le=h1,z=Z,q=Ae,Y=0,se=z;se;se=Le(se))Y++;se=0;for(var Oe=q;Oe;Oe=Le(Oe))se++;for(;0<Y-se;)z=Le(z),Y--;for(;0<se-Y;)q=Le(q),se--;for(;Y--;){if(z===q||q!==null&&z===q.alternate){Le=z;break t}z=Le(z),q=Le(q)}Le=null}else Le=null;Z!==null&&m_(le,K,Z,Le,!1),Ae!==null&&Dt!==null&&m_(le,Dt,Ae,Le,!0)}}e:{if(K=Q?Nn(Q):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var pt=Ip;else if(Eo(K))if(Op)pt=ST;else{pt=bT;var Ne=ET}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&ui(Q.elementType)&&(pt=Ip):pt=TT;if(pt&&(pt=pt(e,Q))){wa(le,pt,s,ie);break e}Ne&&Ne(e,K,Q),e==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&br(K,"number",K.value)}switch(Ne=Q?Nn(Q):window,e){case"focusin":(Eo(Ne)||Ne.contentEditable==="true")&&(bo=Ne,Gf=Q,Al=null);break;case"focusout":Al=Gf=bo=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,qp(le,s,ie);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":qp(le,s,ie)}var Xe;if(ct)e:{switch(e){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else bn?ke(e,s)&&(at="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(at="onCompositionStart");at&&(oe&&s.locale!=="ko"&&(bn||at!=="onCompositionStart"?at==="onCompositionEnd"&&bn&&(Xe=V()):(y=ie,S="value"in y?y.value:y.textContent,bn=!0)),Ne=bc(Q,at),0<Ne.length&&(at=new zi(at,e,null,s,ie),le.push({event:at,listeners:Ne}),Xe?at.data=Xe:(Xe=nt(s),Xe!==null&&(at.data=Xe)))),(Xe=H?fi(e,s):ni(e,s))&&(at=bc(Q,"onBeforeInput"),0<at.length&&(Ne=new zi("onBeforeInput","beforeinput",null,s,ie),le.push({event:Ne,listeners:at}),Ne.data=Xe)),l1(le,e,Q,s,ie)}h_(le,n)})}function $l(e,n,s){return{instance:e,listener:n,currentTarget:s}}function bc(e,n){for(var s=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=sn(e,s),f!=null&&o.unshift($l(e,f,d)),f=sn(e,n),f!=null&&o.push($l(e,f,d))),e.tag===3)return o;e=e.return}return[]}function h1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m_(e,n,s,o,f){for(var d=n._reactName,b=[];s!==null&&s!==o;){var w=s,L=w.alternate,Q=w.stateNode;if(w=w.tag,L!==null&&L===o)break;w!==5&&w!==26&&w!==27||Q===null||(L=Q,f?(Q=sn(s,d),Q!=null&&b.unshift($l(s,Q,L))):f||(Q=sn(s,d),Q!=null&&b.push($l(s,Q,L)))),s=s.return}b.length!==0&&e.push({event:n,listeners:b})}var d1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(d1,`
`).replace(m1,"")}function g_(e,n){return n=p_(n),p_(e)===n}function xt(e,n,s,o,f,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(e,""+o);break;case"className":Jn(e,"class",o);break;case"tabIndex":Jn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(e,s,o);break;case"style":Ea(e,o,d);break;case"data":if(n!=="object"){Jn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ei(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&xt(e,n,"name",f.name,f,null),xt(e,n,"formEncType",f.formEncType,f,null),xt(e,n,"formMethod",f.formMethod,f,null),xt(e,n,"formTarget",f.formTarget,f,null)):(xt(e,n,"encType",f.encType,f,null),xt(e,n,"method",f.method,f,null),xt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ei(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Cn);break;case"onScroll":o!=null&&Je("scroll",e);break;case"onScrollEnd":o!=null&&Je("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ei(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Je("beforetoggle",e),Je("toggle",e),qa(e,"popover",o);break;case"xlinkActuate":St(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":qa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Cs.get(s)||s,qa(e,s,o))}}function yd(e,n,s,o,f,d){switch(s){case"style":Ea(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Je("scroll",e);break;case"onScrollEnd":o!=null&&Je("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=e[Zt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,f);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):qa(e,s,o)}}}function On(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",e),Je("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var b=s[d];if(b!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:xt(e,n,d,b,s,null)}}f&&xt(e,n,"srcSet",s.srcSet,s,null),o&&xt(e,n,"src",s.src,s,null);return;case"input":Je("invalid",e);var w=d=b=f=null,L=null,Q=null;for(o in s)if(s.hasOwnProperty(o)){var ie=s[o];if(ie!=null)switch(o){case"name":f=ie;break;case"type":b=ie;break;case"checked":L=ie;break;case"defaultChecked":Q=ie;break;case"value":d=ie;break;case"defaultValue":w=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,n));break;default:xt(e,n,o,ie,s,null)}}Er(e,d,w,L,Q,b,f,!1);return;case"select":Je("invalid",e),o=b=d=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":b=w;break;case"multiple":o=w;default:xt(e,n,f,w,s,null)}n=d,s=b,e.multiple=!!o,n!=null?Ui(e,!!o,n,!1):s!=null&&Ui(e,!!o,s,!0);return;case"textarea":Je("invalid",e),d=f=o=null;for(b in s)if(s.hasOwnProperty(b)&&(w=s[b],w!=null))switch(b){case"value":o=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:xt(e,n,b,w,s,null)}Bi(e,o,f,d);return;case"option":for(L in s)s.hasOwnProperty(L)&&(o=s[L],o!=null)&&(L==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":xt(e,n,L,o,s,null));return;case"dialog":Je("beforetoggle",e),Je("toggle",e),Je("cancel",e),Je("close",e);break;case"iframe":case"object":Je("load",e);break;case"video":case"audio":for(o=0;o<Kl.length;o++)Je(Kl[o],e);break;case"image":Je("error",e),Je("load",e);break;case"details":Je("toggle",e);break;case"embed":case"source":case"link":Je("error",e),Je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(o=s[Q],o!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:xt(e,n,Q,o,s,null)}return;default:if(ui(n)){for(ie in s)s.hasOwnProperty(ie)&&(o=s[ie],o!==void 0&&yd(e,n,ie,o,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(o=s[w],o!=null&&xt(e,n,w,o,s,null))}function p1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,w=null,L=null,Q=null,ie=null;for(Z in s){var le=s[Z];if(s.hasOwnProperty(Z)&&le!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":L=le;default:o.hasOwnProperty(Z)||xt(e,n,Z,null,o,le)}}for(var K in o){var Z=o[K];if(le=s[K],o.hasOwnProperty(K)&&(Z!=null||le!=null))switch(K){case"type":d=Z;break;case"name":f=Z;break;case"checked":Q=Z;break;case"defaultChecked":ie=Z;break;case"value":b=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,n));break;default:Z!==le&&xt(e,n,K,Z,o,le)}}Vi(e,b,w,L,Q,ie,d,f);return;case"select":Z=b=w=K=null;for(d in s)if(L=s[d],s.hasOwnProperty(d)&&L!=null)switch(d){case"value":break;case"multiple":Z=L;default:o.hasOwnProperty(d)||xt(e,n,d,null,o,L)}for(f in o)if(d=o[f],L=s[f],o.hasOwnProperty(f)&&(d!=null||L!=null))switch(f){case"value":K=d;break;case"defaultValue":w=d;break;case"multiple":b=d;default:d!==L&&xt(e,n,f,d,o,L)}n=w,s=b,o=Z,K!=null?Ui(e,!!s,K,!1):!!o!=!!s&&(n!=null?Ui(e,!!s,n,!0):Ui(e,!!s,s?[]:"",!1));return;case"textarea":Z=K=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:xt(e,n,w,null,o,f)}for(b in o)if(f=o[b],d=s[b],o.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":K=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&xt(e,n,b,f,o,d)}Tr(e,K,Z);return;case"option":for(var Ae in s)K=s[Ae],s.hasOwnProperty(Ae)&&K!=null&&!o.hasOwnProperty(Ae)&&(Ae==="selected"?e.selected=!1:xt(e,n,Ae,null,o,K));for(L in o)K=o[L],Z=s[L],o.hasOwnProperty(L)&&K!==Z&&(K!=null||Z!=null)&&(L==="selected"?e.selected=K&&typeof K!="function"&&typeof K!="symbol":xt(e,n,L,K,o,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in s)K=s[Le],s.hasOwnProperty(Le)&&K!=null&&!o.hasOwnProperty(Le)&&xt(e,n,Le,null,o,K);for(Q in o)if(K=o[Q],Z=s[Q],o.hasOwnProperty(Q)&&K!==Z&&(K!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:xt(e,n,Q,K,o,Z)}return;default:if(ui(n)){for(var Dt in s)K=s[Dt],s.hasOwnProperty(Dt)&&K!==void 0&&!o.hasOwnProperty(Dt)&&yd(e,n,Dt,void 0,o,K);for(ie in o)K=o[ie],Z=s[ie],!o.hasOwnProperty(ie)||K===Z||K===void 0&&Z===void 0||yd(e,n,ie,K,o,Z);return}}for(var z in s)K=s[z],s.hasOwnProperty(z)&&K!=null&&!o.hasOwnProperty(z)&&xt(e,n,z,null,o,K);for(le in o)K=o[le],Z=s[le],!o.hasOwnProperty(le)||K===Z||K==null&&Z==null||xt(e,n,le,K,o,Z)}function y_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],d=f.transferSize,b=f.initiatorType,w=f.duration;if(d&&w&&y_(b)){for(b=0,w=f.responseEnd,o+=1;o<s.length;o++){var L=s[o],Q=L.startTime;if(Q>w)break;var ie=L.transferSize,le=L.initiatorType;ie&&y_(le)&&(L=L.responseEnd,b+=ie*(L<w?1:(w-Q)/(L-Q)))}if(--o,n+=8*(d+b)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function __(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function y1(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(E1)}:E_;function E1(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function T_(e,n){var s=n,o=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(f),Xo(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Wl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Wl(s);for(var d=s.firstChild;d;){var b=d.nextSibling,w=d.nodeName;d[Wn]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=b}}else s==="body"&&Wl(e.ownerDocument.body);s=f}while(s);Xo(n)}function S_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Td(s),As(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function b1(e,n,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Wn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ki(e.nextSibling),e===null)break}return null}function T1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ki(e.nextSibling),e===null))return null;return e}function w_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ki(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function S1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ki(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function A_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ki(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function R_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function N_(e,n,s){switch(n=Tc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);As(e)}var $i=new Map,C_=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=fe.d;fe.d={f:w1,r:A1,D:R1,C:N1,L:C1,m:x1,X:I1,S:D1,M:O1};function w1(){var e=os.f(),n=mc();return e||n}function A1(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Gg(n):os.r(e)}var Go=typeof document>"u"?null:document;function x_(e,n,s){var o=Go;if(o&&typeof n=="string"&&n){var f=zn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),C_.has(f)||(C_.add(f),e={rel:e,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),On(n,"link",e),Gt(n),o.head.appendChild(n)))}}function R1(e){os.D(e),x_("dns-prefetch",e,null)}function N1(e,n){os.C(e,n),x_("preconnect",e,n)}function C1(e,n,s){os.L(e,n,s);var o=Go;if(o&&e&&n){var f='link[rel="preload"][as="'+zn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+zn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+zn(s.imageSizes)+'"]')):f+='[href="'+zn(e)+'"]';var d=f;switch(n){case"style":d=Yo(e);break;case"script":d=Qo(e)}$i.has(d)||(e=D({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),$i.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Zl(d))||n==="script"&&o.querySelector(Jl(d))||(n=o.createElement("link"),On(n,"link",e),Gt(n),o.head.appendChild(n)))}}function x1(e,n){os.m(e,n);var s=Go;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+zn(o)+'"][href="'+zn(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qo(e)}if(!$i.has(d)&&(e=D({rel:"modulepreload",href:e},n),$i.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Jl(d)))return}o=s.createElement("link"),On(o,"link",e),Gt(o),s.head.appendChild(o)}}}function D1(e,n,s){os.S(e,n,s);var o=Go;if(o&&e){var f=Si(o).hoistableStyles,d=Yo(e);n=n||"default";var b=f.get(d);if(!b){var w={loading:0,preload:null};if(b=o.querySelector(Zl(d)))w.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},s),(s=$i.get(d))&&Rd(e,s);var L=b=o.createElement("link");Gt(L),On(L,"link",e),L._p=new Promise(function(Q,ie){L.onload=Q,L.onerror=ie}),L.addEventListener("load",function(){w.loading|=1}),L.addEventListener("error",function(){w.loading|=2}),w.loading|=4,wc(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(d,b)}}}function I1(e,n){os.X(e,n);var s=Go;if(s&&e){var o=Si(s).hoistableScripts,f=Qo(e),d=o.get(f);d||(d=s.querySelector(Jl(f)),d||(e=D({src:e,async:!0},n),(n=$i.get(f))&&Nd(e,n),d=s.createElement("script"),Gt(d),On(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function O1(e,n){os.M(e,n);var s=Go;if(s&&e){var o=Si(s).hoistableScripts,f=Qo(e),d=o.get(f);d||(d=s.querySelector(Jl(f)),d||(e=D({src:e,async:!0,type:"module"},n),(n=$i.get(f))&&Nd(e,n),d=s.createElement("script"),Gt(d),On(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function D_(e,n,s,o){var f=(f=Ye.current)?Sc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Yo(s.href),s=Si(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Yo(s.href);var d=Si(f).hoistableStyles,b=d.get(e);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=f.querySelector(Zl(e)))&&!d._p&&(b.instance=d,b.state.loading=5),$i.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$i.set(e,s),d||j1(f,e,s,b.state))),n&&o===null)throw Error(r(528,""));return b}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qo(s),s=Si(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Yo(e){return'href="'+zn(e)+'"'}function Zl(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function j1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),On(n,"link",s),Gt(n),e.head.appendChild(n))}function Qo(e){return'[src="'+zn(e)+'"]'}function Jl(e){return"script[async]"+e}function O_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+zn(s.href)+'"]');if(o)return n.instance=o,Gt(o),o;var f=D({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Gt(o),On(o,"style",f),wc(o,s.precedence,e),n.instance=o;case"stylesheet":f=Yo(s.href);var d=e.querySelector(Zl(f));if(d)return n.state.loading|=4,n.instance=d,Gt(d),d;o=I_(s),(f=$i.get(f))&&Rd(o,f),d=(e.ownerDocument||e).createElement("link"),Gt(d);var b=d;return b._p=new Promise(function(w,L){b.onload=w,b.onerror=L}),On(d,"link",o),n.state.loading|=4,wc(d,s.precedence,e),n.instance=d;case"script":return d=Qo(s.src),(f=e.querySelector(Jl(d)))?(n.instance=f,Gt(f),f):(o=s,(f=$i.get(d))&&(o=D({},s),Nd(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Gt(f),On(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,wc(o,s.precedence,e));return n.instance}function wc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,b=0;b<o.length;b++){var w=o[b];if(w.dataset.precedence===n)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ac=null;function j_(e,n,s){if(Ac===null){var o=new Map,f=Ac=new Map;f.set(s,o)}else f=Ac,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[Wn]||d[tt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=e+b;var w=o.get(b);w?w.push(d):o.set(b,[d])}}return o}function M_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function M1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function k_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function k1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Yo(o.href),d=n.querySelector(Zl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,Gt(d);return}d=n.ownerDocument||n,o=I_(o),(f=$i.get(f))&&Rd(o,f),d=d.createElement("link"),Gt(d);var b=d;b._p=new Promise(function(w,L){b.onload=w,b.onerror=L}),On(d,"link",o),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Rc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Cd=0;function L1(e,n){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*g1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nc=null;function Cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nc=new Map,n.forEach(V1,e),Nc=null,Rc.call(e))}function V1(e,n){if(!(n.state.loading&4)){var s=Nc.get(e);if(s)var o=s.get(null);else{s=new Map,Nc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),o=b)}o&&s.set(null,o)}f=n.instance,b=f.getAttribute("data-precedence"),d=s.get(b)||o,d===o&&s.set(null,f),s.set(b,f),this.count++,o=Rc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var eu={$$typeof:ge,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function U1(e,n,s,o,f,d,b,w,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function L_(e,n,s,o,f,d,b,w,L,Q,ie,le){return e=new U1(e,n,s,b,L,Q,ie,le,w),n=1,d===!0&&(n|=24),d=Ni(3,null,null,n),e.current=d,d.stateNode=e,n=oh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},fh(d),e}function V_(e){return e?(e=wo,e):wo}function U_(e,n,s,o,f,d){f=V_(f),o.context===null?o.context=f:o.pendingContext=f,o=Ls(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Vs(e,o,n),s!==null&&(gi(s,e,n),Ol(s,e,n))}function B_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function xd(e,n){B_(e,n),(e=e.alternate)&&B_(e,n)}function q_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&gi(n,e,67108864),xd(e,67108864)}}function P_(e){if(e.tag===13||e.tag===31){var n=Oi();n=ga(n);var s=Dr(e,n);s!==null&&gi(s,e,n),xd(e,n)}}var xc=!0;function B1(e,n,s,o){var f=P.T;P.T=null;var d=fe.p;try{fe.p=2,Dd(e,n,s,o)}finally{fe.p=d,P.T=f}}function q1(e,n,s,o){var f=P.T;P.T=null;var d=fe.p;try{fe.p=8,Dd(e,n,s,o)}finally{fe.p=d,P.T=f}}function Dd(e,n,s,o){if(xc){var f=Id(o);if(f===null)gd(e,n,o,Dc,s),H_(e,o);else if(z1(f,e,n,s,o))o.stopPropagation();else if(H_(e,o),n&4&&-1<P1.indexOf(e)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=bi(d.pendingLanes);if(b!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var L=1<<31-Lt(b);w.entanglements[1]|=L,b&=~L}Ca(d),(yt&6)===0&&(hc=wn()+500,Xl(0))}}break;case 31:case 13:w=Dr(d,2),w!==null&&gi(w,d,2),mc(),xd(d,2)}if(d=Id(o),d===null&&gd(e,n,o,Dc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else gd(e,n,o,null,s)}}function Id(e){return e=be(e),Od(e)}var Dc=null;function Od(e){if(Dc=null,e=Jt(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=m(n),e!==null)return e;e=null}else if(s===31){if(e=v(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Dc=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case ta:return 2;case Xn:return 8;case na:case ao:return 32;case mr:return 268435456;default:return 32}default:return 32}}var jd=!1,Xs=null,Ks=null,$s=null,tu=new Map,nu=new Map,Ws=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(e,n){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":tu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(n.pointerId)}}function iu(e,n,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Rn(n),n!==null&&q_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function z1(e,n,s,o,f){switch(n){case"focusin":return Xs=iu(Xs,e,n,s,o,f),!0;case"dragenter":return Ks=iu(Ks,e,n,s,o,f),!0;case"mouseover":return $s=iu($s,e,n,s,o,f),!0;case"pointerover":var d=f.pointerId;return tu.set(d,iu(tu.get(d)||null,e,n,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,nu.set(d,iu(nu.get(d)||null,e,n,s,o,f)),!0}return!1}function F_(e){var n=Jt(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=m(s),n!==null){e.blockedOn=n,oi(e.priority,function(){P_(s)});return}}else if(n===31){if(n=v(s),n!==null){e.blockedOn=n,oi(e.priority,function(){P_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Id(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Sr=o,s.target.dispatchEvent(o),Sr=null}else return n=Rn(s),n!==null&&q_(n),e.blockedOn=s,!1;n.shift()}return!0}function G_(e,n,s){Ic(e)&&s.delete(n)}function H1(){jd=!1,Xs!==null&&Ic(Xs)&&(Xs=null),Ks!==null&&Ic(Ks)&&(Ks=null),$s!==null&&Ic($s)&&($s=null),tu.forEach(G_),nu.forEach(G_)}function Oc(e,n){e.blockedOn===n&&(e.blockedOn=null,jd||(jd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,H1)))}var jc=null;function Y_(e){jc!==e&&(jc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Od(o||s)===null)continue;break}var d=Rn(s);d!==null&&(e.splice(n,3),n-=3,Ih(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Xo(e){function n(L){return Oc(L,e)}Xs!==null&&Oc(Xs,e),Ks!==null&&Oc(Ks,e),$s!==null&&Oc($s,e),tu.forEach(n),nu.forEach(n);for(var s=0;s<Ws.length;s++){var o=Ws[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ws.length&&(s=Ws[0],s.blockedOn===null);)F_(s),s.blockedOn===null&&Ws.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],b=f[Zt]||null;if(typeof d=="function")b||Y_(s);else if(b){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[Zt]||null)w=b.formAction;else if(Od(f)!==null)continue}else w=b.action;typeof w=="function"?s[o+1]=w:(s.splice(o,3),o-=3),Y_(s)}}}function Q_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Md(e){this._internalRoot=e}Mc.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=Oi();U_(s,o,e,n,null,null)},Mc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;U_(e.current,2,null,e,null,null),mc(),n[Mi]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=yr();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ws.length&&n!==0&&n<Ws[s].priority;s++);Ws.splice(s,0,e),s===0&&F_(e)}};var X_=t.version;if(X_!=="19.2.4")throw Error(r(527,X_,"19.2.4"));fe.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var F1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{vi=kc.inject(F1),De=kc}catch{}}return su.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",f=ty,d=ny,b=iy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=L_(e,1,!1,null,null,s,o,null,f,d,b,Q_),e[Mi]=n.current,pd(e),new Md(n)},su.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,f="",d=ty,b=ny,w=iy,L=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(L=s.formState)),n=L_(e,1,!0,n,s??null,o,f,L,d,b,w,Q_),n.context=V_(null),s=n.current,o=Oi(),o=ga(o),f=Ls(o),f.callback=null,Vs(s,f,o),s=o,n.current.lanes=s,ia(n,s),Ca(n),e[Mi]=n.current,pd(e),new Mc(n)},su.version="19.2.4",su}var av;function nS(){if(av)return Vd.exports;av=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Vd.exports=tS(),Vd.exports}var iS=nS(),Pd={exports:{}};const aS={},sS=Object.freeze(Object.defineProperty({__proto__:null,default:aS},Symbol.toStringTag,{value:"Module"})),sv=Q1(sS);var rv;function rS(){return rv||(rv=1,(function(a,t){var i=void 0,r=function(l){return i||(i=new Promise(function(c,m){var v=typeof l<"u"?l:{},E=v.onAbort;v.onAbort=function(h){m(new Error(h)),E&&E(h)},v.postRun=v.postRun||[],v.postRun.push(function(){c(v)}),a=void 0;var g;g||=typeof v<"u"?v:{};var R=typeof window=="object",D=typeof WorkerGlobalScope<"u",M=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";g.onRuntimeInitialized=function(){function h(H,oe){switch(typeof oe){case"boolean":me(H,oe?1:0);break;case"number":T(H,oe);break;case"string":G(H,oe,-1,-1);break;case"object":if(oe===null)N(H);else if(oe.length!=null){var ve=Ea(oe,va);W(H,ve,oe.length,-1),ti(ve)}else qe(H,"Wrong API use : tried to return a value of an unknown type ("+oe+").",-1);break;default:N(H)}}function y(H,oe){for(var ve=[],Re=0;Re<H;Re+=1){var ke=Vn(oe+4*Re,"i32"),nt=_o(ke);if(nt===1||nt===2)ke=_(ke);else if(nt===3)ke=ra(ke);else if(nt===4){nt=ke,ke=vo(nt),nt=u(nt);for(var bn=new Uint8Array(ke),fi=0;fi<ke;fi+=1)bn[fi]=U[nt+fi];ke=bn}else ke=null;ve.push(ke)}return ve}function S(H,oe){this.Qa=H,this.db=oe,this.Oa=1,this.lb=[]}function A(H,oe){if(this.db=oe,oe=ta(H)+1,this.eb=qi(oe),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Xn(H,j,this.eb,oe),this.kb=this.eb,this.Za=this.pb=null}function V(H){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),H!=null){var oe=this.filename,ve="/",Re=oe;if(ve&&(ve=typeof ve=="string"?ve:ri(ve),Re=oe?qt(ve+"/"+oe):ve),oe=Kn(!0,!0),Re=As(Re,oe),H){if(typeof H=="string"){ve=Array(H.length);for(var ke=0,nt=H.length;ke<nt;++ke)ve[ke]=H.charCodeAt(ke);H=ve}Zn(Re,oe|146),ve=ki(Re,577),qa(ve,H,0,H.length,0),Ba(ve),Zn(Re,oe)}}this.handleError(we(this.filename,F)),this.db=Vn(F,"i32"),ct(this.db),this.fb={},this.Sa={}}var F=sn(4),te=g.cwrap,we=te("sqlite3_open","number",["string","number"]),Ie=te("sqlite3_close_v2","number",["number"]),Ve=te("sqlite3_exec","number",["number","string","number","number","number"]),mt=te("sqlite3_changes","number",["number"]),Yt=te("sqlite3_prepare_v2","number",["number","string","number","number","number"]),xs=te("sqlite3_sql","string",["number"]),Ta=te("sqlite3_normalized_sql","string",["number"]),Ha=te("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Pi=te("sqlite3_bind_text","number",["number","number","number","number","number"]),Fa=te("sqlite3_bind_blob","number",["number","number","number","number","number"]),wr=te("sqlite3_bind_double","number",["number","number","number"]),Ga=te("sqlite3_bind_int","number",["number","number","number"]),uo=te("sqlite3_bind_parameter_index","number",["number","string"]),co=te("sqlite3_step","number",["number"]),Ya=te("sqlite3_errmsg","string",["number"]),Ar=te("sqlite3_column_count","number",["number"]),fo=te("sqlite3_data_count","number",["number"]),Ds=te("sqlite3_column_double","number",["number","number"]),Rr=te("sqlite3_column_text","string",["number","number"]),ho=te("sqlite3_column_blob","number",["number","number"]),zi=te("sqlite3_column_bytes","number",["number","number"]),mo=te("sqlite3_column_type","number",["number","number"]),po=te("sqlite3_column_name","string",["number","number"]),go=te("sqlite3_reset","number",["number"]),yo=te("sqlite3_clear_bindings","number",["number"]),Sa=te("sqlite3_finalize","number",["number"]),En=te("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),_o=te("sqlite3_value_type","number",["number"]),vo=te("sqlite3_value_bytes","number",["number"]),ra=te("sqlite3_value_text","string",["number"]),u=te("sqlite3_value_blob","number",["number"]),_=te("sqlite3_value_double","number",["number"]),T=te("sqlite3_result_double","",["number","number"]),N=te("sqlite3_result_null","",["number"]),G=te("sqlite3_result_text","",["number","string","number","number"]),W=te("sqlite3_result_blob","",["number","number","number","number"]),me=te("sqlite3_result_int","",["number","number"]),qe=te("sqlite3_result_error","",["number","string","number"]),Pt=te("sqlite3_aggregate_context","number",["number","number"]),ct=te("RegisterExtensionFunctions","number",["number"]),jt=te("sqlite3_update_hook","number",["number","number","number"]);S.prototype.bind=function(H){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(H)?this.Cb(H):H!=null&&typeof H=="object"?this.Db(H):!0},S.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var H=co(this.Qa);switch(H){case 100:return!0;case 101:return!1;default:throw this.db.handleError(H)}},S.prototype.wb=function(H){return H==null&&(H=this.Oa,this.Oa+=1),Ds(this.Qa,H)},S.prototype.Gb=function(H){if(H==null&&(H=this.Oa,this.Oa+=1),H=Rr(this.Qa,H),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(H)},S.prototype.Hb=function(H){return H==null&&(H=this.Oa,this.Oa+=1),Rr(this.Qa,H)},S.prototype.getBlob=function(H){H==null&&(H=this.Oa,this.Oa+=1);var oe=zi(this.Qa,H);H=ho(this.Qa,H);for(var ve=new Uint8Array(oe),Re=0;Re<oe;Re+=1)ve[Re]=U[H+Re];return ve},S.prototype.get=function(H,oe){oe=oe||{},H!=null&&this.bind(H)&&this.step(),H=[];for(var ve=fo(this.Qa),Re=0;Re<ve;Re+=1)switch(mo(this.Qa,Re)){case 1:var ke=oe.useBigInt?this.Gb(Re):this.wb(Re);H.push(ke);break;case 2:H.push(this.wb(Re));break;case 3:H.push(this.Hb(Re));break;case 4:H.push(this.getBlob(Re));break;default:H.push(null)}return H},S.prototype.getColumnNames=function(){for(var H=[],oe=Ar(this.Qa),ve=0;ve<oe;ve+=1)H.push(po(this.Qa,ve));return H},S.prototype.getAsObject=function(H,oe){H=this.get(H,oe),oe=this.getColumnNames();for(var ve={},Re=0;Re<oe.length;Re+=1)ve[oe[Re]]=H[Re];return ve},S.prototype.getSQL=function(){return xs(this.Qa)},S.prototype.getNormalizedSQL=function(){return Ta(this.Qa)},S.prototype.run=function(H){return H!=null&&this.bind(H),this.step(),this.reset()},S.prototype.sb=function(H,oe){oe==null&&(oe=this.Oa,this.Oa+=1),H=na(H);var ve=Ea(H,va);this.lb.push(ve),this.db.handleError(Pi(this.Qa,oe,ve,H.length-1,0))},S.prototype.Bb=function(H,oe){oe==null&&(oe=this.Oa,this.Oa+=1);var ve=Ea(H,va);this.lb.push(ve),this.db.handleError(Fa(this.Qa,oe,ve,H.length,0))},S.prototype.rb=function(H,oe){oe==null&&(oe=this.Oa,this.Oa+=1),this.db.handleError((H===(H|0)?Ga:wr)(this.Qa,oe,H))},S.prototype.Eb=function(H){H==null&&(H=this.Oa,this.Oa+=1),Fa(this.Qa,H,0,0,0)},S.prototype.tb=function(H,oe){switch(oe==null&&(oe=this.Oa,this.Oa+=1),typeof H){case"string":this.sb(H,oe);return;case"number":this.rb(H,oe);return;case"bigint":this.sb(H.toString(),oe);return;case"boolean":this.rb(H+0,oe);return;case"object":if(H===null){this.Eb(oe);return}if(H.length!=null){this.Bb(H,oe);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+H+")."},S.prototype.Db=function(H){var oe=this;return Object.keys(H).forEach(function(ve){var Re=uo(oe.Qa,ve);Re!==0&&oe.tb(H[ve],Re)}),!0},S.prototype.Cb=function(H){for(var oe=0;oe<H.length;oe+=1)this.tb(H[oe],oe+1);return!0},S.prototype.reset=function(){return this.freemem(),yo(this.Qa)===0&&go(this.Qa)===0},S.prototype.freemem=function(){for(var H;(H=this.lb.pop())!==void 0;)ti(H)},S.prototype.free=function(){this.freemem();var H=Sa(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,H},A.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var H=vn(),oe=sn(4);Un(F),Un(oe);try{this.db.handleError(Ha(this.db.db,this.kb,-1,F,oe)),this.kb=Vn(oe,"i32");var ve=Vn(F,"i32");return ve===0?(this.mb(),{done:!0}):(this.Za=new S(ve,this.db),this.db.fb[ve]=this.Za,{value:this.Za,done:!1})}catch(Re){throw this.pb=Ua(this.kb),this.mb(),Re}finally{ci(H)}},A.prototype.mb=function(){ti(this.eb),this.eb=null},A.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Ua(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(A.prototype[Symbol.iterator]=function(){return this}),V.prototype.run=function(H,oe){if(!this.db)throw"Database closed";if(oe){H=this.prepare(H,oe);try{H.step()}finally{H.free()}}else this.handleError(Ve(this.db,H,0,0,F));return this},V.prototype.exec=function(H,oe,ve){if(!this.db)throw"Database closed";var Re=vn(),ke=null;try{var nt=yn(H),bn=sn(4);for(H=[];Vn(nt,"i8")!==0;){Un(F),Un(bn),this.handleError(Ha(this.db,nt,-1,F,bn));var fi=Vn(F,"i32");if(nt=Vn(bn,"i32"),fi!==0){var ni=null;for(ke=new S(fi,this),oe!=null&&ke.bind(oe);ke.step();)ni===null&&(ni={columns:ke.getColumnNames(),values:[]},H.push(ni)),ni.values.push(ke.get(null,ve));ke.free()}}return H}catch(Ai){throw ke&&ke.free(),Ai}finally{ci(Re)}},V.prototype.each=function(H,oe,ve,Re,ke){typeof oe=="function"&&(Re=ve,ve=oe,oe=void 0),H=this.prepare(H,oe);try{for(;H.step();)ve(H.getAsObject(null,ke))}finally{H.free()}if(typeof Re=="function")return Re()},V.prototype.prepare=function(H,oe){if(Un(F),this.handleError(Yt(this.db,H,-1,F,0)),H=Vn(F,"i32"),H===0)throw"Nothing to prepare";var ve=new S(H,this);return oe!=null&&ve.bind(oe),this.fb[H]=ve},V.prototype.iterateStatements=function(H){return new A(H,this)},V.prototype.export=function(){Object.values(this.fb).forEach(function(oe){oe.free()}),Object.values(this.Sa).forEach(ei),this.Sa={},this.handleError(Ie(this.db));var H=Jn(this.filename);return this.handleError(we(this.filename,F)),this.db=Vn(F,"i32"),ct(this.db),H},V.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(H){H.free()}),Object.values(this.Sa).forEach(ei),this.Sa={},this.Ya&&(ei(this.Ya),this.Ya=void 0),this.handleError(Ie(this.db)),Gt("/"+this.filename),this.db=null)},V.prototype.handleError=function(H){if(H===0)return null;throw H=Ya(this.db),Error(H)},V.prototype.getRowsModified=function(){return mt(this.db)},V.prototype.create_function=function(H,oe){Object.prototype.hasOwnProperty.call(this.Sa,H)&&(ei(this.Sa[H]),delete this.Sa[H]);var ve=Cn(function(Re,ke,nt){ke=y(ke,nt);try{var bn=oe.apply(null,ke)}catch(fi){qe(Re,fi,-1);return}h(Re,bn)},"viii");return this.Sa[H]=ve,this.handleError(En(this.db,H,oe.length,1,0,ve,0,0,0)),this},V.prototype.create_aggregate=function(H,oe){var ve=oe.init||function(){return null},Re=oe.finalize||function(ni){return ni},ke=oe.step;if(!ke)throw"An aggregate function must have a step function in "+H;var nt={};Object.hasOwnProperty.call(this.Sa,H)&&(ei(this.Sa[H]),delete this.Sa[H]),oe=H+"__finalize",Object.hasOwnProperty.call(this.Sa,oe)&&(ei(this.Sa[oe]),delete this.Sa[oe]);var bn=Cn(function(ni,Ai,Eo){var wa=Pt(ni,1);Object.hasOwnProperty.call(nt,wa)||(nt[wa]=ve()),Ai=y(Ai,Eo),Ai=[nt[wa]].concat(Ai);try{nt[wa]=ke.apply(null,Ai)}catch(Nr){delete nt[wa],qe(ni,Nr,-1)}},"viii"),fi=Cn(function(ni){var Ai=Pt(ni,1);try{var Eo=Re(nt[Ai])}catch(wa){delete nt[Ai],qe(ni,wa,-1);return}h(ni,Eo),delete nt[Ai]},"vi");return this.Sa[H]=bn,this.Sa[oe]=fi,this.handleError(En(this.db,H,ke.length-1,1,0,0,bn,fi,0)),this},V.prototype.updateHook=function(H){this.Ya&&(jt(this.db,0,0),ei(this.Ya),this.Ya=void 0),H&&(this.Ya=Cn(function(oe,ve,Re,ke,nt){switch(ve){case 18:oe="insert";break;case 23:oe="update";break;case 9:oe="delete";break;default:throw"unknown operationCode in updateHook callback: "+ve}if(Re=Re?Et(j,Re):"",ke=ke?Et(j,ke):"",nt>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";H(oe,Re,ke,Number(nt))},"viiiij"),jt(this.db,this.Ya,0))},g.Database=V};var $={...g},J="./this.program",ne=(h,y)=>{throw y},X="",ee,de;if(M){var ge=sv;X=__dirname+"/",de=h=>(h=Ce(h)?new URL(h):h,ge.readFileSync(h)),ee=async h=>(h=Ce(h)?new URL(h):h,ge.readFileSync(h,void 0)),!g.thisProgram&&1<process.argv.length&&(J=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),a.exports=g,ne=(h,y)=>{throw process.exitCode=h,y}}else(R||D)&&(D?X=self.location.href:typeof document<"u"&&document.currentScript&&(X=document.currentScript.src),X=X.startsWith("blob:")?"":X.slice(0,X.replace(/[?#].*/,"").lastIndexOf("/")+1),D&&(de=h=>{var y=new XMLHttpRequest;return y.open("GET",h,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),ee=async h=>{if(Ce(h))return new Promise((S,A)=>{var V=new XMLHttpRequest;V.open("GET",h,!0),V.responseType="arraybuffer",V.onload=()=>{V.status==200||V.status==0&&V.response?S(V.response):A(V.status)},V.onerror=A,V.send(null)});var y=await fetch(h,{credentials:"same-origin"});if(y.ok)return y.arrayBuffer();throw Error(y.status+" : "+y.url)});var _e=g.print||console.log.bind(console),xe=g.printErr||console.error.bind(console);Object.assign(g,$),$=null,g.thisProgram&&(J=g.thisProgram);var Me=g.wasmBinary,O,I=!1,k,U,j,x,C,ye,lt,P,fe,Ce=h=>h.startsWith("file://");function et(){var h=O.buffer;g.HEAP8=U=new Int8Array(h),g.HEAP16=x=new Int16Array(h),g.HEAPU8=j=new Uint8Array(h),g.HEAPU16=new Uint16Array(h),g.HEAP32=C=new Int32Array(h),g.HEAPU32=ye=new Uint32Array(h),g.HEAPF32=lt=new Float32Array(h),g.HEAPF64=fe=new Float64Array(h),g.HEAP64=P=new BigInt64Array(h),g.HEAPU64=new BigUint64Array(h)}var We=0,B=null;function ae(h){throw g.onAbort?.(h),h="Aborted("+h+")",xe(h),I=!0,new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info.")}var pe;async function Ee(h){if(!Me)try{var y=await ee(h);return new Uint8Array(y)}catch{}if(h==pe&&Me)h=new Uint8Array(Me);else if(de)h=de(h);else throw"both async and sync fetching of the wasm failed";return h}async function Be(h,y){try{var S=await Ee(h);return await WebAssembly.instantiate(S,y)}catch(A){xe(`failed to asynchronously prepare wasm: ${A}`),ae(A)}}async function Ye(h){var y=pe;if(!Me&&typeof WebAssembly.instantiateStreaming=="function"&&!Ce(y)&&!M)try{var S=fetch(y,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(S,h)}catch(A){xe(`wasm streaming compile failed: ${A}`),xe("falling back to ArrayBuffer instantiation")}return Be(y,h)}class Ke{name="ExitStatus";constructor(y){this.message=`Program terminated with exit(${y})`,this.status=y}}var Xt=h=>{for(;0<h.length;)h.shift()(g)},Ot=[],da=[],Es=()=>{var h=g.preRun.shift();da.unshift(h)};function Vn(h,y="i8"){switch(y.endsWith("*")&&(y="*"),y){case"i1":return U[h];case"i8":return U[h];case"i16":return x[h>>1];case"i32":return C[h>>2];case"i64":return P[h>>3];case"float":return lt[h>>2];case"double":return fe[h>>3];case"*":return ye[h>>2];default:ae(`invalid type for getValue: ${y}`)}}var ma=g.noExitRuntime||!0;function Un(h){var y="i32";switch(y.endsWith("*")&&(y="*"),y){case"i1":U[h]=0;break;case"i8":U[h]=0;break;case"i16":x[h>>1]=0;break;case"i32":C[h>>2]=0;break;case"i64":P[h>>3]=BigInt(0);break;case"float":lt[h>>2]=0;break;case"double":fe[h>>3]=0;break;case"*":ye[h>>2]=0;break;default:ae(`invalid type for setValue: ${y}`)}}var bs=typeof TextDecoder<"u"?new TextDecoder:void 0,Et=(h,y=0,S=NaN)=>{var A=y+S;for(S=y;h[S]&&!(S>=A);)++S;if(16<S-y&&h.buffer&&bs)return bs.decode(h.subarray(y,S));for(A="";y<S;){var V=h[y++];if(V&128){var F=h[y++]&63;if((V&224)==192)A+=String.fromCharCode((V&31)<<6|F);else{var te=h[y++]&63;V=(V&240)==224?(V&15)<<12|F<<6|te:(V&7)<<18|F<<12|te<<6|h[y++]&63,65536>V?A+=String.fromCharCode(V):(V-=65536,A+=String.fromCharCode(55296|V>>10,56320|V&1023))}}else A+=String.fromCharCode(V)}return A},Ua=(h,y)=>h?Et(j,h,y):"",Ts=(h,y)=>{for(var S=0,A=h.length-1;0<=A;A--){var V=h[A];V==="."?h.splice(A,1):V===".."?(h.splice(A,1),S++):S&&(h.splice(A,1),S--)}if(y)for(;S;S--)h.unshift("..");return h},qt=h=>{var y=h.charAt(0)==="/",S=h.slice(-1)==="/";return(h=Ts(h.split("/").filter(A=>!!A),!y).join("/"))||y||(h="."),h&&S&&(h+="/"),(y?"/":"")+h},Kt=h=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=y[0],y=y[1],!h&&!y?".":(y&&=y.slice(0,-1),h+y)},_i=h=>h&&h.match(/([^\/]+|\/)\/*$/)[1],El=()=>{if(M){var h=sv;return y=>h.randomFillSync(y)}return y=>crypto.getRandomValues(y)},dr=h=>{(dr=El())(h)},wn=(...h)=>{for(var y="",S=!1,A=h.length-1;-1<=A&&!S;A--){if(S=0<=A?h[A]:"/",typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";y=S+"/"+y,S=S.charAt(0)==="/"}return y=Ts(y.split("/").filter(V=>!!V),!S).join("/"),(S?"/":"")+y||"."},ea=[],ta=h=>{for(var y=0,S=0;S<h.length;++S){var A=h.charCodeAt(S);127>=A?y++:2047>=A?y+=2:55296<=A&&57343>=A?(y+=4,++S):y+=3}return y},Xn=(h,y,S,A)=>{if(!(0<A))return 0;var V=S;A=S+A-1;for(var F=0;F<h.length;++F){var te=h.charCodeAt(F);if(55296<=te&&57343>=te){var we=h.charCodeAt(++F);te=65536+((te&1023)<<10)|we&1023}if(127>=te){if(S>=A)break;y[S++]=te}else{if(2047>=te){if(S+1>=A)break;y[S++]=192|te>>6}else{if(65535>=te){if(S+2>=A)break;y[S++]=224|te>>12}else{if(S+3>=A)break;y[S++]=240|te>>18,y[S++]=128|te>>12&63}y[S++]=128|te>>6&63}y[S++]=128|te&63}}return y[S]=0,S-V},na=(h,y)=>{var S=Array(ta(h)+1);return h=Xn(h,S,0,S.length),y&&(S.length=h),S},ao=[];function mr(h,y){ao[h]={input:[],output:[],cb:y},ws(h,so)}var so={open(h){var y=ao[h.node.rdev];if(!y)throw new he(43);h.tty=y,h.seekable=!1},close(h){h.tty.cb.fsync(h.tty)},fsync(h){h.tty.cb.fsync(h.tty)},read(h,y,S,A){if(!h.tty||!h.tty.cb.xb)throw new he(60);for(var V=0,F=0;F<A;F++){try{var te=h.tty.cb.xb(h.tty)}catch{throw new he(29)}if(te===void 0&&V===0)throw new he(6);if(te==null)break;V++,y[S+F]=te}return V&&(h.node.atime=Date.now()),V},write(h,y,S,A){if(!h.tty||!h.tty.cb.qb)throw new he(60);try{for(var V=0;V<A;V++)h.tty.cb.qb(h.tty,y[S+V])}catch{throw new he(29)}return A&&(h.node.mtime=h.node.ctime=Date.now()),V}},ro={xb(){e:{if(!ea.length){var h=null;if(M){var y=Buffer.alloc(256),S=0,A=process.stdin.fd;try{S=ge.readSync(A,y,0,256)}catch(V){if(V.toString().includes("EOF"))S=0;else throw V}0<S&&(h=y.slice(0,S).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`));if(!h){h=null;break e}ea=na(h,!0)}h=ea.shift()}return h},qb(h,y){y===null||y===10?(_e(Et(h.output)),h.output=[]):y!=0&&h.output.push(y)},fsync(h){0<h.output?.length&&(_e(Et(h.output)),h.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},vi={qb(h,y){y===null||y===10?(xe(Et(h.output)),h.output=[]):y!=0&&h.output.push(y)},fsync(h){0<h.output?.length&&(xe(Et(h.output)),h.output=[])}},De={Wa:null,Xa(){return De.createNode(null,"/",16895,0)},createNode(h,y,S,A){if((S&61440)===24576||(S&61440)===4096)throw new he(63);return De.Wa||(De.Wa={dir:{node:{Ta:De.La.Ta,Ua:De.La.Ua,lookup:De.La.lookup,hb:De.La.hb,rename:De.La.rename,unlink:De.La.unlink,rmdir:De.La.rmdir,readdir:De.La.readdir,symlink:De.La.symlink},stream:{Va:De.Ma.Va}},file:{node:{Ta:De.La.Ta,Ua:De.La.Ua},stream:{Va:De.Ma.Va,read:De.Ma.read,write:De.Ma.write,ib:De.Ma.ib,jb:De.Ma.jb}},link:{node:{Ta:De.La.Ta,Ua:De.La.Ua,readlink:De.La.readlink},stream:{}},ub:{node:{Ta:De.La.Ta,Ua:De.La.Ua},stream:Tl}}),S=Ss(h,y,S,A),an(S.mode)?(S.La=De.Wa.dir.node,S.Ma=De.Wa.dir.stream,S.Na={}):(S.mode&61440)===32768?(S.La=De.Wa.file.node,S.Ma=De.Wa.file.stream,S.Ra=0,S.Na=null):(S.mode&61440)===40960?(S.La=De.Wa.link.node,S.Ma=De.Wa.link.stream):(S.mode&61440)===8192&&(S.La=De.Wa.ub.node,S.Ma=De.Wa.ub.stream),S.atime=S.mtime=S.ctime=Date.now(),h&&(h.Na[y]=S,h.atime=h.mtime=h.ctime=S.atime),S},Sb(h){return h.Na?h.Na.subarray?h.Na.subarray(0,h.Ra):new Uint8Array(h.Na):new Uint8Array(0)},La:{Ta(h){var y={};return y.dev=(h.mode&61440)===8192?h.id:1,y.ino=h.id,y.mode=h.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=h.rdev,an(h.mode)?y.size=4096:(h.mode&61440)===32768?y.size=h.Ra:(h.mode&61440)===40960?y.size=h.link.length:y.size=0,y.atime=new Date(h.atime),y.mtime=new Date(h.mtime),y.ctime=new Date(h.ctime),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},Ua(h,y){for(var S of["mode","atime","mtime","ctime"])y[S]!=null&&(h[S]=y[S]);y.size!==void 0&&(y=y.size,h.Ra!=y&&(y==0?(h.Na=null,h.Ra=0):(S=h.Na,h.Na=new Uint8Array(y),S&&h.Na.set(S.subarray(0,Math.min(y,h.Ra))),h.Ra=y)))},lookup(){throw De.vb},hb(h,y,S,A){return De.createNode(h,y,S,A)},rename(h,y,S){try{var A=$n(y,S)}catch{}if(A){if(an(h.mode))for(var V in A.Na)throw new he(55);gr(A)}delete h.parent.Na[h.name],y.Na[S]=h,h.name=S,y.ctime=y.mtime=h.parent.ctime=h.parent.mtime=Date.now()},unlink(h,y){delete h.Na[y],h.ctime=h.mtime=Date.now()},rmdir(h,y){var S=$n(h,y),A;for(A in S.Na)throw new he(55);delete h.Na[y],h.ctime=h.mtime=Date.now()},readdir(h){return[".","..",...Object.keys(h.Na)]},symlink(h,y,S){return h=De.createNode(h,y,41471,0),h.link=S,h},readlink(h){if((h.mode&61440)!==40960)throw new he(28);return h.link}},Ma:{read(h,y,S,A,V){var F=h.node.Na;if(V>=h.node.Ra)return 0;if(h=Math.min(h.node.Ra-V,A),8<h&&F.subarray)y.set(F.subarray(V,V+h),S);else for(A=0;A<h;A++)y[S+A]=F[V+A];return h},write(h,y,S,A,V,F){if(y.buffer===U.buffer&&(F=!1),!A)return 0;if(h=h.node,h.mtime=h.ctime=Date.now(),y.subarray&&(!h.Na||h.Na.subarray)){if(F)return h.Na=y.subarray(S,S+A),h.Ra=A;if(h.Ra===0&&V===0)return h.Na=y.slice(S,S+A),h.Ra=A;if(V+A<=h.Ra)return h.Na.set(y.subarray(S,S+A),V),A}F=V+A;var te=h.Na?h.Na.length:0;if(te>=F||(F=Math.max(F,te*(1048576>te?2:1.125)>>>0),te!=0&&(F=Math.max(F,256)),te=h.Na,h.Na=new Uint8Array(F),0<h.Ra&&h.Na.set(te.subarray(0,h.Ra),0)),h.Na.subarray&&y.subarray)h.Na.set(y.subarray(S,S+A),V);else for(F=0;F<A;F++)h.Na[V+F]=y[S+F];return h.Ra=Math.max(h.Ra,V+A),A},Va(h,y,S){if(S===1?y+=h.position:S===2&&(h.node.mode&61440)===32768&&(y+=h.node.Ra),0>y)throw new he(28);return y},ib(h,y,S,A,V){if((h.node.mode&61440)!==32768)throw new he(43);if(h=h.node.Na,V&2||!h||h.buffer!==U.buffer){V=!0,A=65536*Math.ceil(y/65536);var F=ba(65536,A);if(F&&j.fill(0,F,F+A),A=F,!A)throw new he(48);h&&((0<S||S+y<h.length)&&(h.subarray?h=h.subarray(S,S+y):h=Array.prototype.slice.call(h,S,S+y)),U.set(h,A))}else V=!1,A=h.byteOffset;return{Kb:A,Ab:V}},jb(h,y,S,A){return De.Ma.write(h,y,0,A,S,!1),0}}},Kn=(h,y)=>{var S=0;return h&&(S|=365),y&&(S|=146),S},Lt=null,pr={},Ei=[],oo=1,dn=null,pa=!1,Ft=!0,bi={},he=class{name="ErrnoError";constructor(h){this.Pa=h}},Ti=class{gb={};node=null;get flags(){return this.gb.flags}set flags(h){this.gb.flags=h}get position(){return this.gb.position}set position(h){this.gb.position=h}},bl=class{La={};Ma={};ab=null;constructor(h,y,S,A){h||=this,this.parent=h,this.Xa=h.Xa,this.id=oo++,this.name=y,this.mode=S,this.rdev=A,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function An(h,y={}){if(!h)throw new he(44);y.nb??(y.nb=!0),h.charAt(0)==="/"||(h="//"+h);var S=0;e:for(;40>S;S++){h=h.split("/").filter(we=>!!we);for(var A=Lt,V="/",F=0;F<h.length;F++){var te=F===h.length-1;if(te&&y.parent)break;if(h[F]!==".")if(h[F]==="..")V=Kt(V),A=A.parent;else{V=qt(V+"/"+h[F]);try{A=$n(A,h[F])}catch(we){if(we?.Pa===44&&te&&y.Jb)return{path:V};throw we}if(!A.ab||te&&!y.nb||(A=A.ab.root),(A.mode&61440)===40960&&(!te||y.$a)){if(!A.La.readlink)throw new he(52);A=A.La.readlink(A),A.charAt(0)==="/"||(A=Kt(V)+"/"+A),h=A+"/"+h.slice(F+1).join("/");continue e}}}return{path:V,node:A}}throw new he(32)}function ri(h){for(var y;;){if(h===h.parent)return h=h.Xa.zb,y?h[h.length-1]!=="/"?`${h}/${y}`:h+y:h;y=y?`${h.name}/${y}`:h.name,h=h.parent}}function ia(h,y){for(var S=0,A=0;A<y.length;A++)S=(S<<5)-S+y.charCodeAt(A)|0;return(h+S>>>0)%dn.length}function gr(h){var y=ia(h.parent.id,h.name);if(dn[y]===h)dn[y]=h.bb;else for(y=dn[y];y;){if(y.bb===h){y.bb=h.bb;break}y=y.bb}}function $n(h,y){var S=an(h.mode)?(S=Bn(h,"x"))?S:h.La.lookup?0:2:54;if(S)throw new he(S);for(S=dn[ia(h.id,y)];S;S=S.bb){var A=S.name;if(S.parent.id===h.id&&A===y)return S}return h.La.lookup(h,y)}function Ss(h,y,S,A){return h=new bl(h,y,S,A),y=ia(h.parent.id,h.name),h.bb=dn[y],dn[y]=h}function an(h){return(h&61440)===16384}function ga(h){var y=["r","w","rw"][h&3];return h&512&&(y+="w"),y}function Bn(h,y){if(Ft)return 0;if(!y.includes("r")||h.mode&292){if(y.includes("w")&&!(h.mode&146)||y.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function yr(h,y){if(!an(h.mode))return 54;try{return $n(h,y),20}catch{}return Bn(h,"wx")}function oi(h,y,S){try{var A=$n(h,y)}catch(V){return V.Pa}if(h=Bn(h,"wx"))return h;if(S){if(!an(A.mode))return 54;if(A===A.parent||ri(A)==="/")return 10}else if(an(A.mode))return 31;return 0}function qn(h){if(!h)throw new he(63);return h}function tt(h){if(h=Ei[h],!h)throw new he(8);return h}function Zt(h,y=-1){if(h=Object.assign(new Ti,h),y==-1)e:{for(y=0;4096>=y;y++)if(!Ei[y])break e;throw new he(33)}return h.fd=y,Ei[y]=h}function Mi(h,y=-1){return h=Zt(h,y),h.Ma?.Rb?.(h),h}function ya(h,y,S){var A=h?.Ma.Ua;h=A?h:y,A??=y.La.Ua,qn(A),A(h,S)}var Tl={open(h){h.Ma=pr[h.node.rdev].Ma,h.Ma.open?.(h)},Va(){throw new he(70)}};function ws(h,y){pr[h]={Ma:y}}function _r(h,y){var S=y==="/";if(S&&Lt)throw new he(10);if(!S&&y){var A=An(y,{nb:!1});if(y=A.path,A=A.node,A.ab)throw new he(10);if(!an(A.mode))throw new he(54)}y={type:h,Wb:{},zb:y,Ib:[]},h=h.Xa(y),h.Xa=y,y.root=h,S?Lt=h:A&&(A.ab=y,A.Xa&&A.Xa.Ib.push(y))}function Wn(h,y,S){var A=An(h,{parent:!0}).node;if(h=_i(h),!h)throw new he(28);if(h==="."||h==="..")throw new he(20);var V=yr(A,h);if(V)throw new he(V);if(!A.La.hb)throw new he(63);return A.La.hb(A,h,y,S)}function As(h,y=438){return Wn(h,y&4095|32768,0)}function Jt(h,y=511){return Wn(h,y&1023|16384,0)}function Rn(h,y,S){typeof S>"u"&&(S=y,y=438),Wn(h,y|8192,S)}function Nn(h,y){if(!wn(h))throw new he(44);var S=An(y,{parent:!0}).node;if(!S)throw new he(44);y=_i(y);var A=yr(S,y);if(A)throw new he(A);if(!S.La.symlink)throw new he(63);S.La.symlink(S,y,h)}function Si(h){var y=An(h,{parent:!0}).node;h=_i(h);var S=$n(y,h),A=oi(y,h,!0);if(A)throw new he(A);if(!y.La.rmdir)throw new he(63);if(S.ab)throw new he(10);y.La.rmdir(y,h),gr(S)}function Gt(h){var y=An(h,{parent:!0}).node;if(!y)throw new he(44);h=_i(h);var S=$n(y,h),A=oi(y,h,!1);if(A)throw new he(A);if(!y.La.unlink)throw new he(63);if(S.ab)throw new he(10);y.La.unlink(y,h),gr(S)}function aa(h,y){return h=An(h,{$a:!y}).node,qn(h.La.Ta)(h)}function Rs(h,y,S,A){ya(h,y,{mode:S&4095|y.mode&-4096,ctime:Date.now(),Fb:A})}function Zn(h,y){h=typeof h=="string"?An(h,{$a:!0}).node:h,Rs(null,h,y)}function wi(h,y,S){if(an(y.mode))throw new he(31);if((y.mode&61440)!==32768)throw new he(28);var A=Bn(y,"w");if(A)throw new he(A);ya(h,y,{size:S,timestamp:Date.now()})}function ki(h,y,S=438){if(h==="")throw new he(44);if(typeof y=="string"){var A={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[y];if(typeof A>"u")throw Error(`Unknown file open mode: ${y}`);y=A}if(S=y&64?S&4095|32768:0,typeof h=="object")A=h;else{var V=h.endsWith("/");h=An(h,{$a:!(y&131072),Jb:!0}),A=h.node,h=h.path}var F=!1;if(y&64)if(A){if(y&128)throw new he(20)}else{if(V)throw new he(31);A=Wn(h,S|511,0),F=!0}if(!A)throw new he(44);if((A.mode&61440)===8192&&(y&=-513),y&65536&&!an(A.mode))throw new he(54);if(!F&&(V=A?(A.mode&61440)===40960?32:an(A.mode)&&(ga(y)!=="r"||y&576)?31:Bn(A,ga(y)):44))throw new he(V);return y&512&&!F&&(V=A,V=typeof V=="string"?An(V,{$a:!0}).node:V,wi(null,V,0)),y&=-131713,V=Zt({node:A,path:ri(A),flags:y,seekable:!0,position:0,Ma:A.Ma,Lb:[],error:!1}),V.Ma.open&&V.Ma.open(V),F&&Zn(A,S&511),!g.logReadFiles||y&1||h in bi||(bi[h]=1),V}function Ba(h){if(h.fd===null)throw new he(8);h.ob&&(h.ob=null);try{h.Ma.close&&h.Ma.close(h)}catch(y){throw y}finally{Ei[h.fd]=null}h.fd=null}function Ns(h,y,S){if(h.fd===null)throw new he(8);if(!h.seekable||!h.Ma.Va)throw new he(70);if(S!=0&&S!=1&&S!=2)throw new he(28);h.position=h.Ma.Va(h,y,S),h.Lb=[]}function vr(h,y,S,A,V){if(0>A||0>V)throw new he(28);if(h.fd===null)throw new he(8);if((h.flags&2097155)===1)throw new he(8);if(an(h.node.mode))throw new he(31);if(!h.Ma.read)throw new he(28);var F=typeof V<"u";if(!F)V=h.position;else if(!h.seekable)throw new he(70);return y=h.Ma.read(h,y,S,A,V),F||(h.position+=y),y}function qa(h,y,S,A,V){if(0>A||0>V)throw new he(28);if(h.fd===null)throw new he(8);if((h.flags&2097155)===0)throw new he(8);if(an(h.node.mode))throw new he(31);if(!h.Ma.write)throw new he(28);h.seekable&&h.flags&1024&&Ns(h,0,2);var F=typeof V<"u";if(!F)V=h.position;else if(!h.seekable)throw new he(70);return y=h.Ma.write(h,y,S,A,V,void 0),F||(h.position+=y),y}function Jn(h){var y,S=ki(h,S||0);h=aa(h).size;var A=new Uint8Array(h);return vr(S,A,0,h,0),y=A,Ba(S),y}function St(h,y,S){h=qt("/dev/"+h);var A=Kn(!!y,!!S);St.yb??(St.yb=64);var V=St.yb++<<8|0;ws(V,{open(F){F.seekable=!1},close(){S?.buffer?.length&&S(10)},read(F,te,we,Ie){for(var Ve=0,mt=0;mt<Ie;mt++){try{var Yt=y()}catch{throw new he(29)}if(Yt===void 0&&Ve===0)throw new he(6);if(Yt==null)break;Ve++,te[we+mt]=Yt}return Ve&&(F.node.atime=Date.now()),Ve},write(F,te,we,Ie){for(var Ve=0;Ve<Ie;Ve++)try{S(te[we+Ve])}catch{throw new he(29)}return Ie&&(F.node.mtime=F.node.ctime=Date.now()),Ve}}),Rn(h,A,V)}var ze={};function Pn(h,y,S){if(y.charAt(0)==="/")return y;if(h=h===-100?"/":tt(h).path,y.length==0){if(!S)throw new he(44);return h}return h+"/"+y}function _a(h,y){C[h>>2]=y.dev,C[h+4>>2]=y.mode,ye[h+8>>2]=y.nlink,C[h+12>>2]=y.uid,C[h+16>>2]=y.gid,C[h+20>>2]=y.rdev,P[h+24>>3]=BigInt(y.size),C[h+32>>2]=4096,C[h+36>>2]=y.blocks;var S=y.atime.getTime(),A=y.mtime.getTime(),V=y.ctime.getTime();return P[h+40>>3]=BigInt(Math.floor(S/1e3)),ye[h+48>>2]=S%1e3*1e6,P[h+56>>3]=BigInt(Math.floor(A/1e3)),ye[h+64>>2]=A%1e3*1e6,P[h+72>>3]=BigInt(Math.floor(V/1e3)),ye[h+80>>2]=V%1e3*1e6,P[h+88>>3]=BigInt(y.ino),0}var ut=void 0,Li=()=>{var h=C[+ut>>2];return ut+=4,h},li=0,Pa=[0,31,60,91,121,152,182,213,244,274,305,335],zn=[0,31,59,90,120,151,181,212,243,273,304,334],Vi={},Er=h=>{k=h,ma||0<li||(g.onExit?.(h),I=!0),ne(h,new Ke(h))},br=h=>{if(!I)try{if(h(),!(ma||0<li))try{k=h=k,Er(h)}catch(y){y instanceof Ke||y=="unwind"||ne(1,y)}}catch(y){y instanceof Ke||y=="unwind"||ne(1,y)}},Ui={},Tr=()=>{if(!Bi){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:J||"./this.program"},y;for(y in Ui)Ui[y]===void 0?delete h[y]:h[y]=Ui[y];var S=[];for(y in h)S.push(`${y}=${h[y]}`);Bi=S}return Bi},Bi,yn=h=>{var y=ta(h)+1,S=sn(y);return Xn(h,j,S,y),S},lo=(h,y,S,A)=>{var V={string:Ve=>{var mt=0;return Ve!=null&&Ve!==0&&(mt=yn(Ve)),mt},array:Ve=>{var mt=sn(Ve.length);return U.set(Ve,mt),mt}};h=g["_"+h];var F=[],te=0;if(A)for(var we=0;we<A.length;we++){var Ie=V[S[we]];Ie?(te===0&&(te=vn()),F[we]=Ie(A[we])):F[we]=A[we]}return S=h(...F),S=(function(Ve){return te!==0&&ci(te),y==="string"?Ve?Et(j,Ve):"":y==="boolean"?!!Ve:Ve})(S)},va=0,Ea=(h,y)=>(y=y==1?sn(h.length):qi(h.length),h.subarray||h.slice||(h=new Uint8Array(h)),j.set(h,y),y),ui,Cs=[],_n,ei=h=>{ui.delete(_n.get(h)),_n.set(h,null),Cs.push(h)},Cn=(h,y)=>{if(!ui){ui=new WeakMap;var S=_n.length;if(ui)for(var A=0;A<0+S;A++){var V=_n.get(A);V&&ui.set(V,A)}}if(S=ui.get(h)||0)return S;if(Cs.length)S=Cs.pop();else{try{_n.grow(1)}catch(Ie){throw Ie instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Ie}S=_n.length-1}try{_n.set(S,h)}catch(Ie){if(!(Ie instanceof TypeError))throw Ie;if(typeof WebAssembly.Function=="function"){var F=WebAssembly.Function;A={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},V={parameters:[],results:y[0]=="v"?[]:[A[y[0]]]};for(var te=1;te<y.length;++te)V.parameters.push(A[y[te]]);y=new F(V,h)}else{A=[1],V=y.slice(0,1),y=y.slice(1),te={i:127,p:127,j:126,f:125,d:124,e:111},A.push(96);var we=y.length;128>we?A.push(we):A.push(we%128|128,we>>7);for(F of y)A.push(te[F]);V=="v"?A.push(0):A.push(1,te[V]),y=[0,97,115,109,1,0,0,0,1],F=A.length,128>F?y.push(F):y.push(F%128|128,F>>7),y.push(...A),y.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),y=new WebAssembly.Module(new Uint8Array(y)),y=new WebAssembly.Instance(y,{e:{f:h}}).exports.f}_n.set(S,y)}return ui.set(h,S),S};dn=Array(4096),_r(De,"/"),Jt("/tmp"),Jt("/home"),Jt("/home/web_user"),(function(){Jt("/dev"),ws(259,{read:()=>0,write:(A,V,F,te)=>te,Va:()=>0}),Rn("/dev/null",259),mr(1280,ro),mr(1536,vi),Rn("/dev/tty",1280),Rn("/dev/tty1",1536);var h=new Uint8Array(1024),y=0,S=()=>(y===0&&(dr(h),y=h.byteLength),h[--y]);St("random",S),St("urandom",S),Jt("/dev/shm"),Jt("/dev/shm/tmp")})(),(function(){Jt("/proc");var h=Jt("/proc/self");Jt("/proc/self/fd"),_r({Xa(){var y=Ss(h,"fd",16895,73);return y.Ma={Va:De.Ma.Va},y.La={lookup(S,A){S=+A;var V=tt(S);return S={parent:null,Xa:{zb:"fake"},La:{readlink:()=>V.path},id:S+1},S.parent=S},readdir(){return Array.from(Ei.entries()).filter(([,S])=>S).map(([S])=>S.toString())}},y}},"/proc/self/fd")})(),De.vb=new he(44),De.vb.stack="<generic error, no stack>";var Sr={a:(h,y,S,A)=>ae(`Assertion failed: ${h?Et(j,h):""}, at: `+[y?y?Et(j,y):"":"unknown filename",S,A?A?Et(j,A):"":"unknown function"]),i:function(h,y){try{return h=h?Et(j,h):"",Zn(h,y),0}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},L:function(h,y,S){try{if(y=y?Et(j,y):"",y=Pn(h,y),S&-8)return-28;var A=An(y,{$a:!0}).node;return A?(h="",S&4&&(h+="r"),S&2&&(h+="w"),S&1&&(h+="x"),h&&Bn(A,h)?-2:0):-44}catch(V){if(typeof ze>"u"||V.name!=="ErrnoError")throw V;return-V.Pa}},j:function(h,y){try{var S=tt(h);return Rs(S,S.node,y,!1),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},h:function(h){try{var y=tt(h);return ya(y,y.node,{timestamp:Date.now(),Fb:!1}),0}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},b:function(h,y,S){ut=S;try{var A=tt(h);switch(y){case 0:var V=Li();if(0>V)break;for(;Ei[V];)V++;return Mi(A,V).fd;case 1:case 2:return 0;case 3:return A.flags;case 4:return V=Li(),A.flags|=V,0;case 12:return V=Li(),x[V+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(F){if(typeof ze>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},g:function(h,y){try{var S=tt(h),A=S.node,V=S.Ma.Ta;h=V?S:A,V??=A.La.Ta,qn(V);var F=V(h);return _a(y,F)}catch(te){if(typeof ze>"u"||te.name!=="ErrnoError")throw te;return-te.Pa}},H:function(h,y){y=-9007199254740992>y||9007199254740992<y?NaN:Number(y);try{if(isNaN(y))return 61;var S=tt(h);if(0>y||(S.flags&2097155)===0)throw new he(28);return wi(S,S.node,y),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},G:function(h,y){try{if(y===0)return-28;var S=ta("/")+1;return y<S?-68:(Xn("/",j,h,y),S)}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},K:function(h,y){try{return h=h?Et(j,h):"",_a(y,aa(h,!0))}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},C:function(h,y,S){try{return y=y?Et(j,y):"",y=Pn(h,y),Jt(y,S),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},J:function(h,y,S,A){try{y=y?Et(j,y):"";var V=A&256;return y=Pn(h,y,A&4096),_a(S,V?aa(y,!0):aa(y))}catch(F){if(typeof ze>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},x:function(h,y,S,A){ut=A;try{y=y?Et(j,y):"",y=Pn(h,y);var V=A?Li():0;return ki(y,S,V).fd}catch(F){if(typeof ze>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},v:function(h,y,S,A){try{if(y=y?Et(j,y):"",y=Pn(h,y),0>=A)return-28;var V=An(y).node;if(!V)throw new he(44);if(!V.La.readlink)throw new he(28);var F=V.La.readlink(V),te=Math.min(A,ta(F)),we=U[S+te];return Xn(F,j,S,A+1),U[S+te]=we,te}catch(Ie){if(typeof ze>"u"||Ie.name!=="ErrnoError")throw Ie;return-Ie.Pa}},u:function(h){try{return h=h?Et(j,h):"",Si(h),0}catch(y){if(typeof ze>"u"||y.name!=="ErrnoError")throw y;return-y.Pa}},f:function(h,y){try{return h=h?Et(j,h):"",_a(y,aa(h))}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},r:function(h,y,S){try{return y=y?Et(j,y):"",y=Pn(h,y),S===0?Gt(y):S===512?Si(y):ae("Invalid flags passed to unlinkat"),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},q:function(h,y,S){try{y=y?Et(j,y):"",y=Pn(h,y,!0);var A=Date.now(),V,F;if(S){var te=ye[S>>2]+4294967296*C[S+4>>2],we=C[S+8>>2];we==1073741823?V=A:we==1073741822?V=null:V=1e3*te+we/1e6,S+=16,te=ye[S>>2]+4294967296*C[S+4>>2],we=C[S+8>>2],we==1073741823?F=A:we==1073741822?F=null:F=1e3*te+we/1e6}else F=V=A;if((F??V)!==null){h=V;var Ie=An(y,{$a:!0}).node;qn(Ie.La.Ua)(Ie,{atime:h,mtime:F})}return 0}catch(Ve){if(typeof ze>"u"||Ve.name!=="ErrnoError")throw Ve;return-Ve.Pa}},m:()=>ae(""),l:()=>{ma=!1,li=0},A:function(h,y){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h),h=new Date(1e3*h),C[y>>2]=h.getSeconds(),C[y+4>>2]=h.getMinutes(),C[y+8>>2]=h.getHours(),C[y+12>>2]=h.getDate(),C[y+16>>2]=h.getMonth(),C[y+20>>2]=h.getFullYear()-1900,C[y+24>>2]=h.getDay();var S=h.getFullYear();C[y+28>>2]=(S%4!==0||S%100===0&&S%400!==0?zn:Pa)[h.getMonth()]+h.getDate()-1|0,C[y+36>>2]=-(60*h.getTimezoneOffset()),S=new Date(h.getFullYear(),6,1).getTimezoneOffset();var A=new Date(h.getFullYear(),0,1).getTimezoneOffset();C[y+32>>2]=(S!=A&&h.getTimezoneOffset()==Math.min(A,S))|0},y:function(h,y,S,A,V,F,te){V=-9007199254740992>V||9007199254740992<V?NaN:Number(V);try{if(isNaN(V))return 61;var we=tt(A);if((y&2)!==0&&(S&2)===0&&(we.flags&2097155)!==2)throw new he(2);if((we.flags&2097155)===1)throw new he(2);if(!we.Ma.ib)throw new he(43);if(!h)throw new he(28);var Ie=we.Ma.ib(we,h,V,y,S),Ve=Ie.Kb;return C[F>>2]=Ie.Ab,ye[te>>2]=Ve,0}catch(mt){if(typeof ze>"u"||mt.name!=="ErrnoError")throw mt;return-mt.Pa}},z:function(h,y,S,A,V,F){F=-9007199254740992>F||9007199254740992<F?NaN:Number(F);try{var te=tt(V);if(S&2){if(S=F,(te.node.mode&61440)!==32768)throw new he(43);if(!(A&2)){var we=j.slice(h,h+y);te.Ma.jb&&te.Ma.jb(te,we,S,y,A)}}}catch(Ie){if(typeof ze>"u"||Ie.name!=="ErrnoError")throw Ie;return-Ie.Pa}},n:(h,y)=>{if(Vi[h]&&(clearTimeout(Vi[h].id),delete Vi[h]),!y)return 0;var S=setTimeout(()=>{delete Vi[h],br(()=>za(h,performance.now()))},y);return Vi[h]={id:S,Xb:y},0},B:(h,y,S,A)=>{var V=new Date().getFullYear(),F=new Date(V,0,1).getTimezoneOffset();V=new Date(V,6,1).getTimezoneOffset(),ye[h>>2]=60*Math.max(F,V),C[y>>2]=+(F!=V),y=te=>{var we=Math.abs(te);return`UTC${0<=te?"-":"+"}${String(Math.floor(we/60)).padStart(2,"0")}${String(we%60).padStart(2,"0")}`},h=y(F),y=y(V),V<F?(Xn(h,j,S,17),Xn(y,j,A,17)):(Xn(h,j,A,17),Xn(y,j,S,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:h=>{var y=j.length;if(h>>>=0,2147483648<h)return!1;for(var S=1;4>=S;S*=2){var A=y*(1+.2/S);A=Math.min(A,h+100663296);e:{A=(Math.min(2147483648,65536*Math.ceil(Math.max(h,A)/65536))-O.buffer.byteLength+65535)/65536|0;try{O.grow(A),et();var V=1;break e}catch{}V=void 0}if(V)return!0}return!1},E:(h,y)=>{var S=0;return Tr().forEach((A,V)=>{var F=y+S;for(V=ye[h+4*V>>2]=F,F=0;F<A.length;++F)U[V++]=A.charCodeAt(F);U[V]=0,S+=A.length+1}),0},F:(h,y)=>{var S=Tr();ye[h>>2]=S.length;var A=0;return S.forEach(V=>A+=V.length+1),ye[y>>2]=A,0},e:function(h){try{var y=tt(h);return Ba(y),0}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},p:function(h,y){try{var S=tt(h);return U[y]=S.tty?2:an(S.mode)?3:(S.mode&61440)===40960?7:4,x[y+2>>1]=0,P[y+8>>3]=BigInt(0),P[y+16>>3]=BigInt(0),0}catch(A){if(typeof ze>"u"||A.name!=="ErrnoError")throw A;return A.Pa}},w:function(h,y,S,A){try{e:{var V=tt(h);h=y;for(var F,te=y=0;te<S;te++){var we=ye[h>>2],Ie=ye[h+4>>2];h+=8;var Ve=vr(V,U,we,Ie,F);if(0>Ve){var mt=-1;break e}if(y+=Ve,Ve<Ie)break;typeof F<"u"&&(F+=Ve)}mt=y}return ye[A>>2]=mt,0}catch(Yt){if(typeof ze>"u"||Yt.name!=="ErrnoError")throw Yt;return Yt.Pa}},D:function(h,y,S,A){y=-9007199254740992>y||9007199254740992<y?NaN:Number(y);try{if(isNaN(y))return 61;var V=tt(h);return Ns(V,y,S),P[A>>3]=BigInt(V.position),V.ob&&y===0&&S===0&&(V.ob=null),0}catch(F){if(typeof ze>"u"||F.name!=="ErrnoError")throw F;return F.Pa}},I:function(h){try{var y=tt(h);return y.Ma?.fsync?y.Ma.fsync(y):0}catch(S){if(typeof ze>"u"||S.name!=="ErrnoError")throw S;return S.Pa}},t:function(h,y,S,A){try{e:{var V=tt(h);h=y;for(var F,te=y=0;te<S;te++){var we=ye[h>>2],Ie=ye[h+4>>2];h+=8;var Ve=qa(V,U,we,Ie,F);if(0>Ve){var mt=-1;break e}if(y+=Ve,Ve<Ie)break;typeof F<"u"&&(F+=Ve)}mt=y}return ye[A>>2]=mt,0}catch(Yt){if(typeof ze>"u"||Yt.name!=="ErrnoError")throw Yt;return Yt.Pa}},k:Er},be;(async function(){function h(S){return be=S.exports,O=be.M,et(),_n=be.O,We--,g.monitorRunDependencies?.(We),We==0&&B&&(S=B,B=null,S()),be}We++,g.monitorRunDependencies?.(We);var y={a:Sr};return g.instantiateWasm?new Promise(S=>{g.instantiateWasm(y,(A,V)=>{h(A),S(A.exports)})}):(pe??=g.locateFile?g.locateFile("sql-wasm.wasm",X):X+"sql-wasm.wasm",h((await Ye(y)).instance))})(),g._sqlite3_free=h=>(g._sqlite3_free=be.P)(h),g._sqlite3_value_text=h=>(g._sqlite3_value_text=be.Q)(h),g._sqlite3_prepare_v2=(h,y,S,A,V)=>(g._sqlite3_prepare_v2=be.R)(h,y,S,A,V),g._sqlite3_step=h=>(g._sqlite3_step=be.S)(h),g._sqlite3_reset=h=>(g._sqlite3_reset=be.T)(h),g._sqlite3_exec=(h,y,S,A,V)=>(g._sqlite3_exec=be.U)(h,y,S,A,V),g._sqlite3_finalize=h=>(g._sqlite3_finalize=be.V)(h),g._sqlite3_column_name=(h,y)=>(g._sqlite3_column_name=be.W)(h,y),g._sqlite3_column_text=(h,y)=>(g._sqlite3_column_text=be.X)(h,y),g._sqlite3_column_type=(h,y)=>(g._sqlite3_column_type=be.Y)(h,y),g._sqlite3_errmsg=h=>(g._sqlite3_errmsg=be.Z)(h),g._sqlite3_clear_bindings=h=>(g._sqlite3_clear_bindings=be._)(h),g._sqlite3_value_blob=h=>(g._sqlite3_value_blob=be.$)(h),g._sqlite3_value_bytes=h=>(g._sqlite3_value_bytes=be.aa)(h),g._sqlite3_value_double=h=>(g._sqlite3_value_double=be.ba)(h),g._sqlite3_value_int=h=>(g._sqlite3_value_int=be.ca)(h),g._sqlite3_value_type=h=>(g._sqlite3_value_type=be.da)(h),g._sqlite3_result_blob=(h,y,S,A)=>(g._sqlite3_result_blob=be.ea)(h,y,S,A),g._sqlite3_result_double=(h,y)=>(g._sqlite3_result_double=be.fa)(h,y),g._sqlite3_result_error=(h,y,S)=>(g._sqlite3_result_error=be.ga)(h,y,S),g._sqlite3_result_int=(h,y)=>(g._sqlite3_result_int=be.ha)(h,y),g._sqlite3_result_int64=(h,y)=>(g._sqlite3_result_int64=be.ia)(h,y),g._sqlite3_result_null=h=>(g._sqlite3_result_null=be.ja)(h),g._sqlite3_result_text=(h,y,S,A)=>(g._sqlite3_result_text=be.ka)(h,y,S,A),g._sqlite3_aggregate_context=(h,y)=>(g._sqlite3_aggregate_context=be.la)(h,y),g._sqlite3_column_count=h=>(g._sqlite3_column_count=be.ma)(h),g._sqlite3_data_count=h=>(g._sqlite3_data_count=be.na)(h),g._sqlite3_column_blob=(h,y)=>(g._sqlite3_column_blob=be.oa)(h,y),g._sqlite3_column_bytes=(h,y)=>(g._sqlite3_column_bytes=be.pa)(h,y),g._sqlite3_column_double=(h,y)=>(g._sqlite3_column_double=be.qa)(h,y),g._sqlite3_bind_blob=(h,y,S,A,V)=>(g._sqlite3_bind_blob=be.ra)(h,y,S,A,V),g._sqlite3_bind_double=(h,y,S)=>(g._sqlite3_bind_double=be.sa)(h,y,S),g._sqlite3_bind_int=(h,y,S)=>(g._sqlite3_bind_int=be.ta)(h,y,S),g._sqlite3_bind_text=(h,y,S,A,V)=>(g._sqlite3_bind_text=be.ua)(h,y,S,A,V),g._sqlite3_bind_parameter_index=(h,y)=>(g._sqlite3_bind_parameter_index=be.va)(h,y),g._sqlite3_sql=h=>(g._sqlite3_sql=be.wa)(h),g._sqlite3_normalized_sql=h=>(g._sqlite3_normalized_sql=be.xa)(h),g._sqlite3_changes=h=>(g._sqlite3_changes=be.ya)(h),g._sqlite3_close_v2=h=>(g._sqlite3_close_v2=be.za)(h),g._sqlite3_create_function_v2=(h,y,S,A,V,F,te,we,Ie)=>(g._sqlite3_create_function_v2=be.Aa)(h,y,S,A,V,F,te,we,Ie),g._sqlite3_update_hook=(h,y,S)=>(g._sqlite3_update_hook=be.Ba)(h,y,S),g._sqlite3_open=(h,y)=>(g._sqlite3_open=be.Ca)(h,y);var qi=g._malloc=h=>(qi=g._malloc=be.Da)(h),ti=g._free=h=>(ti=g._free=be.Ea)(h);g._RegisterExtensionFunctions=h=>(g._RegisterExtensionFunctions=be.Fa)(h);var ba=(h,y)=>(ba=be.Ga)(h,y),za=(h,y)=>(za=be.Ha)(h,y),ci=h=>(ci=be.Ia)(h),sn=h=>(sn=be.Ja)(h),vn=()=>(vn=be.Ka)();g.stackSave=()=>vn(),g.stackRestore=h=>ci(h),g.stackAlloc=h=>sn(h),g.cwrap=(h,y,S,A)=>{var V=!S||S.every(F=>F==="number"||F==="boolean");return y!=="string"&&V&&!A?g["_"+h]:(...F)=>lo(h,y,S,F)},g.addFunction=Cn,g.removeFunction=ei,g.UTF8ToString=Ua,g.ALLOC_NORMAL=va,g.allocate=Ea,g.allocateUTF8OnStack=yn;function sa(){function h(){if(g.calledRun=!0,!I){if(!g.noFSInit&&!pa){var y,S;pa=!0,A??=g.stdin,y??=g.stdout,S??=g.stderr,A?St("stdin",A):Nn("/dev/tty","/dev/stdin"),y?St("stdout",null,y):Nn("/dev/tty","/dev/stdout"),S?St("stderr",null,S):Nn("/dev/tty1","/dev/stderr"),ki("/dev/stdin",0),ki("/dev/stdout",1),ki("/dev/stderr",1)}if(be.N(),Ft=!1,g.onRuntimeInitialized?.(),g.postRun)for(typeof g.postRun=="function"&&(g.postRun=[g.postRun]);g.postRun.length;){var A=g.postRun.shift();Ot.unshift(A)}Xt(Ot)}}if(0<We)B=sa;else{if(g.preRun)for(typeof g.preRun=="function"&&(g.preRun=[g.preRun]);g.preRun.length;)Es();Xt(da),0<We?B=sa:g.setStatus?(g.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>g.setStatus(""),1),h()},1)):h()}}if(g.preInit)for(typeof g.preInit=="function"&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();return sa(),v}),i)};a.exports=r,a.exports.default=r})(Pd)),Pd.exports}var oS=rS();const M0=Y1(oS),lS=`
CREATE TABLE IF NOT EXISTS domains (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL,
  icon TEXT NOT NULL,
  color TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS goals (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  domain_id INTEGER NOT NULL REFERENCES domains(id),
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS quests (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  goal_id INTEGER NOT NULL REFERENCES goals(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'active',
  created_at TEXT NOT NULL DEFAULT (datetime('now')),
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS steps (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  quest_id INTEGER NOT NULL REFERENCES quests(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  priority TEXT NOT NULL DEFAULT 'normal',
  status TEXT NOT NULL DEFAULT 'pending',
  sort_order INTEGER NOT NULL DEFAULT 0,
  completed_at TEXT
);

CREATE TABLE IF NOT EXISTS buff_definitions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  type TEXT NOT NULL DEFAULT 'buff',
  icon TEXT NOT NULL DEFAULT '',
  duration_hours INTEGER NOT NULL DEFAULT 24,
  stat_effects TEXT NOT NULL DEFAULT '{}',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS buff_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  definition_id INTEGER NOT NULL REFERENCES buff_definitions(id) ON DELETE CASCADE,
  activated_at TEXT NOT NULL DEFAULT (datetime('now')),
  expires_at TEXT NOT NULL,
  is_active INTEGER NOT NULL DEFAULT 1
);

CREATE TABLE IF NOT EXISTS character (
  id INTEGER PRIMARY KEY CHECK (id = 1),
  name TEXT NOT NULL DEFAULT 'Adventurer',
  total_xp INTEGER NOT NULL DEFAULT 0,
  level INTEGER NOT NULL DEFAULT 1,
  title TEXT NOT NULL DEFAULT 'Novice',
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS xp_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  amount INTEGER NOT NULL,
  reason TEXT NOT NULL,
  source_type TEXT NOT NULL,
  source_id INTEGER,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);

CREATE TABLE IF NOT EXISTS planner_events (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  description TEXT NOT NULL DEFAULT '',
  date TEXT NOT NULL,
  start_time TEXT,
  end_time TEXT,
  quest_id INTEGER REFERENCES quests(id) ON DELETE SET NULL,
  step_id INTEGER REFERENCES steps(id) ON DELETE SET NULL,
  is_completed INTEGER NOT NULL DEFAULT 0,
  created_at TEXT NOT NULL DEFAULT (datetime('now'))
);
`,uS=`
INSERT OR IGNORE INTO domains (id, name, icon, color) VALUES
  (1, 'Health', '', '#e74c3c'),
  (2, 'Career', '', '#c8a84e'),
  (3, 'Learning', '', '#3498db'),
  (4, 'Social', '', '#e67e22'),
  (5, 'Finance', '', '#2ecc71'),
  (6, 'Creative', '', '#9b59b6'),
  (7, 'Spiritual', '', '#1abc9c'),
  (8, 'Home', '', '#95a5a6');
`,cS=`
INSERT OR IGNORE INTO character (id, name, total_xp, level, title)
VALUES (1, 'Adventurer', 0, 1, 'Novice');
`,fS="goal-game-db",sl="database",k0="main";let si=null;function L0(){return new Promise((a,t)=>{const i=indexedDB.open(fS,1);i.onupgradeneeded=()=>{const r=i.result;r.objectStoreNames.contains(sl)||r.createObjectStore(sl)},i.onsuccess=()=>a(i.result),i.onerror=()=>t(i.error)})}async function hS(){const a=await L0();return new Promise((t,i)=>{const r=a.transaction(sl,"readonly"),c=r.objectStore(sl).get(k0);c.onsuccess=()=>t(c.result??null),c.onerror=()=>i(c.error),r.oncomplete=()=>a.close()})}async function dS(a){const t=await L0();return new Promise((i,r)=>{const l=t.transaction(sl,"readwrite");l.objectStore(sl).put(a,k0),l.oncomplete=()=>{t.close(),i()},l.onerror=()=>r(l.error)})}async function mS(){if(si)return si;const a=await M0({locateFile:()=>"/goal-game/sql-wasm.wasm"}),t=await hS();return t?si=new a.Database(t):si=new a.Database,si.run(lS),si.run(uS),si.run(cS),await It(),si}async function It(){if(!si)return;const a=si.export();await dS(a)}function $e(){if(!si)throw new Error("Database not initialized. Call getDatabase() first.");return si}async function Vm(){return $e().export()}async function V0(a){const t=await M0({locateFile:()=>"/goal-game/sql-wasm.wasm"});si&&si.close(),si=new t.Database(a),await It()}const zd="migration_feb2026_billing_v1";async function pS(){if(localStorage.getItem(zd))return!1;const a=$e(),t=a.exec("SELECT id FROM goals WHERE title = 'Bill 190 Hours - February 2026'");if(t.length>0&&t[0].values.length>0)return localStorage.setItem(zd,"true"),!1;a.run(`
    INSERT INTO goals (domain_id, title, description, status)
    VALUES (2, 'Bill 190 Hours - February 2026', 'Target: 8 hours on weekdays, ~4.5 hours on weekends. Started with 8 hours billed.', 'active')
  `);const r=a.exec("SELECT last_insert_rowid() as id")[0].values[0][0],l=[{title:"Week 1: Feb 3-9",description:"First partial week. Target: ~41 hours (4 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-03",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-04",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-05",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-06",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-07",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-08",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 2: Feb 9-15",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-09",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-10",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-11",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-12",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-13",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-14",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-15",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 3: Feb 16-22",description:"Full week. Target: ~49 hours (5 weekdays  8 + 2 weekend days  4.5)",days:[{date:"2026-02-16",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-17",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-18",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-19",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-20",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-21",day:"Sat",hours:4.5,isWeekend:!0},{date:"2026-02-22",day:"Sun",hours:4.5,isWeekend:!0}]},{title:"Week 4: Feb 23-28",description:"Final partial week. Target: ~44.5 hours (5 weekdays  8 + 1 weekend day  4.5)",days:[{date:"2026-02-23",day:"Mon",hours:8,isWeekend:!1},{date:"2026-02-24",day:"Tue",hours:8,isWeekend:!1},{date:"2026-02-25",day:"Wed",hours:8,isWeekend:!1},{date:"2026-02-26",day:"Thu",hours:8,isWeekend:!1},{date:"2026-02-27",day:"Fri",hours:8,isWeekend:!1},{date:"2026-02-28",day:"Sat",hours:4.5,isWeekend:!0}]}];for(const c of l){a.run(`
      INSERT INTO quests (goal_id, title, description, priority, status)
      VALUES (?, ?, ?, 'high', 'active')
    `,[r,c.title,c.description]);const v=a.exec("SELECT last_insert_rowid() as id")[0].values[0][0];for(let E=0;E<c.days.length;E++){const g=c.days[E],R=`${g.day} ${g.date.slice(5)}: Bill ${g.hours} hours`;a.run(`
        INSERT INTO steps (quest_id, title, priority, status, sort_order)
        VALUES (?, ?, ?, 'pending', ?)
      `,[v,R,g.isWeekend?"low":"normal",E])}}return await It(),localStorage.setItem(zd,"true"),!0}const ov="notifications_migration_v1";async function gS(){if(localStorage.getItem(ov))return;const a=$e();try{(a.exec("PRAGMA table_info(planner_events)")[0]?.values.map(r=>r[1])||[]).includes("reminder_minutes")||a.run("ALTER TABLE planner_events ADD COLUMN reminder_minutes INTEGER DEFAULT NULL"),a.run(`
      CREATE TABLE IF NOT EXISTS notification_settings (
        id INTEGER PRIMARY KEY CHECK (id = 1),
        enabled INTEGER NOT NULL DEFAULT 0,
        default_reminder_minutes INTEGER NOT NULL DEFAULT 15,
        fcm_token TEXT,
        device_id TEXT NOT NULL,
        updated_at TEXT NOT NULL DEFAULT (datetime('now'))
      )
    `),await It(),localStorage.setItem(ov,"true"),console.log("Notifications migration completed successfully")}catch(t){throw console.error("Failed to run notifications migration:",t),t}}const lv="body_fat_goal_seed_v4";async function yS(){if(localStorage.getItem(lv))return;const a=$e();try{const t=a.exec("SELECT id FROM goals WHERE title = 'Achieve 12% Body Fat'");if(t.length&&t[0].values.length){const g=t[0].values[0][0],R=a.exec("SELECT id FROM quests WHERE goal_id = ?",[g]);if(R.length)for(const D of R[0].values)a.run("DELETE FROM steps WHERE quest_id = ?",[D[0]]);a.run("DELETE FROM quests WHERE goal_id = ?",[g]),a.run("DELETE FROM goals WHERE id = ?",[g])}a.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[1,"Achieve 12% Body Fat","12-week transformation program starting Feb 4, 2026. From 18-19% to 12% body fat through consistent training and nutrition."]);const r=a.exec("SELECT last_insert_rowid()")[0].values[0][0],l=new Date(2026,1,4,12,0,0),c=[{title:"Week 1 - Build Foundation",desc:"Establish daily habits and set your baseline."},{title:"Week 2 - Gain Momentum",desc:"Lock in the routine. Consistency is key."},{title:"Week 3 - Stay Disciplined",desc:"Push through early challenges. Trust the process."},{title:"Week 4 - Complete Month 1",desc:"First month done! Take measurements and assess progress."},{title:"Week 5 - Intensify",desc:"Increase intensity. Your body is adapting."},{title:"Week 6 - Push Through",desc:"Mental toughness week. No excuses."},{title:"Week 7 - Halfway Point",desc:"You're halfway there! Stay focused."},{title:"Week 8 - Stay Strong",desc:"Month 2 complete. Reassess and adjust if needed."},{title:"Week 9 - Final Month Begins",desc:"Last 4 weeks. Time to lock in."},{title:"Week 10 - Home Stretch",desc:"You can see the finish line. Don't let up."},{title:"Week 11 - Almost There",desc:"One more week after this. Give it everything."},{title:"Week 12 - Finish Strong",desc:"Final week! Complete the transformation."}],m=[{dayName:"Wed",workout:"Light Cardio (20-30 min)",isGym:!1},{dayName:"Thu",workout:"Gym - Legs (Quads/Hams/Glutes)",isGym:!0},{dayName:"Fri",workout:"Gym - Upper Body",isGym:!0},{dayName:"Sat",workout:"Gym - Lower Body / Deadlifts",isGym:!0},{dayName:"Sun",workout:"Rest + Weekly Check-in",isGym:!1},{dayName:"Mon",workout:"Gym - Push (Chest/Shoulders/Triceps)",isGym:!0},{dayName:"Tue",workout:"Gym - Pull (Back/Biceps)",isGym:!0}],v=g=>{const R=g.getMonth()+1,D=g.getDate();return`${R}/${D}`};let E=new Date(l);for(let g=0;g<c.length;g++){const R=c[g],D=v(E),M=v(new Date(E.getTime()+8640*60*1e3));a.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[r,`${R.title} (${D} - ${M})`,R.desc,"high"]);const J=a.exec("SELECT last_insert_rowid()")[0].values[0][0];let ne=1;for(let X=0;X<7;X++){const ee=m[X],de=v(E);a.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[J,`${ee.dayName} ${de}: ${ee.workout}`,"normal",ne++]),a.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[J,`${ee.dayName} ${de}: Hit protein goal`,"normal",ne++]),E.setDate(E.getDate()+1)}}await It(),localStorage.setItem(lv,"true"),console.log("Body fat goal seeded successfully (v3 - starting Wed 2/4/2026)")}catch(t){throw console.error("Failed to seed body fat goal:",t),t}}function _S(){const[a,t]=re.useState(!1),[i,r]=re.useState(null);return re.useEffect(()=>{mS().then(async()=>{await pS(),await gS(),await yS(),t(!0)}).catch(l=>r(l.message))},[]),{ready:a,error:i}}function uv(){const t=$e().exec("SELECT id, name, total_xp, level, title, created_at FROM character WHERE id = 1");if(!t.length)throw new Error("Character not found");const i=t[0].values[0];return{id:i[0],name:i[1],total_xp:i[2],level:i[3],title:i[4],created_at:i[5]}}async function vS(a){$e().run("UPDATE character SET name = ? WHERE id = 1",[a]),await It()}function cv(a=50){const i=$e().exec(`SELECT id, amount, reason, source_type, source_id, created_at
     FROM xp_log ORDER BY created_at DESC LIMIT ?`,[a]);return i.length?i[0].values.map(r=>({id:r[0],amount:r[1],reason:r[2],source_type:r[3],source_id:r[4],created_at:r[5]})):[]}const U0=["stamina","willpower","health","focus","charisma"],Js=["Novice","Apprentice","Journeyman","Adept","Expert","Master","Legend","Dragonborn"],ES={normal:10,important:15,legendary:20},bS=50,TS=200,SS=5,wS=25,AS=1.8,RS=50;function Um(a){return Math.floor(RS*Math.pow(a,AS))}function NS(a){let t=0;for(let i=1;i<a;i++)t+=Um(i);return t}function B0(a){let t=1,i=0;for(;;){if(i+=Um(t),a<i)return t;if(t++,t>100)return 100}}function q0(a){const t=B0(a),i=NS(t),r=a-i,l=Um(t);return{current:r,needed:l,percentage:Math.min(r/l*100,100)}}function CS(a){return a>=50?Js[7]:a>=40?Js[6]:a>=30?Js[5]:a>=22?Js[4]:a>=15?Js[3]:a>=10?Js[2]:a>=5?Js[1]:Js[0]}async function xS(a,t,i,r=null){const l=$e(),c=l.exec("SELECT total_xp, level FROM character WHERE id = 1"),m=c[0].values[0][0],v=c[0].values[0][1],E=m+a,g=B0(E),R=CS(g),D=g>v;return l.run("UPDATE character SET total_xp = ?, level = ?, title = ? WHERE id = 1",[E,g,R]),l.run("INSERT INTO xp_log (amount, reason, source_type, source_id) VALUES (?, ?, ?, ?)",[a,t,i,r]),await It(),{amount:a,newTotal:E,leveledUp:D,newLevel:g,newTitle:R}}function DS(){const[a,t]=re.useState(()=>uv()),[i,r]=re.useState(()=>cv()),[l,c]=re.useState(null),[m,v]=re.useState([]),E=re.useCallback(()=>{t(uv()),r(cv())},[]),g=re.useCallback(async(M,$,J,ne)=>{const X=await xS(M,$,J,ne??null);X.leveledUp&&c({level:X.newLevel,title:X.newTitle});const ee=Date.now();return v(de=>[...de,{id:ee,amount:M}]),setTimeout(()=>v(de=>de.filter(ge=>ge.id!==ee)),1500),E(),X},[E]),R=re.useCallback(()=>c(null),[]),D=re.useCallback(async M=>{await vS(M),E()},[E]);return{character:a,xpLog:i,levelUpInfo:l,xpFloats:m,grantXP:g,dismissLevelUp:R,setName:D,refresh:E}}function P0(){const t=$e().exec("SELECT id, name, icon, color FROM domains ORDER BY id");return t.length?t[0].values.map(i=>({id:i[0],name:i[1],icon:i[2],color:i[3]})):[]}function IS(a,t){const i=$e();let r="SELECT id, domain_id, title, description, status, created_at, completed_at FROM goals WHERE 1=1";const l=[];a&&(r+=" AND domain_id = ?",l.push(a)),t&&(r+=" AND status = ?",l.push(t)),r+=" ORDER BY created_at DESC";const c=i.exec(r,l);return c.length?c[0].values.map(m=>({id:m[0],domain_id:m[1],title:m[2],description:m[3],status:m[4],created_at:m[5],completed_at:m[6]})):[]}async function OS(a,t,i=""){const r=$e();r.run("INSERT INTO goals (domain_id, title, description) VALUES (?, ?, ?)",[a,t,i]);const l=r.exec("SELECT last_insert_rowid()");return await It(),l[0].values[0][0]}async function jS(a,t){const i=$e(),r=new Date().toISOString();i.run("UPDATE goals SET status = ?, completed_at = ? WHERE id = ?",[t,r,a]),await It()}function Bm(a,t){const i=$e();let r="SELECT id, goal_id, title, description, priority, status, created_at, completed_at FROM quests WHERE 1=1";const l=[];a&&(r+=" AND goal_id = ?",l.push(a)),r+=" ORDER BY created_at DESC";const c=i.exec(r,l);return c.length?c[0].values.map(m=>({id:m[0],goal_id:m[1],title:m[2],description:m[3],priority:m[4],status:m[5],created_at:m[6],completed_at:m[7]})):[]}async function MS(a,t,i="",r="normal"){const l=$e();l.run("INSERT INTO quests (goal_id, title, description, priority) VALUES (?, ?, ?, ?)",[a,t,i,r]);const c=l.exec("SELECT last_insert_rowid()");return await It(),c[0].values[0][0]}async function kS(a,t){const i=$e(),r=new Date().toISOString();i.run("UPDATE quests SET status = ?, completed_at = ? WHERE id = ?",[t,r,a]),await It()}function qm(a){const i=$e().exec("SELECT id, quest_id, title, priority, status, sort_order, completed_at FROM steps WHERE quest_id = ? ORDER BY sort_order, id",[a]);return i.length?i[0].values.map(r=>({id:r[0],quest_id:r[1],title:r[2],priority:r[3],status:r[4],sort_order:r[5],completed_at:r[6]})):[]}async function LS(a,t,i="normal"){const r=$e(),c=r.exec("SELECT COALESCE(MAX(sort_order), 0) FROM steps WHERE quest_id = ?",[a])[0].values[0][0]+1;r.run("INSERT INTO steps (quest_id, title, priority, sort_order) VALUES (?, ?, ?, ?)",[a,t,i,c]);const m=r.exec("SELECT last_insert_rowid()");return await It(),m[0].values[0][0]}async function VS(a){$e().run("UPDATE steps SET status = 'completed', completed_at = datetime('now') WHERE id = ?",[a]),await It()}async function US(a){$e().run("UPDATE steps SET status = 'pending', completed_at = NULL WHERE id = ?",[a]),await It()}async function BS(a){$e().run("DELETE FROM steps WHERE id = ?",[a]),await It()}async function qS(a){const t=$e();t.run("DELETE FROM steps WHERE quest_id = ?",[a]),t.run("DELETE FROM quests WHERE id = ?",[a]),await It()}async function PS(a){const t=$e(),i=Bm(a);for(const r of i)t.run("DELETE FROM steps WHERE quest_id = ?",[r.id]);t.run("DELETE FROM quests WHERE goal_id = ?",[a]),t.run("DELETE FROM goals WHERE id = ?",[a]),await It()}function zS(a){const i=$e().exec(`SELECT q.id, q.goal_id, q.title, q.description, q.priority, q.status, q.created_at, q.completed_at,
            d.name as domain_name, d.icon as domain_icon, d.color as domain_color, g.title as goal_title
     FROM quests q
     JOIN goals g ON q.goal_id = g.id
     JOIN domains d ON g.domain_id = d.id
     WHERE q.id = ?`,[a]);if(!i.length)return null;const r=i[0].values[0];return{id:r[0],goal_id:r[1],title:r[2],description:r[3],priority:r[4],status:r[5],created_at:r[6],completed_at:r[7],domain_name:r[8],domain_icon:r[9],domain_color:r[10],goal_title:r[11],steps:qm(a)}}function HS(a,t){const i=IS(a,t),r=P0(),l=new Map(r.map(c=>[c.id,c]));return i.map(c=>{const m=l.get(c.domain_id),v=Bm(c.id).map(E=>({...E,steps:qm(E.id),domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color,goal_title:c.title}));return{...c,quests:v,domain_name:m?.name,domain_icon:m?.icon,domain_color:m?.color}})}function FS({grantXP:a}){const[t,i]=re.useState([]),[r]=re.useState(()=>P0()),[l,c]=re.useState(void 0),[m,v]=re.useState("active"),E=re.useCallback(()=>{i(HS(l,m))},[l,m]);re.useEffect(()=>{E()},[E]);const g=re.useCallback(async(ee,de,ge)=>{await OS(ee,de,ge),E()},[E]),R=re.useCallback(async(ee,de,ge,_e)=>{await MS(ee,de,ge,_e),E()},[E]),D=re.useCallback(async(ee,de,ge)=>{await LS(ee,de,ge),E()},[E]),M=re.useCallback(async(ee,de,ge)=>{await VS(ee);const _e=ES[ge]||10;await a(_e,"Completed step","step",ee);const xe=qm(de);if(xe.every(O=>O.status==="completed")&&xe.length>0){await kS(de,"completed"),await a(bS,"Completed quest","quest",de);const O=zS(de);O&&Bm(O.goal_id).every(U=>U.status==="completed")&&(await jS(O.goal_id,"completed"),await a(TS,"Completed goal","goal",O.goal_id))}E()},[E,a]),$=re.useCallback(async ee=>{await US(ee),E()},[E]),J=re.useCallback(async ee=>{await BS(ee),E()},[E]),ne=re.useCallback(async ee=>{await qS(ee),E()},[E]),X=re.useCallback(async ee=>{await PS(ee),E()},[E]);return{goals:t,domains:r,filterDomain:l,filterStatus:m,setFilterDomain:c,setFilterStatus:v,refresh:E,createGoal:g,createQuest:R,createStep:D,completeStep:M,uncompleteStep:$,deleteStep:J,deleteQuest:ne,deleteGoal:X}}function GS(a){const t=$e();let i="SELECT id, name, description, type, icon, duration_hours, stat_effects, created_at FROM buff_definitions";const r=[];i+=" ORDER BY name";const l=t.exec(i,r);return l.length?l[0].values.map(c=>({id:c[0],name:c[1],description:c[2],type:c[3],icon:c[4],duration_hours:c[5],stat_effects:c[6],created_at:c[7]})):[]}async function YS(a,t,i,r,l,c){const m=$e();m.run("INSERT INTO buff_definitions (name, description, type, icon, duration_hours, stat_effects) VALUES (?, ?, ?, ?, ?, ?)",[a,t,i,r,l,c]);const v=m.exec("SELECT last_insert_rowid()");return await It(),v[0].values[0][0]}async function QS(a){const t=$e();t.run("DELETE FROM buff_log WHERE definition_id = ?",[a]),t.run("DELETE FROM buff_definitions WHERE id = ?",[a]),await It()}async function XS(a){const t=$e(),i=t.exec("SELECT duration_hours FROM buff_definitions WHERE id = ?",[a]);if(!i.length)throw new Error("Buff definition not found");const r=i[0].values[0][0],l=t.exec(`SELECT id, expires_at FROM buff_log
     WHERE definition_id = ? AND is_active = 1 AND expires_at > datetime('now')
     ORDER BY expires_at DESC LIMIT 1`,[a]);if(l.length&&l[0].values.length){const g=l[0].values[0][0];t.run(`UPDATE buff_log SET expires_at = datetime(expires_at, '+' || ? || ' hours')
       WHERE id = ?`,[r,g]);const D=t.exec("SELECT expires_at FROM buff_log WHERE id = ?",[g])[0].values[0][0];return await It(),{logId:g,isStacked:!0,newExpiresAt:D}}t.run(`INSERT INTO buff_log (definition_id, expires_at)
     VALUES (?, datetime('now', '+' || ? || ' hours'))`,[a,r]);const m=t.exec("SELECT last_insert_rowid()")[0].values[0][0],E=t.exec("SELECT expires_at FROM buff_log WHERE id = ?",[m])[0].values[0][0];return await It(),{logId:m,isStacked:!1,newExpiresAt:E}}async function KS(a){$e().run("UPDATE buff_log SET is_active = 0 WHERE id = ?",[a]),await It()}function $S(a){const i=$e().exec(`SELECT DISTINCT date(activated_at) as d FROM buff_log
     WHERE definition_id = ? AND activated_at >= date('now', '-30 days')
     ORDER BY d DESC`,[a]);if(!i.length)return 0;let r=0;const l=new Date().toISOString().split("T")[0],c=i[0].values.map(E=>E[0]),m=new Date(Date.now()-864e5).toISOString().split("T")[0];if(!c.includes(l)&&!c.includes(m))return 0;let v=c.includes(l)?l:m;for(const E of c)if(E===v){r++;const g=new Date(v+"T00:00:00");g.setDate(g.getDate()-1),v=g.toISOString().split("T")[0]}return r}function yf(a){try{return JSON.parse(a)}catch{return{}}}async function WS(){$e().run("UPDATE buff_log SET is_active = 0 WHERE is_active = 1 AND expires_at <= datetime('now')"),await It()}function ZS(){const t=$e().exec(`
    SELECT bl.id, bl.definition_id, bl.activated_at, bl.expires_at, bl.is_active,
           bd.name, bd.description, bd.type, bd.icon, bd.stat_effects
    FROM buff_log bl
    JOIN buff_definitions bd ON bl.definition_id = bd.id
    WHERE bl.is_active = 1 AND bl.expires_at > datetime('now')
    ORDER BY bl.activated_at DESC
  `);return t.length?t[0].values.map(i=>({id:i[0],definition_id:i[1],activated_at:i[2],expires_at:i[3],is_active:!!i[4],name:i[5],description:i[6],type:i[7],icon:i[8],stat_effects:i[9]})):[]}function JS(a){const t={stamina:10,willpower:10,health:10,focus:10,charisma:10};for(const i of a){const r=yf(i.stat_effects);for(const[l,c]of Object.entries(r))l in t&&(t[l]+=c)}return t}function ew({grantXP:a,scheduleBuffExpiry:t,cancelBuffExpiry:i}){const[r,l]=re.useState([]),[c,m]=re.useState([]),[v,E]=re.useState({stamina:10,willpower:10,health:10,focus:10,charisma:10}),g=re.useCallback(async()=>{await WS(),l(GS());const J=ZS();m(J),E(JS(J))},[]);re.useEffect(()=>{const J=setInterval(g,6e4);return()=>clearInterval(J)},[g]);const R=re.useCallback(async(J,ne,X,ee,de,ge)=>{await YS(J,ne,X,ee,de,ge),g()},[g]),D=re.useCallback(async J=>{await QS(J),g()},[g]),M=re.useCallback(async J=>{const ne=await XS(J),X=r.find(ee=>ee.id===J);if(X&&X.type==="buff"&&!ne.isStacked){await a(SS,`Activated buff: ${X.name}`,"buff",ne.logId);const ee=$S(J);ee>0&&ee%7===0&&await a(wS,`7-day streak: ${X.name}`,"streak",J)}X&&t&&(ne.isStacked&&i&&await i(ne.logId),await t(ne.logId,X.name,X.type,ne.newExpiresAt)),g()},[g,r,a,t,i]),$=re.useCallback(async J=>{i&&await i(J),await KS(J),g()},[g,i]);return{definitions:r,activeBuffs:c,stats:v,refresh:g,createDefinition:R,deleteDefinition:D,activateBuff:M,deactivateBuff:$}}function Hd(a,t,i){const r=$e();let l=`SELECT id, title, description, date, start_time, end_time, quest_id, step_id, is_completed, created_at, reminder_minutes
             FROM planner_events WHERE 1=1`;const c=[];a&&(l+=" AND date = ?",c.push(a)),t&&(l+=" AND date >= ?",c.push(t)),i&&(l+=" AND date <= ?",c.push(i)),l+=" ORDER BY date, start_time, id";const m=r.exec(l,c);return m.length?m[0].values.map(v=>({id:v[0],title:v[1],description:v[2],date:v[3],start_time:v[4],end_time:v[5],quest_id:v[6],step_id:v[7],is_completed:!!v[8],created_at:v[9],reminder_minutes:v[10]})):[]}async function tw(a,t,i="",r=null,l=null,c=null,m=null,v=null){const E=$e();E.run(`INSERT INTO planner_events (title, description, date, start_time, end_time, quest_id, step_id, reminder_minutes)
     VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,[a,i,t,r,l,c,m,v]);const g=E.exec("SELECT last_insert_rowid()");return await It(),g[0].values[0][0]}async function nw(a){$e().run("UPDATE planner_events SET is_completed = 1 WHERE id = ?",[a]),await It()}async function iw(a){$e().run("UPDATE planner_events SET is_completed = 0 WHERE id = ?",[a]),await It()}async function aw(a){$e().run("DELETE FROM planner_events WHERE id = ?",[a]),await It()}function Wc(){return new Date().toISOString().split("T")[0]}function Fd(a){return new Date(a+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function fv(a){const[t,i]=a.split(":").map(Number),r=t>=12?"PM":"AM";return`${t%12||12}:${i.toString().padStart(2,"0")} ${r}`}function Pm(a){const t=new Date(a+"T00:00:00"),i=t.getDay(),r=new Date(t);r.setDate(t.getDate()-(i+6)%7);const l=[];for(let c=0;c<7;c++){const m=new Date(r);m.setDate(r.getDate()+c),l.push(m.toISOString().split("T")[0])}return l}function sw(a,t){const i=new Date(a,t,1),r=new Date(a,t+1,0),l=(i.getDay()+6)%7,c=[];let m=new Array(l).fill(null);for(let v=1;v<=r.getDate();v++){const E=new Date(a,t,v);m.push(E.toISOString().split("T")[0]),m.length===7&&(c.push(m),m=[])}if(m.length>0){for(;m.length<7;)m.push(null);c.push(m)}return c}function hv(a,t){const i=new Date(a+"T00:00:00");return i.setDate(i.getDate()+t),i.toISOString().split("T")[0]}function rw(a){return new Date(2e3,a).toLocaleDateString("en-US",{month:"long"})}function ow({grantXP:a,scheduleEventReminder:t,cancelEventReminder:i}){const[r,l]=re.useState("day"),[c,m]=re.useState(Wc()),[v,E]=re.useState([]),g=re.useCallback(()=>{if(r==="day")E(Hd(c));else if(r==="week"){const X=Pm(c);E(Hd(void 0,X[0],X[6]))}else{const X=new Date(c+"T00:00:00"),ee=new Date(X.getFullYear(),X.getMonth(),1).toISOString().split("T")[0],de=new Date(X.getFullYear(),X.getMonth()+1,0).toISOString().split("T")[0];E(Hd(void 0,ee,de))}},[r,c]);re.useEffect(()=>{g()},[g]);const R=re.useCallback(async(X,ee,de,ge,_e,xe,Me,O)=>{const I=await tw(X,ee,de,ge,_e,xe,Me,O);O!=null&&ge&&t&&await t(I,X,ee,ge,O),g()},[g,t]),D=re.useCallback(async X=>{await nw(X);const ee=v.find(de=>de.id===X);ee&&(ee.quest_id||ee.step_id)&&await a(10,`Completed linked event: ${ee.title}`,"event",X),i&&await i(X),g()},[g,v,a,i]),M=re.useCallback(async X=>{await iw(X),g()},[g]),$=re.useCallback(async X=>{i&&await i(X),await aw(X),g()},[g,i]),J=re.useCallback(X=>{if(r==="day")m(hv(c,X));else if(r==="week")m(hv(c,X*7));else{const ee=new Date(c+"T00:00:00");ee.setMonth(ee.getMonth()+X),m(ee.toISOString().split("T")[0])}},[r,c]),ne=re.useCallback(()=>m(Wc()),[]);return{view:r,setView:l,currentDate:c,setCurrentDate:m,events:v,refresh:g,createEvent:R,completeEvent:D,uncompleteEvent:M,deleteEvent:$,navigateDay:J,goToToday:ne}}const lw=1440*60*1e3,z0="Goal Game Backup",Ru="github_gist_token",fs="github_gist_id",_f="github_last_backup";function uw(){return!!localStorage.getItem(Ru)}function H0(){return!!localStorage.getItem(Ru)}function vf(){return localStorage.getItem(Ru)}function cw(a){localStorage.setItem(Ru,a)}function fw(){localStorage.removeItem(Ru),localStorage.removeItem(fs),localStorage.removeItem(_f)}function hw(){const a=localStorage.getItem(_f);return a?Date.now()-Number(a)>lw:!0}function F0(){const a=localStorage.getItem(_f);return a?new Date(Number(a)):null}function dw(a){let t="";for(let i=0;i<a.length;i++)t+=String.fromCharCode(a[i]);return btoa(t)}function mw(a){const t=atob(a),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}async function G0(a){try{const t=await fetch("https://api.github.com/gists?per_page=100",{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}});if(!t.ok)return null;const i=await t.json();for(const r of i)if(r.description===z0)return r.id;return null}catch{return null}}async function pw(a){const t=localStorage.getItem(fs);if(t){if((await fetch(`https://api.github.com/gists/${t}`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}})).ok)return t;localStorage.removeItem(fs)}const i=await G0(a);if(i)return localStorage.setItem(fs,i),i;const r=await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({description:z0,public:!1,files:{"README.md":{content:`# Goal Game Backups

This gist contains automatic backups of your Goal Game data.

Backups are stored as base64-encoded database files.`}}})});if(!r.ok)throw new Error("Failed to create backup gist");const l=await r.json();return localStorage.setItem(fs,l.id),l.id}async function Y0(a){const t=vf();if(!t)return{success:!1,error:"Not authenticated"};try{const i=await pw(t),l=`backup-${new Date().toISOString().replace(/[:.]/g,"-")}.db.b64`,c=dw(a),m=await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:{[l]:{content:c}}})});return m.ok?(localStorage.setItem(_f,String(Date.now())),{success:!0,fileName:l}):{success:!1,error:(await m.json()).message||"Upload failed"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async function Q0(){const a=vf();if(!a)return[];let t=localStorage.getItem(fs);if(!t)if(t=await G0(a),t)localStorage.setItem(fs,t);else return[];try{const i=await fetch(`https://api.github.com/gists/${t}`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}});if(!i.ok)return[];const r=await i.json(),l=[];for(const[c,m]of Object.entries(r.files))c.endsWith(".db.b64")&&l.push({fileName:c,size:m.size});return l.sort((c,m)=>m.fileName.localeCompare(c.fileName))}catch{return[]}}async function gw(a){const t=vf();if(!t)return null;const i=localStorage.getItem(fs);if(!i)return null;try{const r=await fetch(`https://api.github.com/gists/${i}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json"}});if(!r.ok)return null;const c=(await r.json()).files[a];if(!c)return null;let m;return c.truncated?m=await(await fetch(c.raw_url,{headers:{Authorization:`Bearer ${t}`}})).text():m=c.content,mw(m)}catch{return null}}async function yw(a){try{return(await fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${a}`,Accept:"application/vnd.github+json"}})).ok}catch{return!1}}async function X0(a=7){const t=vf();if(!t)return;const i=localStorage.getItem(fs);if(i)try{const r=await Q0();if(r.length<=a)return;const l=r.slice(a),c={};for(const m of l)c[m.fileName]=null;await fetch(`https://api.github.com/gists/${i}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json","Content-Type":"application/json"},body:JSON.stringify({files:c})})}catch{}}function _w(){const[a,t]=re.useState("idle"),[i,r]=re.useState(null),[l,c]=re.useState(""),m=re.useRef(!1);return re.useEffect(()=>{if(m.current)return;m.current=!0;const E=setTimeout(async()=>{if(uw()&&H0()){if(!hw()){r(F0());return}t("backing-up"),c("Auto-backing up to GitHub...");try{const g=await Vm(),R=await Y0(g);R.success?(t("success"),c("Auto-backup complete!"),r(new Date),await X0(7),setTimeout(()=>{t("idle"),c("")},5e3)):(t("error"),c(`Auto-backup failed: ${R.error}`))}catch(g){t("error"),c(`Auto-backup failed: ${g instanceof Error?g.message:"Unknown error"}`)}}},3e3);return()=>clearTimeout(E)},[]),{status:a,lastBackup:i,message:l}}const vw=()=>{};var dv={};const K0=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Ew=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],m=a[i++],v=a[i++],E=((l&7)<<18|(c&63)<<12|(m&63)<<6|v&63)-65536;t[r++]=String.fromCharCode(55296+(E>>10)),t[r++]=String.fromCharCode(56320+(E&1023))}else{const c=a[i++],m=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|m&63)}}return t.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],m=l+1<a.length,v=m?a[l+1]:0,E=l+2<a.length,g=E?a[l+2]:0,R=c>>2,D=(c&3)<<4|v>>4;let M=(v&15)<<2|g>>6,$=g&63;E||($=64,m||(M=64)),r.push(i[R],i[D],i[M],i[$])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(K0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):Ew(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],v=l<a.length?i[a.charAt(l)]:0;++l;const g=l<a.length?i[a.charAt(l)]:64;++l;const D=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||v==null||g==null||D==null)throw new bw;const M=c<<2|v>>4;if(r.push(M),g!==64){const $=v<<4&240|g>>2;if(r.push($),D!==64){const J=g<<6&192|D;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tw=function(a){const t=K0(a);return $0.encodeByteArray(t,!0)},Zc=function(a){return Tw(a).replace(/\./g,"")},Sw=function(a){try{return $0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Aw=()=>ww().__FIREBASE_DEFAULTS__,Rw=()=>{if(typeof process>"u"||typeof dv>"u")return;const a=dv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Nw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Sw(a[1]);return t&&JSON.parse(t)},zm=()=>{try{return vw()||Aw()||Rw()||Nw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Cw=a=>zm()?.emulatorHosts?.[a],xw=a=>{const t=Cw(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},W0=()=>zm()?.config;class Dw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Hm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iw(a){return(await fetch(a,{credentials:"include"})).ok}function Ow(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(m)),""].join(".")}const hu={};function jw(){const a={prod:[],emulator:[]};for(const t of Object.keys(hu))hu[t]?a.emulator.push(t):a.prod.push(t);return a}function Mw(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let mv=!1;function kw(a,t){if(typeof window>"u"||typeof document>"u"||!Hm(window.location.host)||hu[a]===t||hu[a]||mv)return;hu[a]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=jw().prod.length>0;function m(){const M=document.getElementById(r);M&&M.remove()}function v(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function E(M,$){M.setAttribute("width","24"),M.setAttribute("id",$),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function g(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{mv=!0,m()},M}function R(M,$){M.setAttribute("id",$),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function D(){const M=Mw(r),$=i("text"),J=document.getElementById($)||document.createElement("span"),ne=i("learnmore"),X=document.getElementById(ne)||document.createElement("a"),ee=i("preprendIcon"),de=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ge=M.element;v(ge),R(X,ne);const _e=g();E(de,ee),ge.append(de,J,X,_e),document.body.appendChild(ge)}c?(J.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}function Lw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vw(){const a=zm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uw(){return!Vw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z0(){try{return typeof indexedDB=="object"}catch{return!1}}function J0(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function Bw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const qw="FirebaseError";class Wr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=qw,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ef.prototype.create)}}class Ef{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],m=c?Pw(c,r):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new Wr(l,v,r)}}function Pw(a,t){return a.replace(zw,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const zw=/\{\$([^}]+)}/g;function Jc(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],m=t[l];if(pv(c)&&pv(m)){if(!Jc(c,m))return!1}else if(c!==m)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function pv(a){return a!==null&&typeof a=="object"}function ms(a){return a&&a._delegate?a._delegate:a}class ps{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class Hw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Dw;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Gw(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(c);r===v&&m.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fw(a){return a===Fr?void 0:a}function Gw(a){return a.instantiationMode==="EAGER"}class Yw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Hw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(dt||(dt={}));const Qw={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},Xw=dt.INFO,Kw={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},$w=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=Kw[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eE{constructor(t){this.name=t,this._logLevel=Xw,this._logHandler=$w,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Qw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const Ww=(a,t)=>t.some(i=>a instanceof i);let gv,yv;function Zw(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jw(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,fm=new WeakMap,nE=new WeakMap,Gd=new WeakMap,Fm=new WeakMap;function e2(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",m)},c=()=>{i(hs(a.result)),l()},m=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",m)});return t.then(i=>{i instanceof IDBCursor&&tE.set(i,a)}).catch(()=>{}),Fm.set(t,a),t}function t2(a){if(fm.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",m),a.removeEventListener("abort",m)},c=()=>{i(),l()},m=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",m),a.addEventListener("abort",m)});fm.set(a,t)}let hm={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return fm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||nE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function n2(a){hm=a(hm)}function i2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Yd(this),t,...i);return nE.set(r,t.sort?t.sort():[t]),hs(r)}:Jw().includes(a)?function(...t){return a.apply(Yd(this),t),hs(tE.get(this))}:function(...t){return hs(a.apply(Yd(this),t))}}function a2(a){return typeof a=="function"?i2(a):(a instanceof IDBTransaction&&t2(a),Ww(a,Zw())?new Proxy(a,hm):a)}function hs(a){if(a instanceof IDBRequest)return e2(a);if(Gd.has(a))return Gd.get(a);const t=a2(a);return t!==a&&(Gd.set(a,t),Fm.set(t,a)),t}const Yd=a=>Fm.get(a);function bf(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const m=indexedDB.open(a,t),v=hs(m);return r&&m.addEventListener("upgradeneeded",E=>{r(hs(m.result),E.oldVersion,E.newVersion,hs(m.transaction),E)}),i&&m.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),v.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),v}function Qd(a,{blocked:t}={}){const i=indexedDB.deleteDatabase(a);return t&&i.addEventListener("blocked",r=>t(r.oldVersion,r)),hs(i).then(()=>{})}const s2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],Xd=new Map;function _v(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=r2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||s2.includes(i)))return;const c=async function(m,...v){const E=this.transaction(m,l?"readwrite":"readonly");let g=E.store;return r&&(g=g.index(v.shift())),(await Promise.all([g[i](...v),l&&E.done]))[0]};return Xd.set(t,c),c}n2(a=>({...a,get:(t,i,r)=>_v(t,i)||a.get(t,i,r),has:(t,i)=>!!_v(t,i)||a.has(t,i)}));class o2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(l2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function l2(a){return a.getComponent()?.type==="VERSION"}const dm="@firebase/app",vv="0.14.7";const gs=new eE("@firebase/app"),u2="@firebase/app-compat",c2="@firebase/analytics-compat",f2="@firebase/analytics",h2="@firebase/app-check-compat",d2="@firebase/app-check",m2="@firebase/auth",p2="@firebase/auth-compat",g2="@firebase/database",y2="@firebase/data-connect",_2="@firebase/database-compat",v2="@firebase/functions",E2="@firebase/functions-compat",b2="@firebase/installations",T2="@firebase/installations-compat",S2="@firebase/messaging",w2="@firebase/messaging-compat",A2="@firebase/performance",R2="@firebase/performance-compat",N2="@firebase/remote-config",C2="@firebase/remote-config-compat",x2="@firebase/storage",D2="@firebase/storage-compat",I2="@firebase/firestore",O2="@firebase/ai",j2="@firebase/firestore-compat",M2="firebase",k2="12.8.0";const mm="[DEFAULT]",L2={[dm]:"fire-core",[u2]:"fire-core-compat",[f2]:"fire-analytics",[c2]:"fire-analytics-compat",[d2]:"fire-app-check",[h2]:"fire-app-check-compat",[m2]:"fire-auth",[p2]:"fire-auth-compat",[g2]:"fire-rtdb",[y2]:"fire-data-connect",[_2]:"fire-rtdb-compat",[v2]:"fire-fn",[E2]:"fire-fn-compat",[b2]:"fire-iid",[T2]:"fire-iid-compat",[S2]:"fire-fcm",[w2]:"fire-fcm-compat",[A2]:"fire-perf",[R2]:"fire-perf-compat",[N2]:"fire-rc",[C2]:"fire-rc-compat",[x2]:"fire-gcs",[D2]:"fire-gcs-compat",[I2]:"fire-fst",[j2]:"fire-fst-compat",[O2]:"fire-vertex","fire-js":"fire-js",[M2]:"fire-js-all"};const ef=new Map,V2=new Map,pm=new Map;function Ev(a,t){try{a.container.addComponent(t)}catch(i){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function rr(a){const t=a.name;if(pm.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;pm.set(t,a);for(const i of ef.values())Ev(i,a);for(const i of V2.values())Ev(i,a);return!0}function Tf(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function U2(a){return a==null?!1:a.settings!==void 0}const B2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Ef("app","Firebase",B2);class q2{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const P2=k2;function iE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:mm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw nr.create("bad-app-name",{appName:String(l)});if(i||(i=W0()),!i)throw nr.create("no-options");const c=ef.get(l);if(c){if(Jc(i,c.options)&&Jc(r,c.config))return c;throw nr.create("duplicate-app",{appName:l})}const m=new Yw(l);for(const E of pm.values())m.addComponent(E);const v=new q2(i,r,m);return ef.set(l,v),v}function aE(a=mm){const t=ef.get(a);if(!t&&a===mm&&W0())return iE();if(!t)throw nr.create("no-app",{appName:a});return t}function Ia(a,t,i){let r=L2[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const m=[`Unable to register library "${r}" with version "${t}":`];l&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(m.join(" "));return}rr(new ps(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const z2="firebase-heartbeat-database",H2=1,yu="firebase-heartbeat-store";let Kd=null;function sE(){return Kd||(Kd=bf(z2,H2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(yu)}catch(i){console.warn(i)}}}}).catch(a=>{throw nr.create("idb-open",{originalErrorMessage:a.message})})),Kd}async function F2(a){try{const i=(await sE()).transaction(yu),r=await i.objectStore(yu).get(rE(a));return await i.done,r}catch(t){if(t instanceof Wr)gs.warn(t.message);else{const i=nr.create("idb-get",{originalErrorMessage:t?.message});gs.warn(i.message)}}}async function bv(a,t){try{const r=(await sE()).transaction(yu,"readwrite");await r.objectStore(yu).put(t,rE(a)),await r.done}catch(i){if(i instanceof Wr)gs.warn(i.message);else{const r=nr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(r.message)}}}function rE(a){return`${a.name}!${a.options.appId}`}const G2=1024,Y2=30;class Q2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new K2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Y2){const l=$2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Tv(),{heartbeatsToSend:i,unsentEntries:r}=X2(this._heartbeatsCache.heartbeats),l=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gs.warn(t),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function X2(a,t=G2){const i=[];let r=a.slice();for(const l of a){const c=i.find(m=>m.agent===l.agent);if(c){if(c.dates.push(l.date),Sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Sv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class K2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z0()?J0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await F2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Sv(a){return Zc(JSON.stringify({version:2,heartbeats:a})).length}function $2(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function W2(a){rr(new ps("platform-logger",t=>new o2(t),"PRIVATE")),rr(new ps("heartbeat",t=>new Q2(t),"PRIVATE")),Ia(dm,vv,a),Ia(dm,vv,"esm2020"),Ia("fire-js","")}W2("");var Z2="firebase",J2="12.8.0";Ia(Z2,J2,"app");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,oE;(function(){var a;function t(O,I){function k(){}k.prototype=I.prototype,O.F=I.prototype,O.prototype=new k,O.prototype.constructor=O,O.D=function(U,j,x){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return I.prototype[j].apply(U,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,I,k){k||(k=0);const U=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)U[j]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(j=0;j<16;++j)U[j]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=O.g[0],k=O.g[1],j=O.g[2];let x=O.g[3],C;C=I+(x^k&(j^x))+U[0]+3614090360&4294967295,I=k+(C<<7&4294967295|C>>>25),C=x+(j^I&(k^j))+U[1]+3905402710&4294967295,x=I+(C<<12&4294967295|C>>>20),C=j+(k^x&(I^k))+U[2]+606105819&4294967295,j=x+(C<<17&4294967295|C>>>15),C=k+(I^j&(x^I))+U[3]+3250441966&4294967295,k=j+(C<<22&4294967295|C>>>10),C=I+(x^k&(j^x))+U[4]+4118548399&4294967295,I=k+(C<<7&4294967295|C>>>25),C=x+(j^I&(k^j))+U[5]+1200080426&4294967295,x=I+(C<<12&4294967295|C>>>20),C=j+(k^x&(I^k))+U[6]+2821735955&4294967295,j=x+(C<<17&4294967295|C>>>15),C=k+(I^j&(x^I))+U[7]+4249261313&4294967295,k=j+(C<<22&4294967295|C>>>10),C=I+(x^k&(j^x))+U[8]+1770035416&4294967295,I=k+(C<<7&4294967295|C>>>25),C=x+(j^I&(k^j))+U[9]+2336552879&4294967295,x=I+(C<<12&4294967295|C>>>20),C=j+(k^x&(I^k))+U[10]+4294925233&4294967295,j=x+(C<<17&4294967295|C>>>15),C=k+(I^j&(x^I))+U[11]+2304563134&4294967295,k=j+(C<<22&4294967295|C>>>10),C=I+(x^k&(j^x))+U[12]+1804603682&4294967295,I=k+(C<<7&4294967295|C>>>25),C=x+(j^I&(k^j))+U[13]+4254626195&4294967295,x=I+(C<<12&4294967295|C>>>20),C=j+(k^x&(I^k))+U[14]+2792965006&4294967295,j=x+(C<<17&4294967295|C>>>15),C=k+(I^j&(x^I))+U[15]+1236535329&4294967295,k=j+(C<<22&4294967295|C>>>10),C=I+(j^x&(k^j))+U[1]+4129170786&4294967295,I=k+(C<<5&4294967295|C>>>27),C=x+(k^j&(I^k))+U[6]+3225465664&4294967295,x=I+(C<<9&4294967295|C>>>23),C=j+(I^k&(x^I))+U[11]+643717713&4294967295,j=x+(C<<14&4294967295|C>>>18),C=k+(x^I&(j^x))+U[0]+3921069994&4294967295,k=j+(C<<20&4294967295|C>>>12),C=I+(j^x&(k^j))+U[5]+3593408605&4294967295,I=k+(C<<5&4294967295|C>>>27),C=x+(k^j&(I^k))+U[10]+38016083&4294967295,x=I+(C<<9&4294967295|C>>>23),C=j+(I^k&(x^I))+U[15]+3634488961&4294967295,j=x+(C<<14&4294967295|C>>>18),C=k+(x^I&(j^x))+U[4]+3889429448&4294967295,k=j+(C<<20&4294967295|C>>>12),C=I+(j^x&(k^j))+U[9]+568446438&4294967295,I=k+(C<<5&4294967295|C>>>27),C=x+(k^j&(I^k))+U[14]+3275163606&4294967295,x=I+(C<<9&4294967295|C>>>23),C=j+(I^k&(x^I))+U[3]+4107603335&4294967295,j=x+(C<<14&4294967295|C>>>18),C=k+(x^I&(j^x))+U[8]+1163531501&4294967295,k=j+(C<<20&4294967295|C>>>12),C=I+(j^x&(k^j))+U[13]+2850285829&4294967295,I=k+(C<<5&4294967295|C>>>27),C=x+(k^j&(I^k))+U[2]+4243563512&4294967295,x=I+(C<<9&4294967295|C>>>23),C=j+(I^k&(x^I))+U[7]+1735328473&4294967295,j=x+(C<<14&4294967295|C>>>18),C=k+(x^I&(j^x))+U[12]+2368359562&4294967295,k=j+(C<<20&4294967295|C>>>12),C=I+(k^j^x)+U[5]+4294588738&4294967295,I=k+(C<<4&4294967295|C>>>28),C=x+(I^k^j)+U[8]+2272392833&4294967295,x=I+(C<<11&4294967295|C>>>21),C=j+(x^I^k)+U[11]+1839030562&4294967295,j=x+(C<<16&4294967295|C>>>16),C=k+(j^x^I)+U[14]+4259657740&4294967295,k=j+(C<<23&4294967295|C>>>9),C=I+(k^j^x)+U[1]+2763975236&4294967295,I=k+(C<<4&4294967295|C>>>28),C=x+(I^k^j)+U[4]+1272893353&4294967295,x=I+(C<<11&4294967295|C>>>21),C=j+(x^I^k)+U[7]+4139469664&4294967295,j=x+(C<<16&4294967295|C>>>16),C=k+(j^x^I)+U[10]+3200236656&4294967295,k=j+(C<<23&4294967295|C>>>9),C=I+(k^j^x)+U[13]+681279174&4294967295,I=k+(C<<4&4294967295|C>>>28),C=x+(I^k^j)+U[0]+3936430074&4294967295,x=I+(C<<11&4294967295|C>>>21),C=j+(x^I^k)+U[3]+3572445317&4294967295,j=x+(C<<16&4294967295|C>>>16),C=k+(j^x^I)+U[6]+76029189&4294967295,k=j+(C<<23&4294967295|C>>>9),C=I+(k^j^x)+U[9]+3654602809&4294967295,I=k+(C<<4&4294967295|C>>>28),C=x+(I^k^j)+U[12]+3873151461&4294967295,x=I+(C<<11&4294967295|C>>>21),C=j+(x^I^k)+U[15]+530742520&4294967295,j=x+(C<<16&4294967295|C>>>16),C=k+(j^x^I)+U[2]+3299628645&4294967295,k=j+(C<<23&4294967295|C>>>9),C=I+(j^(k|~x))+U[0]+4096336452&4294967295,I=k+(C<<6&4294967295|C>>>26),C=x+(k^(I|~j))+U[7]+1126891415&4294967295,x=I+(C<<10&4294967295|C>>>22),C=j+(I^(x|~k))+U[14]+2878612391&4294967295,j=x+(C<<15&4294967295|C>>>17),C=k+(x^(j|~I))+U[5]+4237533241&4294967295,k=j+(C<<21&4294967295|C>>>11),C=I+(j^(k|~x))+U[12]+1700485571&4294967295,I=k+(C<<6&4294967295|C>>>26),C=x+(k^(I|~j))+U[3]+2399980690&4294967295,x=I+(C<<10&4294967295|C>>>22),C=j+(I^(x|~k))+U[10]+4293915773&4294967295,j=x+(C<<15&4294967295|C>>>17),C=k+(x^(j|~I))+U[1]+2240044497&4294967295,k=j+(C<<21&4294967295|C>>>11),C=I+(j^(k|~x))+U[8]+1873313359&4294967295,I=k+(C<<6&4294967295|C>>>26),C=x+(k^(I|~j))+U[15]+4264355552&4294967295,x=I+(C<<10&4294967295|C>>>22),C=j+(I^(x|~k))+U[6]+2734768916&4294967295,j=x+(C<<15&4294967295|C>>>17),C=k+(x^(j|~I))+U[13]+1309151649&4294967295,k=j+(C<<21&4294967295|C>>>11),C=I+(j^(k|~x))+U[4]+4149444226&4294967295,I=k+(C<<6&4294967295|C>>>26),C=x+(k^(I|~j))+U[11]+3174756917&4294967295,x=I+(C<<10&4294967295|C>>>22),C=j+(I^(x|~k))+U[2]+718787259&4294967295,j=x+(C<<15&4294967295|C>>>17),C=k+(x^(j|~I))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+x&4294967295}r.prototype.v=function(O,I){I===void 0&&(I=O.length);const k=I-this.blockSize,U=this.C;let j=this.h,x=0;for(;x<I;){if(j==0)for(;x<=k;)l(this,O,x),x+=this.blockSize;if(typeof O=="string"){for(;x<I;)if(U[j++]=O.charCodeAt(x++),j==this.blockSize){l(this,U),j=0;break}}else for(;x<I;)if(U[j++]=O[x++],j==this.blockSize){l(this,U),j=0;break}}this.h=j,this.o+=I},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;I=this.o*8;for(var k=O.length-8;k<O.length;++k)O[k]=I&255,I/=256;for(this.v(O),O=Array(16),I=0,k=0;k<4;++k)for(let U=0;U<32;U+=8)O[I++]=this.g[k]>>>U&255;return O};function c(O,I){var k=v;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=I(O)}function m(O,I){this.h=I;const k=[];let U=!0;for(let j=O.length-1;j>=0;j--){const x=O[j]|0;U&&x==I||(k[j]=x,U=!1)}this.g=k}var v={};function E(O){return-128<=O&&O<128?c(O,function(I){return new m([I|0],I<0?-1:0)}):new m([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return D;if(O<0)return X(g(-O));const I=[];let k=1;for(let U=0;O>=k;U++)I[U]=O/k|0,k*=4294967296;return new m(I,0)}function R(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return X(R(O.substring(1),I));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=g(Math.pow(I,8));let U=D;for(let x=0;x<O.length;x+=8){var j=Math.min(8,O.length-x);const C=parseInt(O.substring(x,x+j),I);j<8?(j=g(Math.pow(I,j)),U=U.j(j).add(g(C))):(U=U.j(k),U=U.add(g(C)))}return U}var D=E(0),M=E(1),$=E(16777216);a=m.prototype,a.m=function(){if(ne(this))return-X(this).m();let O=0,I=1;for(let k=0;k<this.g.length;k++){const U=this.i(k);O+=(U>=0?U:4294967296+U)*I,I*=4294967296}return O},a.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(J(this))return"0";if(ne(this))return"-"+X(this).toString(O);const I=g(Math.pow(O,6));var k=this;let U="";for(;;){const j=_e(k,I).g;k=ee(k,j.j(I));let x=((k.g.length>0?k.g[0]:k.h)>>>0).toString(O);if(k=j,J(k))return x+U;for(;x.length<6;)x="0"+x;U=x+U}},a.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function J(O){if(O.h!=0)return!1;for(let I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function ne(O){return O.h==-1}a.l=function(O){return O=ee(this,O),ne(O)?-1:J(O)?0:1};function X(O){const I=O.g.length,k=[];for(let U=0;U<I;U++)k[U]=~O.g[U];return new m(k,~O.h).add(M)}a.abs=function(){return ne(this)?X(this):this},a.add=function(O){const I=Math.max(this.g.length,O.g.length),k=[];let U=0;for(let j=0;j<=I;j++){let x=U+(this.i(j)&65535)+(O.i(j)&65535),C=(x>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);U=C>>>16,x&=65535,C&=65535,k[j]=C<<16|x}return new m(k,k[k.length-1]&-2147483648?-1:0)};function ee(O,I){return O.add(X(I))}a.j=function(O){if(J(this)||J(O))return D;if(ne(this))return ne(O)?X(this).j(X(O)):X(X(this).j(O));if(ne(O))return X(this.j(X(O)));if(this.l($)<0&&O.l($)<0)return g(this.m()*O.m());const I=this.g.length+O.g.length,k=[];for(var U=0;U<2*I;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(let j=0;j<O.g.length;j++){const x=this.i(U)>>>16,C=this.i(U)&65535,ye=O.i(j)>>>16,lt=O.i(j)&65535;k[2*U+2*j]+=C*lt,de(k,2*U+2*j),k[2*U+2*j+1]+=x*lt,de(k,2*U+2*j+1),k[2*U+2*j+1]+=C*ye,de(k,2*U+2*j+1),k[2*U+2*j+2]+=x*ye,de(k,2*U+2*j+2)}for(O=0;O<I;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=I;O<2*I;O++)k[O]=0;return new m(k,0)};function de(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function ge(O,I){this.g=O,this.h=I}function _e(O,I){if(J(I))throw Error("division by zero");if(J(O))return new ge(D,D);if(ne(O))return I=_e(X(O),I),new ge(X(I.g),X(I.h));if(ne(I))return I=_e(O,X(I)),new ge(X(I.g),I.h);if(O.g.length>30){if(ne(O)||ne(I))throw Error("slowDivide_ only works with positive integers.");for(var k=M,U=I;U.l(O)<=0;)k=xe(k),U=xe(U);var j=Me(k,1),x=Me(U,1);for(U=Me(U,2),k=Me(k,2);!J(U);){var C=x.add(U);C.l(O)<=0&&(j=j.add(k),x=C),U=Me(U,1),k=Me(k,1)}return I=ee(O,j.j(I)),new ge(j,I)}for(j=D;O.l(I)>=0;){for(k=Math.max(1,Math.floor(O.m()/I.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),x=g(k),C=x.j(I);ne(C)||C.l(O)>0;)k-=U,x=g(k),C=x.j(I);J(x)&&(x=M),j=j.add(x),O=ee(O,C)}return new ge(j,O)}a.B=function(O){return _e(this,O).h},a.and=function(O){const I=Math.max(this.g.length,O.g.length),k=[];for(let U=0;U<I;U++)k[U]=this.i(U)&O.i(U);return new m(k,this.h&O.h)},a.or=function(O){const I=Math.max(this.g.length,O.g.length),k=[];for(let U=0;U<I;U++)k[U]=this.i(U)|O.i(U);return new m(k,this.h|O.h)},a.xor=function(O){const I=Math.max(this.g.length,O.g.length),k=[];for(let U=0;U<I;U++)k[U]=this.i(U)^O.i(U);return new m(k,this.h^O.h)};function xe(O){const I=O.g.length+1,k=[];for(let U=0;U<I;U++)k[U]=O.i(U)<<1|O.i(U-1)>>>31;return new m(k,O.h)}function Me(O,I){const k=I>>5;I%=32;const U=O.g.length-k,j=[];for(let x=0;x<U;x++)j[x]=I>0?O.i(x+k)>>>I|O.i(x+k+1)<<32-I:O.i(x+k);return new m(j,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oE=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=g,m.fromString=R,ir=m}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,uu,uE,Fc,gm,cE,fE,hE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var _=0;_<u.length;++_){var T=u[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function l(u,_){if(_)e:{var T=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var G=u[N];if(!(G in T))break e;T=T[G]}u=u[u.length-1],N=T[u],_=_(N),_!=N&&_!=null&&t(T,u,{configurable:!0,writable:!0,value:_})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(_){var T=[],N;for(N in _)Object.prototype.hasOwnProperty.call(_,N)&&T.push([N,_[N]]);return T}});var c=c||{},m=this||self;function v(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function E(u,_,T){return u.call.apply(u.bind,arguments)}function g(u,_,T){return g=E,g.apply(null,arguments)}function R(u,_){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function D(u,_){function T(){}T.prototype=_.prototype,u.Z=_.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(N,G,W){for(var me=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)me[qe-2]=arguments[qe];return _.prototype[G].apply(N,me)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function $(u){const _=u.length;if(_>0){const T=Array(_);for(let N=0;N<_;N++)T[N]=u[N];return T}return[]}function J(u,_){for(let N=1;N<arguments.length;N++){const G=arguments[N];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=u.length||0;const W=G.length||0;u.length=T+W;for(let me=0;me<W;me++)u[T+me]=G[me]}else u.push(G)}}class ne{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function X(u){m.setTimeout(()=>{throw u},0)}function ee(){var u=O;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class de{constructor(){this.h=this.g=null}add(_,T){const N=ge.get();N.set(_,T),this.h?this.h.next=N:this.g=N,this.h=N}}var ge=new ne(()=>new _e,u=>u.reset());class _e{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Me=!1,O=new de,I=()=>{const u=Promise.resolve(void 0);xe=()=>{u.then(k)}};function k(){for(var u;u=ee();){try{u.h.call(u.g)}catch(T){X(T)}var _=ge;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}Me=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};m.addEventListener("test",T,_),m.removeEventListener("test",T,_)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ye(u,_){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}D(ye,j),ye.prototype.init=function(u,_){const T=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(T=="mouseover"?_=u.fromElement:T=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),P=0;function fe(u,_,T,N,G){this.listener=u,this.proxy=null,this.src=_,this.type=T,this.capture=!!N,this.ha=G,this.key=++P,this.da=this.fa=!1}function Ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function et(u,_,T){for(const N in u)_.call(T,u[N],N,u)}function We(u,_){for(const T in u)_.call(void 0,u[T],T,u)}function B(u){const _={};for(const T in u)_[T]=u[T];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(u,_){let T,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(T in N)u[T]=N[T];for(let W=0;W<ae.length;W++)T=ae[W],Object.prototype.hasOwnProperty.call(N,T)&&(u[T]=N[T])}}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,_,T,N,G){const W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);const me=Ye(u,_,N,G);return me>-1?(_=u[me],T||(_.fa=!1)):(_=new fe(_,this.src,W,!!N,G),_.fa=T,u.push(_)),_};function Be(u,_){const T=_.type;if(T in u.g){var N=u.g[T],G=Array.prototype.indexOf.call(N,_,void 0),W;(W=G>=0)&&Array.prototype.splice.call(N,G,1),W&&(Ce(_),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Ye(u,_,T,N){for(let G=0;G<u.length;++G){const W=u[G];if(!W.da&&W.listener==_&&W.capture==!!T&&W.ha==N)return G}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),Xt={};function Ot(u,_,T,N,G){if(Array.isArray(_)){for(let W=0;W<_.length;W++)Ot(u,_[W],T,N,G);return null}return T=Ts(T),u&&u[lt]?u.J(_,T,v(N)?!!N.capture:!1,G):da(u,_,T,!1,N,G)}function da(u,_,T,N,G,W){if(!_)throw Error("Invalid event type");const me=v(G)?!!G.capture:!!G;let qe=Et(u);if(qe||(u[Ke]=qe=new Ee(u)),T=qe.add(_,T,N,me,W),T.proxy)return T;if(N=Es(),T.proxy=N,N.src=u,N.listener=T,u.addEventListener)x||(G=me),G===void 0&&(G=!1),u.addEventListener(_.toString(),N,G);else if(u.attachEvent)u.attachEvent(Un(_.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Es(){function u(T){return _.call(u.src,u.listener,T)}const _=bs;return u}function Vn(u,_,T,N,G){if(Array.isArray(_))for(var W=0;W<_.length;W++)Vn(u,_[W],T,N,G);else N=v(N)?!!N.capture:!!N,T=Ts(T),u&&u[lt]?(u=u.i,W=String(_).toString(),W in u.g&&(_=u.g[W],T=Ye(_,T,N,G),T>-1&&(Ce(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete u.g[W],u.h--)))):u&&(u=Et(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Ye(_,T,N,G)),(T=u>-1?_[u]:null)&&ma(T))}function ma(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[lt])Be(_.i,u);else{var T=u.type,N=u.proxy;_.removeEventListener?_.removeEventListener(T,N,u.capture):_.detachEvent?_.detachEvent(Un(T),N):_.addListener&&_.removeListener&&_.removeListener(N),(T=Et(_))?(Be(T,u),T.h==0&&(T.src=null,_[Ke]=null)):Ce(u)}}}function Un(u){return u in Xt?Xt[u]:Xt[u]="on"+u}function bs(u,_){if(u.da)u=!0;else{_=new ye(_,this);const T=u.listener,N=u.ha||u.src;u.fa&&ma(u),u=T.call(N,_)}return u}function Et(u){return u=u[Ke],u instanceof Ee?u:null}var Ua="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ts(u){return typeof u=="function"?u:(u[Ua]||(u[Ua]=function(_){return u.handleEvent(_)}),u[Ua])}function qt(){U.call(this),this.i=new Ee(this),this.M=this,this.G=null}D(qt,U),qt.prototype[lt]=!0,qt.prototype.removeEventListener=function(u,_,T,N){Vn(this,u,_,T,N)};function Kt(u,_){var T,N=u.G;if(N)for(T=[];N;N=N.G)T.push(N);if(u=u.M,N=_.type||_,typeof _=="string")_=new j(_,u);else if(_ instanceof j)_.target=_.target||u;else{var G=_;_=new j(N,u),pe(_,G)}G=!0;let W,me;if(T)for(me=T.length-1;me>=0;me--)W=_.g=T[me],G=_i(W,N,!0,_)&&G;if(W=_.g=u,G=_i(W,N,!0,_)&&G,G=_i(W,N,!1,_)&&G,T)for(me=0;me<T.length;me++)W=_.g=T[me],G=_i(W,N,!1,_)&&G}qt.prototype.N=function(){if(qt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const T=u.g[_];for(let N=0;N<T.length;N++)Ce(T[N]);delete u.g[_],u.h--}}this.G=null},qt.prototype.J=function(u,_,T,N){return this.i.add(String(u),_,!1,T,N)},qt.prototype.K=function(u,_,T,N){return this.i.add(String(u),_,!0,T,N)};function _i(u,_,T,N){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let W=0;W<_.length;++W){const me=_[W];if(me&&!me.da&&me.capture==T){const qe=me.listener,Pt=me.ha||me.src;me.fa&&Be(u.i,me),G=qe.call(Pt,N)!==!1&&G}}return G&&!N.defaultPrevented}function El(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:m.setTimeout(u,_||0)}function dr(u){u.g=El(()=>{u.g=null,u.i&&(u.i=!1,dr(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class wn extends U{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:dr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(u){U.call(this),this.h=u,this.g={}}D(ea,U);var ta=[];function Xn(u){et(u.g,function(_,T){this.g.hasOwnProperty(T)&&ma(_)},u),u.g={}}ea.prototype.N=function(){ea.Z.N.call(this),Xn(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=m.JSON.stringify,ao=m.JSON.parse,mr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function so(){}function ro(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function De(){j.call(this,"d")}D(De,j);function Kn(){j.call(this,"c")}D(Kn,j);var Lt={},pr=null;function Ei(){return pr=pr||new qt}Lt.Ia="serverreachability";function oo(u){j.call(this,Lt.Ia,u)}D(oo,j);function dn(u){const _=Ei();Kt(_,new oo(_))}Lt.STAT_EVENT="statevent";function pa(u,_){j.call(this,Lt.STAT_EVENT,u),this.stat=_}D(pa,j);function Ft(u){const _=Ei();Kt(_,new pa(_,u))}Lt.Ja="timingevent";function bi(u,_){j.call(this,Lt.Ja,u),this.size=_}D(bi,j);function he(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},_)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function bl(u,_,T,N,G,W){u.info(function(){if(u.g)if(W){var me="",qe=W.split("&");for(let ct=0;ct<qe.length;ct++){var Pt=qe[ct].split("=");if(Pt.length>1){const jt=Pt[0];Pt=Pt[1];const H=jt.split("_");me=H.length>=2&&H[1]=="type"?me+(jt+"="+Pt+"&"):me+(jt+"=redacted&")}}}else me=null;else me=W;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+_+`
`+T+`
`+me})}function An(u,_,T,N,G,W,me){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+_+`
`+T+`
`+W+" "+me})}function ri(u,_,T,N){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+gr(u,T)+(N?" "+N:"")})}function ia(u,_){u.info(function(){return"TIMEOUT: "+_})}Ti.prototype.info=function(){};function gr(u,_){if(!u.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(u=0;u<W.length;u++)if(Array.isArray(W[u])){var T=W[u];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let me=1;me<N.length;me++)N[me]=""}}}}return na(W)}catch{return _}}var $n={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ss={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},an;function ga(){}D(ga,so),ga.prototype.g=function(){return new XMLHttpRequest},an=new ga;function Bn(u){return encodeURIComponent(String(u))}function yr(u){var _=1;u=u.split(":");const T=[];for(;_>0&&u.length;)T.push(u.shift()),_--;return u.length&&T.push(u.join(":")),T}function oi(u,_,T,N){this.j=u,this.i=_,this.l=T,this.S=N||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var tt={},Zt={};function Mi(u,_,T){u.M=1,u.A=Li(St(_)),u.u=T,u.R=!0,ya(u,null)}function ya(u,_){u.F=Date.now(),Wn(u),u.B=St(u.A);var T=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),ui(T.i,"t",N),u.C=0,T=u.j.L,u.h=new qn,u.g=go(u.j,T?_:null,!u.u),u.P>0&&(u.O=new wn(g(u.Y,u,u.g),u.P)),_=u.V,T=u.g,N=u.ba;var G="readystatechange";Array.isArray(G)||(G&&(ta[0]=G.toString()),G=ta);for(let W=0;W<G.length;W++){const me=Ot(T,G[W],N||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=u.J?B(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),dn(),bl(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const _=this.O;_&&we(u)==3?_.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)e:{const qe=we(this.g),Pt=this.g.ya(),ct=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Ie(this.g)))){this.K||qe!=4||Pt==7||(Pt==8||ct<=0?dn(3):dn(2)),Jt(this);var _=this.g.ca();this.X=_;var T=Tl(this);if(this.o=_==200,An(this.i,this.v,this.B,this.l,this.S,qe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(N)){var W=N;break t}}W=null}if(u=W)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Ft(12),Nn(this),Rn(this);break e}}if(this.R){u=!0;let jt;for(;!this.K&&this.C<T.length;)if(jt=_r(this,T),jt==Zt){qe==4&&(this.m=4,Ft(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==tt){this.m=4,Ft(15),ri(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,jt,null),Si(this,jt);if(ws(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||T.length!=0||this.h.h||(this.m=1,Ft(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,T,"[Invalid Chunked Response]"),Nn(this),Rn(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ar(me),me.P=!0,Ft(11))}}else ri(this.i,this.l,T,null),Si(this,T);qe==4&&Nn(this),this.o&&!this.K&&(qe==4?Rr(this.j,this):(this.o=!1,Wn(this)))}else Ve(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),Nn(this),Rn(this)}}}catch{}};function Tl(u){if(!ws(u))return u.g.la();const _=Ie(u.g);if(_==="")return"";let T="";const N=_.length,G=we(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Rn(u),"";u.h.i=new m.TextDecoder}for(let W=0;W<N;W++)u.h.h=!0,T+=u.h.i.decode(_[W],{stream:!(G&&W==N-1)});return _.length=0,u.h.g+=T,u.C=0,u.h.g}function ws(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _r(u,_){var T=u.C,N=_.indexOf(`
`,T);return N==-1?Zt:(T=Number(_.substring(T,N)),isNaN(T)?tt:(N+=1,N+T>_.length?Zt:(_=_.slice(N,N+T),u.C=N+T,_)))}oi.prototype.cancel=function(){this.K=!0,Nn(this)};function Wn(u){u.T=Date.now()+u.H,As(u,u.H)}function As(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=he(g(u.aa,u),_)}function Jt(u){u.D&&(m.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ia(this.i,this.B),this.M!=2&&(dn(),Ft(17)),Nn(this),this.m=2,Rn(this)):As(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Rr(u.j,u)}function Nn(u){Jt(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,Xn(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function Si(u,_){try{var T=u.j;if(T.I!=0&&(T.g==u||wi(T.h,u))){if(!u.L&&wi(T.h,u)&&T.I==3){try{var N=T.Ba.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)Ds(T),Ta(T);else break e;Ya(T),Ft(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=he(g(T.Va,T),6e3));Zn(T.h)<=1&&T.ta&&(T.ta=void 0)}else zi(T,11)}else if((u.L||T.g==u)&&Ds(T),!C(_))for(G=T.Ba.g.parse(_),_=0;_<G.length;_++){let ct=G[_];const jt=ct[0];if(!(jt<=T.K))if(T.K=jt,ct=ct[1],T.I==2)if(ct[0]=="c"){T.M=ct[1],T.ba=ct[2];const H=ct[3];H!=null&&(T.ka=H,T.j.info("VER="+T.ka));const oe=ct[4];oe!=null&&(T.za=oe,T.j.info("SVER="+T.za));const ve=ct[5];ve!=null&&typeof ve=="number"&&ve>0&&(N=1.5*ve,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Re=u.g;if(Re){const ke=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ke){var W=N.h;W.g||ke.indexOf("spdy")==-1&&ke.indexOf("quic")==-1&&ke.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ki(W,W.h),W.h=null))}if(N.G){const nt=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;nt&&(N.wa=nt,ut(N.J,N.G,nt))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var me=u;if(N.na=po(N,N.L?N.ba:null,N.W),me.L){Ba(N.h,me);var qe=me,Pt=N.O;Pt&&(qe.H=Pt),qe.D&&(Jt(qe),Wn(qe)),N.g=me}else co(N);T.i.length>0&&Pi(T)}else ct[0]!="stop"&&ct[0]!="close"||zi(T,7);else T.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?zi(T,7):xs(T):ct[0]!="noop"&&T.l&&T.l.qa(ct),T.A=0)}}dn(4)}catch{}}var Gt=class{constructor(u,_){this.g=u,this.map=_}};function aa(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Zn(u){return u.h?1:u.g?u.g.size:0}function wi(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function ki(u,_){u.g?u.g.add(_):u.h=_}function Ba(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}aa.prototype.cancel=function(){if(this.i=Ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ns(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const T of u.g.values())_=_.concat(T.G);return _}return $(u.i)}var vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(u,_){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const N=u[T].indexOf("=");let G,W=null;N>=0?(G=u[T].substring(0,N),W=u[T].substring(N+1)):G=u[T],_(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof Jn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,Pn(this,u.u),this.h=u.h,_a(this,Cs(u.i)),this.m=u.m):u&&(_=String(u).match(vr))?(this.l=!1,ze(this,_[1]||"",!0),this.o=li(_[2]||""),this.g=li(_[3]||"",!0),Pn(this,_[4]),this.h=li(_[5]||"",!0),_a(this,_[6]||"",!0),this.m=li(_[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}Jn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Pa(_,Vi,!0),":");var T=this.g;return(T||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Pa(_,Vi,!0),"@"),u.push(Bn(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Pa(T,T.charAt(0)=="/"?br:Er,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Pa(T,Tr)),u.join("")},Jn.prototype.resolve=function(u){const _=St(this);let T=!!u.j;T?ze(_,u.j):T=!!u.o,T?_.o=u.o:T=!!u.g,T?_.g=u.g:T=u.u!=null;var N=u.h;if(T)Pn(_,u.u);else if(T=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=_.h.lastIndexOf("/");G!=-1&&(N=_.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let me=0;me<G.length;){const qe=G[me++];qe=="."?N&&me==G.length&&W.push(""):qe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),N&&me==G.length&&W.push("")):(W.push(qe),N=!0)}N=W.join("/")}else N=G}return T?_.h=N:T=u.i.toString()!=="",T?_a(_,Cs(u.i)):T=!!u.m,T&&(_.m=u.m),_};function St(u){return new Jn(u)}function ze(u,_,T){u.j=T?li(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Pn(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function _a(u,_,T){_ instanceof Bi?(u.i=_,ei(u.i,u.l)):(T||(_=Pa(_,Ui)),u.i=new Bi(_,u.l))}function ut(u,_,T){u.i.set(_,T)}function Li(u){return ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pa(u,_,T){return typeof u=="string"?(u=encodeURI(u).replace(_,zn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vi=/[#\/\?@]/g,Er=/[#\?:]/g,br=/[#\?]/g,Ui=/[#\?@]/g,Tr=/#/g;function Bi(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&qa(u.i,function(_,T){u.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}a=Bi.prototype,a.add=function(u,_){yn(this),this.i=null,u=_n(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(_),this.h+=1,this};function lo(u,_){yn(u),_=_n(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function va(u,_){return yn(u),_=_n(u,_),u.g.has(_)}a.forEach=function(u,_){yn(this),this.g.forEach(function(T,N){T.forEach(function(G){u.call(_,G,N,this)},this)},this)};function Ea(u,_){yn(u);let T=[];if(typeof _=="string")va(u,_)&&(T=T.concat(u.g.get(_n(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)T=T.concat(u[_]);return T}a.set=function(u,_){return yn(this),this.i=null,u=_n(this,u),va(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},a.get=function(u,_){return u?(u=Ea(this,u),u.length>0?String(u[0]):_):_};function ui(u,_,T){lo(u,_),T.length>0&&(u.i=null,u.g.set(_n(u,_),$(T)),u.h+=T.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let N=0;N<_.length;N++){var T=_[N];const G=Bn(T);T=Ea(this,T);for(let W=0;W<T.length;W++){let me=G;T[W]!==""&&(me+="="+Bn(T[W])),u.push(me)}}return this.i=u.join("&")};function Cs(u){const _=new Bi;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function _n(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function ei(u,_){_&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(T,N){const G=N.toLowerCase();N!=G&&(lo(this,N),ui(this,G,T))},u)),u.j=_}function Cn(u,_){const T=new Ti;if(m.Image){const N=new Image;N.onload=R(be,T,"TestLoadImage: loaded",!0,_,N),N.onerror=R(be,T,"TestLoadImage: error",!1,_,N),N.onabort=R(be,T,"TestLoadImage: abort",!1,_,N),N.ontimeout=R(be,T,"TestLoadImage: timeout",!1,_,N),m.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else _(!1)}function Sr(u,_){const T=new Ti,N=new AbortController,G=setTimeout(()=>{N.abort(),be(T,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:N.signal}).then(W=>{clearTimeout(G),W.ok?be(T,"TestPingServer: ok",!0,_):be(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),be(T,"TestPingServer: error",!1,_)})}function be(u,_,T,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(T)}catch{}}function qi(){this.g=new mr}function ti(u){this.i=u.Sb||null,this.h=u.ab||!1}D(ti,so),ti.prototype.g=function(){return new ba(this.i,this.h)};function ba(u,_){qt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}D(ba,qt),a=ba.prototype,a.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,sn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||m).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sn(this)),this.g&&(this.readyState=3,sn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?ci(this):sn(this),this.readyState==3&&za(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ci(this))},a.Na=function(u){this.g&&(this.response=u,ci(this))},a.ga=function(){this.g&&ci(this)};function ci(u){u.readyState=4,u.l=null,u.j=null,u.B=null,sn(u)}a.setRequestHeader=function(u,_){this.A.append(u,_)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=_.next();return u.join(`\r
`)};function sn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vn(u){let _="";return et(u,function(T,N){_+=N,_+=":",_+=T,_+=`\r
`}),_}function sa(u,_,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=vn(T),typeof u=="string"?T!=null&&Bn(T):ut(u,_,T))}function h(u){qt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}D(h,qt);var y=/^https?$/i,S=["POST","PUT"];a=h.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,_,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():an.g(),this.g.onreadystatechange=M(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(W){A(this,W);return}if(u=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)T.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())T.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),G=m.FormData&&u instanceof m.FormData,!(Array.prototype.indexOf.call(S,_,void 0)>=0)||N||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,me]of T)this.g.setRequestHeader(W,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(W){A(this,W)}};function A(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,V(u),te(u)}function V(u){u.A||(u.A=!0,Kt(u,"complete"),Kt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Kt(this,"complete"),Kt(this,"abort"),te(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),te(this,!0)),h.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?F(this):this.Xa())},a.Xa=function(){F(this)};function F(u){if(u.h&&typeof c<"u"){if(u.v&&we(u)==4)setTimeout(u.Ca.bind(u),0);else if(Kt(u,"readystatechange"),we(u)==4){u.h=!1;try{const W=u.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var N;if(N=W===0){let me=String(u.D).match(vr)[1]||null;!me&&m.self&&m.self.location&&(me=m.self.location.protocol.slice(0,-1)),N=!y.test(me?me.toLowerCase():"")}T=N}if(T)Kt(u,"complete"),Kt(u,"success");else{u.o=6;try{var G=we(u)>2?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.ca()+"]",V(u)}}finally{te(u)}}}}function te(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,_||Kt(u,"ready");try{T.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function we(u){return u.g?u.g.readyState:0}a.ca=function(){try{return we(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),ao(_)}};function Ie(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ve(u){const _={};u=(u.g&&we(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(C(u[N]))continue;var T=yr(u[N]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=_[G]||[];_[G]=W,W.push(T)}We(_,function(N){return N.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mt(u,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||_}function Yt(u){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mt("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mt("baseRetryDelayMs",5e3,u),this.Za=mt("retryDelaySeedMs",1e4,u),this.Ta=mt("forwardChannelMaxRetries",2,u),this.va=mt("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new aa(u&&u.concurrentRequestLimit),this.Ba=new qi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Yt.prototype,a.ka=8,a.I=1,a.connect=function(u,_,T,N){Ft(0),this.W=u,this.H=_||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=po(this,null,this.W),Pi(this)};function xs(u){if(Ha(u),u.I==3){var _=u.V++,T=St(u.J);if(ut(T,"SID",u.M),ut(T,"RID",_),ut(T,"TYPE","terminate"),Ga(u,T),_=new oi(u,u.j,_),_.M=2,_.A=Li(St(T)),T=!1,m.navigator&&m.navigator.sendBeacon)try{T=m.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&m.Image&&(new Image().src=_.A,T=!0),T||(_.g=go(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Wn(_)}mo(u)}function Ta(u){u.g&&(Ar(u),u.g.cancel(),u.g=null)}function Ha(u){Ta(u),u.v&&(m.clearTimeout(u.v),u.v=null),Ds(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&m.clearTimeout(u.m),u.m=null)}function Pi(u){if(!Rs(u.h)&&!u.m){u.m=!0;var _=u.Ea;xe||I(),Me||(xe(),Me=!0),O.add(_,u),u.D=0}}function Fa(u,_){return Zn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=he(g(u.Ea,u,_),ho(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const G=new oi(this,this.j,u);let W=this.o;if(this.U&&(W?(W=B(W),pe(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=uo(this,G,_),T=St(this.J),ut(T,"RID",u),ut(T,"CVER",22),this.G&&ut(T,"X-HTTP-Session-Id",this.G),Ga(this,T),W&&(this.R?_="headers="+Bn(vn(W))+"&"+_:this.u&&sa(T,this.u,W)),ki(this.h,G),this.Ra&&ut(T,"TYPE","init"),this.S?(ut(T,"$req",_),ut(T,"SID","null"),G.U=!0,Mi(G,T,null)):Mi(G,T,_),this.I=2}}else this.I==3&&(u?wr(this,u):this.i.length==0||Rs(this.h)||wr(this))};function wr(u,_){var T;_?T=_.l:T=u.V++;const N=St(u.J);ut(N,"SID",u.M),ut(N,"RID",T),ut(N,"AID",u.K),Ga(u,N),u.u&&u.o&&sa(N,u.u,u.o),T=new oi(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),_&&(u.i=_.G.concat(u.i)),_=uo(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ki(u.h,T),Mi(T,N,_)}function Ga(u,_){u.H&&et(u.H,function(T,N){ut(_,N,T)}),u.l&&et({},function(T,N){ut(_,N,T)})}function uo(u,_,T){T=Math.min(u.i.length,T);const N=u.l?g(u.l.Ka,u.l,u):null;e:{var G=u.i;let qe=-1;for(;;){const Pt=["count="+T];qe==-1?T>0?(qe=G[0].g,Pt.push("ofs="+qe)):qe=0:Pt.push("ofs="+qe);let ct=!0;for(let jt=0;jt<T;jt++){var W=G[jt].g;const H=G[jt].map;if(W-=qe,W<0)qe=Math.max(0,G[jt].g-100),ct=!1;else try{W="req"+W+"_"||"";try{var me=H instanceof Map?H:Object.entries(H);for(const[oe,ve]of me){let Re=ve;v(ve)&&(Re=na(ve)),Pt.push(W+oe+"="+encodeURIComponent(Re))}}catch(oe){throw Pt.push(W+"type="+encodeURIComponent("_badmap")),oe}}catch{N&&N(H)}}if(ct){me=Pt.join("&");break e}}me=void 0}return u=u.i.splice(0,T),_.G=u,me}function co(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;xe||I(),Me||(xe(),Me=!0),O.add(_,u),u.A=0}}function Ya(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=he(g(u.Da,u),ho(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=he(g(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),Ta(this),fo(this))};function Ar(u){u.B!=null&&(m.clearTimeout(u.B),u.B=null)}function fo(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=St(u.na);ut(_,"RID","rpc"),ut(_,"SID",u.M),ut(_,"AID",u.K),ut(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&ut(_,"TO",u.ia),ut(_,"TYPE","xmlhttp"),Ga(u,_),u.u&&u.o&&sa(_,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=Li(St(_)),T.u=null,T.R=!0,ya(T,u)}a.Va=function(){this.C!=null&&(this.C=null,Ta(this),Ya(this),Ft(19))};function Ds(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Rr(u,_){var T=null;if(u.g==_){Ds(u),Ar(u),u.g=null;var N=2}else if(wi(u.h,_))T=_.G,Ba(u.h,_),N=1;else return;if(u.I!=0){if(_.o)if(N==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var G=u.D;N=Ei(),Kt(N,new bi(N,T)),Pi(u)}else co(u);else if(G=_.m,G==3||G==0&&_.X>0||!(N==1&&Fa(u,_)||N==2&&Ya(u)))switch(T&&T.length>0&&(_=u.h,_.i=_.i.concat(T)),G){case 1:zi(u,5);break;case 4:zi(u,10);break;case 3:zi(u,6);break;default:zi(u,2)}}}function ho(u,_){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*_}function zi(u,_){if(u.j.info("Error code "+_),_==2){var T=g(u.bb,u),N=u.Ua;const G=!N;N=new Jn(N||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ze(N,"https"),Li(N),G?Cn(N.toString(),T):Sr(N.toString(),T)}else Ft(2);u.I=0,u.l&&u.l.pa(_),mo(u),Ha(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function mo(u){if(u.I=0,u.ja=[],u.l){const _=Ns(u.h);(_.length!=0||u.i.length!=0)&&(J(u.ja,_),J(u.ja,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.oa()}}function po(u,_,T){var N=T instanceof Jn?St(T):new Jn(T);if(N.g!="")_&&(N.g=_+"."+N.g),Pn(N,N.u);else{var G=m.location;N=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const W=new Jn(null);N&&ze(W,N),_&&(W.g=_),G&&Pn(W,G),T&&(W.h=T),N=W}return T=u.G,_=u.wa,T&&_&&ut(N,T,_),ut(N,"VER",u.ka),Ga(u,N),N}function go(u,_,T){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new h(new ti({ab:T})):new h(u.ma),_.Fa(u.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}a=yo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Sa(){}Sa.prototype.g=function(u,_){return new En(u,_)};function En(u,_){qt.call(this),this.g=new Yt(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!C(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new ra(this)}D(En,qt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){xs(this.g)},En.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=na(u),u=T);_.i.push(new Gt(_.Ya++,u)),_.I==3&&Pi(_)},En.prototype.N=function(){this.g.l=null,delete this.j,xs(this.g),delete this.g,En.Z.N.call(this)};function _o(u){De.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const T in _){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}D(_o,De);function vo(){Kn.call(this),this.status=1}D(vo,Kn);function ra(u){this.g=u}D(ra,yo),ra.prototype.ra=function(){Kt(this.g,"a")},ra.prototype.qa=function(u){Kt(this.g,new _o(u))},ra.prototype.pa=function(u){Kt(this.g,new vo)},ra.prototype.oa=function(){Kt(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,hE=function(){return new Sa},fE=function(){return Ei()},cE=Lt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$n.NO_ERROR=0,$n.TIMEOUT=8,$n.HTTP_ERROR=6,Fc=$n,Ss.COMPLETE="complete",uE=Ss,ro.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",qt.prototype.listen=qt.prototype.J,uu=ro,h.prototype.listenOnce=h.prototype.K,h.prototype.getLastError=h.prototype.Ha,h.prototype.getLastErrorCode=h.prototype.ya,h.prototype.getStatus=h.prototype.ca,h.prototype.getResponseJson=h.prototype.La,h.prototype.getResponseText=h.prototype.la,h.prototype.send=h.prototype.ea,h.prototype.setWithCredentials=h.prototype.Fa,lE=h}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class Gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");let pl="12.8.0";function eA(a){pl=a}const Qr=new eE("@firebase/firestore");function Wo(){return Qr.logLevel}function Te(a,...t){if(Qr.logLevel<=dt.DEBUG){const i=t.map(Gm);Qr.debug(`Firestore (${pl}): ${a}`,...i)}}function ys(a,...t){if(Qr.logLevel<=dt.ERROR){const i=t.map(Gm);Qr.error(`Firestore (${pl}): ${a}`,...i)}}function rl(a,...t){if(Qr.logLevel<=dt.WARN){const i=t.map(Gm);Qr.warn(`Firestore (${pl}): ${a}`,...i)}}function Gm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Ue(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,dE(a,r,i)}function dE(a,t,i){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ys(r),new Error(r)}function Tt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||dE(t,l,r)}function Ge(a,t){return a}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Wr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Gn.UNAUTHENTICATED)))}shutdown(){}}class nA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iA{constructor(t){this.t=t,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Tt(this.o===void 0,42304);let r=this.i;const l=E=>this.i!==r?(r=this.i,i(E)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const E=c;t.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},v=E=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((E=>v(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),m()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string",31837,{l:r}),new mE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Tt(t===null||typeof t=="string",2055,{h:t}),new Gn(t)}}class aA{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sA{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new aA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,U2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Tt(this.o===void 0,3512);const r=c=>{c.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const m=c.token!==this.m;return this.m=c.token,Te("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oA(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=oA(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function st(a,t){return a<t?-1:a>t?1:0}function ym(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return $d(l)===$d(c)?st(l,c):$d(l)?1:-1}return st(a.length,t.length)}const lA=55296,uA=57343;function $d(a){const t=a.charCodeAt(0);return t>=lA&&t<=uA}function ol(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const Rv="__name__";class xa{constructor(t,i,r){i===void 0?i=0:i>t.length&&Ue(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Ue(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return xa.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xa?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=xa.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return st(t.length,i.length)}static compareSegments(t,i){const r=xa.isNumericId(t),l=xa.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?xa.extractNumericId(t).compare(xa.extractNumericId(i)):ym(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ir.fromString(t.substring(4,t.length-2))}}class kt extends xa{construct(t,i,r){return new kt(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new Se(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new kt(i)}static emptyPath(){return new kt([])}}const cA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends xa{construct(t,i,r){return new kn(t,i,r)}static isValidIdentifier(t){return cA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new kn([Rv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let m=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new Se(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const E=t[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new Se(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=E,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(r+=v,l++):(c(),l++)}if(c(),m)throw new Se(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kn(i)}static emptyPath(){return new kn([])}}class je{constructor(t){this.path=t}static fromPath(t){return new je(kt.fromString(t))}static fromName(t){return new je(kt.fromString(t).popFirst(5))}static empty(){return new je(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return kt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new je(new kt(t.slice()))}}function pE(a,t,i){if(!i)throw new Se(ue.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function fA(a,t,i,r){if(t===!0&&r===!0)throw new Se(ue.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Nv(a){if(!je.isDocumentKey(a))throw new Se(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Cv(a){if(je.isDocumentKey(a))throw new Se(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function gE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Sf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Ue(12329,{type:typeof a})}function ll(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new Se(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sf(a);throw new Se(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function hn(a,t){const i={typeString:a};return t&&(i.value=t),i}function Nu(a,t){if(!gE(a))throw new Se(ue.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const m=a[r];if(l&&typeof m!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&m!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new Se(ue.INVALID_ARGUMENT,i);return!0}const xv=-62135596800,Dv=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(t){return Bt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Dv);return new Bt(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Se(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<xv)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Se(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(t){return this.seconds===t.seconds?st(this.nanoseconds,t.nanoseconds):st(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Nu(t,Bt._jsonSchema))return new Bt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:hn("string",Bt._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};class Pe{static fromTimestamp(t){return new Pe(t)}static min(){return new Pe(new Bt(0,0))}static max(){return new Pe(new Bt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function hA(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=Pe.fromTimestamp(r===1e9?new Bt(i+1,0):new Bt(i,r));return new or(l,je.empty(),t)}function dA(a){return new or(a.readTime,a.key,_u)}class or{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new or(Pe.min(),je.empty(),_u)}static max(){return new or(Pe.max(),je.empty(),_u)}}function mA(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=je.comparator(a.documentKey,t.documentKey),i!==0?i:st(a.largestBatchId,t.largestBatchId))}const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function gl(a){if(a.code!==ue.FAILED_PRECONDITION||a.message!==pA)throw a;Te("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ce(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof ce?i:ce.resolve(i)}catch(i){return ce.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):ce.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):ce.reject(i)}static resolve(t){return new ce(((i,r)=>{i(t)}))}static reject(t){return new ce(((i,r)=>{r(t)}))}static waitFor(t){return new ce(((i,r)=>{let l=0,c=0,m=!1;t.forEach((v=>{++l,v.next((()=>{++c,m&&c===l&&i()}),(E=>r(E)))})),m=!0,c===l&&i()}))}static or(t){let i=ce.resolve(!1);for(const r of t)i=i.next((l=>l?ce.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new ce(((r,l)=>{const c=t.length,m=new Array(c);let v=0;for(let E=0;E<c;E++){const g=E;i(t[g]).next((R=>{m[g]=R,++v,v===c&&r(m)}),(R=>l(R)))}}))}static doWhile(t,i){return new ce(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function yA(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yl(a){return a.name==="IndexedDbTransactionError"}class wf{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wf.ce=-1;const Qm=-1;function Af(a){return a==null}function tf(a){return a===0&&1/a==-1/0}function _A(a){return typeof a=="number"&&Number.isInteger(a)&&!tf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const yE="";function vA(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Iv(t)),t=EA(a.get(i),t);return Iv(t)}function EA(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case yE:i+="";break;default:i+=c}}return i}function Iv(a){return a+yE+""}function Ov(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Zr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function _E(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Qt{constructor(t,i){this.comparator=t,this.root=i||jn.EMPTY}insert(t,i){return new Qt(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(t){return new Qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vc(this.root,t,this.comparator,!0)}}class Vc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??jn.RED,this.left=l??jn.EMPTY,this.right=c??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new jn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return jn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ue(27949);return t+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new jn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(t){this.comparator=t,this.data=new Qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(t){return new jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof gn)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new gn(this.comparator);return i.data=t,i}}class jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ca{constructor(t){this.fields=t,t.sort(kn.comparator)}static empty(){return new ca([])}unionWith(t){let i=new gn(kn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ca(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ol(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ln{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vE("Invalid base64 string: "+c):c}})(t);return new Ln(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let m=0;m<l.length;++m)c+=String.fromCharCode(l[m]);return c})(t);return new Ln(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return st(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const bA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(a){if(Tt(!!a,39018),typeof a=="string"){let t=0;const i=bA.exec(a);if(Tt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:nn(a.seconds),nanos:nn(a.nanos)}}function nn(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ur(a){return typeof a=="string"?Ln.fromBase64String(a):Ln.fromUint8Array(a)}const EE="server_timestamp",bE="__type__",TE="__previous_value__",SE="__local_write_time__";function Xm(a){return(a?.mapValue?.fields||{})[bE]?.stringValue===EE}function Rf(a){const t=a.mapValue.fields[TE];return Xm(t)?Rf(t):t}function vu(a){const t=lr(a.mapValue.fields[SE].timestampValue);return new Bt(t.seconds,t.nanos)}class TA{constructor(t,i,r,l,c,m,v,E,g,R,D){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=E,this.useFetchStreams=g,this.isUsingEmulator=R,this.apiKey=D}}const nf="(default)";class Eu{constructor(t,i){this.projectId=t,this.database=i||nf}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(t){return t instanceof Eu&&t.projectId===this.projectId&&t.database===this.database}}function SA(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Se(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(a.options.projectId,t)}const wE="__type__",wA="__max__",Uc={mapValue:{}},AE="__vector__",af="value";function cr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Xm(a)?4:RA(a)?9007199254740991:AA(a)?10:11:Ue(28295,{value:a})}function La(a,t){if(a===t)return!0;const i=cr(a);if(i!==cr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return vu(a).isEqual(vu(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const m=lr(l.timestampValue),v=lr(c.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return ur(l.bytesValue).isEqual(ur(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return nn(l.geoPointValue.latitude)===nn(c.geoPointValue.latitude)&&nn(l.geoPointValue.longitude)===nn(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return nn(l.integerValue)===nn(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const m=nn(l.doubleValue),v=nn(c.doubleValue);return m===v?tf(m)===tf(v):isNaN(m)&&isNaN(v)}return!1})(a,t);case 9:return ol(a.arrayValue.values||[],t.arrayValue.values||[],La);case 10:case 11:return(function(l,c){const m=l.mapValue.fields||{},v=c.mapValue.fields||{};if(Ov(m)!==Ov(v))return!1;for(const E in m)if(m.hasOwnProperty(E)&&(v[E]===void 0||!La(m[E],v[E])))return!1;return!0})(a,t);default:return Ue(52216,{left:a})}}function bu(a,t){return(a.values||[]).find((i=>La(i,t)))!==void 0}function ul(a,t){if(a===t)return 0;const i=cr(a),r=cr(t);if(i!==r)return st(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return st(a.booleanValue,t.booleanValue);case 2:return(function(c,m){const v=nn(c.integerValue||c.doubleValue),E=nn(m.integerValue||m.doubleValue);return v<E?-1:v>E?1:v===E?0:isNaN(v)?isNaN(E)?0:-1:1})(a,t);case 3:return Mv(a.timestampValue,t.timestampValue);case 4:return Mv(vu(a),vu(t));case 5:return ym(a.stringValue,t.stringValue);case 6:return(function(c,m){const v=ur(c),E=ur(m);return v.compareTo(E)})(a.bytesValue,t.bytesValue);case 7:return(function(c,m){const v=c.split("/"),E=m.split("/");for(let g=0;g<v.length&&g<E.length;g++){const R=st(v[g],E[g]);if(R!==0)return R}return st(v.length,E.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,m){const v=st(nn(c.latitude),nn(m.latitude));return v!==0?v:st(nn(c.longitude),nn(m.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return kv(a.arrayValue,t.arrayValue);case 10:return(function(c,m){const v=c.fields||{},E=m.fields||{},g=v[af]?.arrayValue,R=E[af]?.arrayValue,D=st(g?.values?.length||0,R?.values?.length||0);return D!==0?D:kv(g,R)})(a.mapValue,t.mapValue);case 11:return(function(c,m){if(c===Uc.mapValue&&m===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(m===Uc.mapValue)return-1;const v=c.fields||{},E=Object.keys(v),g=m.fields||{},R=Object.keys(g);E.sort(),R.sort();for(let D=0;D<E.length&&D<R.length;++D){const M=ym(E[D],R[D]);if(M!==0)return M;const $=ul(v[E[D]],g[R[D]]);if($!==0)return $}return st(E.length,R.length)})(a.mapValue,t.mapValue);default:throw Ue(23264,{he:i})}}function Mv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return st(a,t);const i=lr(a),r=lr(t),l=st(i.seconds,r.seconds);return l!==0?l:st(i.nanos,r.nanos)}function kv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=ul(i[l],r[l]);if(c)return c}return st(i.length,r.length)}function cl(a){return _m(a)}function _m(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=lr(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ur(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return je.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=_m(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const m of r)c?c=!1:l+=",",l+=`${m}:${_m(i.fields[m])}`;return l+"}"})(a.mapValue):Ue(61005,{value:a})}function Gc(a){switch(cr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rf(a);return t?16+Gc(t):16;case 5:return 2*a.stringValue.length;case 6:return ur(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Zr(r.fields,((c,m)=>{l+=c.length+Gc(m)})),l})(a.mapValue);default:throw Ue(13486,{value:a})}}function Lv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function vm(a){return!!a&&"integerValue"in a}function Km(a){return!!a&&"arrayValue"in a}function Vv(a){return!!a&&"nullValue"in a}function Uv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Yc(a){return!!a&&"mapValue"in a}function AA(a){return(a?.mapValue?.fields||{})[wE]?.stringValue===AE}function du(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Zr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=du(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=du(a.arrayValue.values[i]);return t}return{...a}}function RA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===wA}class Zi{constructor(t){this.value=t}static empty(){return new Zi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Yc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=du(i)}setAll(t){let i=kn.emptyPath(),r={},l=[];t.forEach(((m,v)=>{if(!i.isImmediateParentOf(v)){const E=this.getFieldsMap(i);this.applyChanges(E,r,l),r={},l=[],i=v.popLast()}m?r[v.lastSegment()]=du(m):l.push(v.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return La(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Zr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Zi(du(this.value))}}function RE(a){const t=[];return Zr(a.fields,((i,r)=>{const l=new kn([i]);if(Yc(r)){const c=RE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const m of c)t.push(l.child(m))}else t.push(l)})),new ca(t)}class Yn{constructor(t,i,r,l,c,m,v){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=m,this.documentState=v}static newInvalidDocument(t){return new Yn(t,0,Pe.min(),Pe.min(),Pe.min(),Zi.empty(),0)}static newFoundDocument(t,i,r,l){return new Yn(t,1,i,Pe.min(),r,l,0)}static newNoDocument(t,i){return new Yn(t,2,i,Pe.min(),Pe.min(),Zi.empty(),0)}static newUnknownDocument(t,i){return new Yn(t,3,i,Pe.min(),Pe.min(),Zi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sf{constructor(t,i){this.position=t,this.inclusive=i}}function Bv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],m=a.position[l];if(c.field.isKeyField()?r=je.comparator(je.fromName(m.referenceValue),i.key):r=ul(m,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function qv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!La(a.position[i],t.position[i]))return!1;return!0}class rf{constructor(t,i="asc"){this.field=t,this.dir=i}}function NA(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class NE{}class fn extends NE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new xA(t,i,r):i==="array-contains"?new OA(t,r):i==="in"?new jA(t,r):i==="not-in"?new MA(t,r):i==="array-contains-any"?new kA(t,r):new fn(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new DA(t,r):new IA(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ul(i,this.value)):i!==null&&cr(this.value)===cr(i)&&this.matchesComparison(ul(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends NE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ha(t,i)}matches(t){return CE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CE(a){return a.op==="and"}function xE(a){return CA(a)&&CE(a)}function CA(a){for(const t of a.filters)if(t instanceof ha)return!1;return!0}function Em(a){if(a instanceof fn)return a.field.canonicalString()+a.op.toString()+cl(a.value);if(xE(a))return a.filters.map((t=>Em(t))).join(",");{const t=a.filters.map((i=>Em(i))).join(",");return`${a.op}(${t})`}}function DE(a,t){return a instanceof fn?(function(r,l){return l instanceof fn&&r.op===l.op&&r.field.isEqual(l.field)&&La(r.value,l.value)})(a,t):a instanceof ha?(function(r,l){return l instanceof ha&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,m,v)=>c&&DE(m,l.filters[v])),!0):!1})(a,t):void Ue(19439)}function IE(a){return a instanceof fn?(function(i){return`${i.field.canonicalString()} ${i.op} ${cl(i.value)}`})(a):a instanceof ha?(function(i){return i.op.toString()+" {"+i.getFilters().map(IE).join(" ,")+"}"})(a):"Filter"}class xA extends fn{constructor(t,i,r){super(t,i,r),this.key=je.fromName(r.referenceValue)}matches(t){const i=je.comparator(t.key,this.key);return this.matchesComparison(i)}}class DA extends fn{constructor(t,i){super(t,"in",i),this.keys=OE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class IA extends fn{constructor(t,i){super(t,"not-in",i),this.keys=OE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function OE(a,t){return(t.arrayValue?.values||[]).map((i=>je.fromName(i.referenceValue)))}class OA extends fn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Km(i)&&bu(i.arrayValue,this.value)}}class jA extends fn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&bu(this.value.arrayValue,i)}}class MA extends fn{constructor(t,i){super(t,"not-in",i)}matches(t){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!bu(this.value.arrayValue,i)}}class kA extends fn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>bu(this.value.arrayValue,r)))}}class LA{constructor(t,i=null,r=[],l=[],c=null,m=null,v=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=m,this.endAt=v,this.Te=null}}function Pv(a,t=null,i=[],r=[],l=null,c=null,m=null){return new LA(a,t,i,r,l,c,m)}function $m(a){const t=Ge(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Em(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Af(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>cl(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>cl(r))).join(",")),t.Te=i}return t.Te}function Wm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!NA(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!DE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!qv(a.startAt,t.startAt)&&qv(a.endAt,t.endAt)}function bm(a){return je.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Cu{constructor(t,i=null,r=[],l=[],c=null,m="F",v=null,E=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=m,this.startAt=v,this.endAt=E,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VA(a,t,i,r,l,c,m,v){return new Cu(a,t,i,r,l,c,m,v)}function jE(a){return new Cu(a)}function zv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function UA(a){return je.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function ME(a){return a.collectionGroup!==null}function mu(a){const t=Ge(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new gn(kn.comparator);return m.filters.forEach((E=>{E.getFlattenedFilters().forEach((g=>{g.isInequality()&&(v=v.add(g.field))}))})),v})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new rf(c,r))})),i.has(kn.keyField().canonicalString())||t.Ie.push(new rf(kn.keyField(),r))}return t.Ie}function Oa(a){const t=Ge(a);return t.Ee||(t.Ee=BA(t,mu(a))),t.Ee}function BA(a,t){if(a.limitType==="F")return Pv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new rf(l.field,c)}));const i=a.endAt?new sf(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new sf(a.startAt.position,a.startAt.inclusive):null;return Pv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Tm(a,t){const i=a.filters.concat([t]);return new Cu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Sm(a,t,i){return new Cu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Nf(a,t){return Wm(Oa(a),Oa(t))&&a.limitType===t.limitType}function kE(a){return`${$m(Oa(a))}|lt:${a.limitType}`}function Zo(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>IE(l))).join(", ")}]`),Af(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>cl(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>cl(l))).join(",")),`Target(${r})`})(Oa(a))}; limitType=${a.limitType})`}function Cf(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):je.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of mu(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(m,v,E){const g=Bv(m,v,E);return m.inclusive?g<=0:g<0})(r.startAt,mu(r),l)||r.endAt&&!(function(m,v,E){const g=Bv(m,v,E);return m.inclusive?g>=0:g>0})(r.endAt,mu(r),l))})(a,t)}function qA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function LE(a){return(t,i)=>{let r=!1;for(const l of mu(a)){const c=PA(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function PA(a,t,i){const r=a.field.isKeyField()?je.comparator(t.key,i.key):(function(c,m,v){const E=m.data.field(c),g=v.data.field(c);return E!==null&&g!==null?ul(E,g):Ue(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:a.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const zA=new Qt(je.comparator);function _s(){return zA}const VE=new Qt(je.comparator);function cu(...a){let t=VE;for(const i of a)t=t.insert(i.key,i);return t}function UE(a){let t=VE;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Gr(){return pu()}function BE(){return pu()}function pu(){return new Jr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const HA=new Qt(je.comparator),FA=new gn(je.comparator);function rt(...a){let t=FA;for(const i of a)t=t.add(i);return t}const GA=new gn(st);function YA(){return GA}function Zm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(t)?"-0":t}}function qE(a){return{integerValue:""+a}}function QA(a,t){return _A(t)?qE(t):Zm(a,t)}class xf{constructor(){this._=void 0}}function XA(a,t,i){return a instanceof of?(function(l,c){const m={fields:{[bE]:{stringValue:EE},[SE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Xm(c)&&(c=Rf(c)),c&&(m.fields[TE]=c),{mapValue:m}})(i,t):a instanceof Tu?zE(a,t):a instanceof Su?HE(a,t):(function(l,c){const m=PE(l,c),v=Hv(m)+Hv(l.Ae);return vm(m)&&vm(l.Ae)?qE(v):Zm(l.serializer,v)})(a,t)}function KA(a,t,i){return a instanceof Tu?zE(a,t):a instanceof Su?HE(a,t):i}function PE(a,t){return a instanceof lf?(function(r){return vm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class of extends xf{}class Tu extends xf{constructor(t){super(),this.elements=t}}function zE(a,t){const i=FE(t);for(const r of a.elements)i.some((l=>La(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Su extends xf{constructor(t){super(),this.elements=t}}function HE(a,t){let i=FE(t);for(const r of a.elements)i=i.filter((l=>!La(l,r)));return{arrayValue:{values:i}}}class lf extends xf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Hv(a){return nn(a.integerValue||a.doubleValue)}function FE(a){return Km(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function $A(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Tu&&l instanceof Tu||r instanceof Su&&l instanceof Su?ol(r.elements,l.elements,La):r instanceof lf&&l instanceof lf?La(r.Ae,l.Ae):r instanceof of&&l instanceof of})(a.transform,t.transform)}class WA{constructor(t,i){this.version=t,this.transformResults=i}}class ja{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ja}static exists(t){return new ja(void 0,t)}static updateTime(t){return new ja(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Df{}function GE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Jm(a.key,ja.none()):new xu(a.key,a.data,ja.none());{const i=a.data,r=Zi.empty();let l=new gn(kn.comparator);for(let c of t.fields)if(!l.has(c)){let m=i.field(c);m===null&&c.length>1&&(c=c.popLast(),m=i.field(c)),m===null?r.delete(c):r.set(c,m),l=l.add(c)}return new eo(a.key,r,new ca(l.toArray()),ja.none())}}function ZA(a,t,i){a instanceof xu?(function(l,c,m){const v=l.value.clone(),E=Gv(l.fieldTransforms,c,m.transformResults);v.setAll(E),c.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(a,t,i):a instanceof eo?(function(l,c,m){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(m.version);const v=Gv(l.fieldTransforms,c,m.transformResults),E=c.data;E.setAll(YE(l)),E.setAll(v),c.convertToFoundDocument(m.version,E).setHasCommittedMutations()})(a,t,i):(function(l,c,m){c.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,i)}function gu(a,t,i,r){return a instanceof xu?(function(c,m,v,E){if(!Qc(c.precondition,m))return v;const g=c.value.clone(),R=Yv(c.fieldTransforms,E,m);return g.setAll(R),m.convertToFoundDocument(m.version,g).setHasLocalMutations(),null})(a,t,i,r):a instanceof eo?(function(c,m,v,E){if(!Qc(c.precondition,m))return v;const g=Yv(c.fieldTransforms,E,m),R=m.data;return R.setAll(YE(c)),R.setAll(g),m.convertToFoundDocument(m.version,R).setHasLocalMutations(),v===null?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((D=>D.field)))})(a,t,i,r):(function(c,m,v){return Qc(c.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v})(a,t,i)}function JA(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=PE(r.transform,l||null);c!=null&&(i===null&&(i=Zi.empty()),i.set(r.field,c))}return i||null}function Fv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ol(r,l,((c,m)=>$A(c,m)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class xu extends Df{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class eo extends Df{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function Gv(a,t,i){const r=new Map;Tt(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let l=0;l<i.length;l++){const c=a[l],m=c.transform,v=t.data.field(c.field);r.set(c.field,KA(m,v,i[l]))}return r}function Yv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,m=i.data.field(l.field);r.set(l.field,XA(c,m,t))}return r}class Jm extends Df{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eR extends Df{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tR{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ZA(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=gu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=gu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=BE();return this.mutations.forEach((l=>{const c=t.get(l.key),m=c.overlayedDocument;let v=this.applyToLocalView(m,c.mutatedFields);v=i.has(l.key)?null:v;const E=GE(m,v);E!==null&&r.set(l.key,E),m.isValidDocument()||m.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),rt())}isEqual(t){return this.batchId===t.batchId&&ol(this.mutations,t.mutations,((i,r)=>Fv(i,r)))&&ol(this.baseMutations,t.baseMutations,((i,r)=>Fv(i,r)))}}class ep{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Tt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return HA})();const c=t.mutations;for(let m=0;m<c.length;m++)l=l.insert(c[m].key,r[m].version);return new ep(t,i,r,l)}}class nR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iR{constructor(t,i){this.count=t,this.unchangedNames=i}}var cn,ft;function aR(a){switch(a){case ue.OK:return Ue(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ue(15467,{code:a})}}function QE(a){if(a===void 0)return ys("GRPC error has no .code"),ue.UNKNOWN;switch(a){case cn.OK:return ue.OK;case cn.CANCELLED:return ue.CANCELLED;case cn.UNKNOWN:return ue.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ue.INTERNAL;case cn.UNAVAILABLE:return ue.UNAVAILABLE;case cn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case cn.NOT_FOUND:return ue.NOT_FOUND;case cn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case cn.ABORTED:return ue.ABORTED;case cn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case cn.DATA_LOSS:return ue.DATA_LOSS;default:return Ue(39323,{code:a})}}(ft=cn||(cn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";function sR(){return new TextEncoder}const rR=new ir([4294967295,4294967295],0);function Qv(a){const t=sR().encode(a),i=new oE;return i.update(t),new Uint8Array(i.digest())}function Xv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ir([i,r],0),new ir([l,c],0)]}class tp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new fu(`Invalid padding: ${i}`);if(r<0)throw new fu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new fu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ir.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(ir.fromNumber(r)));return l.compare(rR)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Qv(t),[r,l]=Xv(i);for(let c=0;c<this.hashCount;c++){const m=this.ye(r,l,c);if(!this.we(m))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),m=new tp(c,l,i);return r.forEach((v=>m.insert(v))),m}insert(t){if(this.ge===0)return;const i=Qv(t),[r,l]=Xv(i);for(let c=0;c<this.hashCount;c++){const m=this.ye(r,l,c);this.be(m)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class If{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Du.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new If(Pe.min(),l,new Qt(st),_s(),rt())}}class Du{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Du(r,i,rt(),rt(),rt())}}class Xc{constructor(t,i,r,l){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=l}}class XE{constructor(t,i){this.targetId=t,this.Ce=i}}class KE{constructor(t,i,r=Ln.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Kv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=rt(),i=rt(),r=rt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ue(38017,{changeType:c})}})),new Du(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=$v()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class oR{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=Bc(),this.Je=Bc(),this.Ze=new Qt(st)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Ue(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(bm(c))if(r===0){const m=new je(c.path);this.et(i,m,Yn.newNoDocument(m,Pe.min()))}else Tt(r===1,20013,{expectedCount:r});else{const m=this._t(i);if(m!==r){const v=this.ut(t),E=v?this.ct(v,t,m):1;if(E!==0){this.it(i);const g=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let m,v;try{m=ur(r).toUint8Array()}catch(E){if(E instanceof vE)return rl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{v=new tp(m,l,c)}catch(E){return rl(E instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return v.ge===0?null:v}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const m=this.Ge.ht(),v=`projects/${m.projectId}/databases/${m.database}/documents/${c.path.canonicalString()}`;t.mightContain(v)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,m)=>{const v=this.ot(m);if(v){if(c.current&&bm(v.target)){const E=new je(v.target.path);this.It(E).has(m)||this.Et(m,E)||this.et(m,E,Yn.newNoDocument(E,t))}c.Be&&(i.set(m,c.ke()),c.Ke())}}));let r=rt();this.Je.forEach(((c,m)=>{let v=!0;m.forEachWhile((E=>{const g=this.ot(E);return!g||g.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(r=r.add(c))})),this.je.forEach(((c,m)=>m.setReadTime(t)));const l=new If(t,i,this.Ze,this.je,r);return this.je=_s(),this.He=Bc(),this.Je=Bc(),this.Ze=new Qt(st),l}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Kv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new gn(st),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new gn(st),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||Te("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Bc(){return new Qt(je.comparator)}function $v(){return new Qt(je.comparator)}const lR={asc:"ASCENDING",desc:"DESCENDING"},uR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cR={and:"AND",or:"OR"};class fR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function wm(a,t){return a.useProto3Json||Af(t)?t:{value:t}}function uf(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $E(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function hR(a,t){return uf(a,t.toTimestamp())}function Ma(a){return Tt(!!a,49232),Pe.fromTimestamp((function(i){const r=lr(i);return new Bt(r.seconds,r.nanos)})(a))}function np(a,t){return Am(a,t).canonicalString()}function Am(a,t){const i=(function(l){return new kt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function WE(a){const t=kt.fromString(a);return Tt(nb(t),10190,{key:t.toString()}),t}function Rm(a,t){return np(a.databaseId,t.path)}function Wd(a,t){const i=WE(t);if(i.get(1)!==a.databaseId.projectId)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new Se(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new je(JE(i))}function ZE(a,t){return np(a.databaseId,t)}function dR(a){const t=WE(a);return t.length===4?kt.emptyPath():JE(t)}function Nm(a){return new kt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function JE(a){return Tt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Wv(a,t,i){return{name:Rm(a,t),fields:i.value.mapValue.fields}}function mR(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(g,R){return g.useProto3Json?(Tt(R===void 0||typeof R=="string",58123),Ln.fromBase64String(R||"")):(Tt(R===void 0||R instanceof Buffer||R instanceof Uint8Array,16193),Ln.fromUint8Array(R||new Uint8Array))})(a,t.targetChange.resumeToken),m=t.targetChange.cause,v=m&&(function(g){const R=g.code===void 0?ue.UNKNOWN:QE(g.code);return new Se(R,g.message||"")})(m);i=new KE(r,l,c,v||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Wd(a,r.document.name),c=Ma(r.document.updateTime),m=r.document.createTime?Ma(r.document.createTime):Pe.min(),v=new Zi({mapValue:{fields:r.document.fields}}),E=Yn.newFoundDocument(l,c,m,v),g=r.targetIds||[],R=r.removedTargetIds||[];i=new Xc(g,R,E.key,E)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Wd(a,r.document),c=r.readTime?Ma(r.readTime):Pe.min(),m=Yn.newNoDocument(l,c),v=r.removedTargetIds||[];i=new Xc([],v,m.key,m)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Wd(a,r.document),c=r.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in t))return Ue(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,m=new iR(l,c),v=r.targetId;i=new XE(v,m)}}return i}function pR(a,t){let i;if(t instanceof xu)i={update:Wv(a,t.key,t.value)};else if(t instanceof Jm)i={delete:Rm(a,t.key)};else if(t instanceof eo)i={update:Wv(a,t.key,t.data),updateMask:wR(t.fieldMask)};else{if(!(t instanceof eR))return Ue(16599,{dt:t.type});i={verify:Rm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,m){const v=m.transform;if(v instanceof of)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Tu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Su)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof lf)return{fieldPath:m.field.canonicalString(),increment:v.Ae};throw Ue(20930,{transform:m.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:hR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ue(27497)})(a,t.precondition)),i}function gR(a,t){return a&&a.length>0?(Tt(t!==void 0,14353),a.map((i=>(function(l,c){let m=l.updateTime?Ma(l.updateTime):Ma(c);return m.isEqual(Pe.min())&&(m=Ma(c)),new WA(m,l.transformResults||[])})(i,t)))):[]}function yR(a,t){return{documents:[ZE(a,t.path)]}}function _R(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=ZE(a,l);const c=(function(g){if(g.length!==0)return tb(ha.create(g,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const m=(function(g){if(g.length!==0)return g.map((R=>(function(M){return{field:Jo(M.field),direction:bR(M.dir)}})(R)))})(t.orderBy);m&&(i.structuredQuery.orderBy=m);const v=wm(a,t.limit);return v!==null&&(i.structuredQuery.limit=v),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:l}}function vR(a){let t=dR(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Tt(r===1,65062);const R=i.from[0];R.allDescendants?l=R.collectionId:t=t.child(R.collectionId)}let c=[];i.where&&(c=(function(D){const M=eb(D);return M instanceof ha&&xE(M)?M.getFilters():[M]})(i.where));let m=[];i.orderBy&&(m=(function(D){return D.map((M=>(function(J){return new rf(el(J.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let v=null;i.limit&&(v=(function(D){let M;return M=typeof D=="object"?D.value:D,Af(M)?null:M})(i.limit));let E=null;i.startAt&&(E=(function(D){const M=!!D.before,$=D.values||[];return new sf($,M)})(i.startAt));let g=null;return i.endAt&&(g=(function(D){const M=!D.before,$=D.values||[];return new sf($,M)})(i.endAt)),VA(t,l,m,c,v,"F",E,g)}function ER(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function eb(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=el(i.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=el(i.unaryFilter.field);return fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=el(i.unaryFilter.field);return fn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=el(i.unaryFilter.field);return fn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(a):a.fieldFilter!==void 0?(function(i){return fn.create(el(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ha.create(i.compositeFilter.filters.map((r=>eb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(i.compositeFilter.op))})(a):Ue(30097,{filter:a})}function bR(a){return lR[a]}function TR(a){return uR[a]}function SR(a){return cR[a]}function Jo(a){return{fieldPath:a.canonicalString()}}function el(a){return kn.fromServerFormat(a.fieldPath)}function tb(a){return a instanceof fn?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NAN"}};if(Vv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NOT_NAN"}};if(Vv(i.value))return{unaryFilter:{field:Jo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(i.field),op:TR(i.op),value:i.value}}})(a):a instanceof ha?(function(i){const r=i.getFilters().map((l=>tb(l)));return r.length===1?r[0]:{compositeFilter:{op:SR(i.op),filters:r}}})(a):Ue(54877,{filter:a})}function wR(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function nb(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function ib(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class er{constructor(t,i,r,l,c=Pe.min(),m=Pe.min(),v=Ln.EMPTY_BYTE_STRING,E=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=E}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class AR{constructor(t){this.yt=t}}function RR(a){const t=vR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Sm(t,t.limit,"L"):t}class NR{constructor(){this.Sn=new CR}addToCollectionParentIndex(t,i){return this.Sn.add(i),ce.resolve()}getCollectionParents(t,i){return ce.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return ce.resolve()}deleteFieldIndex(t,i){return ce.resolve()}deleteAllFieldIndexes(t){return ce.resolve()}createTargetIndexes(t,i){return ce.resolve()}getDocumentsMatchingTarget(t,i){return ce.resolve(null)}getIndexType(t,i){return ce.resolve(0)}getFieldIndexes(t,i){return ce.resolve([])}getNextCollectionGroupToUpdate(t){return ce.resolve(null)}getMinOffset(t,i){return ce.resolve(or.min())}getMinOffsetFromCollectionGroup(t,i){return ce.resolve(or.min())}updateCollectionGroup(t,i,r){return ce.resolve()}updateIndexEntries(t,i){return ce.resolve()}}class CR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new gn(kt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new gn(kt.comparator)).toArray()}}const Zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ab=41943040;class yi{static withCacheSize(t){return new yi(t,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(ab,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);class fl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new fl(0)}static ar(){return new fl(-1)}}const Jv="LruGarbageCollector",xR=1048576;function e0([a,t],[i,r]){const l=st(a,i);return l===0?st(t,r):l}class DR{constructor(t){this.Pr=t,this.buffer=new gn(e0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();e0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class IR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){Te(Jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yl(i)?Te(Jv,"Ignoring IndexedDB error during garbage collection: ",i):await gl(i)}await this.Ar(3e5)}))}}class OR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return ce.resolve(wf.ce);const r=new DR(i);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Zv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,l,c,m,v,E,g;const R=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),l=this.params.maximumSequenceNumbersToCollect):l=D,m=Date.now(),this.nthSequenceNumber(t,l)))).next((D=>(r=D,v=Date.now(),this.removeTargets(t,r,i)))).next((D=>(c=D,E=Date.now(),this.removeOrphanedDocuments(t,r)))).next((D=>(g=Date.now(),Wo()<=dt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-R}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${c} targets in `+(E-v)+`ms
	Removed ${D} documents in `+(g-E)+`ms
Total Duration: ${g-R}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:D}))))}}function jR(a,t){return new OR(a,t)}class MR{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Yn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ce.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class kR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class LR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&gu(r.mutation,l,ca.empty(),Bt.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,rt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=rt()){const l=Gr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let m=cu();return c.forEach(((v,E)=>{m=m.insert(v,E.overlayedDocument)})),m}))))}getOverlayedDocuments(t,i){const r=Gr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,rt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((m,v)=>{i.set(m,v)}))}))}computeViews(t,i,r,l){let c=_s();const m=pu(),v=(function(){return pu()})();return i.forEach(((E,g)=>{const R=r.get(g.key);l.has(g.key)&&(R===void 0||R.mutation instanceof eo)?c=c.insert(g.key,g):R!==void 0?(m.set(g.key,R.mutation.getFieldMask()),gu(R.mutation,g,R.mutation.getFieldMask(),Bt.now())):m.set(g.key,ca.empty())})),this.recalculateAndSaveOverlays(t,c).next((E=>(E.forEach(((g,R)=>m.set(g,R))),i.forEach(((g,R)=>v.set(g,new kR(R,m.get(g)??null)))),v)))}recalculateAndSaveOverlays(t,i){const r=pu();let l=new Qt(((m,v)=>m-v)),c=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((m=>{for(const v of m)v.keys().forEach((E=>{const g=i.get(E);if(g===null)return;let R=r.get(E)||ca.empty();R=v.applyToLocalView(g,R),r.set(E,R);const D=(l.get(v.batchId)||rt()).add(E);l=l.insert(v.batchId,D)}))})).next((()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const E=v.getNext(),g=E.key,R=E.value,D=BE();R.forEach((M=>{if(!c.has(M)){const $=GE(i.get(M),r.get(M));$!==null&&D.set(M,$),c=c.add(M)}})),m.push(this.documentOverlayCache.saveOverlays(t,g,D))}return ce.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return UA(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ME(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const m=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):ce.resolve(Gr());let v=_u,E=c;return m.next((g=>ce.forEach(g,((R,D)=>(v<D.largestBatchId&&(v=D.largestBatchId),c.get(R)?ce.resolve():this.remoteDocumentCache.getEntry(t,R).next((M=>{E=E.insert(R,M)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,E,g,rt()))).next((R=>({batchId:v,changes:UE(R)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new je(i)).next((r=>{let l=cu();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let m=cu();return this.indexManager.getCollectionParents(t,c).next((v=>ce.forEach(v,(E=>{const g=(function(D,M){return new Cu(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(i,E.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,r,l).next((R=>{R.forEach(((D,M)=>{m=m.insert(D,M)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((m=>{c.forEach(((E,g)=>{const R=g.getKey();m.get(R)===null&&(m=m.insert(R,Yn.newInvalidDocument(R)))}));let v=cu();return m.forEach(((E,g)=>{const R=c.get(E);R!==void 0&&gu(R.mutation,g,ca.empty(),Bt.now()),Cf(i,g)&&(v=v.insert(E,g))})),v}))}}class VR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return ce.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ma(l.createTime)}})(i)),ce.resolve()}getNamedQuery(t,i){return ce.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:RR(l.bundledQuery),readTime:Ma(l.readTime)}})(i)),ce.resolve()}}class UR{constructor(){this.overlays=new Qt(je.comparator),this.Lr=new Map}getOverlay(t,i){return ce.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Gr();return ce.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.bt(t,i,c)})),ce.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),ce.resolve()}getOverlaysForCollection(t,i,r){const l=Gr(),c=i.length+1,m=new je(i.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const E=v.getNext().value,g=E.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&E.largestBatchId>r&&l.set(E.getKey(),E)}return ce.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Qt(((g,R)=>g-R));const m=this.overlays.getIterator();for(;m.hasNext();){const g=m.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let R=c.get(g.largestBatchId);R===null&&(R=Gr(),c=c.insert(g.largestBatchId,R)),R.set(g.getKey(),g)}}const v=Gr(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((g,R)=>v.set(g,R))),!(v.size()>=l)););return ce.resolve(v)}bt(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const m=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new nR(i,r));let c=this.Lr.get(i);c===void 0&&(c=rt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class BR{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(t){return ce.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,ce.resolve()}}class ip{constructor(){this.kr=new gn(Sn.Kr),this.qr=new gn(Sn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Sn(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Sn(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new je(new kt([])),r=new Sn(i,t),l=new Sn(i,t+1),c=[];return this.qr.forEachInRange([r,l],(m=>{this.Wr(m),c.push(m.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new je(new kt([])),r=new Sn(i,t),l=new Sn(i,t+1);let c=rt();return this.qr.forEachInRange([r,l],(m=>{c=c.add(m.key)})),c}containsKey(t){const i=new Sn(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Sn{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return je.comparator(t.key,i.key)||st(t.Hr,i.Hr)}static Ur(t,i){return st(t.Hr,i.Hr)||je.comparator(t.key,i.key)}}class qR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new gn(Sn.Kr)}checkEmpty(t){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new tR(c,i,r,l);this.mutationQueue.push(m);for(const v of l)this.Jr=this.Jr.add(new Sn(v.key,c)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return ce.resolve(m)}lookupMutationBatch(t,i){return ce.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Qm:this.Yn-1)}getAllMutationBatches(t){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Sn(i,0),l=new Sn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(m=>{const v=this.Zr(m.Hr);c.push(v)})),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new gn(st);return i.forEach((l=>{const c=new Sn(l,0),m=new Sn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,m],(v=>{r=r.add(v.Hr)}))})),ce.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;je.isDocumentKey(c)||(c=c.child(""));const m=new Sn(new je(c),0);let v=new gn(st);return this.Jr.forEachWhile((E=>{const g=E.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(v=v.add(E.Hr)),!0)}),m),ce.resolve(this.Yr(v))}Yr(t){const i=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Tt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ce.forEach(i.mutations,(l=>{const c=new Sn(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Sn(i,0),l=this.Jr.firstAfterOrEqual(r);return ce.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ce.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class PR{constructor(t){this.ti=t,this.docs=(function(){return new Qt(je.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,m=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:m}),this.size+=m-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return ce.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(i))}getEntries(t,i){let r=_s();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Yn.newInvalidDocument(l))})),ce.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=_s();const m=i.path,v=new je(m.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(v);for(;E.hasNext();){const{key:g,value:{document:R}}=E.getNext();if(!m.isPrefixOf(g.path))break;g.path.length>m.length+1||mA(dA(R),r)<=0||(l.has(R.key)||Cf(i,R))&&(c=c.insert(R.key,R.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(t,i,r,l){Ue(9500)}ni(t,i){return ce.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new zR(this)}getSize(t){return ce.resolve(this.size)}}class zR extends MR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),ce.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class HR{constructor(t){this.persistence=t,this.ri=new Jr((i=>$m(i)),Wm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.ii=0,this.si=new ip,this.targetCount=0,this.oi=fl._r()}forEachTarget(t,i){return this.ri.forEach(((r,l)=>i(l))),ce.resolve()}getLastRemoteSnapshotVersion(t){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ce.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),ce.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new fl(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,ce.resolve()}updateTargetData(t,i){return this.lr(i),ce.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,ce.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.ri.forEach(((m,v)=>{v.sequenceNumber<=i&&r.get(v.targetId)===null&&(this.ri.delete(m),c.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),ce.waitFor(c).next((()=>l))}getTargetCount(t){return ce.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return ce.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),ce.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((m=>{c.push(l.markPotentiallyOrphaned(t,m))})),ce.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),ce.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return ce.resolve(r)}containsKey(t,i){return ce.resolve(this.si.containsKey(i))}}class sb{constructor(t,i){this._i={},this.overlays={},this.ai=new wf(0),this.ui=!1,this.ui=!0,this.ci=new BR,this.referenceDelegate=t(this),this.li=new HR(this),this.indexManager=new NR,this.remoteDocumentCache=(function(l){return new PR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new AR(i),this.Pi=new VR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new UR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new qR(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){Te("MemoryPersistence","Starting transaction:",t);const l=new FR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return ce.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class FR extends gA{constructor(t){super(),this.currentSequenceNumber=t}}class ap{constructor(t){this.persistence=t,this.Ri=new ip,this.Ai=null}static Vi(t){return new ap(t)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),ce.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),ce.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(r=>{const l=je.fromPath(r);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Pe.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return ce.or([()=>ce.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class cf{constructor(t,i){this.persistence=t,this.fi=new Jr((r=>vA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=jR(this,i)}static Vi(t,i){return new cf(t,i)}Ti(){}Ii(t){return ce.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return ce.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?ce.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(m=>this.wr(t,m,i).next((v=>{v||(r++,c.removeEntry(m,Pe.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),ce.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),ce.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),ce.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),ce.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}wr(t,i,r){return ce.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return ce.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sp{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=l}static Es(t,i){let r=rt(),l=rt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new sp(t,i.fromCache,r,l)}}class GR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class YR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Uw()?8:yA(Lw())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.gs(t,i).next((m=>{c.result=m})).next((()=>{if(!c.result)return this.ps(t,i,l,r).next((m=>{c.result=m}))})).next((()=>{if(c.result)return;const m=new GR;return this.ys(t,i,m).next((v=>{if(c.result=v,this.As)return this.ws(t,i,m,v.size)}))})).next((()=>c.result))}ws(t,i,r,l){return r.documentReadCount<this.Vs?(Wo()<=dt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Zo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Wo()<=dt.DEBUG&&Te("QueryEngine","Query:",Zo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Wo()<=dt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Zo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oa(i))):ce.resolve())}gs(t,i){if(zv(i))return ce.resolve(null);let r=Oa(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Sm(i,null,"F"),r=Oa(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const m=rt(...c);return this.fs.getDocuments(t,m).next((v=>this.indexManager.getMinOffset(t,r).next((E=>{const g=this.bs(i,v);return this.Ss(i,g,m,E.readTime)?this.gs(t,Sm(i,null,"F")):this.Ds(t,g,i,E)}))))})))))}ps(t,i,r,l){return zv(i)||l.isEqual(Pe.min())?ce.resolve(null):this.fs.getDocuments(t,r).next((c=>{const m=this.bs(i,c);return this.Ss(i,m,r,l)?ce.resolve(null):(Wo()<=dt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Zo(i)),this.Ds(t,m,i,hA(l,_u)).next((v=>v)))}))}bs(t,i){let r=new gn(LE(t));return i.forEach(((l,c)=>{Cf(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,r){return Wo()<=dt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Zo(i)),this.fs.getDocumentsMatchingQuery(t,i,or.min(),r)}Ds(t,i,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((m=>{c=c.insert(m.key,m)})),c)))}}const rp="LocalStore",QR=3e8;class XR{constructor(t,i,r,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new Qt(st),this.Fs=new Jr((c=>$m(c)),Wm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function KR(a,t,i,r){return new XR(a,t,i,r)}async function rb(a,t){const i=Ge(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const m=[],v=[];let E=rt();for(const g of l){m.push(g.batchId);for(const R of g.mutations)E=E.add(R.key)}for(const g of c){v.push(g.batchId);for(const R of g.mutations)E=E.add(R.key)}return i.localDocuments.getDocuments(r,E).next((g=>({Ns:g,removedBatchIds:m,addedBatchIds:v})))}))}))}function $R(a,t){const i=Ge(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(v,E,g,R){const D=g.batch,M=D.keys();let $=ce.resolve();return M.forEach((J=>{$=$.next((()=>R.getEntry(E,J))).next((ne=>{const X=g.docVersions.get(J);Tt(X!==null,48541),ne.version.compareTo(X)<0&&(D.applyToRemoteDocument(ne,g),ne.isValidDocument()&&(ne.setReadTime(g.commitVersion),R.addEntry(ne)))}))})),$.next((()=>v.mutationQueue.removeMutationBatch(E,D)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(v){let E=rt();for(let g=0;g<v.mutationResults.length;++g)v.mutationResults[g].transformResults.length>0&&(E=E.add(v.batch.mutations[g].key));return E})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function ob(a){const t=Ge(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function WR(a,t){const i=Ge(a),r=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const m=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const v=[];t.targetChanges.forEach(((R,D)=>{const M=l.get(D);if(!M)return;v.push(i.li.removeMatchingKeys(c,R.removedDocuments,D).next((()=>i.li.addMatchingKeys(c,R.addedDocuments,D))));let $=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(D)!==null?$=$.withResumeToken(Ln.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):R.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(R.resumeToken,r)),l=l.insert(D,$),(function(ne,X,ee){return ne.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=QR?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(M,$,R)&&v.push(i.li.updateTargetData(c,$))}));let E=_s(),g=rt();if(t.documentUpdates.forEach((R=>{t.resolvedLimboDocuments.has(R)&&v.push(i.persistence.referenceDelegate.updateLimboDocument(c,R))})),v.push(ZR(c,m,t.documentUpdates).next((R=>{E=R.Bs,g=R.Ls}))),!r.isEqual(Pe.min())){const R=i.li.getLastRemoteSnapshotVersion(c).next((D=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));v.push(R)}return ce.waitFor(v).next((()=>m.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,E,g))).next((()=>E))})).then((c=>(i.vs=l,c)))}function ZR(a,t,i){let r=rt(),l=rt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let m=_s();return i.forEach(((v,E)=>{const g=c.get(v);E.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(v)),E.isNoDocument()&&E.version.isEqual(Pe.min())?(t.removeEntry(v,E.readTime),m=m.insert(v,E)):!g.isValidDocument()||E.version.compareTo(g.version)>0||E.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(E),m=m.insert(v,E)):Te(rp,"Ignoring outdated watch update for ",v,". Current version:",g.version," Watch version:",E.version)})),{Bs:m,Ls:l}}))}function JR(a,t){const i=Ge(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function eN(a,t){const i=Ge(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,t).next((c=>c?(l=c,ce.resolve(l)):i.li.allocateTargetId(r).next((m=>(l=new er(t,m,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function Cm(a,t,i){const r=Ge(a),l=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(m=>r.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!yl(m))throw m;Te(rp,`Failed to update sequence numbers for target ${t}: ${m}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function t0(a,t,i){const r=Ge(a);let l=Pe.min(),c=rt();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(E,g,R){const D=Ge(E),M=D.Fs.get(R);return M!==void 0?ce.resolve(D.vs.get(M)):D.li.getTargetData(g,R)})(r,m,Oa(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(m,v.targetId).next((E=>{c=E}))})).next((()=>r.Cs.getDocumentsMatchingQuery(m,t,i?l:Pe.min(),i?c:rt()))).next((v=>(tN(r,qA(t),v),{documents:v,ks:c})))))}function tN(a,t,i){let r=a.Ms.get(t)||Pe.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Ms.set(t,r)}class n0{constructor(){this.activeTargetIds=YA()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nN{constructor(){this.vo=new n0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new n0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class iN{Mo(t){}shutdown(){}}const i0="ConnectivityMonitor";class a0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(i0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){Te(i0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function xm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const Zd="RestConnection",aN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class sN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===nf?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,i,r,l,c){const m=xm(),v=this.Qo(t,i.toUriEncodedString());Te(Zd,`Sending RPC '${t}' ${m}:`,v,r);const E={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(E,l,c);const{host:g}=new URL(v),R=Hm(g);return this.zo(t,v,E,r,R).then((D=>(Te(Zd,`Received RPC '${t}' ${m}: `,D),D)),(D=>{throw rl(Zd,`RPC '${t}' ${m} failed with error: `,D,"url: ",v,"request:",r),D}))}jo(t,i,r,l,c,m){return this.Wo(t,i,r,l,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const r=aN[t];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class rN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Fn="WebChannelConnection",ru=(a,t,i)=>{a.listen(t,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class tl extends sN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!tl.c_){const t=fE();ru(t,cE.STAT_EVENT,(i=>{i.stat===gm.PROXY?Te(Fn,"STAT_EVENT: detected buffering proxy"):i.stat===gm.NOPROXY&&Te(Fn,"STAT_EVENT: detected no buffering proxy")})),tl.c_=!0}}zo(t,i,r,l,c){const m=xm();return new Promise(((v,E)=>{const g=new lE;g.setWithCredentials(!0),g.listenOnce(uE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Fc.NO_ERROR:const D=g.getResponseJson();Te(Fn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(D)),v(D);break;case Fc.TIMEOUT:Te(Fn,`RPC '${t}' ${m} timed out`),E(new Se(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=g.getStatus();if(Te(Fn,`RPC '${t}' ${m} failed with status:`,M,"response text:",g.getResponseText()),M>0){let $=g.getResponseJson();Array.isArray($)&&($=$[0]);const J=$?.error;if(J&&J.status&&J.message){const ne=(function(ee){const de=ee.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(de)>=0?de:ue.UNKNOWN})(J.status);E(new Se(ne,J.message))}else E(new Se(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else E(new Se(ue.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:t,streamId:m,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(Fn,`RPC '${t}' ${m} completed.`)}}));const R=JSON.stringify(l);Te(Fn,`RPC '${t}' ${m} sending request:`,l),g.send(i,"POST",R,r,15)}))}T_(t,i,r){const l=xm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=this.createWebChannelTransport(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Go(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const g=c.join("");Te(Fn,`Creating RPC '${t}' stream ${l}: ${g}`,v);const R=m.createWebChannel(g,v);this.I_(R);let D=!1,M=!1;const $=new rN({Ho:J=>{M?Te(Fn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(Te(Fn,`Opening RPC '${t}' stream ${l} transport.`),R.open(),D=!0),Te(Fn,`RPC '${t}' stream ${l} sending:`,J),R.send(J))},Jo:()=>R.close()});return ru(R,uu.EventType.OPEN,(()=>{M||(Te(Fn,`RPC '${t}' stream ${l} transport opened.`),$.i_())})),ru(R,uu.EventType.CLOSE,(()=>{M||(M=!0,Te(Fn,`RPC '${t}' stream ${l} transport closed`),$.o_(),this.E_(R))})),ru(R,uu.EventType.ERROR,(J=>{M||(M=!0,rl(Fn,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.o_(new Se(ue.UNAVAILABLE,"The operation could not be completed")))})),ru(R,uu.EventType.MESSAGE,(J=>{if(!M){const ne=J.data[0];Tt(!!ne,16349);const X=ne,ee=X?.error||X[0]?.error;if(ee){Te(Fn,`RPC '${t}' stream ${l} received error:`,ee);const de=ee.status;let ge=(function(Me){const O=cn[Me];if(O!==void 0)return QE(O)})(de),_e=ee.message;ge===void 0&&(ge=ue.INTERNAL,_e="Unknown error status: "+de+" with message "+ee.message),M=!0,$.o_(new Se(ge,_e)),R.close()}else Te(Fn,`RPC '${t}' stream ${l} received:`,ne),$.__(ne)}})),tl.u_(),setTimeout((()=>{$.s_()}),0),$}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return hE()}}function oN(a){return new tl(a)}function Jd(){return typeof document<"u"?document:null}function Of(a){return new fR(a,!0)}tl.c_=!1;class lb{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&Te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const s0="PersistentStream";class ub{constructor(t,i,r,l,c,m,v,E){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lb(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===ue.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new Se(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Te(s0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(Te(s0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lN extends ub{constructor(t,i,r,l,c,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,m),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=mR(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Pe.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?Pe.min():m.readTime?Ma(m.readTime):Pe.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=Nm(this.serializer),i.addTarget=(function(c,m){let v;const E=m.target;if(v=bm(E)?{documents:yR(c,E)}:{query:_R(c,E).ft},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=$E(c,m.resumeToken);const g=wm(c,m.expectedCount);g!==null&&(v.expectedCount=g)}else if(m.snapshotVersion.compareTo(Pe.min())>0){v.readTime=uf(c,m.snapshotVersion.toTimestamp());const g=wm(c,m.expectedCount);g!==null&&(v.expectedCount=g)}return v})(this.serializer,t);const r=ER(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=Nm(this.serializer),i.removeTarget=t,this.K_(i)}}class uN extends ub{constructor(t,i,r,l,c,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,m),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Tt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Tt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Tt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=gR(t.writeResults,t.commitTime),r=Ma(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Nm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>pR(this.serializer,r)))};this.K_(i)}}class cN{}class fN extends cN{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Wo(t,Am(i,r),l,c,m))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ue.UNKNOWN,c.toString())}))}jo(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,v])=>this.connection.jo(t,Am(i,r),l,m,v,c))).catch((m=>{throw m.name==="FirebaseError"?(m.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Se(ue.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function hN(a,t,i,r){return new fN(a,t,i,r)}class dN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):Te("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class mN{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((m=>{r.enqueueAndForget((async()=>{to(this)&&(Te(Xr,"Restarting streams for network reachability change."),await(async function(E){const g=Ge(E);g.Ea.add(4),await Iu(g),g.Va.set("Unknown"),g.Ea.delete(4),await jf(g)})(this))}))})),this.Va=new dN(r,l)}}async function jf(a){if(to(a))for(const t of a.Ra)await t(!0)}async function Iu(a){for(const t of a.Ra)await t(!1)}function cb(a,t){const i=Ge(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),cp(i)?up(i):_l(i).O_()&&lp(i,t))}function op(a,t){const i=Ge(a),r=_l(i);i.Ia.delete(t),r.O_()&&fb(i,t),i.Ia.size===0&&(r.O_()?r.L_():to(i)&&i.Va.set("Unknown"))}function lp(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pe.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_l(a).Z_(t)}function fb(a,t){a.da.$e(t),_l(a).X_(t)}function up(a){a.da=new oR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),_l(a).start(),a.Va.ua()}function cp(a){return to(a)&&!_l(a).x_()&&a.Ia.size>0}function to(a){return Ge(a).Ea.size===0}function hb(a){a.da=void 0}async function pN(a){a.Va.set("Online")}async function gN(a){a.Ia.forEach(((t,i)=>{lp(a,t)}))}async function yN(a,t){hb(a),cp(a)?(a.Va.ha(t),up(a)):a.Va.set("Unknown")}async function _N(a,t,i){if(a.Va.set("Online"),t instanceof KE&&t.state===2&&t.cause)try{await(async function(l,c){const m=c.cause;for(const v of c.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ia.delete(v),l.da.removeTarget(v))})(a,t)}catch(r){Te(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ff(a,r)}else if(t instanceof Xc?a.da.Xe(t):t instanceof XE?a.da.st(t):a.da.tt(t),!i.isEqual(Pe.min()))try{const r=await ob(a.localStore);i.compareTo(r)>=0&&await(function(c,m){const v=c.da.Tt(m);return v.targetChanges.forEach(((E,g)=>{if(E.resumeToken.approximateByteSize()>0){const R=c.Ia.get(g);R&&c.Ia.set(g,R.withResumeToken(E.resumeToken,m))}})),v.targetMismatches.forEach(((E,g)=>{const R=c.Ia.get(E);if(!R)return;c.Ia.set(E,R.withResumeToken(Ln.EMPTY_BYTE_STRING,R.snapshotVersion)),fb(c,E);const D=new er(R.target,E,g,R.sequenceNumber);lp(c,D)})),c.remoteSyncer.applyRemoteEvent(v)})(a,i)}catch(r){Te(Xr,"Failed to raise snapshot:",r),await ff(a,r)}}async function ff(a,t,i){if(!yl(t))throw t;a.Ea.add(1),await Iu(a),a.Va.set("Offline"),i||(i=()=>ob(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{Te(Xr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await jf(a)}))}function db(a,t){return t().catch((i=>ff(a,i,t)))}async function Mf(a){const t=Ge(a),i=fr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;vN(t);)try{const l=await JR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,EN(t,l)}catch(l){await ff(t,l)}mb(t)&&pb(t)}function vN(a){return to(a)&&a.Ta.length<10}function EN(a,t){a.Ta.push(t);const i=fr(a);i.O_()&&i.Y_&&i.ea(t.mutations)}function mb(a){return to(a)&&!fr(a).x_()&&a.Ta.length>0}function pb(a){fr(a).start()}async function bN(a){fr(a).ra()}async function TN(a){const t=fr(a);for(const i of a.Ta)t.ea(i.mutations)}async function SN(a,t,i){const r=a.Ta.shift(),l=ep.from(r,t,i);await db(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Mf(a)}async function wN(a,t){t&&fr(a).Y_&&await(async function(r,l){if((function(m){return aR(m)&&m!==ue.ABORTED})(l.code)){const c=r.Ta.shift();fr(r).B_(),await db(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mf(r)}})(a,t),mb(a)&&pb(a)}async function r0(a,t){const i=Ge(a);i.asyncQueue.verifyOperationInProgress(),Te(Xr,"RemoteStore received new credentials");const r=to(i);i.Ea.add(3),await Iu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await jf(i)}async function AN(a,t){const i=Ge(a);t?(i.Ea.delete(2),await jf(i)):t||(i.Ea.add(2),await Iu(i),i.Va.set("Unknown"))}function _l(a){return a.ma||(a.ma=(function(i,r,l){const c=Ge(i);return c.sa(),new lN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:pN.bind(null,a),Yo:gN.bind(null,a),t_:yN.bind(null,a),J_:_N.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),cp(a)?up(a):a.Va.set("Unknown")):(await a.ma.stop(),hb(a))}))),a.ma}function fr(a){return a.fa||(a.fa=(function(i,r,l){const c=Ge(i);return c.sa(),new uN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bN.bind(null,a),t_:wN.bind(null,a),ta:TN.bind(null,a),na:SN.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await Mf(a)):(await a.fa.stop(),a.Ta.length>0&&(Te(Xr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class fp{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const m=Date.now()+r,v=new fp(t,i,m,l,c);return v.start(r),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(a,t){if(ys("AsyncQueue",`${t}: ${a}`),yl(a))return new Se(ue.UNAVAILABLE,`${t}: ${a}`);throw a}class nl{static emptySet(t){return new nl(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||je.comparator(i.key,r.key):(i,r)=>je.comparator(i.key,r.key),this.keyedMap=cu(),this.sortedSet=new Qt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof nl)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new nl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class o0{constructor(){this.ga=new Qt(je.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Ue(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class hl{constructor(t,i,r,l,c,m,v,E,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=E,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,l,c){const m=[];return i.forEach((v=>{m.push({type:0,doc:v})})),new hl(t,i,nl.emptySet(i),m,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class RN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class NN{constructor(){this.queries=l0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ge(i),c=l.queries;l.queries=l0(),c.forEach(((m,v)=>{for(const E of v.ba)E.onError(r)}))})(this,new Se(ue.ABORTED,"Firestore shutting down"))}}function l0(){return new Jr((a=>kE(a)),Nf)}async function CN(a,t){const i=Ge(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new RN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(m){const v=hp(m,`Initialization of query '${Zo(t.query)}' failed`);return void t.onError(v)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&dp(i)}async function xN(a,t){const i=Ge(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const m=c.ba.indexOf(t);m>=0&&(c.ba.splice(m,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function DN(a,t){const i=Ge(a);let r=!1;for(const l of t){const c=l.query,m=i.queries.get(c);if(m){for(const v of m.ba)v.Fa(l)&&(r=!0);m.wa=l}}r&&dp(i)}function IN(a,t,i){const r=Ge(a),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(t)}function dp(a){a.Ca.forEach((t=>{t.next()}))}var Dm,u0;(u0=Dm||(Dm={})).Ma="default",u0.Cache="cache";class ON{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new hl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=hl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dm.Cache}}class gb{constructor(t){this.key=t}}class yb{constructor(t){this.key=t}}class jN{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.eu=LE(t),this.tu=new nl(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new o0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,m=l,v=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((R,D)=>{const M=l.get(R),$=Cf(this.query,D)?D:null,J=!!M&&this.mutatedKeys.has(M.key),ne=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let X=!1;M&&$?M.data.isEqual($.data)?J!==ne&&(r.track({type:3,doc:$}),X=!0):this.su(M,$)||(r.track({type:2,doc:$}),X=!0,(E&&this.eu($,E)>0||g&&this.eu($,g)<0)&&(v=!0)):!M&&$?(r.track({type:0,doc:$}),X=!0):M&&!$&&(r.track({type:1,doc:M}),X=!0,(E||g)&&(v=!0)),X&&($?(m=m.add($),c=ne?c.add(R):c.delete(R)):(m=m.delete(R),c=c.delete(R)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const R=this.query.limitType==="F"?m.last():m.first();m=m.delete(R.key),c=c.delete(R.key),r.track({type:1,doc:R})}return{tu:m,iu:r,Ss:v,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((R,D)=>(function($,J){const ne=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:X})}};return ne($)-ne(J)})(R.type,D.type)||this.eu(R.doc,D.doc))),this.ou(r),l=l??!1;const v=i&&!l?this._u():[],E=this.Ya.size===0&&this.current&&!l?1:0,g=E!==this.Xa;return this.Xa=E,m.length!==0||g?{snapshot:new hl(this.query,t.tu,c,m,t.mutatedKeys,E===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new yb(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new gb(r))})),i}cu(t){this.Za=t.ks,this.Ya=rt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mp="SyncEngine";class MN{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class kN{constructor(t){this.key=t,this.hu=!1}}class LN{constructor(t,i,r,l,c,m){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Jr((v=>kE(v)),Nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qt(je.comparator),this.Au=new Map,this.Vu=new ip,this.du={},this.mu=new Map,this.fu=fl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VN(a,t,i=!0){const r=Sb(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await _b(r,t,i,!0),l}async function UN(a,t){const i=Sb(a);await _b(i,t,!0,!1)}async function _b(a,t,i,r){const l=await eN(a.localStore,Oa(t)),c=l.targetId,m=a.sharedClientState.addLocalQueryTarget(c,i);let v;return r&&(v=await BN(a,t,c,m==="current",l.resumeToken)),a.isPrimaryClient&&i&&cb(a.remoteStore,l),v}async function BN(a,t,i,r,l){a.pu=(D,M,$)=>(async function(ne,X,ee,de){let ge=X.view.ru(ee);ge.Ss&&(ge=await t0(ne.localStore,X.query,!1).then((({documents:O})=>X.view.ru(O,ge))));const _e=de&&de.targetChanges.get(X.targetId),xe=de&&de.targetMismatches.get(X.targetId)!=null,Me=X.view.applyChanges(ge,ne.isPrimaryClient,_e,xe);return f0(ne,X.targetId,Me.au),Me.snapshot})(a,D,M,$);const c=await t0(a.localStore,t,!0),m=new jN(t,c.ks),v=m.ru(c.documents),E=Du.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),g=m.applyChanges(v,a.isPrimaryClient,E);f0(a,i,g.au);const R=new MN(t,i,m);return a.Tu.set(t,R),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),g.snapshot}async function qN(a,t,i){const r=Ge(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((m=>!Nf(m,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Cm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&op(r.remoteStore,l.targetId),Im(r,l.targetId)})).catch(gl)):(Im(r,l.targetId),await Cm(r.localStore,l.targetId,!0))}async function PN(a,t){const i=Ge(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),op(i.remoteStore,r.targetId))}async function zN(a,t,i){const r=KN(a);try{const l=await(function(m,v){const E=Ge(m),g=Bt.now(),R=v.reduce((($,J)=>$.add(J.key)),rt());let D,M;return E.persistence.runTransaction("Locally write mutations","readwrite",($=>{let J=_s(),ne=rt();return E.xs.getEntries($,R).next((X=>{J=X,J.forEach(((ee,de)=>{de.isValidDocument()||(ne=ne.add(ee))}))})).next((()=>E.localDocuments.getOverlayedDocuments($,J))).next((X=>{D=X;const ee=[];for(const de of v){const ge=JA(de,D.get(de.key).overlayedDocument);ge!=null&&ee.push(new eo(de.key,ge,RE(ge.value.mapValue),ja.exists(!0)))}return E.mutationQueue.addMutationBatch($,g,ee,v)})).next((X=>{M=X;const ee=X.applyToLocalDocumentSet(D,ne);return E.documentOverlayCache.saveOverlays($,X.batchId,ee)}))})).then((()=>({batchId:M.batchId,changes:UE(D)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(m,v,E){let g=m.du[m.currentUser.toKey()];g||(g=new Qt(st)),g=g.insert(v,E),m.du[m.currentUser.toKey()]=g})(r,l.batchId,i),await Ou(r,l.changes),await Mf(r.remoteStore)}catch(l){const c=hp(l,"Failed to persist write");i.reject(c)}}async function vb(a,t){const i=Ge(a);try{const r=await WR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const m=i.Au.get(c);m&&(Tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?Tt(m.hu,14607):l.removedDocuments.size>0&&(Tt(m.hu,42227),m.hu=!1))})),await Ou(i,r,t)}catch(r){await gl(r)}}function c0(a,t,i){const r=Ge(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,m)=>{const v=m.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(m,v){const E=Ge(m);E.onlineState=v;let g=!1;E.queries.forEach(((R,D)=>{for(const M of D.ba)M.va(v)&&(g=!0)})),g&&dp(E)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function HN(a,t,i){const r=Ge(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let m=new Qt(je.comparator);m=m.insert(c,Yn.newNoDocument(c,Pe.min()));const v=rt().add(c),E=new If(Pe.min(),new Map,new Qt(st),m,v);await vb(r,E),r.Ru=r.Ru.remove(c),r.Au.delete(t),pp(r)}else await Cm(r.localStore,t,!1).then((()=>Im(r,t,i))).catch(gl)}async function FN(a,t){const i=Ge(a),r=t.batch.batchId;try{const l=await $R(i.localStore,t);bb(i,r,null),Eb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(i,l)}catch(l){await gl(l)}}async function GN(a,t,i){const r=Ge(a);try{const l=await(function(m,v){const E=Ge(m);return E.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let R;return E.mutationQueue.lookupMutationBatch(g,v).next((D=>(Tt(D!==null,37113),R=D.keys(),E.mutationQueue.removeMutationBatch(g,D)))).next((()=>E.mutationQueue.performConsistencyCheck(g))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(g,R,v))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,R))).next((()=>E.localDocuments.getDocuments(g,R)))}))})(r.localStore,t);bb(r,t,i),Eb(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Ou(r,l)}catch(l){await gl(l)}}function Eb(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function bb(a,t,i){const r=Ge(a);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function Im(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((r=>{a.Vu.containsKey(r)||Tb(a,r)}))}function Tb(a,t){a.Eu.delete(t.path.canonicalString());const i=a.Ru.get(t);i!==null&&(op(a.remoteStore,i),a.Ru=a.Ru.remove(t),a.Au.delete(i),pp(a))}function f0(a,t,i){for(const r of i)r instanceof gb?(a.Vu.addReference(r.key,t),YN(a,r)):r instanceof yb?(Te(mp,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,t),a.Vu.containsKey(r.key)||Tb(a,r.key)):Ue(19791,{wu:r})}function YN(a,t){const i=t.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(Te(mp,"New document in limbo: "+i),a.Eu.add(r),pp(a))}function pp(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new je(kt.fromString(t)),r=a.fu.next();a.Au.set(r,new kN(i)),a.Ru=a.Ru.insert(i,r),cb(a.remoteStore,new er(Oa(jE(i.path)),r,"TargetPurposeLimboResolution",wf.ce))}}async function Ou(a,t,i){const r=Ge(a),l=[],c=[],m=[];r.Tu.isEmpty()||(r.Tu.forEach(((v,E)=>{m.push(r.pu(E,t,i).then((g=>{if((g||i)&&r.isPrimaryClient){const R=g?!g.fromCache:i?.targetChanges.get(E.targetId)?.current;r.sharedClientState.updateQueryState(E.targetId,R?"current":"not-current")}if(g){l.push(g);const R=sp.Es(E.targetId,g);c.push(R)}})))})),await Promise.all(m),r.Pu.J_(l),await(async function(E,g){const R=Ge(E);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>ce.forEach(g,(M=>ce.forEach(M.Ts,($=>R.persistence.referenceDelegate.addReference(D,M.targetId,$))).next((()=>ce.forEach(M.Is,($=>R.persistence.referenceDelegate.removeReference(D,M.targetId,$)))))))))}catch(D){if(!yl(D))throw D;Te(rp,"Failed to update sequence numbers: "+D)}for(const D of g){const M=D.targetId;if(!D.fromCache){const $=R.vs.get(M),J=$.snapshotVersion,ne=$.withLastLimboFreeSnapshotVersion(J);R.vs=R.vs.insert(M,ne)}}})(r.localStore,c))}async function QN(a,t){const i=Ge(a);if(!i.currentUser.isEqual(t)){Te(mp,"User change. New user:",t.toKey());const r=await rb(i.localStore,t);i.currentUser=t,(function(c,m){c.mu.forEach((v=>{v.forEach((E=>{E.reject(new Se(ue.CANCELLED,m))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ou(i,r.Ns)}}function XN(a,t){const i=Ge(a),r=i.Au.get(t);if(r&&r.hu)return rt().add(r.key);{let l=rt();const c=i.Iu.get(t);if(!c)return l;for(const m of c){const v=i.Tu.get(m);l=l.unionWith(v.view.nu)}return l}}function Sb(a){const t=Ge(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HN.bind(null,t),t.Pu.J_=DN.bind(null,t.eventManager),t.Pu.yu=IN.bind(null,t.eventManager),t}function KN(a){const t=Ge(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GN.bind(null,t),t}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Of(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return KR(this.persistence,new YR,t.initialUser,this.serializer)}Cu(t){return new sb(ap.Vi,this.serializer)}Du(t){return new nN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class $N extends hf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Tt(this.persistence.referenceDelegate instanceof cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new sb((r=>cf.Vi(r,i)),this.serializer)}}class Om{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QN.bind(null,this.syncEngine),await AN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new NN})()}createDatastore(t){const i=Of(t.databaseInfo.databaseId),r=oN(t.databaseInfo);return hN(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,m,v){return new mN(r,l,c,m,v)})(this.localStore,this.datastore,t.asyncQueue,(i=>c0(this.syncEngine,i,0)),(function(){return a0.v()?new a0:new iN})())}createSyncEngine(t,i){return(function(l,c,m,v,E,g,R){const D=new LN(l,c,m,v,E,g);return R&&(D.gu=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ge(i);Te(Xr,"RemoteStore shutting down."),r.Ea.add(5),await Iu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class WN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const hr="FirestoreClient";class ZN{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=Gn.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async m=>{Te(hr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(Te(hr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=hp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function em(a,t){a.asyncQueue.verifyOperationInProgress(),Te(hr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await rb(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function h0(a,t){a.asyncQueue.verifyOperationInProgress();const i=await JN(a);Te(hr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>r0(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>r0(t.remoteStore,l))),a._onlineComponents=t}async function JN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Te(hr,"Using user provided OfflineComponentProvider");try{await em(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ue.FAILED_PRECONDITION||l.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;rl("Error using user provided cache. Falling back to memory cache: "+i),await em(a,new hf)}}else Te(hr,"Using default OfflineComponentProvider"),await em(a,new $N(void 0));return a._offlineComponents}async function wb(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Te(hr,"Using user provided OnlineComponentProvider"),await h0(a,a._uninitializedComponentsProvider._online)):(Te(hr,"Using default OnlineComponentProvider"),await h0(a,new Om))),a._onlineComponents}function eC(a){return wb(a).then((t=>t.syncEngine))}async function tC(a){const t=await wb(a),i=t.eventManager;return i.onListen=VN.bind(null,t.syncEngine),i.onUnlisten=qN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=UN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=PN.bind(null,t.syncEngine),i}function nC(a,t,i={}){const r=new ar;return a.asyncQueue.enqueueAndForget((async()=>(function(c,m,v,E,g){const R=new WN({next:M=>{R.Nu(),m.enqueueAndForget((()=>xN(c,D))),M.fromCache&&E.source==="server"?g.reject(new Se(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(M)},error:M=>g.reject(M)}),D=new ON(v,R,{includeMetadataChanges:!0,Ka:!0});return CN(c,D)})(await tC(a),a.asyncQueue,t,i,r))),r.promise}function iC(a,t){const i=new ar;return a.asyncQueue.enqueueAndForget((async()=>zN(await eC(a),t,i))),i.promise}function Ab(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const aC="ComponentProvider",d0=new Map;function sC(a,t,i,r,l){return new TA(a,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Ab(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const Rb="firestore.googleapis.com",m0=!0;class p0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Se(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rb,this.ssl=m0}else this.host=t.host,this.ssl=t.ssl??m0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ab;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xR)throw new Se(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kf{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Se(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tA;switch(r.type){case"firstParty":return new sA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=d0.get(i);r&&(Te(aC,"Removing Datastore"),d0.delete(i),r.terminate())})(this),Promise.resolve()}}function rC(a,t,i,r={}){a=ll(a,kf);const l=Hm(t),c=a._getSettings(),m={...c,emulatorOptions:a._getEmulatorOptions()},v=`${t}:${i}`;l&&(Iw(`https://${v}`),kw("Firestore",!0)),c.host!==Rb&&c.host!==v&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:v,ssl:l,emulatorOptions:r};if(!Jc(E,m)&&(a._setSettings(E),r.mockUserToken)){let g,R;if(typeof r.mockUserToken=="string")g=r.mockUserToken,R=Gn.MOCK_USER;else{g=Ow(r.mockUserToken,a._app?.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new Se(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Gn(D)}a._authCredentials=new nA(new mE(g,R))}}class vl{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new vl(this.firestore,t,this._query)}}class pn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Nu(i,pn._jsonSchema))return new pn(t,r||null,new je(kt.fromString(i.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:hn("string",pn._jsonSchemaVersion),referencePath:hn("string")};class sr extends vl{constructor(t,i,r){super(t,i,jE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new je(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function oC(a,t,...i){if(a=ms(a),pE("collection","path",t),a instanceof kf){const r=kt.fromString(t,...i);return Cv(r),new sr(a,null,r)}{if(!(a instanceof pn||a instanceof sr))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(kt.fromString(t,...i));return Cv(r),new sr(a.firestore,null,r)}}function no(a,t,...i){if(a=ms(a),arguments.length===1&&(t=Ym.newId()),pE("doc","path",t),a instanceof kf){const r=kt.fromString(t,...i);return Nv(r),new pn(a,null,new je(r))}{if(!(a instanceof pn||a instanceof sr))throw new Se(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(kt.fromString(t,...i));return Nv(r),new pn(a.firestore,a instanceof sr?a.converter:null,new je(r))}}const g0="AsyncQueue";class y0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lb(this,"async_queue_retry"),this._c=()=>{const r=Jd();r&&Te(g0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!yl(t))throw t;Te(g0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",_0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=fp.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ue(47125,{Pc:_0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function _0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Lf extends kf{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new y0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y0(t),this._firestoreClient=void 0,await t}}}function lC(a,t){const i=typeof a=="object"?a:aE(),r=typeof a=="string"?a:nf,l=Tf(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=xw("firestore");c&&rC(l,...c)}return l}function Nb(a){if(a._terminated)throw new Se(ue.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||uC(a),a._firestoreClient}function uC(a){const t=a._freezeSettings(),i=sC(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new ZN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Ji{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ji(Ln.fromBase64String(t))}catch(i){throw new Se(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ji(Ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Nu(t,Ji._jsonSchema))return Ji.fromBase64String(t.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:hn("string",Ji._jsonSchemaVersion),bytes:hn("string")};class Cb{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new Se(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xb{constructor(t){this._methodName=t}}class ka{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Se(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Se(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return st(this._lat,t._lat)||st(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ka._jsonSchemaVersion}}static fromJSON(t){if(Nu(t,ka._jsonSchema))return new ka(t.latitude,t.longitude)}}ka._jsonSchemaVersion="firestore/geoPoint/1.0",ka._jsonSchema={type:hn("string",ka._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};class fa{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Nu(t,fa._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new fa(t.vectorValues);throw new Se(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fa._jsonSchemaVersion="firestore/vectorValue/1.0",fa._jsonSchema={type:hn("string",fa._jsonSchemaVersion),vectorValues:hn("object")};const cC=/^__.*__$/;class fC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new eo(t,this.data,this.fieldMask,i,this.fieldTransforms):new xu(t,this.data,i,this.fieldTransforms)}}function Db(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:a})}}class gp{constructor(t,i,r,l,c,m){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=m||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new gp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return df(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(Db(this.dataSource)&&cC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class hC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Of(t)}createContext(t,i,r,l=!1){return new gp({dataSource:t,methodName:i,targetDoc:r,path:kn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ib(a){const t=a._freezeSettings(),i=Of(a._databaseId);return new hC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function dC(a,t,i,r,l,c={}){const m=a.createContext(c.merge||c.mergeFields?2:0,t,i,l);Mb("Data must be an object, but it was:",m,r);const v=Ob(r,m);let E,g;if(c.merge)E=new ca(m.fieldMask),g=m.fieldTransforms;else if(c.mergeFields){const R=[];for(const D of c.mergeFields){const M=Vf(t,D,i);if(!m.contains(M))throw new Se(ue.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);yC(R,M)||R.push(M)}E=new ca(R),g=m.fieldTransforms.filter((D=>E.covers(D.field)))}else E=null,g=m.fieldTransforms;return new fC(new Zi(v),E,g)}function mC(a,t,i,r=!1){return yp(i,a.createContext(r?4:3,t))}function yp(a,t){if(jb(a=ms(a)))return Mb("Unsupported field value:",t,a),Ob(a,t);if(a instanceof xb)return(function(r,l){if(!Db(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let m=0;for(const v of r){let E=yp(v,l.childContextForArray(m));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),m++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=ms(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QA(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Bt.fromDate(r);return{timestampValue:uf(l.serializer,c)}}if(r instanceof Bt){const c=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(l.serializer,c)}}if(r instanceof ka)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:$E(l.serializer,r._byteString)};if(r instanceof pn){const c=l.databaseId,m=r.firestore._databaseId;if(!m.isEqual(c))throw l.createError(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:np(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof fa)return(function(m,v){const E=m instanceof fa?m.toArray():m;return{mapValue:{fields:{[wE]:{stringValue:AE},[af]:{arrayValue:{values:E.map((R=>{if(typeof R!="number")throw v.createError("VectorValues must only contain numeric values.");return Zm(v.serializer,R)}))}}}}}})(r,l);if(ib(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Sf(r)}`)})(a,t)}function Ob(a,t){const i={};return _E(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(a,((r,l)=>{const c=yp(l,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function jb(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Bt||a instanceof ka||a instanceof Ji||a instanceof pn||a instanceof xb||a instanceof fa||ib(a))}function Mb(a,t,i){if(!jb(i)||!gE(i)){const r=Sf(i);throw r==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+r)}}function Vf(a,t,i){if((t=ms(t))instanceof Cb)return t._internalPath;if(typeof t=="string")return gC(a,t);throw df("Field path arguments must be of type string or ",a,!1,void 0,i)}const pC=new RegExp("[~\\*/\\[\\]]");function gC(a,t,i){if(t.search(pC)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Cb(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function df(a,t,i,r,l){const c=r&&!r.isEmpty(),m=l!==void 0;let v=`Function ${t}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let E="";return(c||m)&&(E+=" (found",c&&(E+=` in field ${r}`),m&&(E+=` in document ${l}`),E+=")"),new Se(ue.INVALID_ARGUMENT,v+a+E)}function yC(a,t){return a.some((i=>i.isEqual(t)))}class _C{convertValue(t,i="none"){switch(cr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ue(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Zr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[af].arrayValue?.values?.map((r=>nn(r.doubleValue)));return new fa(i)}convertGeoPoint(t){return new ka(nn(t.latitude),nn(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Rf(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(vu(t));default:return null}}convertTimestamp(t){const i=lr(t);return new Bt(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=kt.fromString(t);Tt(nb(r),9688,{name:t});const l=new Eu(r.get(1),r.get(3)),c=new je(r.popFirst(5));return l.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class vC extends _C{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ji(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,i)}}const v0="@firebase/firestore",E0="4.10.0";class kb{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new EC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Vf("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class EC extends kb{data(){return super.data()}}function bC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Se(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class TC extends _p{}function SC(a,t,...i){let r=[];t instanceof _p&&r.push(t),r=r.concat(i),(function(c){const m=c.filter((E=>E instanceof vp)).length,v=c.filter((E=>E instanceof Uf)).length;if(m>1||m>0&&v>0)throw new Se(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)a=l._apply(a);return a}class Uf extends TC{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Uf(t,i,r)}_apply(t){const i=this._parse(t);return Lb(t._query,i),new vl(t.firestore,t.converter,Tm(t._query,i))}_parse(t){const i=Ib(t.firestore);return(function(c,m,v,E,g,R,D){let M;if(g.isKeyField()){if(R==="array-contains"||R==="array-contains-any")throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${R}' queries on documentId().`);if(R==="in"||R==="not-in"){S0(D,R);const J=[];for(const ne of D)J.push(T0(E,c,ne));M={arrayValue:{values:J}}}else M=T0(E,c,D)}else R!=="in"&&R!=="not-in"&&R!=="array-contains-any"||S0(D,R),M=mC(v,m,D,R==="in"||R==="not-in");return fn.create(g,R,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function b0(a,t,i){const r=t,l=Vf("where",a);return Uf._create(l,r,i)}class vp extends _p{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new vp(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ha.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let m=l;const v=c.getFlattenedFilters();for(const E of v)Lb(m,E),m=Tm(m,E)})(t._query,i),new vl(t.firestore,t.converter,Tm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(a,t,i){if(typeof(i=ms(i))=="string"){if(i==="")throw new Se(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(t)&&i.indexOf("/")!==-1)throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(kt.fromString(i));if(!je.isDocumentKey(r))throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lv(a,new je(r))}if(i instanceof pn)return Lv(a,i._key);throw new Se(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(i)}.`)}function S0(a,t){if(!Array.isArray(a)||a.length===0)throw new Se(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Lb(a,t){const i=(function(l,c){for(const m of l)for(const v of m.getFlattenedFilters())if(c.indexOf(v.op)>=0)return v.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Se(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function wC(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class Pc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class il extends kb{constructor(t,i,r,l,c,m){super(t,i,r,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Vf("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=il._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}il._jsonSchemaVersion="firestore/documentSnapshot/1.0",il._jsonSchema={type:hn("string",il._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class Kc extends il{data(t={}){return super.data(t)}}class al{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Pc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Kc(this._firestore,this._userDataWriter,r.key,r,new Pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Se(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((v=>{const E=new Kc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Pc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:E,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>c||v.type!==3)).map((v=>{const E=new Kc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Pc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,R=-1;return v.type!==0&&(g=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),R=m.indexOf(v.doc.key)),{type:AC(v.type),doc:E,oldIndex:g,newIndex:R}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=al._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:a})}}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:hn("string",al._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};function RC(a){a=ll(a,vl);const t=ll(a.firestore,Lf),i=Nb(t),r=new vC(t);return bC(a._query),nC(i,a._query).then((l=>new al(t,r,a,l)))}function Ep(a,t,i){a=ll(a,pn);const r=ll(a.firestore,Lf),l=wC(a.converter,t),c=Ib(r);return Vb(r,[dC(c,"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,ja.none())])}function Bf(a){return Vb(ll(a.firestore,Lf),[new Jm(a._key,ja.none())])}function Vb(a,t){const i=Nb(a);return iC(i,t)}(function(t,i=!0){eA(P2),rr(new ps("firestore",((r,{instanceIdentifier:l,options:c})=>{const m=r.getProvider("app").getImmediate(),v=new Lf(new iA(r.getProvider("auth-internal")),new rA(m,r.getProvider("app-check-internal")),SA(m,l),m);return c={useFetchStreams:i,...c},v._setSettings(c),v}),"PUBLIC").setMultipleInstances(!0)),Ia(v0,E0,t),Ia(v0,E0,"esm2020")})();const Ub="@firebase/installations",bp="0.6.19";const Bb=1e4,qb=`w:${bp}`,Pb="FIS_v2",NC="https://firebaseinstallations.googleapis.com/v1",CC=3600*1e3,xC="installations",DC="Installations";const IC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Kr=new Ef(xC,DC,IC);function zb(a){return a instanceof Wr&&a.code.includes("request-failed")}function Hb({projectId:a}){return`${NC}/projects/${a}/installations`}function Fb(a){return{token:a.token,requestStatus:2,expiresIn:jC(a.expiresIn),creationTime:Date.now()}}async function Gb(a,t){const r=(await t.json()).error;return Kr.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Yb({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function OC(a,{refreshToken:t}){const i=Yb(a);return i.append("Authorization",MC(t)),i}async function Qb(a){const t=await a();return t.status>=500&&t.status<600?a():t}function jC(a){return Number(a.replace("s","000"))}function MC(a){return`${Pb} ${a}`}async function kC({appConfig:a,heartbeatServiceProvider:t},{fid:i}){const r=Hb(a),l=Yb(a),c=t.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={fid:i,authVersion:Pb,appId:a.appId,sdkVersion:qb},v={method:"POST",headers:l,body:JSON.stringify(m)},E=await Qb(()=>fetch(r,v));if(E.ok){const g=await E.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:Fb(g.authToken)}}else throw await Gb("Create Installation",E)}function Xb(a){return new Promise(t=>{setTimeout(t,a)})}function LC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const VC=/^[cdef][\w-]{21}$/,jm="";function UC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=BC(a);return VC.test(i)?i:jm}catch{return jm}}function BC(a){return LC(a).substr(0,22)}function qf(a){return`${a.appName}!${a.appId}`}const Kb=new Map;function $b(a,t){const i=qf(a);Wb(i,t),qC(i,t)}function Wb(a,t){const i=Kb.get(a);if(i)for(const r of i)r(t)}function qC(a,t){const i=PC();i&&i.postMessage({key:a,fid:t}),zC()}let Yr=null;function PC(){return!Yr&&"BroadcastChannel"in self&&(Yr=new BroadcastChannel("[Firebase] FID Change"),Yr.onmessage=a=>{Wb(a.data.key,a.data.fid)}),Yr}function zC(){Kb.size===0&&Yr&&(Yr.close(),Yr=null)}const HC="firebase-installations-database",FC=1,$r="firebase-installations-store";let tm=null;function Tp(){return tm||(tm=bf(HC,FC,{upgrade:(a,t)=>{t===0&&a.createObjectStore($r)}})),tm}async function mf(a,t){const i=qf(a),l=(await Tp()).transaction($r,"readwrite"),c=l.objectStore($r),m=await c.get(i);return await c.put(t,i),await l.done,(!m||m.fid!==t.fid)&&$b(a,t.fid),t}async function Zb(a){const t=qf(a),r=(await Tp()).transaction($r,"readwrite");await r.objectStore($r).delete(t),await r.done}async function Pf(a,t){const i=qf(a),l=(await Tp()).transaction($r,"readwrite"),c=l.objectStore($r),m=await c.get(i),v=t(m);return v===void 0?await c.delete(i):await c.put(v,i),await l.done,v&&(!m||m.fid!==v.fid)&&$b(a,v.fid),v}async function Sp(a){let t;const i=await Pf(a.appConfig,r=>{const l=GC(r),c=YC(a,l);return t=c.registrationPromise,c.installationEntry});return i.fid===jm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function GC(a){const t=a||{fid:UC(),registrationStatus:0};return Jb(t)}function YC(a,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Kr.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=QC(a,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:XC(a)}:{installationEntry:t}}async function QC(a,t){try{const i=await kC(a,t);return mf(a.appConfig,i)}catch(i){throw zb(i)&&i.customData.serverCode===409?await Zb(a.appConfig):await mf(a.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function XC(a){let t=await w0(a.appConfig);for(;t.registrationStatus===1;)await Xb(100),t=await w0(a.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Sp(a);return r||i}return t}function w0(a){return Pf(a,t=>{if(!t)throw Kr.create("installation-not-found");return Jb(t)})}function Jb(a){return KC(a)?{fid:a.fid,registrationStatus:0}:a}function KC(a){return a.registrationStatus===1&&a.registrationTime+Bb<Date.now()}async function $C({appConfig:a,heartbeatServiceProvider:t},i){const r=WC(a,i),l=OC(a,i),c=t.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const m={installation:{sdkVersion:qb,appId:a.appId}},v={method:"POST",headers:l,body:JSON.stringify(m)},E=await Qb(()=>fetch(r,v));if(E.ok){const g=await E.json();return Fb(g)}else throw await Gb("Generate Auth Token",E)}function WC(a,{fid:t}){return`${Hb(a)}/${t}/authTokens:generate`}async function wp(a,t=!1){let i;const r=await Pf(a.appConfig,c=>{if(!eT(c))throw Kr.create("not-registered");const m=c.authToken;if(!t&&ex(m))return c;if(m.requestStatus===1)return i=ZC(a,t),c;{if(!navigator.onLine)throw Kr.create("app-offline");const v=nx(c);return i=JC(a,v),v}});return i?await i:r.authToken}async function ZC(a,t){let i=await A0(a.appConfig);for(;i.authToken.requestStatus===1;)await Xb(100),i=await A0(a.appConfig);const r=i.authToken;return r.requestStatus===0?wp(a,t):r}function A0(a){return Pf(a,t=>{if(!eT(t))throw Kr.create("not-registered");const i=t.authToken;return ix(i)?{...t,authToken:{requestStatus:0}}:t})}async function JC(a,t){try{const i=await $C(a,t),r={...t,authToken:i};return await mf(a.appConfig,r),i}catch(i){if(zb(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Zb(a.appConfig);else{const r={...t,authToken:{requestStatus:0}};await mf(a.appConfig,r)}throw i}}function eT(a){return a!==void 0&&a.registrationStatus===2}function ex(a){return a.requestStatus===2&&!tx(a)}function tx(a){const t=Date.now();return t<a.creationTime||a.creationTime+a.expiresIn<t+CC}function nx(a){const t={requestStatus:1,requestTime:Date.now()};return{...a,authToken:t}}function ix(a){return a.requestStatus===1&&a.requestTime+Bb<Date.now()}async function ax(a){const t=a,{installationEntry:i,registrationPromise:r}=await Sp(t);return r?r.catch(console.error):wp(t).catch(console.error),i.fid}async function sx(a,t=!1){const i=a;return await rx(i),(await wp(i,t)).token}async function rx(a){const{registrationPromise:t}=await Sp(a);t&&await t}function ox(a){if(!a||!a.options)throw nm("App Configuration");if(!a.name)throw nm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!a.options[i])throw nm(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function nm(a){return Kr.create("missing-app-config-values",{valueName:a})}const tT="installations",lx="installations-internal",ux=a=>{const t=a.getProvider("app").getImmediate(),i=ox(t),r=Tf(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},cx=a=>{const t=a.getProvider("app").getImmediate(),i=Tf(t,tT).getImmediate();return{getId:()=>ax(i),getToken:l=>sx(i,l)}};function fx(){rr(new ps(tT,ux,"PUBLIC")),rr(new ps(lx,cx,"PRIVATE"))}fx();Ia(Ub,bp);Ia(Ub,bp,"esm2020");const hx="/firebase-messaging-sw.js",dx="/firebase-cloud-messaging-push-scope",nT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mx="https://fcmregistrations.googleapis.com/v1",iT="google.c.a.c_id",px="google.c.a.c_l",gx="google.c.a.ts",yx="google.c.a.e",R0=1e4;var N0;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(N0||(N0={}));var wu;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(wu||(wu={}));function us(a){const t=new Uint8Array(a);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _x(a){const t="=".repeat((4-a.length%4)%4),i=(a+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(i),l=new Uint8Array(r.length);for(let c=0;c<r.length;++c)l[c]=r.charCodeAt(c);return l}const im="fcm_token_details_db",vx=5,C0="fcm_token_object_Store";async function Ex(a){if("databases"in indexedDB&&!(await indexedDB.databases()).map(c=>c.name).includes(im))return null;let t=null;return(await bf(im,vx,{upgrade:async(r,l,c,m)=>{if(l<2||!r.objectStoreNames.contains(C0))return;const v=m.objectStore(C0),E=await v.index("fcmSenderId").get(a);if(await v.clear(),!!E){if(l===2){const g=E;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:us(g.vapidKey)}}}else if(l===3){const g=E;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:us(g.auth),p256dh:us(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:us(g.vapidKey)}}}else if(l===4){const g=E;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:us(g.auth),p256dh:us(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:us(g.vapidKey)}}}}}})).close(),await Qd(im),await Qd("fcm_vapid_details_db"),await Qd("undefined"),bx(t)?t:null}function bx(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:t}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const Tx="firebase-messaging-database",Sx=1,Au="firebase-messaging-store";let am=null;function aT(){return am||(am=bf(Tx,Sx,{upgrade:(a,t)=>{t===0&&a.createObjectStore(Au)}})),am}async function wx(a){const t=sT(a),r=await(await aT()).transaction(Au).objectStore(Au).get(t);if(r)return r;{const l=await Ex(a.appConfig.senderId);if(l)return await Ap(a,l),l}}async function Ap(a,t){const i=sT(a),l=(await aT()).transaction(Au,"readwrite");return await l.objectStore(Au).put(t,i),await l.done,t}function sT({appConfig:a}){return a.appId}const Ax={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Qn=new Ef("messaging","Messaging",Ax);async function Rx(a,t){const i=await Np(a),r=rT(t),l={method:"POST",headers:i,body:JSON.stringify(r)};let c;try{c=await(await fetch(Rp(a.appConfig),l)).json()}catch(m){throw Qn.create("token-subscribe-failed",{errorInfo:m?.toString()})}if(c.error){const m=c.error.message;throw Qn.create("token-subscribe-failed",{errorInfo:m})}if(!c.token)throw Qn.create("token-subscribe-no-token");return c.token}async function Nx(a,t){const i=await Np(a),r=rT(t.subscriptionOptions),l={method:"PATCH",headers:i,body:JSON.stringify(r)};let c;try{c=await(await fetch(`${Rp(a.appConfig)}/${t.token}`,l)).json()}catch(m){throw Qn.create("token-update-failed",{errorInfo:m?.toString()})}if(c.error){const m=c.error.message;throw Qn.create("token-update-failed",{errorInfo:m})}if(!c.token)throw Qn.create("token-update-no-token");return c.token}async function Cx(a,t){const r={method:"DELETE",headers:await Np(a)};try{const c=await(await fetch(`${Rp(a.appConfig)}/${t}`,r)).json();if(c.error){const m=c.error.message;throw Qn.create("token-unsubscribe-failed",{errorInfo:m})}}catch(l){throw Qn.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}}function Rp({projectId:a}){return`${mx}/projects/${a}/registrations`}async function Np({appConfig:a,installations:t}){const i=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function rT({p256dh:a,auth:t,endpoint:i,vapidKey:r}){const l={web:{endpoint:i,auth:t,p256dh:a}};return r!==nT&&(l.web.applicationPubKey=r),l}const xx=10080*60*1e3;async function Dx(a){const t=await Ox(a.swRegistration,a.vapidKey),i={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:t.endpoint,auth:us(t.getKey("auth")),p256dh:us(t.getKey("p256dh"))},r=await wx(a.firebaseDependencies);if(r){if(jx(r.subscriptionOptions,i))return Date.now()>=r.createTime+xx?Ix(a,{token:r.token,createTime:Date.now(),subscriptionOptions:i}):r.token;try{await Cx(a.firebaseDependencies,r.token)}catch(l){console.warn(l)}return x0(a.firebaseDependencies,i)}else return x0(a.firebaseDependencies,i)}async function Ix(a,t){try{const i=await Nx(a.firebaseDependencies,t),r={...t,token:i,createTime:Date.now()};return await Ap(a.firebaseDependencies,r),i}catch(i){throw i}}async function x0(a,t){const r={token:await Rx(a,t),createTime:Date.now(),subscriptionOptions:t};return await Ap(a,r),r.token}async function Ox(a,t){const i=await a.pushManager.getSubscription();return i||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_x(t)})}function jx(a,t){const i=t.vapidKey===a.vapidKey,r=t.endpoint===a.endpoint,l=t.auth===a.auth,c=t.p256dh===a.p256dh;return i&&r&&l&&c}function D0(a){const t={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return Mx(t,a),kx(t,a),Lx(t,a),t}function Mx(a,t){if(!t.notification)return;a.notification={};const i=t.notification.title;i&&(a.notification.title=i);const r=t.notification.body;r&&(a.notification.body=r);const l=t.notification.image;l&&(a.notification.image=l);const c=t.notification.icon;c&&(a.notification.icon=c)}function kx(a,t){t.data&&(a.data=t.data)}function Lx(a,t){if(!t.fcmOptions&&!t.notification?.click_action)return;a.fcmOptions={};const i=t.fcmOptions?.link??t.notification?.click_action;i&&(a.fcmOptions.link=i);const r=t.fcmOptions?.analytics_label;r&&(a.fcmOptions.analyticsLabel=r)}function Vx(a){return typeof a=="object"&&!!a&&iT in a}function Ux(a){if(!a||!a.options)throw sm("App Configuration Object");if(!a.name)throw sm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:i}=a;for(const r of t)if(!i[r])throw sm(r);return{appName:a.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function sm(a){return Qn.create("missing-app-config-values",{valueName:a})}class Bx{constructor(t,i,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=Ux(t);this.firebaseDependencies={app:t,appConfig:l,installations:i,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function qx(a){try{a.swRegistration=await navigator.serviceWorker.register(hx,{scope:dx}),a.swRegistration.update().catch(()=>{}),await Px(a.swRegistration)}catch(t){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function Px(a){return new Promise((t,i)=>{const r=setTimeout(()=>i(new Error(`Service worker not registered after ${R0} ms`)),R0),l=a.installing||a.waiting;a.active?(clearTimeout(r),t()):l?l.onstatechange=c=>{c.target?.state==="activated"&&(l.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),i(new Error("No incoming service worker found.")))})}async function zx(a,t){if(!t&&!a.swRegistration&&await qx(a),!(!t&&a.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");a.swRegistration=t}}async function Hx(a,t){t?a.vapidKey=t:a.vapidKey||(a.vapidKey=nT)}async function oT(a,t){if(!navigator)throw Qn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Qn.create("permission-blocked");return await Hx(a,t?.vapidKey),await zx(a,t?.serviceWorkerRegistration),Dx(a)}async function Fx(a,t,i){const r=Gx(t);(await a.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:i[iT],message_name:i[px],message_time:i[gx],message_device_time:Math.floor(Date.now()/1e3)})}function Gx(a){switch(a){case wu.NOTIFICATION_CLICKED:return"notification_open";case wu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function Yx(a,t){const i=t.data;if(!i.isFirebaseMessaging)return;a.onMessageHandler&&i.messageType===wu.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(D0(i)):a.onMessageHandler.next(D0(i)));const r=i.data;Vx(r)&&r[yx]==="1"&&await Fx(a,i.messageType,r)}const I0="@firebase/messaging",O0="0.12.23";const Qx=a=>{const t=new Bx(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>Yx(t,i)),t},Xx=a=>{const t=a.getProvider("messaging").getImmediate();return{getToken:r=>oT(t,r)}};function Kx(){rr(new ps("messaging",Qx,"PUBLIC")),rr(new ps("messaging-internal",Xx,"PRIVATE")),Ia(I0,O0),Ia(I0,O0,"esm2020")}async function lT(){try{await J0()}catch{return!1}return typeof window<"u"&&Z0()&&Bw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function $x(a,t){if(!navigator)throw Qn.create("only-available-in-window");return a.onMessageHandler=t,()=>{a.onMessageHandler=null}}function Wx(a=aE()){return lT().then(t=>{if(!t)throw Qn.create("unsupported-browser")},t=>{throw Qn.create("indexed-db-unsupported")}),Tf(ms(a),"messaging").getImmediate()}async function Zx(a,t){return a=ms(a),oT(a,t)}function Jx(a,t){return a=ms(a),$x(a,t)}Kx();const $c={apiKey:"AIzaSyA3dJLU8Xw6vcqXtOhVbuI5aO_ImdT8upg",authDomain:"goal-game-7ad53.firebaseapp.com",projectId:"goal-game-7ad53",storageBucket:"goal-game-7ad53.firebasestorage.app",messagingSenderId:"86507800050",appId:"1:86507800050:web:f7674a55bc2291686f976b"},uT="BLD2XB0Bh-Y2EwwHU1YimB6-tzKQNrGh-bzoZHXbSWlvQt1mg6K5c7EJWfBIDrGY0cQJXO4LNrKD9MjlZhMsb3c";let rm=null,om=null,zc=null;function Va(){return!!($c.apiKey&&$c.projectId&&$c.messagingSenderId&&uT)}function cT(){if(!rm){if(!Va())throw new Error("Firebase is not configured. Please add your Firebase config to .env file.");rm=iE($c)}return rm}function io(){return om||(om=lC(cT())),om}async function fT(){return zc||(await lT()?(zc=Wx(cT()),zc):(console.warn("Firebase Messaging is not supported in this browser"),null))}function vs(){let a=localStorage.getItem("goal-game-device-id");return a||(a=crypto.randomUUID(),localStorage.setItem("goal-game-device-id",a)),a}const dl="scheduled_notifications",hT="fcm_tokens";async function eD(a,t,i,r,l,c){if(!Va())return console.warn("Firebase not configured, skipping notification scheduling"),null;const m=io(),v=vs(),E=new Date(`${i}T${r}`),g=new Date(E.getTime()-l*60*1e3);if(g<=new Date)return console.warn("Notification trigger time is in the past, skipping"),null;const R=`${v}_event_${a}`,D={id:R,eventId:a,eventTitle:t,eventDate:i,eventTime:r,triggerAt:g.toISOString(),fcmToken:c,deviceId:v,status:"pending",createdAt:new Date().toISOString(),notificationType:"event"};try{return await Ep(no(m,dl,R),D),R}catch(M){return console.error("Failed to schedule notification:",M),null}}async function tD(a,t,i,r,l){if(!Va())return console.warn("Firebase not configured, skipping notification scheduling"),null;const c=io(),m=vs(),v=new Date(r);if(v<=new Date)return console.warn("Buff expiry time is in the past, skipping notification"),null;const E=`${m}_buff_${a}`,g={id:E,buffLogId:a,buffName:t,buffType:i,triggerAt:v.toISOString(),fcmToken:l,deviceId:m,status:"pending",createdAt:new Date().toISOString(),notificationType:"buff_expiry"};try{return await Ep(no(c,dl,E),g),E}catch(R){return console.error("Failed to schedule buff expiry notification:",R),null}}async function nD(a){if(!Va())return;const t=io(),r=`${vs()}_buff_${a}`;try{await Bf(no(t,dl,r))}catch(l){console.error("Failed to cancel buff expiry notification:",l)}}async function iD(a){if(!Va())return;const t=io(),r=`${vs()}_event_${a}`;try{await Bf(no(t,dl,r))}catch(l){console.error("Failed to cancel notification:",l)}}async function aD(){if(!Va())return;const a=io(),t=vs();try{const i=SC(oC(a,dl),b0("deviceId","==",t),b0("status","==","pending")),l=(await RC(i)).docs.map(c=>Bf(no(a,dl,c.id)));await Promise.all(l)}catch(i){console.error("Failed to cancel all notifications:",i)}}async function sD(a){if(!Va())return;const t=io(),i=vs();try{await Ep(no(t,hT,i),{token:a,deviceId:i,updatedAt:new Date().toISOString(),platform:navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")?"ios":navigator.userAgent.includes("Android")?"android":"web"})}catch(r){console.error("Failed to save FCM token:",r)}}async function rD(){if(!Va())return;const a=io(),t=vs();try{await Bf(no(a,hT,t))}catch(i){console.error("Failed to delete FCM token:",i)}}function oD(){return"Notification"in window?Notification.permission:"unsupported"}function Cp(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}function xp(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function Dp(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function lD(){return xp()&&!Dp()?!1:Cp()}async function uD(){if(!Va())return{success:!1,token:null,error:"Firebase is not configured"};if(!Cp())return{success:!1,token:null,error:"Notifications are not supported in this browser"};if(xp()&&!Dp())return{success:!1,token:null,error:"On iOS, you must add this app to your home screen first, then enable notifications"};try{if(await Notification.requestPermission()!=="granted")return{success:!1,token:null,error:"Notification permission was denied"};const t=await fT();if(!t)return{success:!1,token:null,error:"Failed to initialize Firebase Messaging"};const i=await navigator.serviceWorker.register("/goal-game/firebase-messaging-sw.js");await navigator.serviceWorker.ready;const r=await Zx(t,{vapidKey:uT,serviceWorkerRegistration:i});return r?(await sD(r),{success:!0,token:r}):{success:!1,token:null,error:"Failed to get FCM token"}}catch(a){return console.error("Error requesting notification permission:",a),{success:!1,token:null,error:a instanceof Error?a.message:"Unknown error occurred"}}}async function cD(){try{await rD(),await aD()}catch(a){console.error("Error disabling notifications:",a)}}function fD(a){let t=null;return fT().then(i=>{i&&(t=Jx(i,r=>{if(console.log("Foreground message received:",r),a(r),r.notification){const{title:l,body:c}=r.notification;l&&new Notification(l,{body:c||"",icon:"/goal-game/icons/icon-192.png",badge:"/goal-game/icons/icon-192.png",tag:r.data?.eventId||"goal-game-notification"})}}))}),()=>{t&&t()}}function dT(){const a=$e(),t=vs(),i=a.exec("SELECT enabled, default_reminder_minutes, fcm_token, device_id FROM notification_settings WHERE id = 1");if(i.length===0||i[0].values.length===0)return a.run("INSERT OR REPLACE INTO notification_settings (id, enabled, default_reminder_minutes, fcm_token, device_id) VALUES (1, 0, 15, NULL, ?)",[t]),{enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:t};const r=i[0].values[0];return{enabled:!!r[0],defaultReminderMinutes:r[1],fcmToken:r[2],deviceId:r[3]}}async function lm(a){const t=$e(),i=vs(),l={...dT(),...a};t.run(`UPDATE notification_settings SET
      enabled = ?,
      default_reminder_minutes = ?,
      fcm_token = ?,
      device_id = ?,
      updated_at = datetime('now')
    WHERE id = 1`,[l.enabled?1:0,l.defaultReminderMinutes,l.fcmToken,i]),await It()}function mT(){const[a,t]=re.useState({enabled:!1,defaultReminderMinutes:15,fcmToken:null,deviceId:""}),[i,r]=re.useState("default"),[l,c]=re.useState(!1),[m,v]=re.useState(null),E=Cp(),g=Va(),R=lD(),D=xp(),M=Dp();re.useEffect(()=>{try{const _e=dT();t(_e),r(oD())}catch(_e){console.error("Failed to load notification settings:",_e)}},[]),re.useEffect(()=>!a.enabled||!a.fcmToken?void 0:fD(xe=>{console.log("Notification received in foreground:",xe)}),[a.enabled,a.fcmToken]);const $=re.useCallback(async()=>{c(!0),v(null);try{const _e=await uD();return _e.success?(await lm({enabled:!0,fcmToken:_e.token}),t(xe=>({...xe,enabled:!0,fcmToken:_e.token})),r("granted"),!0):(v(_e.error||"Failed to enable notifications"),!1)}catch(_e){const xe=_e instanceof Error?_e.message:"Unknown error";return v(xe),!1}finally{c(!1)}},[]),J=re.useCallback(async()=>{c(!0),v(null);try{await cD(),await lm({enabled:!1,fcmToken:null}),t(_e=>({..._e,enabled:!1,fcmToken:null}))}catch(_e){const xe=_e instanceof Error?_e.message:"Unknown error";v(xe)}finally{c(!1)}},[]),ne=re.useCallback(async _e=>{await lm({defaultReminderMinutes:_e}),t(xe=>({...xe,defaultReminderMinutes:_e}))},[]),X=re.useCallback(async(_e,xe,Me,O,I)=>{!a.enabled||!a.fcmToken||await eD(_e,xe,Me,O,I,a.fcmToken)},[a.enabled,a.fcmToken]),ee=re.useCallback(async _e=>{await iD(_e)},[]),de=re.useCallback(async(_e,xe,Me,O)=>{!a.enabled||!a.fcmToken||await tD(_e,xe,Me,O,a.fcmToken)},[a.enabled,a.fcmToken]),ge=re.useCallback(async _e=>{await nD(_e)},[]);return{settings:a,permissionState:i,isSupported:E,isConfigured:g,canEnable:R,isIOS:D,isStandalone:M,loading:l,error:m,enableNotifications:$,disableNotificationsHandler:J,setDefaultReminderMinutes:ne,scheduleEventReminder:X,cancelEventReminder:ee,scheduleBuffExpiry:de,cancelBuffExpiry:ge}}const hD="_appShell_1hrux_1",dD="_sidebar_1hrux_13",mD="_sidebarLogo_1hrux_41",pD="_logoTitle_1hrux_51",gD="_logoSubtitle_1hrux_67",yD="_sidebarNav_1hrux_81",_D="_navItem_1hrux_97",vD="_navItemActive_1hrux_147",ED="_navIcon_1hrux_179",bD="_header_1hrux_193",TD="_headerLeft_1hrux_227",SD="_characterName_1hrux_239",wD="_levelBadge_1hrux_253",AD="_headerXP_1hrux_283",RD="_headerRight_1hrux_291",ND="_main_1hrux_305",CD="_xpFloat_1hrux_323",Mn={appShell:hD,sidebar:dD,sidebarLogo:mD,logoTitle:pD,logoSubtitle:gD,sidebarNav:yD,navItem:_D,navItemActive:vD,navIcon:ED,header:bD,headerLeft:TD,characterName:SD,levelBadge:wD,headerXP:AD,headerRight:RD,main:ND,xpFloat:CD},xD=[{id:"character",label:"Character",icon:""},{id:"quests",label:"Quest Log",icon:""},{id:"buffs",label:"Buffs",icon:""},{id:"planner",label:"Planner",icon:""}];function DD({activeTab:a,onTabChange:t}){return p.jsxs("aside",{className:Mn.sidebar,children:[p.jsxs("div",{className:Mn.sidebarLogo,children:[p.jsx("div",{className:Mn.logoTitle,children:"GOAL GAME"}),p.jsx("div",{className:Mn.logoSubtitle,children:"Life Management RPG"})]}),p.jsx("nav",{className:Mn.sidebarNav,children:xD.map(i=>p.jsxs("button",{className:`${Mn.navItem} ${a===i.id?Mn.navItemActive:""}`,onClick:()=>t(i.id),children:[p.jsx("span",{className:Mn.navIcon,children:i.icon}),i.label]},i.id))})]})}const ID="_progressContainer_1jr5p_1",OD="_progressLabel_1jr5p_9",jD="_track_1jr5p_33",MD="_fill_1jr5p_53",kD="_fillGold_1jr5p_67",LD="_fillGreen_1jr5p_77",VD="_fillBlue_1jr5p_85",UD="_shimmer_1jr5p_93",BD="_trackLarge_1jr5p_117",ls={progressContainer:ID,progressLabel:OD,track:jD,fill:MD,fillGold:kD,fillGreen:LD,fillBlue:VD,shimmer:UD,trackLarge:BD};function Mm({value:a,max:t,label:i,showValue:r=!0,color:l="gold",size:c="normal",shimmer:m=!1,className:v}){const E=t>0?Math.min(a/t*100,100):0,g=l==="gold"?ls.fillGold:l==="green"?ls.fillGreen:ls.fillBlue,R=[ls.track,c==="large"&&ls.trackLarge].filter(Boolean).join(" ");return p.jsxs("div",{className:`${ls.progressContainer} ${v||""}`,children:[(i||r)&&p.jsxs("div",{className:ls.progressLabel,children:[i&&p.jsx("span",{children:i}),r&&p.jsxs("span",{children:[a," / ",t]})]}),p.jsx("div",{className:R,children:p.jsx("div",{className:[g,ls.fill,m&&ls.shimmer].filter(Boolean).join(" "),style:{width:`${E}%`}})})]})}function qD({character:a}){const t=q0(a.total_xp);return p.jsxs("header",{className:Mn.header,children:[p.jsxs("div",{className:Mn.headerLeft,children:[p.jsx("span",{className:Mn.characterName,children:a.name}),p.jsxs("span",{className:Mn.levelBadge,children:["Lv. ",a.level,"  ",a.title]})]}),p.jsx("div",{className:Mn.headerRight,children:p.jsx("div",{className:Mn.headerXP,children:p.jsx(Mm,{value:t.current,max:t.needed,label:"XP",shimmer:!0})})})]})}const PD="_levelUpOverlay_dig0a_1",zD="_levelUpContent_dig0a_23",HD="_levelUpIcon_dig0a_33",FD="_levelUpTitle_dig0a_47",GD="_levelUpLevel_dig0a_65",YD="_levelUpTitleName_dig0a_79",QD="_dismissText_dig0a_95",Hr={levelUpOverlay:PD,levelUpContent:zD,levelUpIcon:HD,levelUpTitle:FD,levelUpLevel:GD,levelUpTitleName:YD,dismissText:QD};function XD({level:a,title:t,onDismiss:i}){return re.useEffect(()=>{const r=setTimeout(i,5e3),l=c=>{(c.key==="Escape"||c.key==="Enter"||c.key===" ")&&i()};return window.addEventListener("keydown",l),()=>{clearTimeout(r),window.removeEventListener("keydown",l)}},[i]),p.jsx("div",{className:Hr.levelUpOverlay,onClick:i,children:p.jsxs("div",{className:Hr.levelUpContent,children:[p.jsx("span",{className:Hr.levelUpIcon,children:""}),p.jsx("div",{className:Hr.levelUpTitle,children:"LEVEL UP"}),p.jsxs("div",{className:Hr.levelUpLevel,children:["Level ",a]}),p.jsx("div",{className:Hr.levelUpTitleName,children:t}),p.jsx("div",{className:Hr.dismissText,children:"Click or press any key to continue"})]})})}const KD="_panel_zw35t_1",$D="_panelHeader_zw35t_69",WD="_panelGlow_zw35t_93",um={panel:KD,panelHeader:$D,panelGlow:WD};function ji({children:a,header:t,glow:i,className:r,style:l}){const c=[um.panel,i&&um.panelGlow,r].filter(Boolean).join(" ");return p.jsxs("div",{className:c,style:l,children:[t&&p.jsx("div",{className:um.panelHeader,children:t}),a]})}const ZD="_button_vi3e3_1",JD="_primary_vi3e3_61",e4="_danger_vi3e3_83",t4="_small_vi3e3_103",n4="_ghost_vi3e3_113",i4="_fullWidth_vi3e3_133",Hc={button:ZD,primary:JD,danger:e4,small:t4,ghost:n4,fullWidth:i4};function vt({variant:a="default",size:t="normal",fullWidth:i,children:r,className:l,...c}){const m=[Hc.button,a!=="default"&&Hc[a],t==="small"&&Hc.small,i&&Hc.fullWidth,l].filter(Boolean).join(" ");return p.jsx("button",{className:m,...c,children:r})}const a4="_inputGroup_1helv_1",s4="_label_1helv_13",r4="_input_1helv_1",o4="_select_1helv_31",l4="_textarea_1helv_31",ds={inputGroup:a4,label:s4,input:r4,select:o4,textarea:l4};function Da({label:a,className:t,...i}){return p.jsxs("div",{className:ds.inputGroup,children:[a&&p.jsx("label",{className:ds.label,children:a}),p.jsx("input",{className:`${ds.input} ${t||""}`,...i})]})}function tr({label:a,children:t,className:i,...r}){return p.jsxs("div",{className:ds.inputGroup,children:[a&&p.jsx("label",{className:ds.label,children:a}),p.jsx("select",{className:`${ds.select} ${i||""}`,...r,children:t})]})}function pf({label:a,className:t,...i}){return p.jsxs("div",{className:ds.inputGroup,children:[a&&p.jsx("label",{className:ds.label,children:a}),p.jsx("textarea",{className:`${ds.textarea} ${t||""}`,...i})]})}const u4=[{minLevel:50,tier:7},{minLevel:40,tier:6},{minLevel:30,tier:5},{minLevel:22,tier:4},{minLevel:15,tier:3},{minLevel:10,tier:2},{minLevel:5,tier:1},{minLevel:1,tier:0}];function c4(a){for(const{minLevel:t,tier:i}of u4)if(a>=t)return i;return 0}function ou(a){if(a<5)return 0;const r=(a-5)/25;return Math.min(Math.pow(r,.7),1)}const lu={stamina:"#2ecc71",willpower:"#9b59b6",health:"#e74c3c",focus:"#3498db",charisma:"#e67e22"},pT={0:{primary:"#8b7355",secondary:"#6b5344",accent:"#a08060",skin:"#e8c4a0",hair:"#4a3728"},1:{primary:"#8b4513",secondary:"#654321",accent:"#cd853f",skin:"#e8c4a0",hair:"#4a3728"},2:{primary:"#708090",secondary:"#4a5568",accent:"#a0aec0",skin:"#e8c4a0",hair:"#4a3728"},3:{primary:"#5a6672",secondary:"#3d4852",accent:"#8892a0",skin:"#e8c4a0",hair:"#4a3728"},4:{primary:"#b8860b",secondary:"#8b6914",accent:"#daa520",skin:"#e8c4a0",hair:"#4a3728"},5:{primary:"#ffd700",secondary:"#b8860b",accent:"#ffed4a",skin:"#e8c4a0",hair:"#4a3728",glow:"#ffd700"},6:{primary:"#e6e6fa",secondary:"#9370db",accent:"#dda0dd",skin:"#e8c4a0",hair:"#4a3728",glow:"#9370db"},7:{primary:"#8b0000",secondary:"#4a0000",accent:"#ff4500",skin:"#e8c4a0",hair:"#ffd700",glow:"#ff4500",crown:"#ffd700"}},ml=64;function cs(a,t,i,r,l=1){a.fillStyle=r,a.fillRect(t,i,l,l)}function Nt(a,t,i,r,l,c){a.fillStyle=c,a.fillRect(t,i,r,l)}function f4({ctx:a,palette:t}){Nt(a,27,7,10,4,t.hair),Nt(a,28,8,8,8,t.skin),Nt(a,28,7,8,2,t.hair),cs(a,30,11,"#2c3e50"),cs(a,33,11,"#2c3e50")}function h4({ctx:a,palette:t,tier:i}){Nt(a,26,16,12,16,t.primary),Nt(a,31,18,2,12,t.secondary),i>=2&&(Nt(a,24,16,3,4,t.accent),Nt(a,37,16,3,4,t.accent)),i>=1&&(Nt(a,26,28,12,2,t.secondary),cs(a,31,28,t.accent,2)),i>=3&&(Nt(a,28,18,8,6,t.accent),Nt(a,30,19,4,4,t.secondary))}function d4({ctx:a,palette:t,tier:i}){Nt(a,22,18,4,12,t.primary),Nt(a,22,30,4,3,t.skin),Nt(a,38,18,4,12,t.primary),Nt(a,38,30,4,3,t.skin),i>=2&&(Nt(a,22,18,4,3,t.accent),Nt(a,38,18,4,3,t.accent)),i>=4&&(Nt(a,21,28,5,5,t.accent),Nt(a,38,28,5,5,t.accent))}function m4({ctx:a,palette:t,tier:i}){Nt(a,27,32,5,14,i>=3?t.secondary:t.primary),Nt(a,26,46,6,4,t.secondary),Nt(a,32,32,5,14,i>=3?t.secondary:t.primary),Nt(a,32,46,6,4,t.secondary),i>=2&&(Nt(a,26,46,6,2,t.accent),Nt(a,32,46,6,2,t.accent))}function p4({ctx:a,palette:t,tier:i}){if(i<3)return;const l={3:"#8b0000",4:"#4a0082",5:"#1a1a2e",6:"#4a0082",7:"#8b0000"}[i]||t.secondary;a.fillStyle=l,a.beginPath(),a.moveTo(24,16),a.lineTo(40,16),a.lineTo(42,48),a.lineTo(22,48),a.closePath(),a.fill(),a.fillStyle=t.accent,a.fillRect(22,16,2,32),a.fillRect(40,16,2,32)}function g4({ctx:a,palette:t,tier:i}){if(i<2)return;const r=28,l=8;i===2?Nt(a,r-1,l-2,10,3,t.secondary):i>=3&&i<7&&(Nt(a,r-2,l-3,12,5,t.accent),Nt(a,r,l+2,8,2,"#1a1a2e"),i>=4&&Nt(a,r+3,l-6,2,4,"#e74c3c"))}function y4({ctx:a,palette:t}){const i="crown"in t?t.crown:"#ffd700",r=28,l=8;Nt(a,r-2,l-4,12,3,i),cs(a,r-1,l-6,i,2),cs(a,r+3,l-7,i,2),cs(a,r+7,l-6,i,2),cs(a,r,l-5,"#e74c3c"),cs(a,r+4,l-6,"#3498db"),cs(a,r+8,l-5,"#2ecc71")}function _4({ctx:a}){const t="#8b0000",i="#ff4500";a.fillStyle=t,a.beginPath(),a.moveTo(22,20),a.lineTo(8,10),a.lineTo(6,16),a.lineTo(10,24),a.lineTo(14,32),a.lineTo(20,36),a.lineTo(22,28),a.closePath(),a.fill(),a.fillStyle=i,a.beginPath(),a.moveTo(20,22),a.lineTo(12,14),a.lineTo(12,20),a.lineTo(16,28),a.closePath(),a.fill(),a.fillStyle=t,a.beginPath(),a.moveTo(42,20),a.lineTo(56,10),a.lineTo(58,16),a.lineTo(54,24),a.lineTo(50,32),a.lineTo(44,36),a.lineTo(42,28),a.closePath(),a.fill(),a.fillStyle=i,a.beginPath(),a.moveTo(44,22),a.lineTo(52,14),a.lineTo(52,20),a.lineTo(48,28),a.closePath(),a.fill()}function v4(a,t){if(t<5)return;const i=pT[t],r="glow"in i?i.glow:"#ffd700",l=a.createRadialGradient(32,32,10,32,32,40);l.addColorStop(0,`${r}40`),l.addColorStop(.5,`${r}20`),l.addColorStop(1,`${r}00`),a.fillStyle=l,a.fillRect(0,0,ml,ml)}function E4(a,t){const i=Math.max(0,Math.min(7,t)),r=pT[i];a.clearRect(0,0,ml,ml),a.imageSmoothingEnabled=!1;const l={ctx:a,palette:r,tier:i};v4(a,i),i>=7&&_4(l),i>=3&&p4(l),m4(l),h4(l),d4(l),f4(l),i>=7?y4(l):i>=2&&g4(l)}const b4="_spriteContainer_1vkdq_3",T4="_spriteCanvas_1vkdq_25",S4="_auraStamina_1vkdq_79",w4="_auraWillpower_1vkdq_81",A4="_auraHealth_1vkdq_83",R4="_auraFocus_1vkdq_85",N4="_auraCharisma_1vkdq_87",C4="_auraLayer_1vkdq_99",Wi={spriteContainer:b4,spriteCanvas:T4,auraStamina:S4,auraWillpower:w4,auraHealth:A4,auraFocus:R4,auraCharisma:N4,auraLayer:C4};function x4({level:a,stats:t}){const i=re.useRef(null),r=c4(a);re.useEffect(()=>{const m=i.current;if(!m)return;const v=m.getContext("2d");v&&E4(v,r)},[r]);const l={stamina:ou(t.stamina),willpower:ou(t.willpower),health:ou(t.health),focus:ou(t.focus),charisma:ou(t.charisma)},c={"--aura-stamina-intensity":l.stamina,"--aura-stamina-color":lu.stamina,"--aura-willpower-intensity":l.willpower,"--aura-willpower-color":lu.willpower,"--aura-health-intensity":l.health,"--aura-health-color":lu.health,"--aura-focus-intensity":l.focus,"--aura-focus-color":lu.focus,"--aura-charisma-intensity":l.charisma,"--aura-charisma-color":lu.charisma};return p.jsxs("div",{className:Wi.spriteContainer,style:c,children:[l.stamina>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraStamina}`}),l.willpower>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraWillpower}`}),l.health>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraHealth}`}),l.focus>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraFocus}`}),l.charisma>0&&p.jsx("div",{className:`${Wi.auraLayer} ${Wi.auraCharisma}`}),p.jsx("canvas",{ref:i,width:ml,height:ml,className:Wi.spriteCanvas})]})}const D4="_characterGrid_1vnpd_1",I4="_characterMain_1vnpd_13",O4="_characterSide_1vnpd_25",j4="_profileSection_1vnpd_37",M4="_characterNameDisplay_1vnpd_61",k4="_characterTitleDisplay_1vnpd_75",L4="_xpSection_1vnpd_89",V4="_totalXP_1vnpd_97",U4="_statsGrid_1vnpd_113",B4="_statRow_1vnpd_125",q4="_statName_1vnpd_137",P4="_statBar_1vnpd_157",z4="_statValue_1vnpd_165",H4="_buffsList_1vnpd_185",F4="_activeBuff_1vnpd_197",G4="_buffType_1vnpd_219",Y4="_debuffType_1vnpd_229",Q4="_buffIcon_1vnpd_239",X4="_buffInfo_1vnpd_247",K4="_buffName_1vnpd_255",$4="_buffTimer_1vnpd_265",W4="_emptyState_1vnpd_275",Z4="_nameEditRow_1vnpd_291",J4="_xpLogList_1vnpd_307",e3="_xpLogEntry_1vnpd_323",t3="_xpLogReason_1vnpd_343",n3="_xpLogAmount_1vnpd_351",i3="_negative_1vnpd_363",Rt={characterGrid:D4,characterMain:I4,characterSide:O4,profileSection:j4,characterNameDisplay:M4,characterTitleDisplay:k4,xpSection:L4,totalXP:V4,statsGrid:U4,statRow:B4,statName:q4,statBar:P4,statValue:z4,buffsList:H4,activeBuff:F4,buffType:G4,debuffType:Y4,buffIcon:Q4,buffInfo:X4,buffName:K4,buffTimer:$4,emptyState:W4,nameEditRow:Z4,xpLogList:J4,xpLogEntry:e3,xpLogReason:t3,xpLogAmount:n3,negative:i3},a3={stamina:"green",willpower:"blue",health:"gold",focus:"blue",charisma:"gold"};function s3({character:a,stats:t,activeBuffs:i,xpLog:r,onNameChange:l}){const c=q0(a.total_xp),[m,v]=re.useState(!1),[E,g]=re.useState(a.name),R=()=>{E.trim()&&(l(E.trim()),v(!1))};function D(M){const $=new Date,ne=new Date(M+"Z").getTime()-$.getTime();if(ne<=0)return"Expired";const X=Math.floor(ne/36e5),ee=Math.floor(ne%36e5/6e4);return X>0?`${X}h ${ee}m remaining`:`${ee}m remaining`}return p.jsxs("div",{className:Rt.characterGrid,children:[p.jsxs("div",{className:Rt.characterMain,children:[p.jsx(ji,{children:p.jsxs("div",{className:Rt.profileSection,children:[p.jsx(x4,{level:a.level,stats:t}),m?p.jsxs("div",{className:Rt.nameEditRow,children:[p.jsx(Da,{value:E,onChange:M=>g(M.target.value),onKeyDown:M=>M.key==="Enter"&&R(),autoFocus:!0}),p.jsx(vt,{size:"small",variant:"primary",onClick:R,children:"Save"}),p.jsx(vt,{size:"small",onClick:()=>v(!1),children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Rt.characterNameDisplay,children:a.name}),p.jsx(vt,{size:"small",variant:"ghost",onClick:()=>v(!0),children:"Rename"})]}),p.jsxs("div",{className:Rt.characterTitleDisplay,children:["Level ",a.level,"  ",a.title]}),p.jsxs("div",{className:Rt.xpSection,children:[p.jsx(Mm,{value:c.current,max:c.needed,label:"Experience",size:"large",shimmer:!0}),p.jsxs("div",{className:Rt.totalXP,children:[a.total_xp," Total XP"]})]})]})}),p.jsx(ji,{header:"Stats",children:p.jsx("div",{className:Rt.statsGrid,children:U0.map(M=>p.jsxs("div",{className:Rt.statRow,children:[p.jsx("span",{className:Rt.statName,children:M}),p.jsx("div",{className:Rt.statBar,children:p.jsx(Mm,{value:t[M],max:30,showValue:!1,color:a3[M]||"gold"})}),p.jsx("span",{className:Rt.statValue,children:t[M]})]},M))})})]}),p.jsxs("div",{className:Rt.characterSide,children:[p.jsx(ji,{header:"Active Effects",children:i.length===0?p.jsx("div",{className:Rt.emptyState,children:"No active buffs or debuffs"}):p.jsx("div",{className:Rt.buffsList,children:i.map(M=>{const $=yf(M.stat_effects),J=Object.entries($).map(([ne,X])=>`${X>0?"+":""}${X} ${ne}`).join(", ");return p.jsxs("div",{className:`${Rt.activeBuff} ${M.type==="buff"?Rt.buffType:Rt.debuffType}`,children:[p.jsx("span",{className:Rt.buffIcon,children:M.icon}),p.jsxs("div",{className:Rt.buffInfo,children:[p.jsx("div",{className:Rt.buffName,children:M.name}),p.jsxs("div",{className:Rt.buffTimer,children:[D(M.expires_at),J&&`  ${J}`]})]})]},M.id)})})}),p.jsx(ji,{header:"XP History",children:r.length===0?p.jsx("div",{className:Rt.emptyState,children:"No XP earned yet. Complete steps to earn XP!"}):p.jsx("div",{className:Rt.xpLogList,children:r.slice(0,20).map(M=>p.jsxs("div",{className:Rt.xpLogEntry,children:[p.jsx("span",{className:Rt.xpLogReason,children:M.reason}),p.jsxs("span",{className:`${Rt.xpLogAmount} ${M.amount<0?Rt.negative:""}`,children:[M.amount>0?"+":"",M.amount," XP"]})]},M.id))})})]})]})}const r3="_overlay_15bjw_1",o3="_modal_15bjw_25",l3="_modalHeader_15bjw_97",u3="_modalTitle_15bjw_111",c3="_closeButton_15bjw_123",f3="_modalActions_15bjw_153",Ko={overlay:r3,modal:o3,modalHeader:l3,modalTitle:u3,closeButton:c3,modalActions:f3};function gf({open:a,onClose:t,title:i,children:r,actions:l}){return re.useEffect(()=>{if(!a)return;const c=m=>{m.key==="Escape"&&t()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[a,t]),a?p.jsx("div",{className:Ko.overlay,onClick:t,children:p.jsxs("div",{className:Ko.modal,onClick:c=>c.stopPropagation(),children:[i&&p.jsxs("div",{className:Ko.modalHeader,children:[p.jsx("h3",{className:Ko.modalTitle,children:i}),p.jsx("button",{className:Ko.closeButton,onClick:t,children:""})]}),r,l&&p.jsx("div",{className:Ko.modalActions,children:l})]})}):null}const h3="_checkbox_543u2_1",d3="_box_543u2_17",m3="_checked_543u2_53",p3="_checkmark_543u2_63",g3="_checkboxLabel_543u2_75",y3="_hidden_543u2_99",$o={checkbox:h3,box:d3,checked:m3,checkmark:p3,checkboxLabel:g3,hidden:y3};function gT({checked:a,onChange:t,label:i,className:r}){const l=[$o.checkbox,a&&$o.checked,r].filter(Boolean).join(" ");return p.jsxs("label",{className:l,onClick:c=>c.stopPropagation(),children:[p.jsx("input",{type:"checkbox",className:$o.hidden,checked:a,onChange:c=>t(c.target.checked)}),p.jsx("span",{className:$o.box,children:a&&p.jsx("span",{className:$o.checkmark,children:""})}),i&&p.jsx("span",{className:$o.checkboxLabel,children:i})]})}const _3="_questLog_1dd70_1",v3="_questToolbar_1dd70_13",E3="_questFilters_1dd70_27",b3="_goalSection_1dd70_39",T3="_goalHeader_1dd70_47",S3="_goalDomainIcon_1dd70_61",w3="_goalTitle_1dd70_69",A3="_goalDomain_1dd70_61",R3="_questsList_1dd70_99",N3="_questCard_1dd70_115",C3="_questCardHeader_1dd70_139",x3="_questPriority_1dd70_157",D3="_normal_1dd70_171",I3="_important_1dd70_173",O3="_legendary_1dd70_175",j3="_questTitle_1dd70_179",M3="_questCompleted_1dd70_191",k3="_questMeta_1dd70_201",L3="_questStepCount_1dd70_217",V3="_expandIcon_1dd70_233",U3="_expanded_1dd70_245",B3="_stepsSection_1dd70_255",q3="_stepsList_1dd70_265",P3="_stepItem_1dd70_279",z3="_stepPriorityDot_1dd70_305",H3="_stepTitle_1dd70_319",F3="_stepActions_1dd70_329",G3="_addStepRow_1dd70_347",Y3="_addStepInput_1dd70_359",Q3="_formGrid_1dd70_369",X3="_formRow_1dd70_381",K3="_emptyState_1dd70_399",bt={questLog:_3,questToolbar:v3,questFilters:E3,goalSection:b3,goalHeader:T3,goalDomainIcon:S3,goalTitle:w3,goalDomain:A3,questsList:R3,questCard:N3,questCardHeader:C3,questPriority:x3,normal:D3,important:I3,legendary:O3,questTitle:j3,questCompleted:M3,questMeta:k3,questStepCount:L3,expandIcon:V3,expanded:U3,stepsSection:B3,stepsList:q3,stepItem:P3,stepPriorityDot:z3,stepTitle:H3,stepActions:F3,addStepRow:G3,addStepInput:Y3,formGrid:Q3,formRow:X3,emptyState:K3};function $3({quest:a,onCreateStep:t,onCompleteStep:i,onUncompleteStep:r,onDeleteStep:l,onDeleteQuest:c}){const[m,v]=re.useState(!1),[E,g]=re.useState(""),[R,D]=re.useState("normal"),M=a.steps.filter(ee=>ee.status==="completed").length,$=a.steps.length,J=a.status==="completed",ne=()=>{E.trim()&&(t(a.id,E.trim(),R),g(""),D("normal"))},X=ee=>ee==="legendary"?"var(--priority-legendary)":ee==="important"?"var(--priority-important)":"var(--priority-normal)";return p.jsxs("div",{className:`${bt.questCard} ${J?bt.questCompleted:""}`,children:[p.jsxs("div",{className:bt.questCardHeader,onClick:()=>v(!m),children:[p.jsx("div",{className:`${bt.questPriority} ${bt[a.priority]}`}),p.jsx("span",{className:bt.questTitle,children:a.title}),p.jsxs("span",{className:bt.questMeta,children:[p.jsxs("span",{className:bt.questStepCount,children:[M,"/",$]}),p.jsx(vt,{size:"small",variant:"danger",onClick:ee=>{ee.stopPropagation(),c(a.id)},children:""})]}),p.jsx("span",{className:`${bt.expandIcon} ${m?bt.expanded:""}`,children:""})]}),m&&p.jsxs("div",{className:bt.stepsSection,children:[p.jsx("div",{className:bt.stepsList,children:a.steps.map(ee=>p.jsxs("div",{className:bt.stepItem,children:[p.jsx("div",{className:bt.stepPriorityDot,style:{background:X(ee.priority)}}),p.jsx(gT,{checked:ee.status==="completed",onChange:de=>{de?i(ee.id,a.id,ee.priority):r(ee.id)},label:ee.title}),p.jsx("div",{className:bt.stepActions,children:p.jsx(vt,{size:"small",variant:"danger",onClick:()=>l(ee.id),children:""})})]},ee.id))}),!J&&p.jsxs("div",{className:bt.addStepRow,children:[p.jsx("div",{className:bt.addStepInput,children:p.jsx(Da,{value:E,onChange:ee=>g(ee.target.value),placeholder:"Add a step...",onKeyDown:ee=>ee.key==="Enter"&&ne()})}),p.jsxs(tr,{value:R,onChange:ee=>D(ee.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important"}),p.jsx("option",{value:"legendary",children:"Legendary"})]}),p.jsx(vt,{variant:"primary",onClick:ne,children:"Add"})]})]})]})}function W3({goals:a,domains:t,filterDomain:i,filterStatus:r,onFilterDomain:l,onFilterStatus:c,onCreateGoal:m,onCreateQuest:v,onCreateStep:E,onCompleteStep:g,onUncompleteStep:R,onDeleteStep:D,onDeleteQuest:M,onDeleteGoal:$}){const[J,ne]=re.useState(!1),[X,ee]=re.useState(null),[de,ge]=re.useState(""),[_e,xe]=re.useState(""),[Me,O]=re.useState(1),[I,k]=re.useState(""),[U,j]=re.useState(""),[x,C]=re.useState("normal"),ye=()=>{de.trim()&&(m(Me,de.trim(),_e.trim()),ge(""),xe(""),ne(!1))},lt=()=>{!I.trim()||X===null||(v(X,I.trim(),U.trim(),x),k(""),j(""),C("normal"),ee(null))};return p.jsxs("div",{className:bt.questLog,children:[p.jsxs("div",{className:bt.questToolbar,children:[p.jsxs("div",{className:bt.questFilters,children:[p.jsxs(tr,{value:i??"",onChange:P=>l(P.target.value?Number(P.target.value):void 0),children:[p.jsx("option",{value:"",children:"All Domains"}),t.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))]}),p.jsxs(tr,{value:r??"",onChange:P=>c(P.target.value||void 0),children:[p.jsx("option",{value:"",children:"All Status"}),p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"completed",children:"Completed"})]})]}),p.jsx(vt,{variant:"primary",onClick:()=>ne(!0),children:"+ New Goal"})]}),a.length===0?p.jsx(ji,{children:p.jsx("div",{className:bt.emptyState,children:"No goals yet. Create your first goal to begin your adventure!"})}):a.map(P=>p.jsx(ji,{children:p.jsxs("div",{className:bt.goalSection,children:[p.jsxs("div",{className:bt.goalHeader,children:[p.jsx("span",{className:bt.goalDomainIcon,children:P.domain_icon}),p.jsx("span",{className:bt.goalTitle,children:P.title}),p.jsx("span",{className:bt.goalDomain,children:P.domain_name}),p.jsx(vt,{size:"small",variant:"primary",onClick:()=>ee(P.id),children:"+ Quest"}),p.jsx(vt,{size:"small",variant:"danger",onClick:()=>$(P.id),children:""})]}),P.quests.length===0?p.jsx("div",{className:bt.emptyState,children:"No quests yet. Add a quest to this goal."}):p.jsx("div",{className:bt.questsList,children:P.quests.map(fe=>p.jsx($3,{quest:fe,onCreateStep:E,onCompleteStep:g,onUncompleteStep:R,onDeleteStep:D,onDeleteQuest:M},fe.id))})]})},P.id)),p.jsx(gf,{open:J,onClose:()=>ne(!1),title:"New Goal",actions:p.jsxs(p.Fragment,{children:[p.jsx(vt,{onClick:()=>ne(!1),children:"Cancel"}),p.jsx(vt,{variant:"primary",onClick:ye,children:"Create Goal"})]}),children:p.jsxs("div",{className:bt.formGrid,children:[p.jsx(tr,{label:"Domain",value:Me,onChange:P=>O(Number(P.target.value)),children:t.map(P=>p.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))}),p.jsx(Da,{label:"Goal Title",value:de,onChange:P=>ge(P.target.value),placeholder:"e.g., Get in shape",onKeyDown:P=>P.key==="Enter"&&ye()}),p.jsx(pf,{label:"Description (optional)",value:_e,onChange:P=>xe(P.target.value),placeholder:"Describe your goal..."})]})}),p.jsx(gf,{open:X!==null,onClose:()=>ee(null),title:"New Quest",actions:p.jsxs(p.Fragment,{children:[p.jsx(vt,{onClick:()=>ee(null),children:"Cancel"}),p.jsx(vt,{variant:"primary",onClick:lt,children:"Create Quest"})]}),children:p.jsxs("div",{className:bt.formGrid,children:[p.jsx(Da,{label:"Quest Title",value:I,onChange:P=>k(P.target.value),placeholder:"e.g., Run 5K",onKeyDown:P=>P.key==="Enter"&&lt()}),p.jsx(pf,{label:"Description (optional)",value:U,onChange:P=>j(P.target.value),placeholder:"Describe this quest..."}),p.jsxs(tr,{label:"Priority",value:x,onChange:P=>C(P.target.value),children:[p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"important",children:"Important (1.5x XP)"}),p.jsx("option",{value:"legendary",children:"Legendary (2x XP)"})]})]})})]})}const Z3="_buffTracker_jem6t_1",J3="_buffToolbar_jem6t_13",eI="_buffGrid_jem6t_33",tI="_buffSection_jem6t_45",nI="_buffCard_jem6t_59",iI="_buffCardIcon_jem6t_89",aI="_buffCardInfo_jem6t_99",sI="_buffCardName_jem6t_107",rI="_buffCardDesc_jem6t_119",oI="_buffCardMeta_jem6t_131",lI="_buffCardActions_jem6t_141",uI="_buffTypeBadge_jem6t_155",cI="_buffTypeBuff_jem6t_175",fI="_buffTypeDebuff_jem6t_187",hI="_activeSection_jem6t_201",dI="_activeBuffItem_jem6t_213",mI="_isBuff_jem6t_229",pI="_isDebuff_jem6t_241",gI="_activeBuffIcon_jem6t_253",yI="_activeBuffInfo_jem6t_261",_I="_activeBuffName_jem6t_269",vI="_activeBuffTimer_jem6t_277",EI="_activeBuffEffects_jem6t_287",bI="_formGrid_jem6t_299",TI="_formRow_jem6t_311",SI="_statEffectRow_jem6t_329",wI="_statEffectLabel_jem6t_341",AI="_statEffectInput_jem6t_355",RI="_divider_jem6t_363",NI="_emptyState_jem6t_375",ht={buffTracker:Z3,buffToolbar:J3,buffGrid:eI,buffSection:tI,buffCard:nI,buffCardIcon:iI,buffCardInfo:aI,buffCardName:sI,buffCardDesc:rI,buffCardMeta:oI,buffCardActions:lI,buffTypeBadge:uI,buffTypeBuff:cI,buffTypeDebuff:fI,activeSection:hI,activeBuffItem:dI,isBuff:mI,isDebuff:pI,activeBuffIcon:gI,activeBuffInfo:yI,activeBuffName:_I,activeBuffTimer:vI,activeBuffEffects:EI,formGrid:bI,formRow:TI,statEffectRow:SI,statEffectLabel:wI,statEffectInput:AI,divider:RI,emptyState:NI},cm=[{name:"Morning Exercise",description:"Worked out in the morning",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2,willpower:1}},{name:"Cardio / Running",description:"Ran, cycled, swam, or did sustained cardio",type:"buff",icon:"",duration:24,stats:{stamina:3,health:2}},{name:"Strength Training",description:"Lifted weights or did resistance training",type:"buff",icon:"",duration:24,stats:{stamina:2,health:1,willpower:2}},{name:"Yoga / Stretching",description:"Did yoga, stretching, or mobility work",type:"buff",icon:"",duration:24,stats:{health:2,focus:1,willpower:1}},{name:"8 Hours Sleep",description:"Got a full night of quality sleep",type:"buff",icon:"",duration:24,stats:{health:2,focus:2,stamina:1,willpower:1}},{name:"Meditation",description:"Practiced mindfulness or meditation",type:"buff",icon:"",duration:24,stats:{willpower:3,focus:2}},{name:"Healthy Meal",description:"Ate a balanced, nutritious meal",type:"buff",icon:"",duration:24,stats:{health:3,stamina:1}},{name:"Drank Enough Water",description:"Hit daily water intake goal",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Read 30+ Minutes",description:"Read a book, article, or educational material",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:1}},{name:"Studied / Learned",description:"Studied a course, skill, or new subject",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2}},{name:"Deep Work Session",description:"Focused work with no distractions for 90+ min",type:"buff",icon:"",duration:24,stats:{focus:3,willpower:2,stamina:1}},{name:"Journaling",description:"Wrote in journal or reflected on the day",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Cold Shower",description:"Took a cold shower or ice bath",type:"buff",icon:"",duration:24,stats:{willpower:3,stamina:1}},{name:"No Phone First Hour",description:"Avoided phone for first hour after waking",type:"buff",icon:"",duration:24,stats:{focus:2,willpower:2}},{name:"Socialised",description:"Had meaningful social interaction",type:"buff",icon:"",duration:24,stats:{charisma:3,willpower:1}},{name:"Helped Someone",description:"Did something kind or helpful for another person",type:"buff",icon:"",duration:24,stats:{charisma:2,willpower:1}},{name:"Creative Time",description:"Spent time on a creative pursuit",type:"buff",icon:"",duration:24,stats:{focus:2,charisma:1,willpower:1}},{name:"Sunlight / Nature",description:"Spent 20+ minutes outdoors in natural light",type:"buff",icon:"",duration:24,stats:{health:2,stamina:1,focus:1}},{name:"Gratitude Practice",description:"Practiced gratitude  wrote or reflected on 3+",type:"buff",icon:"",duration:24,stats:{willpower:2,charisma:1}},{name:"Meal Prep",description:"Prepared healthy meals in advance",type:"buff",icon:"",duration:48,stats:{health:2,willpower:1,stamina:1}},{name:"Cleaned / Organised",description:"Cleaned home, desk, or organised belongings",type:"buff",icon:"",duration:24,stats:{focus:1,willpower:2}},{name:"Financial Check-In",description:"Reviewed budget, tracked expenses, or saved",type:"buff",icon:"",duration:24,stats:{willpower:2,focus:1}},{name:"Junk Food",description:"Ate fast food, excessive sugar, or processed food",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-1}},{name:"Skipped Exercise",description:"Had planned to exercise but didn't",type:"debuff",icon:"",duration:24,stats:{stamina:-2,willpower:-2}},{name:"Poor Sleep",description:"Got less than 6 hours or very poor quality",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,stamina:-1,willpower:-1}},{name:"Doomscrolling",description:"Mindlessly scrolled social media for 30+ min",type:"debuff",icon:"",duration:24,stats:{focus:-3,willpower:-2}},{name:"Excessive Gaming",description:"Played video games for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-2,stamina:-1}},{name:"Binge Watching",description:"Watched TV/streaming for 3+ hours unplanned",type:"debuff",icon:"",duration:24,stats:{focus:-2,willpower:-1,stamina:-1}},{name:"Alcohol",description:"Drank alcohol",type:"debuff",icon:"",duration:24,stats:{health:-2,focus:-2,willpower:-1}},{name:"Smoking / Vaping",description:"Smoked cigarettes or vaped",type:"debuff",icon:"",duration:24,stats:{health:-3,stamina:-2}},{name:"Excessive Caffeine",description:"Had too much coffee or energy drinks",type:"debuff",icon:"",duration:24,stats:{health:-1,focus:-1,stamina:-1}},{name:"Procrastinated",description:"Avoided important tasks most of the day",type:"debuff",icon:"",duration:24,stats:{willpower:-3,focus:-2}},{name:"Skipped Meals",description:"Skipped a meal or barely ate",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-2,focus:-1}},{name:"Stayed Up Too Late",description:"Went to bed much later than planned",type:"debuff",icon:"",duration:24,stats:{health:-1,willpower:-2,stamina:-1}},{name:"Impulse Spending",description:"Made unnecessary or impulse purchases",type:"debuff",icon:"",duration:24,stats:{willpower:-2}},{name:"Negative Self-Talk",description:"Caught in self-criticism or negative thought loops",type:"debuff",icon:"",duration:24,stats:{willpower:-2,charisma:-2}},{name:"Social Isolation",description:"Avoided people or cancelled social plans",type:"debuff",icon:"",duration:24,stats:{charisma:-3,willpower:-1}},{name:"Sugary Drinks",description:"Had soda, energy drinks, or sugary beverages",type:"debuff",icon:"",duration:24,stats:{health:-2,stamina:-1}},{name:"Lost Temper",description:"Got angry or had an emotional outburst",type:"debuff",icon:"",duration:24,stats:{charisma:-2,willpower:-2}}],CI=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function xI(a){const t=Math.round(a*60);if(t<60)return`${t}m`;const i=Math.floor(t/60),r=t%60;return r===0?`${i}h`:`${i}h ${r}m`}function DI({definitions:a,activeBuffs:t,onCreateDefinition:i,onDeleteDefinition:r,onActivateBuff:l,onDeactivateBuff:c}){const[m,v]=re.useState(!1),[E,g]=re.useState(""),[R,D]=re.useState(""),[M,$]=re.useState("buff"),[J,ne]=re.useState(""),[X,ee]=re.useState(1440),[de,ge]=re.useState({}),_e=x=>{if(x==="")return;const C=cm[Number(x)];C&&(g(C.name),D(C.description),$(C.type),ne(C.icon),ee(C.duration*60),ge({...C.stats}))},xe=()=>{g(""),D(""),$("buff"),ne(""),ee(1440),ge({})},Me=()=>{if(!E.trim())return;const x=Object.fromEntries(Object.entries(de).filter(([,ye])=>ye!==0)),C=X/60;i(E.trim(),R.trim(),M,J,C,JSON.stringify(x)),xe(),v(!1)};function O(x){const C=new Date,lt=new Date(x+"Z").getTime()-C.getTime();if(lt<=0)return"Expired";const P=Math.floor(lt/36e5),fe=Math.floor(lt%36e5/6e4);return P>0?`${P}h ${fe}m`:`${fe}m`}const I=a.filter(x=>x.type==="buff"),k=a.filter(x=>x.type==="debuff"),U=cm.map((x,C)=>({...x,index:C})).filter(x=>x.type==="buff"),j=cm.map((x,C)=>({...x,index:C})).filter(x=>x.type==="debuff");return p.jsxs("div",{className:ht.buffTracker,children:[p.jsxs("div",{className:ht.buffToolbar,children:[p.jsx("div",{}),p.jsx(vt,{variant:"primary",onClick:()=>{xe(),v(!0)},children:"+ New Buff/Debuff"})]}),t.length>0&&p.jsx(ji,{header:"Active Effects",glow:!0,children:p.jsx("div",{className:ht.activeSection,children:t.map(x=>{const C=yf(x.stat_effects),ye=Object.entries(C).map(([lt,P])=>`${P>0?"+":""}${P} ${lt}`).join(", ");return p.jsxs("div",{className:`${ht.activeBuffItem} ${x.type==="buff"?ht.isBuff:ht.isDebuff}`,children:[p.jsx("span",{className:ht.activeBuffIcon,children:x.icon}),p.jsxs("div",{className:ht.activeBuffInfo,children:[p.jsx("div",{className:ht.activeBuffName,children:x.name}),p.jsxs("div",{className:ht.activeBuffTimer,children:[O(x.expires_at)," remaining"]}),ye&&p.jsx("div",{className:ht.activeBuffEffects,children:ye})]}),p.jsx(vt,{size:"small",variant:"danger",onClick:()=>c(x.id),children:"Remove"})]},x.id)})})}),p.jsxs("div",{className:ht.buffGrid,children:[p.jsx(ji,{header:"Buffs (Positive Habits)",children:I.length===0?p.jsx("div",{className:ht.emptyState,children:"No buffs defined yet"}):p.jsx("div",{className:ht.buffSection,children:I.map(x=>p.jsx(j0,{definition:x,onActivate:l,onDelete:r},x.id))})}),p.jsx(ji,{header:"Debuffs (Negative Habits)",children:k.length===0?p.jsx("div",{className:ht.emptyState,children:"No debuffs defined yet"}):p.jsx("div",{className:ht.buffSection,children:k.map(x=>p.jsx(j0,{definition:x,onActivate:l,onDelete:r},x.id))})})]}),p.jsx(gf,{open:m,onClose:()=>v(!1),title:"New Buff / Debuff",actions:p.jsxs(p.Fragment,{children:[p.jsx(vt,{onClick:()=>v(!1),children:"Cancel"}),p.jsx(vt,{variant:"primary",onClick:Me,children:"Create"})]}),children:p.jsxs("div",{className:ht.formGrid,children:[p.jsxs(tr,{label:"Quick Select  Common Habits",value:"",onChange:x=>_e(x.target.value),children:[p.jsx("option",{value:"",children:" Choose a preset to auto-fill "}),p.jsx("optgroup",{label:"Buffs (Positive Habits)",children:U.map(x=>p.jsxs("option",{value:x.index,children:[x.icon," ",x.name]},x.index))}),p.jsx("optgroup",{label:"Debuffs (Negative Habits)",children:j.map(x=>p.jsxs("option",{value:x.index,children:[x.icon," ",x.name]},x.index))})]}),p.jsx("div",{className:ht.divider}),p.jsxs("div",{className:ht.formRow,children:[p.jsx(Da,{label:"Name",value:E,onChange:x=>g(x.target.value),placeholder:"e.g., Morning Exercise"}),p.jsxs(tr,{label:"Type",value:M,onChange:x=>$(x.target.value),children:[p.jsx("option",{value:"buff",children:"Buff (Positive)"}),p.jsx("option",{value:"debuff",children:"Debuff (Negative)"})]})]}),p.jsx(pf,{label:"Description",value:R,onChange:x=>D(x.target.value),placeholder:"Describe this habit..."}),p.jsxs("div",{className:ht.formRow,children:[p.jsx(tr,{label:"Icon",value:J,onChange:x=>ne(x.target.value),children:CI.map(x=>p.jsx("option",{value:x,children:x},x))}),p.jsx(Da,{label:"Duration (minutes)",type:"number",value:X,onChange:x=>ee(Number(x.target.value)),min:1,max:10080})]}),p.jsxs("div",{children:[p.jsx("label",{className:ht.statEffectLabel,style:{display:"block",marginBottom:8,fontFamily:"var(--font-heading)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"var(--text-secondary)"},children:"Stat Effects"}),U0.map(x=>p.jsxs("div",{className:ht.statEffectRow,children:[p.jsx("span",{className:ht.statEffectLabel,children:x}),p.jsx("input",{type:"number",className:ht.statEffectInput,value:de[x]||0,onChange:C=>ge({...de,[x]:Number(C.target.value)}),style:{padding:"4px 8px",background:"var(--bg-dark)",border:"1px solid var(--border-color)",borderRadius:"4px",color:"var(--text-primary)",fontFamily:"var(--font-body)"}})]},x))]})]})})]})}function j0({definition:a,onActivate:t,onDelete:i}){const r=yf(a.stat_effects),l=Object.entries(r).map(([c,m])=>`${m>0?"+":""}${m} ${c}`).join(", ");return p.jsxs("div",{className:ht.buffCard,children:[p.jsx("span",{className:ht.buffCardIcon,children:a.icon}),p.jsxs("div",{className:ht.buffCardInfo,children:[p.jsx("div",{className:ht.buffCardName,children:a.name}),a.description&&p.jsx("div",{className:ht.buffCardDesc,children:a.description}),p.jsxs("div",{className:ht.buffCardMeta,children:[p.jsx("span",{className:`${ht.buffTypeBadge} ${a.type==="buff"?ht.buffTypeBuff:ht.buffTypeDebuff}`,children:a.type})," ",xI(a.duration_hours),l&&`  ${l}`]})]}),p.jsxs("div",{className:ht.buffCardActions,children:[p.jsx(vt,{size:"small",variant:"primary",onClick:()=>t(a.id),children:"Activate"}),p.jsx(vt,{size:"small",variant:"danger",onClick:()=>i(a.id),children:"Delete"})]})]})}const yT=[{value:null,label:"No reminder"},{value:0,label:"At event time"},{value:5,label:"5 minutes before"},{value:10,label:"10 minutes before"},{value:15,label:"15 minutes before"},{value:30,label:"30 minutes before"},{value:60,label:"1 hour before"}],II="_settingsPanel_9ahue_1",OI="_settingsTitle_9ahue_9",jI="_settingsDescription_9ahue_23",MI="_settingRow_9ahue_35",kI="_settingLabel_9ahue_59",LI="_iosInstructions_9ahue_71",VI="_iosTitle_9ahue_87",UI="_iosText_9ahue_99",BI="_iosList_9ahue_111",qI="_deniedMessage_9ahue_135",PI="_errorMessage_9ahue_137",zI="_statusIndicator_9ahue_169",HI="_statusDot_9ahue_187",FI="_reminderPicker_9ahue_223",GI="_reminderLabel_9ahue_235",YI="_reminderSelect_9ahue_251",Ht={settingsPanel:II,settingsTitle:OI,settingsDescription:jI,settingRow:MI,settingLabel:kI,iosInstructions:LI,iosTitle:VI,iosText:UI,iosList:BI,deniedMessage:qI,errorMessage:PI,statusIndicator:zI,statusDot:HI,reminderPicker:FI,reminderLabel:GI,reminderSelect:YI};function QI({value:a,onChange:t,disabled:i}){return p.jsxs("div",{className:Ht.reminderPicker,children:[p.jsx("label",{className:Ht.reminderLabel,children:"Reminder"}),p.jsx("select",{className:Ht.reminderSelect,value:a===null?"null":a.toString(),onChange:r=>{const l=r.target.value;t(l==="null"?null:Number(l))},disabled:i,children:yT.map(r=>p.jsx("option",{value:r.value===null?"null":r.value,children:r.label},r.value===null?"null":r.value))})]})}const XI="_planner_17b5r_1",KI="_plannerToolbar_17b5r_13",$I="_viewTabs_17b5r_25",WI="_viewTab_17b5r_25",ZI="_viewTabActive_17b5r_81",JI="_dateNav_17b5r_91",e6="_dateLabel_17b5r_107",t6="_navArrow_17b5r_123",n6="_dayView_17b5r_157",i6="_timeSlot_17b5r_169",a6="_timeLabel_17b5r_185",s6="_timeEvents_17b5r_205",r6="_weekGrid_17b5r_221",o6="_weekDay_17b5r_233",l6="_weekDayHeader_17b5r_245",u6="_weekDayHeaderToday_17b5r_267",c6="_weekDayDate_17b5r_277",f6="_weekDayEvents_17b5r_291",h6="_monthGrid_17b5r_307",d6="_monthDayHeader_17b5r_319",m6="_monthDay_17b5r_319",p6="_monthDayEmpty_17b5r_367",g6="_monthDayToday_17b5r_387",y6="_monthDayNumber_17b5r_395",_6="_monthDayEvents_17b5r_419",v6="_eventItem_17b5r_433",E6="_eventItemCompleted_17b5r_465",b6="_eventTitle_17b5r_475",T6="_eventTime_17b5r_489",S6="_eventLinked_17b5r_501",w6="_eventItemSmall_17b5r_511",A6="_eventActions_17b5r_523",R6="_formGrid_17b5r_547",N6="_formRow_17b5r_559",C6="_emptyState_17b5r_577",x6="_unscheduledSection_17b5r_691",D6="_unscheduledLabel_17b5r_703",Fe={planner:XI,plannerToolbar:KI,viewTabs:$I,viewTab:WI,viewTabActive:ZI,dateNav:JI,dateLabel:e6,navArrow:t6,dayView:n6,timeSlot:i6,timeLabel:a6,timeEvents:s6,weekGrid:r6,weekDay:o6,weekDayHeader:l6,weekDayHeaderToday:u6,weekDayDate:c6,weekDayEvents:f6,monthGrid:h6,monthDayHeader:d6,monthDay:m6,monthDayEmpty:p6,monthDayToday:g6,monthDayNumber:y6,monthDayEvents:_6,eventItem:v6,eventItemCompleted:E6,eventTitle:b6,eventTime:T6,eventLinked:S6,eventItemSmall:w6,eventActions:A6,formGrid:R6,formRow:N6,emptyState:C6,unscheduledSection:x6,unscheduledLabel:D6},_T=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],I6=Array.from({length:16},(a,t)=>t+6);function O6({view:a,setView:t,currentDate:i,events:r,onNavigate:l,onGoToToday:c,onCreate:m,onComplete:v,onUncomplete:E,onDelete:g,notificationsEnabled:R=!1,defaultReminderMinutes:D=15}){const[M,$]=re.useState(!1),[J,ne]=re.useState(i),[X,ee]=re.useState(""),[de,ge]=re.useState(""),[_e,xe]=re.useState(""),[Me,O]=re.useState(""),[I,k]=re.useState(R?D:null),U=()=>{X.trim()&&(m(X.trim(),J,de.trim(),_e||null,Me||null,null,null,_e?I:null),ee(""),ge(""),xe(""),O(""),k(R?D:null),$(!1))},j=ye=>{ne(ye),$(!0)},x=new Date(i+"T00:00:00");let C="";if(a==="day")C=Fd(i);else if(a==="week"){const ye=Pm(i);C=`${Fd(ye[0])}  ${Fd(ye[6])}`}else C=`${rw(x.getMonth())} ${x.getFullYear()}`;return p.jsxs("div",{className:Fe.planner,children:[p.jsxs("div",{className:Fe.plannerToolbar,children:[p.jsx("div",{className:Fe.viewTabs,children:["day","week","month"].map(ye=>p.jsx("button",{className:`${Fe.viewTab} ${a===ye?Fe.viewTabActive:""}`,onClick:()=>t(ye),children:ye},ye))}),p.jsxs("div",{className:Fe.dateNav,children:[p.jsx("button",{className:Fe.navArrow,onClick:()=>l(-1),children:""}),p.jsx("span",{className:Fe.dateLabel,children:C}),p.jsx("button",{className:Fe.navArrow,onClick:()=>l(1),children:""})]}),p.jsx(vt,{size:"small",variant:"ghost",onClick:c,children:"Today"}),p.jsx(vt,{variant:"primary",onClick:()=>j(i),children:"+ Event"})]}),p.jsxs(ji,{children:[a==="day"&&p.jsx(j6,{date:i,events:r,onComplete:v,onUncomplete:E,onDelete:g}),a==="week"&&p.jsx(M6,{currentDate:i,events:r,onComplete:v,onUncomplete:E,onDelete:g,onAddEvent:j}),a==="month"&&p.jsx(k6,{currentDate:i,events:r,onAddEvent:j})]}),p.jsx(gf,{open:M,onClose:()=>$(!1),title:"New Event",actions:p.jsxs(p.Fragment,{children:[p.jsx(vt,{onClick:()=>$(!1),children:"Cancel"}),p.jsx(vt,{variant:"primary",onClick:U,children:"Create"})]}),children:p.jsxs("div",{className:Fe.formGrid,children:[p.jsx(Da,{label:"Title",value:X,onChange:ye=>ee(ye.target.value),placeholder:"Event title...",onKeyDown:ye=>ye.key==="Enter"&&U()}),p.jsx(Da,{label:"Date",type:"date",value:J,onChange:ye=>ne(ye.target.value)}),p.jsxs("div",{className:Fe.formRow,children:[p.jsx(Da,{label:"Start Time",type:"time",value:_e,onChange:ye=>xe(ye.target.value)}),p.jsx(Da,{label:"End Time",type:"time",value:Me,onChange:ye=>O(ye.target.value)})]}),p.jsx(pf,{label:"Description (optional)",value:de,onChange:ye=>ge(ye.target.value),placeholder:"Event details..."}),_e&&R&&p.jsx(QI,{value:I,onChange:k})]})})]})}function j6({date:a,events:t,onComplete:i,onUncomplete:r,onDelete:l}){const c=t.filter(E=>E.start_time),m=t.filter(E=>!E.start_time),v=E=>c.filter(g=>g.start_time?parseInt(g.start_time.split(":")[0],10)===E:!1);return p.jsxs("div",{className:Fe.dayView,children:[I6.map(E=>{const g=v(E);return p.jsxs("div",{className:Fe.timeSlot,children:[p.jsxs("span",{className:Fe.timeLabel,children:[E%12||12," ",E<12?"AM":"PM"]}),p.jsx("div",{className:Fe.timeEvents,children:g.map(R=>p.jsx(km,{event:R,onComplete:i,onUncomplete:r,onDelete:l},R.id))})]},E)}),m.length>0&&p.jsxs("div",{className:Fe.unscheduledSection,children:[p.jsx("div",{className:Fe.unscheduledLabel,children:"Unscheduled"}),m.map(E=>p.jsx(km,{event:E,onComplete:i,onUncomplete:r,onDelete:l},E.id))]}),t.length===0&&p.jsx("div",{className:Fe.emptyState,children:"No events for this day"})]})}function M6({currentDate:a,events:t,onComplete:i,onUncomplete:r,onDelete:l,onAddEvent:c}){const m=Pm(a),v=Wc();return p.jsx("div",{className:Fe.weekGrid,children:m.map((E,g)=>{const R=t.filter($=>$.date===E),D=E===v,M=new Date(E+"T00:00:00").getDate();return p.jsxs("div",{className:Fe.weekDay,children:[p.jsxs("div",{className:`${Fe.weekDayHeader} ${D?Fe.weekDayHeaderToday:""}`,children:[_T[g],p.jsx("span",{className:Fe.weekDayDate,children:M})]}),p.jsxs("div",{className:Fe.weekDayEvents,children:[R.map($=>p.jsx(km,{event:$,small:!0,onComplete:i,onUncomplete:r,onDelete:l},$.id)),p.jsx(vt,{size:"small",variant:"ghost",onClick:()=>c(E),style:{fontSize:"0.7rem",padding:"2px 6px"},children:"+"})]})]},E)})})}function k6({currentDate:a,events:t,onAddEvent:i}){const r=new Date(a+"T00:00:00"),l=sw(r.getFullYear(),r.getMonth()),c=Wc();return p.jsx("div",{children:p.jsxs("div",{className:Fe.monthGrid,children:[_T.map(m=>p.jsx("div",{className:Fe.monthDayHeader,children:m},m)),l.flat().map((m,v)=>{if(!m)return p.jsx("div",{className:`${Fe.monthDay} ${Fe.monthDayEmpty}`},`empty-${v}`);const E=t.filter(D=>D.date===m),g=m===c,R=new Date(m+"T00:00:00").getDate();return p.jsxs("div",{className:`${Fe.monthDay} ${g?Fe.monthDayToday:""}`,onClick:()=>i(m),children:[p.jsx("div",{className:Fe.monthDayNumber,children:R}),p.jsxs("div",{className:Fe.monthDayEvents,children:[E.slice(0,3).map(D=>p.jsx("div",{className:`${Fe.eventItem} ${Fe.eventItemSmall} ${D.is_completed?Fe.eventItemCompleted:""}`,children:p.jsx("span",{className:Fe.eventTitle,children:D.title})},D.id)),E.length>3&&p.jsxs("div",{className:Fe.emptyState,style:{padding:"2px",fontSize:"0.7rem"},children:["+",E.length-3," more"]})]})]},m)})]})})}function km({event:a,small:t,onComplete:i,onUncomplete:r,onDelete:l}){return p.jsxs("div",{className:`${Fe.eventItem} ${t?Fe.eventItemSmall:""} ${a.is_completed?Fe.eventItemCompleted:""}`,children:[p.jsx(gT,{checked:a.is_completed,onChange:c=>c?i(a.id):r(a.id)}),p.jsx("span",{className:Fe.eventTitle,children:a.title}),a.start_time&&!t&&p.jsxs("span",{className:Fe.eventTime,children:[fv(a.start_time),a.end_time&&` - ${fv(a.end_time)}`]}),(a.quest_id||a.step_id)&&p.jsx("span",{className:Fe.eventLinked,children:""}),!t&&p.jsx("div",{className:Fe.eventActions,children:p.jsx(vt,{size:"small",variant:"danger",onClick:()=>l(a.id),children:""})})]})}const L6="_container_e9q7r_1",V6="_title_e9q7r_17",U6="_status_e9q7r_33",B6="_indicator_e9q7r_49",q6="_connected_e9q7r_61",P6="_disconnected_e9q7r_71",z6="_lastBackup_e9q7r_79",H6="_statusMessage_e9q7r_91",F6="_actions_e9q7r_121",G6="_button_e9q7r_135",Y6="_buttonSecondary_e9q7r_167 _button_e9q7r_135",Q6="_buttonDanger_e9q7r_187 _button_e9q7r_135",X6="_backupList_e9q7r_209",K6="_backupItem_e9q7r_233",$6="_backupName_e9q7r_255",W6="_backupDate_e9q7r_269",Z6="_restoreButton_e9q7r_279",J6="_noBackups_e9q7r_307",eO="_tokenInputContainer_e9q7r_321",tO="_tokenHelp_e9q7r_329",nO="_tokenInput_e9q7r_321",iO="_tokenActions_e9q7r_393",_t={container:L6,title:V6,status:U6,indicator:B6,connected:q6,disconnected:P6,lastBackup:z6,statusMessage:H6,actions:F6,button:G6,buttonSecondary:Y6,buttonDanger:Q6,backupList:X6,backupItem:K6,backupName:$6,backupDate:W6,restoreButton:Z6,noBackups:J6,tokenInputContainer:eO,tokenHelp:tO,tokenInput:nO,tokenActions:iO};function aO(){const[a,t]=re.useState(!1),[i,r]=re.useState(!0),[l,c]=re.useState(null),[m,v]=re.useState(""),[E,g]=re.useState([]),[R,D]=re.useState(!1),[M,$]=re.useState(""),[J,ne]=re.useState(!1),[X,ee]=re.useState(!1),[de,ge]=re.useState(""),_e=re.useCallback(()=>{t(H0()),c(F0())},[]);re.useEffect(()=>{_e(),r(!1)},[_e]);const xe=async()=>{if(!M.trim()){v("Please enter a GitHub token");return}v("Verifying token..."),await yw(M.trim())?(cw(M.trim()),t(!0),ne(!1),$(""),v("Connected to GitHub!")):v("Invalid token. Please check and try again.")},Me=()=>{fw(),t(!1),c(null),v("Disconnected"),g([])},O=async()=>{v("Backing up...");try{const x=await Vm(),C=await Y0(x);C.success?(v(`Backup saved: ${C.fileName}`),c(new Date),await X0(7)):v(`Backup failed: ${C.error}`)}catch(x){v(`Backup failed: ${x instanceof Error?x.message:"Unknown error"}`)}},I=async()=>{if(D(!R),!R){v("Loading backups...");const x=await Q0();g(x),v("")}},k=()=>{const x=de.trim();if(!x){v("Please enter a gist ID");return}const C=x.match(/([a-f0-9]{32})/i);C?(localStorage.setItem("github_gist_id",C[1]),v('Gist ID set! Click "Restore from Backup" to see backups.'),ee(!1),ge("")):v("Invalid gist ID. Paste the gist URL or ID.")},U=async x=>{if(confirm(`Restore from "${x}"? This will replace all current data.`)){v("Restoring...");try{const C=await gw(x);C?(await V0(C),v("Restored successfully! Refreshing..."),setTimeout(()=>window.location.reload(),1500)):v("Failed to download backup")}catch(C){v(`Restore failed: ${C instanceof Error?C.message:"Unknown error"}`)}}},j=x=>{const C=x.match(/backup-(\d{4})-(\d{2})-(\d{2})T(\d{2})-(\d{2})/);if(C){const[,ye,lt,P,fe,Ce]=C;return`${ye}-${lt}-${P} ${fe}:${Ce}`}return x};return i?p.jsx("div",{className:_t.container,children:"Loading..."}):p.jsxs("div",{className:_t.container,children:[p.jsx("h3",{className:_t.title,children:"Cloud Backup (GitHub)"}),p.jsxs("div",{className:_t.status,children:[p.jsx("span",{className:`${_t.indicator} ${a?_t.connected:_t.disconnected}`}),p.jsx("span",{children:a?"Connected to GitHub":"Not connected"})]}),l&&p.jsxs("p",{className:_t.lastBackup,children:["Last backup: ",l.toLocaleString()]}),m&&p.jsx("p",{className:_t.statusMessage,children:m}),p.jsx("div",{className:_t.actions,children:a?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:O,className:_t.button,children:"Backup Now"}),p.jsx("button",{onClick:I,className:_t.buttonSecondary,children:R?"Hide Backups":"Restore from Backup"}),p.jsx("button",{onClick:()=>ee(!X),className:_t.buttonSecondary,children:X?"Cancel":"Link Existing Gist"}),p.jsx("button",{onClick:Me,className:_t.buttonDanger,children:"Disconnect"}),X&&p.jsxs("div",{className:_t.tokenInputContainer,children:[p.jsx("p",{className:_t.tokenHelp,children:"Paste your gist URL or ID to restore from an existing backup:"}),p.jsx("input",{type:"text",value:de,onChange:x=>ge(x.target.value),placeholder:"https://gist.github.com/user/abc123... or just abc123...",className:_t.tokenInput}),p.jsx("button",{onClick:k,className:_t.button,children:"Link Gist"})]})]}):p.jsx(p.Fragment,{children:J?p.jsxs("div",{className:_t.tokenInputContainer,children:[p.jsxs("p",{className:_t.tokenHelp,children:["Create a token at ",p.jsx("a",{href:"https://github.com/settings/tokens/new?description=Goal%20Game%20Backup&scopes=gist",target:"_blank",rel:"noopener noreferrer",children:"GitHub Settings"})," with ",p.jsx("strong",{children:"gist"})," scope."]}),p.jsx("input",{type:"password",value:M,onChange:x=>$(x.target.value),placeholder:"Paste your GitHub token",className:_t.tokenInput}),p.jsxs("div",{className:_t.tokenActions,children:[p.jsx("button",{onClick:xe,className:_t.button,children:"Save Token"}),p.jsx("button",{onClick:()=>{ne(!1),$("")},className:_t.buttonSecondary,children:"Cancel"})]})]}):p.jsx("button",{onClick:()=>ne(!0),className:_t.button,children:"Connect GitHub"})})}),R&&E.length>0&&p.jsxs("div",{className:_t.backupList,children:[p.jsx("h4",{children:"Available Backups (Last 7 kept)"}),E.map(x=>p.jsxs("div",{className:_t.backupItem,children:[p.jsx("span",{className:_t.backupName,children:j(x.fileName)}),p.jsxs("span",{className:_t.backupDate,children:[Math.round(x.size/1024)," KB"]}),p.jsx("button",{onClick:()=>U(x.fileName),className:_t.restoreButton,children:"Restore"})]},x.fileName))]}),R&&E.length===0&&p.jsx("p",{className:_t.noBackups,children:"No backups found"})]})}function sO(){const{settings:a,permissionState:t,isSupported:i,isConfigured:r,canEnable:l,isIOS:c,isStandalone:m,loading:v,error:E,enableNotifications:g,disableNotificationsHandler:R,setDefaultReminderMinutes:D}=mT();return r?i?p.jsxs(ji,{className:Ht.settingsPanel,children:[p.jsx("h3",{className:Ht.settingsTitle,children:"Push Notifications"}),c&&!m&&p.jsxs("div",{className:Ht.iosInstructions,children:[p.jsx("p",{className:Ht.iosTitle,children:"iOS Setup Required"}),p.jsx("p",{className:Ht.iosText,children:"To receive push notifications on iOS, you need to add this app to your home screen first:"}),p.jsxs("ol",{className:Ht.iosList,children:[p.jsx("li",{children:"Tap the Share button in Safari"}),p.jsx("li",{children:'Select "Add to Home Screen"'}),p.jsx("li",{children:"Open the app from your home screen"}),p.jsx("li",{children:"Then enable notifications here"})]})]}),t==="denied"&&p.jsx("div",{className:Ht.deniedMessage,children:p.jsx("p",{children:"Notifications are blocked. Please enable them in your browser settings."})}),E&&p.jsx("div",{className:Ht.errorMessage,children:p.jsx("p",{children:E})}),p.jsxs("div",{className:Ht.settingRow,children:[p.jsx("span",{className:Ht.settingLabel,children:"Event Reminders"}),a.enabled?p.jsx(vt,{variant:"danger",size:"small",onClick:R,disabled:v,children:v?"Disabling...":"Disable"}):p.jsx(vt,{variant:"primary",size:"small",onClick:g,disabled:v||!l||t==="denied",children:v?"Enabling...":"Enable"})]}),a.enabled&&p.jsxs("div",{className:Ht.settingRow,children:[p.jsx("span",{className:Ht.settingLabel,children:"Default Reminder"}),p.jsx("select",{className:Ht.reminderSelect,value:a.defaultReminderMinutes,onChange:M=>D(Number(M.target.value)),children:yT.filter(M=>M.value!==null).map(M=>p.jsx("option",{value:M.value,children:M.label},M.value))})]}),a.enabled&&p.jsxs("div",{className:Ht.statusIndicator,children:[p.jsx("span",{className:Ht.statusDot}),"Notifications enabled"]})]}):p.jsxs(ji,{className:Ht.settingsPanel,children:[p.jsx("h3",{className:Ht.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:Ht.settingsDescription,children:"Push notifications are not supported in this browser."})]}):p.jsxs(ji,{className:Ht.settingsPanel,children:[p.jsx("h3",{className:Ht.settingsTitle,children:"Push Notifications"}),p.jsx("p",{className:Ht.settingsDescription,children:"Push notifications are not configured. To enable them, add your Firebase configuration to the .env file."})]})}const rO="_guideButton_1u1py_1",oO="_guideOverlay_1u1py_71",lO="_guideContainer_1u1py_95",uO="_guideHeader_1u1py_159",cO="_guideTitle_1u1py_177",fO="_closeButton_1u1py_191",hO="_guideContent_1u1py_229",dO="_table_1u1py_335",mO="_tocList_1u1py_393",pO="_tocItem_1u1py_411",ai={guideButton:rO,guideOverlay:oO,guideContainer:lO,guideHeader:uO,guideTitle:cO,closeButton:fO,guideContent:hO,table:dO,tocList:mO,tocItem:pO};function gO(){const[a,t]=re.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:ai.guideButton,onClick:()=>t(!0),title:"Open Guide",children:"?"}),a&&p.jsx(yO,{onClose:()=>t(!1)})]})}function yO({onClose:a}){const t=re.useRef(null);re.useEffect(()=>{const r=l=>{l.key==="Escape"&&a()};return window.addEventListener("keydown",r),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",r),document.body.style.overflow=""}},[a]);const i=r=>{t.current?.querySelector(`#${r}`)?.scrollIntoView({behavior:"smooth"})};return p.jsx("div",{className:ai.guideOverlay,onClick:a,children:p.jsxs("div",{className:ai.guideContainer,onClick:r=>r.stopPropagation(),ref:t,children:[p.jsxs("div",{className:ai.guideHeader,children:[p.jsx("span",{className:ai.guideTitle,children:"Adventurer's Guide"}),p.jsx("button",{className:ai.closeButton,onClick:a,children:"Close"})]}),p.jsx("ul",{className:ai.tocList,children:["overview","character","quests","buffs","planner","xp","levels","stats","tips","data"].map(r=>p.jsx("li",{className:ai.tocItem,onClick:()=>i(`guide-${r}`),children:r==="xp"?"XP System":r==="data"?"Save Data":r.charAt(0).toUpperCase()+r.slice(1)},r))}),p.jsxs("div",{className:ai.guideContent,children:[p.jsx("h2",{id:"guide-overview",children:"Overview"}),p.jsxs("p",{children:["Goal Game turns your real-life goals into an RPG adventure. You create ",p.jsx("strong",{children:"Goals"})," (big-picture ambitions), break them into ",p.jsx("strong",{children:"Quests"})," (projects), and then into ",p.jsx("strong",{children:"Steps"})," (individual tasks). Completing steps earns ",p.jsx("strong",{children:"XP"}),", which levels up your character."]}),p.jsxs("p",{children:["Track daily habits as ",p.jsx("strong",{children:"Buffs"})," (positive) and ",p.jsx("strong",{children:"Debuffs"})," (negative) that affect your character's stats. Plan your schedule with the ",p.jsx("strong",{children:"Planner"}),"."]}),p.jsx("h2",{id:"guide-character",children:"Character Screen"}),p.jsx("p",{children:"Your character screen shows your current progress at a glance."}),p.jsx("h3",{children:"What you'll see"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Name"}),`  Tap "Rename" to change your character's name.`]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Level & Title"}),'  Your current level and rank title (e.g., "Novice", "Adept"). Titles change automatically as you level up.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP Bar"}),"  Shows progress toward your next level. The numbers show current XP in this level / XP needed for next level."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Total XP"}),"  Your lifetime XP earned across all activities."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Stats"}),"  Five attributes (Stamina, Willpower, Health, Focus, Charisma) that start at 10 and change based on your active buffs/debuffs."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Active Effects"}),"  Currently active buffs (green pulse) and debuffs (red throb) with time remaining."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"XP History"}),"  A log of your most recent XP gains showing what you earned and why."]})]}),p.jsx("h2",{id:"guide-quests",children:"Quest Log"}),p.jsx("p",{children:"This is where you organize everything you want to accomplish."}),p.jsx("h3",{children:"Hierarchy"}),p.jsx("p",{children:"Life is organized in three layers:"}),p.jsxs("ol",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Goals"}),'  Big-picture ambitions tied to a life domain. Example: "Get fit" in the Health domain.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Quests"}),'  Specific projects within a goal. Example: "Run a 5K" under "Get fit".']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Steps"}),'  Individual actionable tasks within a quest. Example: "Run 1 mile without stopping" inside "Run a 5K".']})]}),p.jsx("h3",{children:"Domains"}),p.jsx("p",{children:"Every goal belongs to one of eight life domains:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Icon"}),p.jsx("th",{children:"Domain"}),p.jsx("th",{children:"Examples"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Fitness, diet, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Career"}),p.jsx("td",{children:"Work projects, promotions, skills"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Learning"}),p.jsx("td",{children:"Courses, reading, certifications"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Social"}),p.jsx("td",{children:"Relationships, networking, community"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Finance"}),p.jsx("td",{children:"Saving, investing, budgeting"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Creative"}),p.jsx("td",{children:"Art, music, writing, hobbies"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Spiritual"}),p.jsx("td",{children:"Meditation, mindfulness, gratitude"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:""}),p.jsx("td",{children:"Home"}),p.jsx("td",{children:"Cleaning, organizing, repairs"})]})]})]}),p.jsx("h3",{children:"Priority Levels"}),p.jsx("p",{children:"Quests and steps can have a priority that affects XP rewards:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Priority"}),p.jsx("th",{children:"Color"}),p.jsx("th",{children:"Step XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Normal"}),p.jsx("td",{children:"Gray"}),p.jsx("td",{children:"10 XP"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Important"}),p.jsx("td",{children:"Gold"}),p.jsx("td",{children:"15 XP (1.5x)"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Legendary"}),p.jsx("td",{children:"Orange"}),p.jsx("td",{children:"20 XP (2x)"})]})]})]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Goal"}),"  pick a domain, give it a title."]}),p.jsxs("li",{children:["Inside a goal, tap ",p.jsx("strong",{children:"+ Quest"}),"  name the project, choose priority."]}),p.jsx("li",{children:'Tap a quest to expand it, then type steps in the "Add a step" field at the bottom.'}),p.jsx("li",{children:"Check off steps to earn XP. When all steps are done, the quest auto-completes for bonus XP. When all quests in a goal are done, the goal auto-completes for even more bonus XP."})]}),p.jsx("h3",{children:"Filters"}),p.jsx("p",{children:"Use the dropdowns at the top to filter by domain or status (Active / Completed / All)."}),p.jsx("h2",{id:"guide-buffs",children:"Buffs & Debuffs"}),p.jsx("p",{children:"Buffs and debuffs represent daily habits that affect your character."}),p.jsx("h3",{children:"Buffs (Positive Habits)"}),p.jsxs("p",{children:["Things you ",p.jsx("em",{children:"want"})," to do every day. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Morning Exercise  +2 Stamina, +1 Health"}),p.jsx("li",{children:" Meditation  +2 Willpower, +1 Focus"}),p.jsx("li",{children:" 8 Hours Sleep  +1 Health, +1 Focus, +1 Stamina"}),p.jsx("li",{children:" Read 30 Minutes  +2 Focus"})]}),p.jsxs("p",{children:["Activating a buff earns ",p.jsx("strong",{children:"5 XP"})," and applies its stat effects for the duration you set (e.g., 24 hours). After that, the buff expires and you need to activate it again the next day."]}),p.jsx("h3",{children:"Debuffs (Negative Habits)"}),p.jsxs("p",{children:["Things you want to be ",p.jsx("em",{children:"honest about tracking"}),". There is no XP penalty  this is for self-awareness. Examples:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:" Junk Food  -1 Health, -1 Stamina"}),p.jsx("li",{children:" Doomscrolling  -2 Focus, -1 Willpower"}),p.jsx("li",{children:" Alcohol  -1 Health, -1 Focus"})]}),p.jsx("p",{children:"Debuffs still affect your stats while active, shown as red on your character screen."}),p.jsx("h3",{children:"Streaks"}),p.jsxs("p",{children:["Activate the same buff on consecutive days to build a streak. Every ",p.jsx("strong",{children:"7-day streak"})," earns a bonus ",p.jsx("strong",{children:"25 XP"}),"."]}),p.jsx("h3",{children:"How to use"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Tap ",p.jsx("strong",{children:"+ New Buff/Debuff"})," to define a habit template."]}),p.jsx("li",{children:"Choose a name, type (buff or debuff), icon, duration in hours, and stat effects (positive numbers for buffs, negative for debuffs)."}),p.jsxs("li",{children:["Once created, it appears in the Buffs or Debuffs column. Tap ",p.jsx("strong",{children:"Activate"})," each day you do the habit."]}),p.jsx("li",{children:"Active effects appear at the top with a countdown timer and are reflected on your Character screen stats."})]}),p.jsx("h3",{children:"Expiry"}),p.jsxs("p",{children:["Buffs and debuffs expire automatically after their duration. The app checks every 60 seconds. You can also manually remove an active effect by tapping ",p.jsx("strong",{children:"Remove"}),"."]}),p.jsx("h2",{id:"guide-planner",children:"Planner"}),p.jsx("p",{children:"A calendar to schedule your time and link events to your quests."}),p.jsx("h3",{children:"Views"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Day"}),"  Shows time slots from 6 AM to 9 PM. Scheduled events appear in their time slot. Unscheduled events appear at the bottom."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Week"}),"  7-column grid (MonSun). Each day shows its events. Tap ",p.jsx("strong",{children:"+"})," on any day to add an event."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Month"}),'  Calendar grid. Tap any day to add an event. Shows up to 3 events per day with a "+X more" indicator.']})]}),p.jsx("h3",{children:"Navigation"}),p.jsxs("p",{children:["Use the ",p.jsx("strong",{children:" "})," arrows to move between days/weeks/months. Tap ",p.jsx("strong",{children:"Today"})," to jump back to the current date."]}),p.jsx("h3",{children:"Events"}),p.jsxs("p",{children:["Tap ",p.jsx("strong",{children:"+ Event"})," to create one. Each event has:"]}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Title"}),"  What you're doing."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Date"}),"  When."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Start/End Time"}),"  Optional. If set, it appears in the correct time slot in Day view."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Description"}),"  Optional notes."]})]}),p.jsxs("p",{children:["Check off events when completed. Linked events (connected to a quest or step) earn ",p.jsx("strong",{children:"10 XP"})," when completed."]}),p.jsx("h2",{id:"guide-xp",children:"XP System"}),p.jsx("p",{children:"Everything you do earns experience points:"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Action"}),p.jsx("th",{children:"XP"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a normal step"}),p.jsx("td",{children:"+10"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete an important step"}),p.jsx("td",{children:"+15"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a legendary step"}),p.jsx("td",{children:"+20"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a quest (all steps done)"}),p.jsx("td",{children:"+50 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a goal (all quests done)"}),p.jsx("td",{children:"+200 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Activate a buff (daily habit)"}),p.jsx("td",{children:"+5"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"7-day streak on any buff"}),p.jsx("td",{children:"+25 bonus"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Complete a linked planner event"}),p.jsx("td",{children:"+10"})]})]})]}),p.jsx("h2",{id:"guide-levels",children:"Levels & Titles"}),p.jsxs("p",{children:["XP needed per level increases as you grow. The formula is ",p.jsx("code",{children:"50  level^1.8"}),"."]}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Level"}),p.jsx("th",{children:"Title"}),p.jsx("th",{children:"Approx. Timeline"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"14"}),p.jsx("td",{children:"Novice"}),p.jsx("td",{children:"Starting out"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"59"}),p.jsx("td",{children:"Apprentice"}),p.jsx("td",{children:"~12 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1014"}),p.jsx("td",{children:"Journeyman"}),p.jsx("td",{children:"~34 weeks"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"1521"}),p.jsx("td",{children:"Adept"}),p.jsx("td",{children:"~12 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2229"}),p.jsx("td",{children:"Expert"}),p.jsx("td",{children:"~24 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3039"}),p.jsx("td",{children:"Master"}),p.jsx("td",{children:"~48 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4049"}),p.jsx("td",{children:"Legend"}),p.jsx("td",{children:"~812 months"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"50+"}),p.jsx("td",{children:"Dragonborn"}),p.jsx("td",{children:"~1 year+"})]})]})]}),p.jsx("p",{children:"When you level up, a golden overlay appears announcing your new level and title."}),p.jsx("h2",{id:"guide-stats",children:"Stats"}),p.jsxs("p",{children:["Your character has five stats, all starting at ",p.jsx("strong",{children:"10"}),":"]}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Stat"}),p.jsx("th",{children:"Represents"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Stamina"}),p.jsx("td",{children:"Physical energy, endurance, exercise habits"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Willpower"}),p.jsx("td",{children:"Discipline, self-control, mental toughness"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Health"}),p.jsx("td",{children:"Physical wellbeing, nutrition, sleep"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Focus"}),p.jsx("td",{children:"Concentration, productivity, mental clarity"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Charisma"}),p.jsx("td",{children:"Social skills, confidence, communication"})]})]})]}),p.jsx("p",{children:"Stats are modified by active buffs and debuffs. They serve as a mirror of your current lifestyle  high Focus means you've been studying and avoiding distractions; low Health means you've been eating junk food or skipping sleep."}),p.jsx("h2",{id:"guide-tips",children:"Tips"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Start small."})," Create one goal with one quest and a few steps. Don't overload yourself on day one."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Be honest with debuffs."})," There's no punishment  tracking negative habits helps you see patterns."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use priorities wisely."}),' Reserve "Legendary" for truly difficult or impactful tasks.']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Build streaks."})," The 7-day streak bonus compounds  maintaining 3 daily buffs earns 75 bonus XP per week on top of the daily 5 XP each."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use the planner."})," Scheduling time for quests makes you far more likely to complete them."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Check your character screen daily."})," Your stats tell you how balanced your life is."]})]}),p.jsx("h2",{id:"guide-data",children:"Saving & Data"}),p.jsx("p",{children:"All your data is stored locally on this device in the browser's database. It persists across sessions  closing and reopening the app keeps everything."}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Export Save"}),"  Downloads your entire database as a .db file. Use this for backups."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Import Save"}),"  Loads a previously exported .db file, replacing all current data. Use this to restore a backup or transfer data between devices."]})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Important:"})," Clearing your browser/app data will erase your progress. Export a backup regularly."]}),p.jsx("h3",{children:"Keyboard Shortcuts (Desktop)"}),p.jsxs("table",{className:ai.table,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Key"}),p.jsx("th",{children:"Action"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"1"}),p.jsx("td",{children:"Character screen"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"2"}),p.jsx("td",{children:"Quest Log"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"3"}),p.jsx("td",{children:"Buffs"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"4"}),p.jsx("td",{children:"Planner"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Esc"}),p.jsx("td",{children:"Close any open modal/popup"})]})]})]})]})]})})}function _O(){const{ready:a,error:t}=_S(),[i,r]=re.useState("character");return a?p.jsx(vO,{activeTab:i,setActiveTab:r}):p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0f",color:"#c8a84e",fontFamily:"Cinzel, serif",fontSize:"1.2rem"},children:t?`Error: ${t}`:"Loading database..."})}function vO({activeTab:a,setActiveTab:t}){const i=DS(),r=FS({grantXP:i.grantXP}),l=mT(),c=ew({grantXP:i.grantXP,scheduleBuffExpiry:l.scheduleBuffExpiry,cancelBuffExpiry:l.cancelBuffExpiry}),m=ow({grantXP:i.grantXP,scheduleEventReminder:l.scheduleEventReminder,cancelEventReminder:l.cancelEventReminder}),v=_w(),[E,g]=re.useState(!1),[R,D]=re.useState(!1);re.useEffect(()=>{i.refresh(),a==="quests"&&r.refresh(),a==="buffs"&&c.refresh(),a==="planner"&&m.refresh()},[a]),re.useEffect(()=>{r.refresh(),c.refresh(),m.refresh()},[]),re.useEffect(()=>{const J=ne=>{ne.target instanceof HTMLInputElement||ne.target instanceof HTMLTextAreaElement||ne.target instanceof HTMLSelectElement||(ne.key==="1"&&t("character"),ne.key==="2"&&t("quests"),ne.key==="3"&&t("buffs"),ne.key==="4"&&t("planner"))};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[t]);const M=re.useCallback(async()=>{const J=await Vm(),ne=new Blob([new Uint8Array(J)],{type:"application/octet-stream"}),X=URL.createObjectURL(ne),ee=document.createElement("a");ee.href=X,ee.download=`goal-game-backup-${new Date().toISOString().split("T")[0]}.db`,ee.click(),URL.revokeObjectURL(X)},[]),$=re.useCallback(async()=>{const J=document.createElement("input");J.type="file",J.accept=".db",J.onchange=async()=>{const ne=J.files?.[0];if(!ne)return;const X=await ne.arrayBuffer();await V0(new Uint8Array(X)),window.location.reload()},J.click()},[]);return p.jsxs("div",{className:Mn.appShell,children:[p.jsx(DD,{activeTab:a,onTabChange:t}),p.jsx(qD,{character:i.character}),p.jsxs("main",{className:Mn.main,children:[a==="character"&&p.jsx(s3,{character:i.character,stats:c.stats,activeBuffs:c.activeBuffs,xpLog:i.xpLog,onNameChange:i.setName}),a==="quests"&&p.jsx(W3,{goals:r.goals,domains:r.domains,filterDomain:r.filterDomain,filterStatus:r.filterStatus,onFilterDomain:J=>{r.setFilterDomain(J)},onFilterStatus:J=>{r.setFilterStatus(J)},onCreateGoal:r.createGoal,onCreateQuest:r.createQuest,onCreateStep:r.createStep,onCompleteStep:r.completeStep,onUncompleteStep:r.uncompleteStep,onDeleteStep:r.deleteStep,onDeleteQuest:r.deleteQuest,onDeleteGoal:r.deleteGoal}),a==="buffs"&&p.jsx(DI,{definitions:c.definitions,activeBuffs:c.activeBuffs,onCreateDefinition:c.createDefinition,onDeleteDefinition:c.deleteDefinition,onActivateBuff:c.activateBuff,onDeactivateBuff:c.deactivateBuff}),a==="planner"&&p.jsx(O6,{view:m.view,setView:m.setView,currentDate:m.currentDate,events:m.events,onNavigate:m.navigateDay,onGoToToday:m.goToToday,onCreate:m.createEvent,onComplete:m.completeEvent,onUncomplete:m.uncompleteEvent,onDelete:m.deleteEvent,notificationsEnabled:l.settings.enabled,defaultReminderMinutes:l.settings.defaultReminderMinutes}),p.jsxs("div",{style:{marginTop:40,paddingTop:20,borderTop:"1px solid var(--border-color)"},children:[R&&p.jsx(sO,{}),E&&p.jsx(aO,{}),p.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center",flexWrap:"wrap"},children:[p.jsx(vt,{size:"small",variant:"ghost",onClick:()=>D(!R),children:R?"Hide Notifications":"Notifications"}),p.jsx(vt,{size:"small",variant:"ghost",onClick:()=>g(!E),children:E?"Hide Cloud Backup":"Cloud Backup"}),p.jsx(vt,{size:"small",variant:"ghost",onClick:M,children:"Export Save"}),p.jsx(vt,{size:"small",variant:"ghost",onClick:$,children:"Import Save"})]})]})]}),i.xpFloats.map(J=>p.jsxs("div",{className:Mn.xpFloat,children:["+",J.amount," XP"]},J.id)),i.levelUpInfo&&p.jsx(XD,{level:i.levelUpInfo.level,title:i.levelUpInfo.title,onDismiss:i.dismissLevelUp}),p.jsx(gO,{}),v.message&&p.jsx("div",{style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",padding:"10px 20px",background:v.status==="error"?"rgba(231, 76, 60, 0.9)":"rgba(46, 204, 113, 0.9)",color:"#fff",borderRadius:8,fontSize:"0.9rem",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:v.message})]})}iS.createRoot(document.getElementById("root")).render(p.jsx(re.StrictMode,{children:p.jsx(_O,{})}));
